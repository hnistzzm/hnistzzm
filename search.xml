<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>javaScripté¢è¯•æ‰‹å†™çŸ¥è¯†ç‚¹æ•´ç†</title>
      <link href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/"/>
      <url>/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h3 id="1-ä¸ºä»€ä¹ˆ0-1-0-2ä¸ç­‰äº0-3"><a href="#1-ä¸ºä»€ä¹ˆ0-1-0-2ä¸ç­‰äº0-3" class="headerlink" title="1.ä¸ºä»€ä¹ˆ0.1+0.2ä¸ç­‰äº0.3?"></a>1.ä¸ºä»€ä¹ˆ0.1+0.2ä¸ç­‰äº0.3?</h3><p><strong>è§£é‡Š</strong>:JSä¸­é‡‡ç”¨çš„<strong>IEEE 754çš„åŒç²¾åº¦æ ‡å‡†</strong>ï¼Œè®¡ç®—æœºå†…éƒ¨å­˜å‚¨æ•°æ®çš„ç¼–ç çš„æ—¶å€™ï¼Œ<strong>0.1åœ¨è®¡ç®—æœºå†…éƒ¨æ ¹æœ¬å°±ä¸æ˜¯ç²¾ç¡®çš„0.1ï¼Œè€Œæ˜¯ä¸€ä¸ªæœ‰èˆå…¥è¯¯å·®çš„0.1</strong>ã€‚å½“ä»£ç è¢«ç¼–è¯‘æˆ–è§£é‡Šåï¼Œ0.1å·²ç»è¢«å››èˆäº”å…¥æˆä¸€ä¸ªä¸ä¹‹å¾ˆæ¥è¿‘çš„è®¡ç®—æœºå†…éƒ¨æ•°å­—ï¼Œä»¥è‡³äºè®¡ç®—è¿˜æ²¡å¼€å§‹ï¼Œä¸€ä¸ªå¾ˆå°çš„èˆå…¥é”™è¯¯å°±å·²ç»äº§ç”Ÿäº†ã€‚è¿™ä¹Ÿå°±æ˜¯ 0.1 + 0.2 ä¸ç­‰äº0.3 çš„åŸå› ã€‚</p><p>åœ¨å¯¹ä¸¤ä¸ªè¿‘ä¼¼å€¼è¿›è¡Œè®¡ç®—æ—¶å¦‚æœå¾—åˆ°çš„å€¼æ˜¯åœ¨è¿‘ä¼¼èŒƒå›´å†…,å°±å¯ä»¥å¾—åˆ°æ­£ç¡®ç­”æ¡ˆ</p><p>åœ¨es6ä¸­å¼•å…¥äº†äººNumber.EPSILONå±æ€§,å®ƒè¡¨ç¤ºjavaScriptçš„æœ€å°ç²¾åº¦,å®ƒçš„å€¼æ¥è¿‘äº2.2204460492453130808472633361816E-16</p><p>å¦‚æœä¸¤ä¸ªæ•°çš„å·®å€¼çš„å°äºjavascriptçš„æœ€å°ç²¾åº¦,åˆ™è¡¨æ˜è¿™ä¸¤ä¸ªæ•°æ˜¯ç›¸ç­‰çš„,å¦åˆ™è¿™ä¸¤ä¸ªæ•°æ˜¯ä¸ç›¸ç­‰çš„</p><p>å¾ˆæ˜æ˜¾0.1+0.2 ä¸ 0.3 çš„å·®å€¼æ˜¯å¤§äºè¿™ä¸ªæœ€å°ç²¾åº¦çš„,æ‰€ä»¥å®ƒä»¬æ˜¯ä¸ç›¸ç­‰çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">0.1</span>+<span class="number">0.2</span> === <span class="number">0.3</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0.1</span> + <span class="number">0.2</span>)<span class="comment">//0.30000000000000004</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ„å»ºä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ä¸¤ä¸ªæ•°æ˜¯å¦æ»¡è¶³javascriptä¸­çš„ç›¸ç­‰çš„æ¡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">equal</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">Math</span>.abs(a-b) &lt; <span class="built_in">Number</span>.EPSILON)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(equal(<span class="number">0.1</span>+<span class="number">0.2</span>,<span class="number">0.3</span>))/</span><br></pre></td></tr></table></figure><h3 id="2-åœ¨ä»€ä¹ˆæƒ…å†µä¸‹a-a-1ï¼Ÿ"><a href="#2-åœ¨ä»€ä¹ˆæƒ…å†µä¸‹a-a-1ï¼Ÿ" class="headerlink" title="2.åœ¨ä»€ä¹ˆæƒ…å†µä¸‹a === a-1ï¼Ÿ"></a>2.åœ¨ä»€ä¹ˆæƒ…å†µä¸‹a === a-1ï¼Ÿ</h3><p>æˆ‘ä»¬å¯ä»¥æ€è€ƒæˆ‘ä»¬æ‰€å­¦çš„æ•°å­¦çŸ¥è¯†</p><p>æ— ç©·å¤§å’Œæ— ç©·å¤§-1åº”è¯¥æ€ä¹ˆæ¯”è¾ƒ?æŒ‰ç…§æé™çš„æ€æƒ³,æ— ç©·å¤§ä¸æ— ç©·å¤§-1åº”è¯¥æ˜¯ç›¸ç­‰çš„,å› ä¸ºæ— ç©·å¤§ä¸èƒ½ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„æ•°</p><p>åœ¨JavaScriptä¸­ï¼Œæ•´æ•°å¯ä»¥è¢«ç²¾ç¡®è¡¨ç¤ºçš„èŒƒå›´æ˜¯ <em><em>-2 *</em> 53 + 1</em>* åˆ° <em><em>2 *</em> 53 - 1</em>*ï¼Œå³ <strong>-9007199254740991</strong> åˆ° <strong>9007199254740991</strong>ã€‚è¶…è¿‡è¿™ä¸ªæ•°å€¼çš„æ•´æ•°ï¼Œéƒ½ä¸èƒ½è¢«ç²¾ç¡®è¡¨ç¤ºã€‚</p><p>æ‰€ä»¥å½“æ•°å­—è¶…è¿‡è¿™ä¸ªèŒƒå›´æ—¶,jsä¼šè®²è¿™ä¸ªæ•°å®šä¹‰ä¸ºæ— ç©·å¤§æˆ–è€…æ— ç©·å°</p><ol><li><p><strong>æ­£è´Ÿinfinity</strong></p><blockquote><p>åœ¨jsä¸­,Infinityæ˜¯ä¸€ä¸ªNumberç±»å‹çš„å­—é¢é‡,è¡¨ç¤ºæ— ç©·å¤§,å½“å½“ä¸€ä¸ªNumberç±»å‹çš„å€¼åœ¨è¿ç®—è¿‡ç¨‹ä¸­è¶…è¿‡äº†æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§å€¼,å°±ä¼šå¾—åˆ°æ— ç©·å¤§</p></blockquote></li></ol><p>æ¯”å¦‚ï¼Œå¦‚æœæˆ‘ä»¬å°†ä¸€ä¸ªä¸ä¸º0çš„æ­£æ•°é™¤ä»¥0ï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯æ— ç©·å¤§ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span> / <span class="number">0</span>); <span class="comment">// Infinity </span></span><br></pre></td></tr></table></figure><p>å¯¹åº”çš„ï¼Œè´Ÿæ•°æœ‰è´Ÿæ— ç©·å¤§ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(-<span class="number">100</span> / <span class="number">0</span>); <span class="comment">// -Infinity</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬æ•°å€¼è¿ç®—çš„å€¼ï¼Œè¶…è¿‡äº†Numberå…è®¸è¡¨ç¤ºçš„èŒƒå›´ï¼Œä¹Ÿæ˜¯ä¼šå¾—åˆ°Infinityã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1e1000</span>); <span class="comment">// Infinity</span></span><br></pre></td></tr></table></figure><p>åœ¨JavaScripté‡Œï¼Œ<strong>Number.POSITIVE_INFINITY</strong>å’Œ<strong>Number.NEGATIVE_INFINITY</strong>ä¸¤ä¸ªå¸¸é‡çš„å€¼ï¼Œå¯¹åº”æ­£è´ŸInfinityã€‚</p><p><strong>Number.isFinite()</strong> å¯ä»¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯æœ‰ç©·çš„ï¼ŒNumber.isFinite(n)ï¼Œå½“næ˜¯Numberç±»å‹æ—¶ï¼Œåªæœ‰å®ƒæ˜¯æ­£è´ŸInfinityæˆ–NaNæ—¶ï¼Œè¿”å›falseï¼Œå…¶ä»–æƒ…å†µä¸‹è¿”å›trueã€‚</p><p>ä»»ä½•ä¸€ä¸ªæœ‰ç©·çš„æ•°å’ŒInfinityçš„åŠ å‡è¿ç®—çš„ç»“æœéƒ½æ˜¯Infinityï¼Œè€Œ<strong>Infinity === Infinity</strong></p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥çŸ¥é“<strong>Â±Infinity</strong>éƒ½æ˜¯å¯ä»¥ç”¨åœ¨a===a-1çš„æƒ…å†µä¸‹çš„</p><p><strong>ä½†æ˜¯</strong> <strong>è¦æ³¨æ„ï¼ŒInfinityè¿ç®—çš„ç»“æœå¹¶ä¸æ€»æ˜¯Infinityï¼Œæ¯”å¦‚æˆ‘ä»¬çœ‹ä¸‹é¢å‡ ç§è¿ç®—ï¼š</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> + <span class="literal">Infinity</span>); <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> - <span class="literal">Infinity</span>); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> * <span class="literal">Infinity</span>); <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> / <span class="literal">Infinity</span>); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> * <span class="number">0</span>);        <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><p>ç»“è®ºæ˜¯:</p><p><strong>Infinityè¿ç®—ä¹Ÿæœ‰å¯èƒ½å¾—åˆ°NaNï¼Œæ‰€ä»¥éœ€è¦å°å¿ƒï¼Œä¾‹å¦‚æˆ‘ä»¬çš„ä¸€ä¸ªè®¡ç®—è¡¨è¾¾å¼ä¸­ï¼Œæœ‰ä¸¤ä¸ªå€¼ç›¸ä¹˜ï¼Œä¸€ä¸ªå€¼æœ‰å¯èƒ½å¾ˆå¤§ï¼Œå¦ä¸€ä¸ªå€¼æœ‰å¯èƒ½ä¸º0æ—¶ï¼Œå°±éœ€è¦å°å¿ƒï¼Œå¦‚æœé‚£ä¸ªå¾ˆå¤§çš„å€¼å¾—åˆ°Infinityï¼Œå¦ä¸€ä¸ªå€¼æ°å¥½ä¸º0æ—¶ï¼Œæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼å¯èƒ½æ˜¯NaNï¼Œè¿™ä¼šé€ æˆä¸€äº›bugã€‚</strong></p><hr><p><strong>2.ä»»æ„ä¸€ä¸ªè¶…è¿‡JSç²¾åº¦èŒƒå›´çš„æ•°</strong></p><blockquote><p>ğŸ‘‰ğŸ»çŸ¥è¯†ç‚¹ï¼š  åœ¨JavaScripté‡Œï¼Œæ•´æ•°å¯ä»¥è¢«ç²¾ç¡®è¡¨ç¤ºçš„èŒƒå›´æ˜¯ä» 2 * 53 + 1 åˆ° 2 * 53 - 1**ï¼Œå³ **-9007199254740991 åˆ° <strong>9007199254740991</strong>ã€‚è¶…è¿‡è¿™ä¸ªæ•°å€¼çš„æ•´æ•°ï¼Œéƒ½ä¸èƒ½è¢«ç²¾ç¡®è¡¨ç¤ºã€‚</p><p>å¸¸é‡<strong>Number.MAX_SAFE_INTEGER</strong>å’Œ<strong>Number.MIN_SAFE_INTEGER</strong>åˆ†åˆ«å¯¹åº”<strong>9007199254740991</strong>å’Œ <strong>-9007199254740991</strong>ã€‚</p></blockquote><p>æµ‹è¯•ä¸€ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">9007199254740986</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;i&#125;</span> : <span class="subst">$&#123;a + i&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> : <span class="number">9007199254740986</span></span><br><span class="line"><span class="number">1</span> : <span class="number">9007199254740987</span></span><br><span class="line"><span class="number">2</span> : <span class="number">9007199254740988</span></span><br><span class="line"><span class="number">3</span> : <span class="number">9007199254740989</span></span><br><span class="line"><span class="number">4</span> : <span class="number">9007199254740990</span></span><br><span class="line"><span class="number">5</span> : <span class="number">9007199254740991</span></span><br><span class="line"><span class="number">6</span> : <span class="number">9007199254740992</span></span><br><span class="line"><span class="number">7</span> : <span class="number">9007199254740992</span></span><br><span class="line"><span class="number">8</span> : <span class="number">9007199254740994</span></span><br><span class="line"><span class="number">9</span> : <span class="number">9007199254740996</span></span><br></pre></td></tr></table></figure><p>çœ‹åˆ°åœ¨ a + i çš„å€¼å°äºç­‰äº 9007199254740991 æ—¶ï¼Œè¾“å‡ºæ­£å¸¸çš„æ¯æ¬¡å¾ªç¯åŠ 1çš„ç»“æœï¼Œåˆ°äº†å¤§äº 9007199254740991 åï¼Œè¾“å‡ºçš„ç»“æœé‡Œå‡ºç°äº†ä¸¤æ¬¡ 9007199254740992ï¼Œå°‘äº† 9007199254740993 å’Œ 9007199254740995ã€‚</p><p><strong>è¿™æ˜¯å› ä¸º</strong>ï¼Œè¶…è¿‡ 9007199254740991 ä¹‹åï¼ŒJavaScriptçš„Numberç±»å‹å°±æ²¡åŠæ³•ç²¾ç¡®åœ°è¡¨ç¤ºæ•´æ•°äº†ã€‚<strong>å› ä¸ºä¸¢å¤±äº†ç²¾åº¦ï¼Œæ‰€ä»¥ 9007199254740993 å’Œ 9007199254740995 ä¸è§äº†ã€‚</strong></p><hr><p><strong>3.å¤§æ•´æ•° Big Integer</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span> ** <span class="number">2000</span>); <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2n</span> ** <span class="number">2000n</span>); <span class="comment">//114813069527425452423283320117768198402231770208869520047764273682576626139237031385665948631650626991844596463898746277344711896086305533142593135616665318539129989145312280000688779148240044871428926990063486244781615463646388363947317026040466353970904996558162398808944629605623311649536164221970332681344168908984458505602379484807914058900934776500429002716706625830522008132236281291761267883317206598995396418127021779858404042159853183251540889433902091920554957783589672039160081957216630582755380425583726015528348786419432054508915275783882625175435528800822842770817965453762184851149029376n</span></span><br></pre></td></tr></table></figure><hr><p><strong>æ˜“é”™ç‚¹</strong></p><p>NaNçš„ç‰¹ç‚¹æ˜¯å®ƒä¸ä»»ä½•å€¼éƒ½ä¸æƒ³ç­‰ï¼ŒåŒ…æ‹¬å®ƒæœ¬èº«,æ‰€ä»¥NaN === NaN-1æ˜¯ä¸æ­£ç¡®çš„</p><hr><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">1</span>/<span class="number">0</span></span><br><span class="line"><span class="built_in">console</span>.log(a === a-<span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b1 = <span class="literal">Infinity</span></span><br><span class="line"><span class="keyword">const</span> b2 = -<span class="literal">Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log( b1 === b1 - <span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log( b2 === b2 -<span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c1 = <span class="built_in">Number</span>.MAX_VALUE</span><br><span class="line"><span class="keyword">const</span> c2 = <span class="built_in">Number</span>.MAX_SAFE_INTEGER</span><br><span class="line"><span class="keyword">const</span> c3 = <span class="built_in">Number</span>.MIN_VALUE</span><br><span class="line"><span class="keyword">const</span> c4 = <span class="built_in">Number</span>.MIN_SAFE_INTEGER</span><br><span class="line"><span class="built_in">console</span>.log(c1 === c1-<span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(c2 === c2-<span class="number">1</span>); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(c3 === c3-<span class="number">1</span>); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(c4 === c4-<span class="number">1</span>); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> d = <span class="literal">NaN</span></span><br><span class="line"><span class="built_in">console</span>.log( d === d-<span class="number">1</span>); <span class="comment">// false NaNä¸ä»»ä½•æ•°éƒ½ä¸ç›¸ç­‰(åŒ…æ‹¬ä»–æœ¬èº«)</span></span><br></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong>:åœ¨ä»¥ä¸‹æƒ…å†µä¸‹a===a-1:</p><ul><li>aä¸ºæ­£è´Ÿinfinity</li><li>aä¸ºä»»æ„ä¸€ä¸ªè¶…è¿‡JSç²¾åº¦èŒƒå›´çš„æ•°</li><li>aæ˜¯ä¸€ä¸ªå¤§æ•´æ•°</li></ul><h3 id="3-æ‰‹å†™åŸç”Ÿajaxè¯·æ±‚"><a href="#3-æ‰‹å†™åŸç”Ÿajaxè¯·æ±‚" class="headerlink" title="3.æ‰‹å†™åŸç”Ÿajaxè¯·æ±‚"></a>3.æ‰‹å†™åŸç”Ÿajaxè¯·æ±‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ajax = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">get</span>(<span class="params"> url, fn </span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">        xhr.open(<span class="string">&#x27;GET&#x27;</span>,url,<span class="literal">true</span>) <span class="comment">//ç¬¬ä¸‰ä¸ªå‚æ•° trueä»£è¡¨å¼‚æ­¥,falseä»£è¡¨åŒæ­¥</span></span><br><span class="line">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">                fn(xhr.responseText)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        xhr.send()</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">post</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">        xhr.open(<span class="string">&#x27;POST&#x27;</span>,url,<span class="literal">true</span>)</span><br><span class="line">        xhr.setRequestHeader(<span class="string">&#x27;Conten-type&#x27;</span>,<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>)</span><br><span class="line">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> ( xhr.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">                fn(xhr.responseText)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        xhr.send()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-æ‰‹å†™new"><a href="#4-æ‰‹å†™new" class="headerlink" title="4.æ‰‹å†™new"></a>4.æ‰‹å†™new</h3><p>å…ˆç”¨æ–‡å­—æè¿°ä¸€ä¸‹ new çš„å®ç°è¿‡ç¨‹</p><ul><li>æ–°å®šä¹‰ä¸€ä¸ª json å¯¹è±¡</li><li>å¯¹è±¡ ç»§æ‰¿ æ„é€ å‡½æ•°çš„åŸå‹é“¾</li><li>å°†æ„é€ å‡½æ•°çš„ this æŒ‡å‘è¿™ä¸ªå¯¹è±¡</li><li>æ ¹æ®æ„é€ å‡½æ•°çš„è¿”å›å€¼ç±»å‹è¿”å›ç»“æœ</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myNew</span>(<span class="params">fn,...args</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> obj = &#123;&#125; <span class="comment">//åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</span></span><br><span class="line">    obj.__proto__ = fn.prototype <span class="comment">//å¯¹è±¡ç»§æ‰¿æ„é€ å‡½æ•°çš„åŸå‹é“¾</span></span><br><span class="line">    fn.apply(obj,args) <span class="comment">//å°†æ„é€ å‡½æ•°çš„thisæŒ‡å‘è¿™ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">this</span>.name = <span class="built_in">arguments</span>[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">this</span>.age = <span class="built_in">arguments</span>[<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">this</span>.gender = <span class="built_in">arguments</span>[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"> &#125; </span><br><span class="line"> Person.prototype.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;ä½ å¥½å‘€,æˆ‘æ˜¯&quot;</span>,<span class="built_in">this</span>.name);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ•°æ®æµ‹è¯•</span></span><br><span class="line"> <span class="keyword">let</span> test = myNew(Person,<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="string">&#x27;18&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>)</span><br><span class="line"> test.sayHello()</span><br><span class="line"> <span class="built_in">console</span>.log(test.name);</span><br><span class="line"> <span class="built_in">console</span>.log(test.age);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-å¦‚ä½•ä¼˜é›…çš„è·å–æµ®ç‚¹æ•°çš„æ•´æ•°å’Œå°æ•°éƒ¨åˆ†"><a href="#5-å¦‚ä½•ä¼˜é›…çš„è·å–æµ®ç‚¹æ•°çš„æ•´æ•°å’Œå°æ•°éƒ¨åˆ†" class="headerlink" title="5.å¦‚ä½•ä¼˜é›…çš„è·å–æµ®ç‚¹æ•°çš„æ•´æ•°å’Œå°æ•°éƒ¨åˆ†"></a>5.å¦‚ä½•ä¼˜é›…çš„è·å–æµ®ç‚¹æ•°çš„æ•´æ•°å’Œå°æ•°éƒ¨åˆ†</h3><h4 id="1-å–æ•´æ•°"><a href="#1-å–æ•´æ•°" class="headerlink" title="1.å–æ•´æ•°"></a>1.å–æ•´æ•°</h4><p>1.parseInt</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">3.75</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(num)); <span class="comment">// 3</span></span><br><span class="line">num = -<span class="number">3.75</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(num)); <span class="comment">// -3</span></span><br></pre></td></tr></table></figure><p>ç”¨parseIntå–æ•´æ•°ï¼Œç»“æœæ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯å¦‚æœ<strong>ä¸¥æ ¼æ¥è¯´</strong>ï¼Œå…¶å®<strong>parseIntå¹¶ä¸æ˜¯è®¾è®¡ç”¨æ¥å–æ•´æ•°çš„</strong>ã€‚</p><blockquote><p><strong>ğŸ‘‰ğŸ» çŸ¥è¯†ç‚¹ï¼š</strong><code>parseInt(string, radix)`` </code>è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°çš„æ–¹æ³•ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¦è½¬æ¢çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœå‚æ•°ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯åŸºæ•°å³è¿›åˆ¶ï¼Œé»˜è®¤ä¸º10ã€‚</p></blockquote><p>æ‰€ä»¥ç”¨ parseInt æ–¹æ³•å–æ•´æ•°ï¼Œæœ‰<strong>ä¸¤ä¸ªä¸å¥½çš„åœ°æ–¹</strong>ï¼Œä¸€æ˜¯ parseInt è¿™ä¸ªå‡½æ•°åï¼Œçœ‹èµ·æ¥å°±æ˜¯å°†å­—ç¬¦ä¸²è½¬æ•´æ•°çš„ï¼Œç”¨åœ¨è¿™é‡Œä¸æ˜¯å¾ˆé€‚åˆï¼Œå¦ä¸€ä¸ªæ˜¯è½¬å­—ç¬¦ä¸²æœ‰ç‚¹å¤šæ­¤ä¸€ä¸¾ï¼Œè€Œä¸”è‚¯å®šä¼šå¸¦æ¥æ€§èƒ½å¼€é”€ï¼Œæ‰€ä»¥ä½¿ç”¨ parseInt è™½ç„¶æ–¹ä¾¿ï¼Œä½†ä¸æ˜¯æœ€å¥½çš„åŠæ³•ã€‚</p><p>2.Mathæ–¹æ³•</p><p>å…¶ä¸­ Math.round æ˜¯å››èˆäº”å…¥çš„ï¼ŒMath.ceil æ˜¯å‘ä¸Šå–æ•´ï¼ŒMath.floor æ˜¯å‘ä¸‹å–æ•´ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trunc</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num &gt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="built_in">Math</span>.floor(num) <span class="comment">//å¦‚æœå°äº0 å‘ä¸Šå–æ•´</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.ceil(num) <span class="comment">//å‘ä¸‹å–æ•´</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.ä½æ“ä½œ</p><p>ä½¿ç”¨ä½æ“ä½œæ–¹æ³•ï¼Œåœ¨è¿ç®—è¿‡ç¨‹ä¸­ä¼šæŠŠæ“ä½œæ•°è½¬ä¸ºæˆ32ä½æ•´æ•°ï¼Œå¦‚æ­¤ï¼Œè¿ç®—åçš„ç»“æœå°±æ˜¯æ•´æ•°éƒ¨åˆ†äº†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">3.75</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num | <span class="number">0</span>); <span class="comment">// 3</span></span><br><span class="line">num = -num;</span><br><span class="line"><span class="built_in">console</span>.log(num | <span class="number">0</span>); <span class="comment">// -3</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™æ ·åšä¹Ÿæœ‰ç¼ºé™·</p><blockquote><p>ğŸ‘‰ğŸ» <strong>å†·çŸ¥è¯†</strong>ï¼šå› ä¸ºbitwiseæ“ä½œå°†æ“ä½œæ•°è½¬ä¸ºInt32ï¼Œæ‰€ä»¥å®ƒä¸èƒ½å¤„ç†è¶…è¿‡32ä½çš„æ•°å€¼å–æ•´ï¼Œè€ŒJavaScriptæœ‰æ•ˆæ•´æ•°çš„èŒƒå›´æ˜¯53ä½ã€‚</p></blockquote><p>å½“æ•°å€¼èŒƒå›´è¶…è¿‡32ä½æ—¶ï¼Œå®ƒå°†ä¸èƒ½å¯¹æ•°å€¼å–æ•´ï¼Œè€ŒJavaScriptæœ‰æ•ˆæ•´æ•°çš„èŒƒå›´æ˜¯53ä½ã€‚</p><p>é‚£ä¹ˆç”¨â€œ|â€æœ‰ä»€ä¹ˆ<strong>å¥½å¤„</strong>å‘¢ï¼Ÿå¦‚æœè€ƒè™‘jsæ–‡ä»¶å¤§å°ï¼Œé‚£ä¹ˆ<strong>a|0</strong>ä¸å…¶ä»–æ–¹å¼æ¯”è¾ƒï¼Œæ˜¯æœ€çŸ­çš„æ–¹å¼ï¼Œæ‰€ä»¥å¦‚æœè¦è€ƒè™‘å‹ç¼©ä»£ç çš„å¤§å°ï¼Œä¸”æ˜ç¡®çŸ¥é“æ•°å€¼èŒƒå›´ä¸ä¼šè¶…è¿‡32ä½æ•´æ•°çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¿™ä¸ªæŠ€å·§ã€‚</p><h4 id="2-å–å°æ•°"><a href="#2-å–å°æ•°" class="headerlink" title="2.å–å°æ•°"></a>2.å–å°æ•°</h4><p>1.parseInt+split</p><p>å°†æ•°å€¼è½¬æ¢æˆ2å­—ç¬¦ä¸²ååˆ‡å‰²å¹¶è½¬æ¢å›æ•°å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">12.76</span></span><br><span class="line"><span class="keyword">const</span> integer = <span class="built_in">parseInt</span>(num.toString().split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line"><span class="keyword">const</span> decimal = <span class="built_in">parseInt</span>(num.toString().split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">1</span>])<span class="comment">//å–å°æ•°</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;integer&#125;</span>.<span class="subst">$&#123;decimal&#125;</span>`</span>);</span><br></pre></td></tr></table></figure><p>2.Math.trunc()</p><p>å…ˆç”¨<code>Math.trunc(num)</code>å–æ•´ï¼Œç„¶åå†ä¸åŸæ•°ç›¸å‡ï¼Œå°±å¾—åˆ°äº†å°æ•°éƒ¨åˆ†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fract</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num - <span class="built_in">Math</span>.trunc(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(fract(<span class="number">3.75</span>)); <span class="comment">// 0.75</span></span><br><span class="line"><span class="built_in">console</span>.log(fract(-<span class="number">3.75</span>)); <span class="comment">// -0.75</span></span><br></pre></td></tr></table></figure><p>3.å–æ¨¡è¿ç®—</p><blockquote><p><strong>ğŸ‘‰ğŸ» çŸ¥è¯†ç‚¹ï¼š</strong> JavaScriptçš„å–æ¨¡è¿ç®—%å¹¶ä¸é™äºæ•´æ•°è¿ç®—ï¼Œå¯ä»¥å¯¹æµ®ç‚¹æ•°å–æ¨¡ã€‚</p></blockquote><p>æ‰€ä»¥ï¼Œç›´æ¥å°†åŸæ•°å¯¹1å–æ¨¡ï¼Œå³å¯è·å¾—å°æ•°éƒ¨åˆ†ï¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">3.75</span> % <span class="number">1</span>); <span class="comment">// 0.75</span></span><br><span class="line"><span class="built_in">console</span>.log(-<span class="number">3.75</span> % <span class="number">1</span>); <span class="comment">// -0.75</span></span><br></pre></td></tr></table></figure><h3 id="3ã€instanceofå…³é”®å­—"><a href="#3ã€instanceofå…³é”®å­—" class="headerlink" title="3ã€instanceofå…³é”®å­—"></a>3ã€instanceofå…³é”®å­—</h3><p>éå†childçš„éšå¼åŸå‹é“¾,å¦‚æœéšå¼åŸå‹é“¾ä¸Šå­˜åœ¨fatherçš„æ˜¾å¼åŸå‹,åˆ™è¿”å›true,å¦åˆ™ä¸ºfalse</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">instanceOf</span>(<span class="params">father, child</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> fp = father.prototype</span><br><span class="line">    <span class="keyword">var</span> cp = child.__proto__</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (cp) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cp === fp) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        cp = cp.__proto__</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4ã€å®ç°é˜²æŠ–å‡½æ•°"><a href="#4ã€å®ç°é˜²æŠ–å‡½æ•°" class="headerlink" title="4ã€å®ç°é˜²æŠ–å‡½æ•°"></a>4ã€å®ç°é˜²æŠ–å‡½æ•°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay = <span class="number">500</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">const</span> args = <span class="built_in">arguments</span>        </span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            fn.apply(<span class="built_in">this</span>, args) <span class="comment">// æ”¹å˜thisæŒ‡å‘ä¸ºè°ƒç”¨debounceæ‰€æŒ‡çš„å¯¹è±¡</span></span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5ã€å®ç°èŠ‚æµå‡½æ•°"><a href="#5ã€å®ç°èŠ‚æµå‡½æ•°" class="headerlink" title="5ã€å®ç°èŠ‚æµå‡½æ•°"></a>5ã€å®ç°èŠ‚æµå‡½æ•°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay = <span class="number">200</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!flag) <span class="keyword">return</span></span><br><span class="line">        flag = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">const</span> args = <span class="built_in">arguments</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            fn.apply(<span class="built_in">this</span>, args)</span><br><span class="line">            flag = <span class="literal">true</span></span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="6ã€å®ç°æ•°ç»„å»é‡"><a href="#6ã€å®ç°æ•°ç»„å»é‡" class="headerlink" title="6ã€å®ç°æ•°ç»„å»é‡"></a>6ã€å®ç°æ•°ç»„å»é‡</h3><blockquote><p>é¢˜ç›®æè¿°ï¼šå®ç°ä¸€ä¸ªæ•°ç»„çš„å»é‡</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§ï¼šMapè®°å½•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quchong1</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> newArr = []</span><br><span class="line">    arr.reduce(<span class="function">(<span class="params">pre, next</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!pre.has(next)) &#123;</span><br><span class="line">            pre.set(next, <span class="number">1</span>)</span><br><span class="line">            newArr.push(next)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pre</span><br><span class="line">    &#125;, <span class="keyword">new</span> <span class="built_in">Map</span>())</span><br><span class="line">    <span class="keyword">return</span> newArr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§ï¼šSetå»é‡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quchong2</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [...new <span class="built_in">Set</span>(arr)]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="7ã€ç”¨setTimeoutå®ç°setInterval"><a href="#7ã€ç”¨setTimeoutå®ç°setInterval" class="headerlink" title="7ã€ç”¨setTimeoutå®ç°setInterval"></a>7ã€ç”¨setTimeoutå®ç°setInterval</h3><blockquote><p>é¢˜ç›®æè¿°ï¼šsetinterval ç”¨æ¥å®ç°å¾ªç¯å®šæ—¶è°ƒç”¨ å¯èƒ½ä¼šå­˜åœ¨ä¸€å®šçš„é—®é¢˜ èƒ½ç”¨ settimeout è§£å†³å—</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mySetTimout</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">const</span> interval = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        fn()</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(interval, delay)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">setTimeout</span>(interval, delay)</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">cancel</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">const</span> &#123; cancel &#125; = mySetTimout(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="number">888</span>), <span class="number">1000</span>)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    cancel()</span><br><span class="line">&#125;, <span class="number">4000</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="8ã€ç”¨setIntervalå®ç°setTimeout"><a href="#8ã€ç”¨setIntervalå®ç°setTimeout" class="headerlink" title="8ã€ç”¨setIntervalå®ç°setTimeout"></a>8ã€ç”¨setIntervalå®ç°setTimeout</h3><blockquote><p>é¢˜ç›®è¯´æ˜ï¼šæ²¡æœ‰ï¼Œå°±æ˜¯æƒ³åˆéš¾ä½ </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mySetInterval</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        fn()</span><br><span class="line">        <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">    &#125;, delay)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line">mySetInterval(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="number">888</span>), <span class="number">1000</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="9ã€å®ç°ä¸€ä¸ªcomposeå‡½æ•°"><a href="#9ã€å®ç°ä¸€ä¸ªcomposeå‡½æ•°" class="headerlink" title="9ã€å®ç°ä¸€ä¸ªcomposeå‡½æ•°"></a>9ã€å®ç°ä¸€ä¸ªcomposeå‡½æ•°</h3><blockquote><p>é¢˜ç›®è¯´æ˜ï¼šå®ç°ä»¥ä¸‹æ•ˆæœ</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn4</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> a = compose(fn1, fn2, fn3, fn4);</span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br><span class="line"><span class="built_in">console</span>.log(a(<span class="number">1</span>)); <span class="comment">// 1+2+3+4=11</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å®ç°å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compose</span>(<span class="params">...fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (fn.length === <span class="number">0</span>) <span class="keyword">return</span> <span class="function">(<span class="params">num</span>) =&gt;</span> num</span><br><span class="line">    <span class="keyword">if</span> (fn.length === <span class="number">1</span>) <span class="keyword">return</span> fn[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> fn.reduce(<span class="function">(<span class="params">pre, next</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> next(pre(num))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="10ã€å®ç°ä¸€ä¸ªç§‘é‡ŒåŒ–å‡½æ•°"><a href="#10ã€å®ç°ä¸€ä¸ªç§‘é‡ŒåŒ–å‡½æ•°" class="headerlink" title="10ã€å®ç°ä¸€ä¸ªç§‘é‡ŒåŒ–å‡½æ•°"></a>10ã€å®ç°ä¸€ä¸ªç§‘é‡ŒåŒ–å‡½æ•°</h3><blockquote><p>é¢˜ç›®è¦æ±‚ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">a, b, c</span>) =&gt;</span> a + b + c;</span><br><span class="line"><span class="keyword">const</span> a = currying(add, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a(<span class="number">2</span>,<span class="number">3</span>)) <span class="comment">// 1 + 2 + 3=6</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å®ç°å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">currying</span>(<span class="params">fn, ...args1</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// è·å–fnå‚æ•°æœ‰å‡ ä¸ª</span></span><br><span class="line">  <span class="keyword">const</span> length = fn.length</span><br><span class="line">  <span class="keyword">let</span> allArgs = [...args1]</span><br><span class="line">  <span class="keyword">const</span> res = <span class="function">(<span class="params">...arg2</span>) =&gt;</span> &#123;</span><br><span class="line">    allArgs = [...allArgs, ...arg2]</span><br><span class="line">    <span class="comment">// é•¿åº¦ç›¸ç­‰å°±è¿”å›æ‰§è¡Œç»“æœ</span></span><br><span class="line">    <span class="keyword">if</span> (allArgs.length === length) &#123;</span><br><span class="line">      <span class="keyword">return</span> fn(...allArgs)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// ä¸ç›¸ç­‰ç»§ç»­è¿”å›å‡½æ•°</span></span><br><span class="line">      <span class="keyword">return</span> res</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ï¼š</span></span><br><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">a, b, c</span>) =&gt;</span> a + b + c;</span><br><span class="line"><span class="keyword">const</span> a = currying(add, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a(<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="11ã€å®ç°ä¸€ä¸ªLRUç¼“å­˜å‡½æ•°"><a href="#11ã€å®ç°ä¸€ä¸ªLRUç¼“å­˜å‡½æ•°" class="headerlink" title="11ã€å®ç°ä¸€ä¸ªLRUç¼“å­˜å‡½æ•°"></a>11ã€å®ç°ä¸€ä¸ªLRUç¼“å­˜å‡½æ•°</h3><blockquote><p>é¢˜ç›®è¯´æ˜ï¼š</p></blockquote><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/866902be3c894edebc9a70446ed664df~tplv-k3u1fbpfcp-watermark.awebp" alt="image.png"></p><blockquote><p>å®ç°å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">size</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.size = size</span><br><span class="line">    <span class="built_in">this</span>.cache = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">get</span>(<span class="params">key</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> hasKey = <span class="built_in">this</span>.cache.has(key)</span><br><span class="line">    <span class="keyword">if</span> (hasKey) &#123;</span><br><span class="line">      <span class="keyword">const</span> val = <span class="built_in">this</span>.cache.get(key)</span><br><span class="line">      <span class="built_in">this</span>.cache.delete(key)</span><br><span class="line">      <span class="built_in">this</span>.cache.set(key, val)</span><br><span class="line">      <span class="keyword">return</span> val</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">put</span>(<span class="params">key, val</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> hasKey = <span class="built_in">this</span>.cache.has(key)</span><br><span class="line">    <span class="keyword">if</span> (hasKey) &#123;</span><br><span class="line">      <span class="built_in">this</span>.cache.delete(key)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.cache.set(key, val)</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.cache.size &gt; <span class="built_in">this</span>.size) &#123;</span><br><span class="line">      <span class="built_in">this</span>.cache.delete(<span class="built_in">this</span>.cache.keys().next().value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="12ã€ç®€å•å®ç°-å‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#12ã€ç®€å•å®ç°-å‘å¸ƒè®¢é˜…æ¨¡å¼" class="headerlink" title="12ã€ç®€å•å®ç° å‘å¸ƒè®¢é˜…æ¨¡å¼"></a>12ã€ç®€å•å®ç° å‘å¸ƒè®¢é˜…æ¨¡å¼</h3><blockquote><p>é¢˜ç›®æè¿°:å®ç°ä¸€ä¸ªå‘å¸ƒè®¢é˜…æ¨¡å¼æ‹¥æœ‰<code>on emit once off</code>æ–¹æ³•</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventEmitter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.cache = &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">on</span>(<span class="params">name, fn</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> tasks = <span class="built_in">this</span>.cache[name]</span><br><span class="line">        <span class="keyword">if</span> (tasks) &#123;</span><br><span class="line">            <span class="built_in">this</span>.cache[name].push(fn)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.cache[name] = [fn]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">off</span>(<span class="params">name, fn</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> tasks = <span class="built_in">this</span>.cache[name]</span><br><span class="line">        <span class="keyword">if</span> (task) &#123;</span><br><span class="line">            <span class="keyword">const</span> index = tasks.findIndex(<span class="function"><span class="params">item</span> =&gt;</span> item === fn)</span><br><span class="line">            <span class="keyword">if</span> (index &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="built_in">this</span>.cache[name].splice(index, <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">emit</span>(<span class="params">name, ...args</span>)</span> &#123;</span><br><span class="line">        <span class="comment">// å¤åˆ¶ä¸€ä»½ã€‚é˜²æ­¢å›è°ƒé‡Œç»§ç»­onï¼Œå¯¼è‡´æ­»å¾ªç¯</span></span><br><span class="line">        <span class="keyword">const</span> tasks = <span class="built_in">this</span>.cache[name].slice()</span><br><span class="line">        <span class="keyword">if</span> (tasks) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> fn <span class="keyword">of</span> tasks) &#123;</span><br><span class="line">                fn(...args)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">once</span>(<span class="params">name, cb</span>)</span> &#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">            cb(args)</span><br><span class="line">            <span class="built_in">this</span>.off(name, fn)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.on(name, fn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="13ã€å®ç°JSON-parse"><a href="#13ã€å®ç°JSON-parse" class="headerlink" title="13ã€å®ç°JSON.parse"></a>13ã€å®ç°JSON.parse</h3><blockquote><p>é¢˜ç›®æè¿°ï¼šå®ç°<code>JSON.parse</code></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parse</span> (<span class="params">json</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">eval</span>(<span class="string">&quot;(&quot;</span> + json + <span class="string">&quot;)&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="14ã€å°†DOMè½¬åŒ–æˆæ ‘ç»“æ„å¯¹è±¡"><a href="#14ã€å°†DOMè½¬åŒ–æˆæ ‘ç»“æ„å¯¹è±¡" class="headerlink" title="14ã€å°†DOMè½¬åŒ–æˆæ ‘ç»“æ„å¯¹è±¡"></a>14ã€å°†DOMè½¬åŒ–æˆæ ‘ç»“æ„å¯¹è±¡</h3><blockquote><p>é¢˜ç›®æè¿°ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">å°†ä¸Šæ–¹çš„DOMè½¬åŒ–ä¸ºä¸‹é¢çš„æ ‘ç»“æ„å¯¹è±¡</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">tag</span>: <span class="string">&#x27;DIV&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&#x27;SPAN&#x27;</span>, <span class="attr">children</span>: [] &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">tag</span>: <span class="string">&#x27;UL&#x27;</span>,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123; <span class="attr">tag</span>: <span class="string">&#x27;LI&#x27;</span>, <span class="attr">children</span>: [] &#125;,</span><br><span class="line">                &#123; <span class="attr">tag</span>: <span class="string">&#x27;LI&#x27;</span>, <span class="attr">children</span>: [] &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å®ç°å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dom2tree</span>(<span class="params">dom</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">    obj.tag = dom.tagName</span><br><span class="line">    obj.children = []</span><br><span class="line">    dom.childNodes.forEach(<span class="function"><span class="params">child</span> =&gt;</span> obj.children.push(dom2tree(child)))</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="15ã€å°†æ ‘ç»“æ„è½¬æ¢ä¸ºDOM"><a href="#15ã€å°†æ ‘ç»“æ„è½¬æ¢ä¸ºDOM" class="headerlink" title="15ã€å°†æ ‘ç»“æ„è½¬æ¢ä¸ºDOM"></a>15ã€å°†æ ‘ç»“æ„è½¬æ¢ä¸ºDOM</h3><blockquote><p>é¢˜ç›®æè¿°ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">tag</span>: <span class="string">&#x27;DIV&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&#x27;SPAN&#x27;</span>, <span class="attr">children</span>: [] &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">tag</span>: <span class="string">&#x27;UL&#x27;</span>,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123; <span class="attr">tag</span>: <span class="string">&#x27;LI&#x27;</span>, <span class="attr">children</span>: [] &#125;,</span><br><span class="line">                &#123; <span class="attr">tag</span>: <span class="string">&#x27;LI&#x27;</span>, <span class="attr">children</span>: [] &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å°†ä¸Šæ–¹çš„æ ‘ç»“æ„å¯¹è±¡è½¬åŒ–ä¸ºä¸‹é¢çš„DOM</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å®ç°å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çœŸæ­£çš„æ¸²æŸ“å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_render</span>(<span class="params">vnode</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å¦‚æœæ˜¯æ•°å­—ç±»å‹è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> vnode === <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">    vnode = <span class="built_in">String</span>(vnode);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å­—ç¬¦ä¸²ç±»å‹ç›´æ¥å°±æ˜¯æ–‡æœ¬èŠ‚ç‚¹</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> vnode === <span class="string">&quot;string&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">document</span>.createTextNode(vnode);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ™®é€šDOM</span></span><br><span class="line">  <span class="keyword">const</span> dom = <span class="built_in">document</span>.createElement(vnode.tag);</span><br><span class="line">  <span class="keyword">if</span> (vnode.attrs) &#123;</span><br><span class="line">    <span class="comment">// éå†å±æ€§</span></span><br><span class="line">    <span class="built_in">Object</span>.keys(vnode.attrs).forEach(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> value = vnode.attrs[key];</span><br><span class="line">      dom.setAttribute(key, value);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å­æ•°ç»„è¿›è¡Œé€’å½’æ“ä½œ</span></span><br><span class="line">  vnode.children.forEach(<span class="function">(<span class="params">child</span>) =&gt;</span> dom.appendChild(_render(child)));</span><br><span class="line">  <span class="keyword">return</span> dom;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="16ã€åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æœ‰ç¯å¼•ç”¨"><a href="#16ã€åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æœ‰ç¯å¼•ç”¨" class="headerlink" title="16ã€åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æœ‰ç¯å¼•ç”¨"></a>16ã€åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æœ‰ç¯å¼•ç”¨</h3><blockquote><p>é¢˜ç›®æè¿°ï¼šéªŒè¯ä¸€ä¸ªå¯¹è±¡æœ‰æ— ç¯å¼•ç”¨</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: &#123;</span><br><span class="line">        <span class="attr">c</span>: [</span><br><span class="line">            <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">b</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">obj.a.c.d = obj</span><br><span class="line"><span class="built_in">console</span>.log(cycleDetector(obj)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>å®ç°æ€è·¯ï¼šç”¨ä¸€ä¸ªæ•°ç»„å­˜å‚¨æ¯ä¸€ä¸ªéå†è¿‡çš„å¯¹è±¡ï¼Œä¸‹æ¬¡æ‰¾åˆ°æ•°ç»„ä¸­å­˜åœ¨ï¼Œåˆ™è¯´æ˜ç¯å¼•ç”¨</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cycleDetector</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = [obj]</span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">cycle</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> keys = <span class="built_in">Object</span>.keys(o)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> keys) &#123;</span><br><span class="line">            <span class="keyword">const</span> temp = o[key]</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> temp === <span class="string">&#x27;object&#x27;</span> &amp;&amp; temp !== <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (arr.indexOf(temp) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    flag = <span class="literal">true</span></span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line">                arr.push(temp)</span><br><span class="line">                cycle(temp)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cycle(obj)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> flag</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="17ã€è®¡ç®—ä¸€ä¸ªå¯¹è±¡çš„å±‚æ•°"><a href="#17ã€è®¡ç®—ä¸€ä¸ªå¯¹è±¡çš„å±‚æ•°" class="headerlink" title="17ã€è®¡ç®—ä¸€ä¸ªå¯¹è±¡çš„å±‚æ•°"></a>17ã€è®¡ç®—ä¸€ä¸ªå¯¹è±¡çš„å±‚æ•°</h3><blockquote><p>é¢˜ç›®æè¿°ï¼šç»™ä½ ä¸€ä¸ªå¯¹è±¡ï¼Œç»Ÿè®¡ä¸€ä¸‹å®ƒçš„å±‚æ•°</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: &#123; <span class="attr">b</span>: [<span class="number">1</span>] &#125;,</span><br><span class="line">    <span class="attr">c</span>: &#123; <span class="attr">d</span>: &#123; <span class="attr">e</span>: &#123; <span class="attr">f</span>: <span class="number">1</span> &#125; &#125; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(loopGetLevel(obj)) <span class="comment">// 4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å®ç°å¦‚ä¸‹:</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loopGetLevel</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> res = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">computedLevel</span>(<span class="params">obj, level</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> level = level ? level : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> obj === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">typeof</span> obj[key] === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">                    computedLevel(obj[key], level + <span class="number">1</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    res = level + <span class="number">1</span> &gt; res ? level + <span class="number">1</span> : res;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res = level &gt; res ? level : res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    computedLevel(obj)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="18ã€å¯¹è±¡çš„æ‰å¹³åŒ–"><a href="#18ã€å¯¹è±¡çš„æ‰å¹³åŒ–" class="headerlink" title="18ã€å¯¹è±¡çš„æ‰å¹³åŒ–"></a>18ã€å¯¹è±¡çš„æ‰å¹³åŒ–</h3><blockquote><p>é¢˜ç›®æè¿°ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: &#123;</span><br><span class="line">         <span class="attr">b</span>: <span class="number">1</span>,</span><br><span class="line">         <span class="attr">c</span>: <span class="number">2</span>,</span><br><span class="line">         <span class="attr">d</span>: &#123;<span class="attr">e</span>: <span class="number">5</span>&#125;</span><br><span class="line">     &#125;,</span><br><span class="line">  <span class="attr">b</span>: [<span class="number">1</span>, <span class="number">3</span>, &#123;<span class="attr">a</span>: <span class="number">2</span>, <span class="attr">b</span>: <span class="number">3</span>&#125;],</span><br><span class="line">  <span class="attr">c</span>: <span class="number">3</span></span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> flatten(obj) ç»“æœè¿”å›å¦‚ä¸‹</span><br><span class="line"> <span class="comment">// &#123;</span></span><br><span class="line"> <span class="comment">//  &#x27;a.b&#x27;: 1,</span></span><br><span class="line"> <span class="comment">//  &#x27;a.c&#x27;: 2,</span></span><br><span class="line"> <span class="comment">//  &#x27;a.d.e&#x27;: 5,</span></span><br><span class="line"> <span class="comment">//  &#x27;b[0]&#x27;: 1,</span></span><br><span class="line"> <span class="comment">//  &#x27;b[1]&#x27;: 3,</span></span><br><span class="line"> <span class="comment">//  &#x27;b[2].a&#x27;: 2,</span></span><br><span class="line"> <span class="comment">//  &#x27;b[2].b&#x27;: 3</span></span><br><span class="line"> <span class="comment">//   c: 3</span></span><br><span class="line"> <span class="comment">// &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å®ç°å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isObject = <span class="function">(<span class="params">val</span>) =&gt;</span>  <span class="keyword">typeof</span> val === <span class="string">&quot;object&quot;</span> &amp;&amp; val !== <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!isObject(obj)) <span class="keyword">return</span></span><br><span class="line">  <span class="keyword">const</span> res = &#123;&#125;</span><br><span class="line">  <span class="keyword">const</span> dfs = <span class="function">(<span class="params">cur, prefix</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (isObject(cur)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(cur)) &#123;</span><br><span class="line">        cur.forEach(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">          dfs(item, <span class="string">`<span class="subst">$&#123;prefix&#125;</span>[<span class="subst">$&#123;index&#125;</span>]`</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> cur) &#123;</span><br><span class="line">          dfs(cur[key], <span class="string">`<span class="subst">$&#123;prefix&#125;</span><span class="subst">$&#123;prefix ? <span class="string">&#x27;.&#x27;</span> : <span class="string">&#x27;&#x27;</span>&#125;</span><span class="subst">$&#123;key&#125;</span>`</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res[prefix] = cur</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  dfs(obj, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="built_in">console</span>.log(flatten(obj))</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="19ã€å®ç°-a-1-amp-amp-a-2-amp-amp-a-3-ä¸ºtrue"><a href="#19ã€å®ç°-a-1-amp-amp-a-2-amp-amp-a-3-ä¸ºtrue" class="headerlink" title="19ã€å®ç°(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)ä¸ºtrue"></a>19ã€å®ç°(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)ä¸ºtrue</h3><blockquote><p>é¢˜ç›®æè¿°ï¼š<code>å®ç°(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)ä¸ºtrue</code></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§æ–¹æ³•</span></span><br><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">  <span class="attr">i</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">toString</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.i++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§æ–¹æ³•</span></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">a.join = a.shift;</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸‰ç§æ–¹æ³•</span></span><br><span class="line"><span class="keyword">var</span> val = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(<span class="built_in">window</span>, <span class="string">&#x27;a&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="20ã€å®ç°é™åˆ¶å¹¶å‘çš„Promiseè°ƒåº¦å™¨"><a href="#20ã€å®ç°é™åˆ¶å¹¶å‘çš„Promiseè°ƒåº¦å™¨" class="headerlink" title="20ã€å®ç°é™åˆ¶å¹¶å‘çš„Promiseè°ƒåº¦å™¨"></a>20ã€å®ç°é™åˆ¶å¹¶å‘çš„Promiseè°ƒåº¦å™¨</h3><blockquote><p>é¢˜ç›®æè¿°ï¼šJS å®ç°ä¸€ä¸ªå¸¦å¹¶å‘é™åˆ¶çš„å¼‚æ­¥è°ƒåº¦å™¨ Schedulerï¼Œä¿è¯åŒæ—¶è¿è¡Œçš„ä»»åŠ¡æœ€å¤šæœ‰ä¸¤ä¸ª</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">addTask(<span class="number">1000</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">addTask(<span class="number">500</span>,<span class="string">&quot;2&quot;</span>);</span><br><span class="line">addTask(<span class="number">300</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line">addTask(<span class="number">400</span>,<span class="string">&quot;4&quot;</span>);</span><br><span class="line">çš„è¾“å‡ºé¡ºåºæ˜¯ï¼š<span class="number">2</span> <span class="number">3</span> <span class="number">1</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line">æ•´ä¸ªçš„å®Œæ•´æ‰§è¡Œæµç¨‹ï¼š</span><br><span class="line"></span><br><span class="line">ä¸€å¼€å§‹<span class="number">1</span>ã€<span class="number">2</span>ä¸¤ä¸ªä»»åŠ¡å¼€å§‹æ‰§è¡Œ</span><br><span class="line">500msæ—¶ï¼Œ<span class="number">2</span>ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œè¾“å‡º<span class="number">2</span>ï¼Œä»»åŠ¡<span class="number">3</span>å¼€å§‹æ‰§è¡Œ</span><br><span class="line">800msæ—¶ï¼Œ<span class="number">3</span>ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œè¾“å‡º<span class="number">3</span>ï¼Œä»»åŠ¡<span class="number">4</span>å¼€å§‹æ‰§è¡Œ</span><br><span class="line">1000msæ—¶ï¼Œ<span class="number">1</span>ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œè¾“å‡º<span class="number">1</span>ï¼Œæ­¤æ—¶åªå‰©ä¸‹<span class="number">4</span>ä»»åŠ¡åœ¨æ‰§è¡Œ</span><br><span class="line">1200msæ—¶ï¼Œ<span class="number">4</span>ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œè¾“å‡º<span class="number">4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å®ç°å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Scheduler</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">limit</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.queue = []</span><br><span class="line">    <span class="built_in">this</span>.limit = limit</span><br><span class="line">    <span class="built_in">this</span>.count = <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">add</span>(<span class="params">time, order</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> promiseCreator = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(order)</span><br><span class="line">          resolve()</span><br><span class="line">        &#125;, time)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.queue.push(promiseCreator)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">taskStart</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.limit; i++) &#123;</span><br><span class="line">      <span class="built_in">this</span>.request()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">request</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.queue.length || <span class="built_in">this</span>.count &gt;= <span class="built_in">this</span>.limit) <span class="keyword">return</span></span><br><span class="line">    <span class="built_in">this</span>.count++</span><br><span class="line">    <span class="built_in">this</span>.queue.shift()().then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.count--</span><br><span class="line">      <span class="built_in">this</span>.request()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">const</span> scheduler = <span class="keyword">new</span> Scheduler(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">const</span> addTask = <span class="function">(<span class="params">time, order</span>) =&gt;</span> &#123;</span><br><span class="line">  scheduler.add(time, order);</span><br><span class="line">&#125;;</span><br><span class="line">addTask(<span class="number">1000</span>, <span class="string">&quot;1&quot;</span>);</span><br><span class="line">addTask(<span class="number">500</span>, <span class="string">&quot;2&quot;</span>);</span><br><span class="line">addTask(<span class="number">300</span>, <span class="string">&quot;3&quot;</span>);</span><br><span class="line">addTask(<span class="number">400</span>, <span class="string">&quot;4&quot;</span>);</span><br><span class="line">scheduler.taskStart();</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="21ã€å®ç°lazyManå‡½æ•°"><a href="#21ã€å®ç°lazyManå‡½æ•°" class="headerlink" title="21ã€å®ç°lazyManå‡½æ•°"></a>21ã€å®ç°lazyManå‡½æ•°</h3><blockquote><p>é¢˜ç›®æè¿°ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">å®ç°ä¸€ä¸ªLazyManï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è°ƒç”¨:</span><br><span class="line">LazyMan(â€œHankâ€)è¾“å‡º:</span><br><span class="line">Hi! This is Hank!</span><br><span class="line"></span><br><span class="line">LazyMan(â€œHankâ€).sleep(<span class="number">10</span>).eat(â€œdinnerâ€)è¾“å‡º</span><br><span class="line">Hi! This is Hank!</span><br><span class="line"><span class="comment">//ç­‰å¾…10ç§’..</span></span><br><span class="line">Wake up after <span class="number">10</span></span><br><span class="line">Eat dinner~</span><br><span class="line"></span><br><span class="line">LazyMan(â€œHankâ€).eat(â€œdinnerâ€).eat(â€œsupperâ€)è¾“å‡º</span><br><span class="line">Hi This is Hank!</span><br><span class="line">Eat dinner~</span><br><span class="line">Eat supper~</span><br><span class="line"></span><br><span class="line">LazyMan(â€œHankâ€).eat(â€œsupperâ€).sleepFirst(<span class="number">5</span>)è¾“å‡º</span><br><span class="line"><span class="comment">//ç­‰å¾…5ç§’</span></span><br><span class="line">Wake up after <span class="number">5</span></span><br><span class="line">Hi This is Hank!</span><br><span class="line">Eat supper</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å®ç°å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_LazyMan</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.tasks = []</span><br><span class="line">    <span class="keyword">const</span> task = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`Hi! This is <span class="subst">$&#123;name&#125;</span>`</span>)</span><br><span class="line">      <span class="built_in">this</span>.next()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.tasks.push(task)</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.next()</span><br><span class="line">    &#125;, <span class="number">0</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">next</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> task = <span class="built_in">this</span>.tasks.shift()</span><br><span class="line">    task &amp;&amp; task()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">sleep</span>(<span class="params">time</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.sleepWrapper(time, <span class="literal">false</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">sleepFirst</span>(<span class="params">time</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.sleepWrapper(time, <span class="literal">true</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">sleepWrapper</span>(<span class="params">time, first</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> task = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`Wake up after <span class="subst">$&#123;time&#125;</span>`</span>)</span><br><span class="line">        <span class="built_in">this</span>.next()</span><br><span class="line">      &#125;, time * <span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (first) &#123;</span><br><span class="line">      <span class="built_in">this</span>.tasks.unshift(task)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.tasks.push(task)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">eat</span>(<span class="params">food</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> task = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`Eat <span class="subst">$&#123;food&#125;</span>`</span>);</span><br><span class="line">      <span class="built_in">this</span>.next();</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">this</span>.tasks.push(task);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">const</span> lazyMan = <span class="function">(<span class="params">name</span>) =&gt;</span> <span class="keyword">new</span> _LazyMan(name)</span><br><span class="line"></span><br><span class="line">lazyMan(<span class="string">&#x27;Hank&#x27;</span>).sleep(<span class="number">1</span>).eat(<span class="string">&#x27;dinner&#x27;</span>)</span><br><span class="line"></span><br><span class="line">lazyMan(<span class="string">&#x27;Hank&#x27;</span>).eat(<span class="string">&#x27;dinner&#x27;</span>).eat(<span class="string">&#x27;supper&#x27;</span>)</span><br><span class="line"></span><br><span class="line">lazyMan(<span class="string">&#x27;Hank&#x27;</span>).eat(<span class="string">&#x27;supper&#x27;</span>).sleepFirst(<span class="number">5</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="22ã€å®ç°addå‡½æ•°"><a href="#22ã€å®ç°addå‡½æ•°" class="headerlink" title="22ã€å®ç°addå‡½æ•°"></a>22ã€å®ç°addå‡½æ•°</h3><blockquote><p>é¢˜ç›®æè¿°ï¼šå®ç°ä¸€ä¸ª add æ–¹æ³• ä½¿è®¡ç®—ç»“æœèƒ½å¤Ÿæ»¡è¶³å¦‚ä¸‹é¢„æœŸï¼š</p><ul><li>add(1)(2)(3)()=6</li><li>add(1,2,3)(4)()=10</li></ul></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...args1</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> allArgs = [...args1]</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">...args2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!args2.length) <span class="keyword">return</span> fn.toString()</span><br><span class="line">    allArgs = [...allArgs, ...args2]</span><br><span class="line">    <span class="keyword">return</span> fn</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  fn.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> allArgs.reduce(<span class="function">(<span class="params">pre, next</span>) =&gt;</span> pre + next)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> fn</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)())</span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">1</span>, <span class="number">2</span>)(<span class="number">3</span>)())</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="23ã€å®ç°ä¸€ä¸ªåˆæ ¼çš„æ·±æ‹·è´"><a href="#23ã€å®ç°ä¸€ä¸ªåˆæ ¼çš„æ·±æ‹·è´" class="headerlink" title="23ã€å®ç°ä¸€ä¸ªåˆæ ¼çš„æ·±æ‹·è´"></a>23ã€å®ç°ä¸€ä¸ªåˆæ ¼çš„æ·±æ‹·è´</h3><p>æ¨èçœ‹æˆ‘è¿™ç¯‡ï¼š<a href="https://juejin.cn/post/7017991655009566728">æ·±æ‹·è´æœ‰è¿™5ä¸ªæ®µä½ï¼Œä½ åªæ˜¯é’é“œæ®µä½ï¼Ÿè¿˜æƒ³æ¶¨è–ªï¼Ÿ</a></p><h3 id="24ã€å®ç°-Promise"><a href="#24ã€å®ç°-Promise" class="headerlink" title="24ã€å®ç° Promise"></a>24ã€å®ç° Promise</h3><p>æ¨èçœ‹æˆ‘è¿™ç¯‡ï¼š<a href="https://juejin.cn/post/6994594642280857630">çœ‹äº†å°±ä¼šï¼Œæ‰‹å†™PromiseåŸç†ï¼Œæœ€é€šä¿—æ˜“æ‡‚çš„ç‰ˆæœ¬ï¼ï¼ï¼</a>ã€é˜…è¯»ï¼š1.3wï¼Œç‚¹èµï¼š460ã€‘</p><h3 id="25ã€å®ç°-async-await"><a href="#25ã€å®ç°-async-await" class="headerlink" title="25ã€å®ç° async/await"></a>25ã€å®ç° async/await</h3><p>æ¨èçœ‹æˆ‘è¿™ç¯‡ï¼š<a href="https://juejin.cn/post/7007031572238958629">7å¼ å›¾ï¼Œ20åˆ†é’Ÿå°±èƒ½æå®šçš„async/awaitåŸç†ï¼ä¸ºä»€ä¹ˆè¦æ‹–é‚£ä¹ˆä¹…ï¼Ÿ</a>ã€é˜…è¯»ï¼š2.15wï¼Œç‚¹èµï¼š460ã€‘</p><h2 id="Arrayç¯‡"><a href="#Arrayç¯‡" class="headerlink" title="Arrayç¯‡"></a>Arrayç¯‡</h2><p>å®šä¹‰ä¸€ä¸ªæµ‹è¯•æ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> players = [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;ç§‘æ¯”&#x27;</span>, <span class="attr">num</span>: <span class="number">24</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;è©¹å§†æ–¯&#x27;</span>, <span class="attr">num</span>: <span class="number">23</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;ä¿ç½—&#x27;</span>, <span class="attr">num</span>: <span class="number">3</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;å¨å°‘&#x27;</span>, <span class="attr">num</span>: <span class="number">0</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;æœå…°ç‰¹&#x27;</span>, <span class="attr">num</span>: <span class="number">35</span> &#125;</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="26ã€forEach"><a href="#26ã€forEach" class="headerlink" title="26ã€forEach"></a>26ã€forEach</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p><ul><li>itemï¼šéå†é¡¹</li><li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li><li>arrï¼šæ•°ç»„æœ¬èº«</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_forEach = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;</span><br><span class="line">        callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">players.sx_forEach(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item, index)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &#123; name: &#x27;ç§‘æ¯”&#x27;, num: 24 &#125; 0</span></span><br><span class="line"><span class="comment">// &#123; name: &#x27;è©¹å§†æ–¯&#x27;, num: 23 &#125; 1</span></span><br><span class="line"><span class="comment">// &#123; name: &#x27;ä¿ç½—&#x27;, num: 3 &#125; 2</span></span><br><span class="line"><span class="comment">// &#123; name: &#x27;å¨å°‘&#x27;, num: 0 &#125; 3</span></span><br><span class="line"><span class="comment">// &#123; name: &#x27;æœå…°ç‰¹&#x27;, num: 35 &#125; 4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="27ã€map"><a href="#27ã€map" class="headerlink" title="27ã€map"></a>27ã€map</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p><ul><li>itemï¼šéå†é¡¹</li><li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li><li>arrï¼šæ•°ç»„æœ¬èº«</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_map = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> res = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;</span><br><span class="line">        res.push(callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(players.sx_map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> <span class="string">`<span class="subst">$&#123;item.name&#125;</span>--<span class="subst">$&#123;item.num&#125;</span>--<span class="subst">$&#123;index&#125;</span>`</span>))</span><br><span class="line"><span class="comment">// [ &#x27;ç§‘æ¯”--24--0&#x27;, &#x27;è©¹å§†æ–¯--23--1&#x27;, &#x27;ä¿ç½—--3--2&#x27;, &#x27;å¨å°‘--0--3&#x27;, &#x27;æœå…°ç‰¹--35--4&#x27; ]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="28ã€filter"><a href="#28ã€filter" class="headerlink" title="28ã€filter"></a>28ã€filter</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p><ul><li>itemï¼šéå†é¡¹</li><li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li><li>arrï¼šæ•°ç»„æœ¬èº«</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_filter = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> res = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;</span><br><span class="line">        callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>) &amp;&amp; res.push(<span class="built_in">this</span>[i])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(players.sx_filter(<span class="function"><span class="params">item</span> =&gt;</span> item.num &gt;= <span class="number">23</span>))</span><br><span class="line"><span class="comment">// [</span></span><br><span class="line"><span class="comment">//     &#123; name: &#x27;ç§‘æ¯”&#x27;, num: 24 &#125;,</span></span><br><span class="line"><span class="comment">//     &#123; name: &#x27;è©¹å§†æ–¯&#x27;, num: 23 &#125;,</span></span><br><span class="line"><span class="comment">//     &#123; name: &#x27;æœå…°ç‰¹&#x27;, num: 35 &#125;</span></span><br><span class="line"><span class="comment">// ]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="29ã€every"><a href="#29ã€every" class="headerlink" title="29ã€every"></a>29ã€every</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p><ul><li>itemï¼šéå†é¡¹</li><li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li><li>arrï¼šæ•°ç»„æœ¬èº«</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_every = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;</span><br><span class="line">        flag = callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)</span><br><span class="line">        <span class="keyword">if</span> (!flag) <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> flag</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(players.sx_every(<span class="function"><span class="params">item</span> =&gt;</span> item.num &gt;= <span class="number">23</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(players.sx_every(<span class="function"><span class="params">item</span> =&gt;</span> item.num &gt;= <span class="number">0</span>)) <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="30ã€some"><a href="#30ã€some" class="headerlink" title="30ã€some"></a>30ã€some</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p><ul><li>itemï¼šéå†é¡¹</li><li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li><li>arrï¼šæ•°ç»„æœ¬èº«</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_some = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;</span><br><span class="line">        flag = callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)</span><br><span class="line">        <span class="keyword">if</span> (flag) <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> flag</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(players.sx_some(<span class="function"><span class="params">item</span> =&gt;</span> item.num &gt;= <span class="number">23</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(players.sx_some(<span class="function"><span class="params">item</span> =&gt;</span> item.num &gt;= <span class="number">50</span>)) <span class="comment">// false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="31ã€reduce"><a href="#31ã€reduce" class="headerlink" title="31ã€reduce"></a>31ã€reduce</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p><ul><li>preï¼šå‰ä¸€é¡¹</li><li>nextï¼šä¸‹ä¸€é¡¹</li><li>indexï¼šå½“å‰ç´¢å¼•</li><li>arrï¼šæ•°ç»„æœ¬èº«</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_reduce = <span class="function"><span class="keyword">function</span> (<span class="params">callback, ...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> start = <span class="number">0</span>, pre</span><br><span class="line">  <span class="keyword">if</span> (args.length) &#123;</span><br><span class="line">      pre = args[<span class="number">0</span>]</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      pre = <span class="built_in">this</span>[<span class="number">0</span>]</span><br><span class="line">      start = <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; <span class="built_in">this</span>.length; i++) &#123;</span><br><span class="line">      pre = callback(pre, <span class="built_in">this</span>[i], i, <span class="built_in">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pre</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—æ‰€æœ‰numç›¸åŠ </span></span><br><span class="line"><span class="keyword">const</span> sum = players.sx_reduce(<span class="function">(<span class="params">pre, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> pre + next.num</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(sum) <span class="comment">// 85</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="32ã€findIndex"><a href="#32ã€findIndex" class="headerlink" title="32ã€findIndex"></a>32ã€findIndex</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p><ul><li>itemï¼šéå†é¡¹</li><li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li><li>arrï¼šæ•°ç»„æœ¬èº«</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_findIndex = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> i</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(players.sx_findIndex(<span class="function"><span class="params">item</span> =&gt;</span> item.name === <span class="string">&#x27;ç§‘æ¯”&#x27;</span>)) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(players.sx_findIndex(<span class="function"><span class="params">item</span> =&gt;</span> item.name === <span class="string">&#x27;å®‰ä¸œå°¼&#x27;</span>)) <span class="comment">// -1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="33ã€find"><a href="#33ã€find" class="headerlink" title="33ã€find"></a>33ã€find</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p><ul><li>itemï¼šéå†é¡¹</li><li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li><li>arrï¼šæ•°ç»„æœ¬èº«</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_find = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>[i]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(players.sx_find(<span class="function"><span class="params">item</span> =&gt;</span> item.name === <span class="string">&#x27;ç§‘æ¯”&#x27;</span>)) <span class="comment">// &#123; name: &#x27;ç§‘æ¯”&#x27;, num: 24 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(players.sx_find(<span class="function"><span class="params">item</span> =&gt;</span> item.name === <span class="string">&#x27;å®‰ä¸œå°¼&#x27;</span>)) <span class="comment">// undefined</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="34ã€fill"><a href="#34ã€fill" class="headerlink" title="34ã€fill"></a>34ã€fill</h3><p>ç”¨å¤„ï¼šå¡«å……æ•°ç»„</p><p>å‚æ•°ä»£è¡¨å«ä¹‰</p><ul><li>initValueï¼šå¡«å……çš„å€¼</li><li>startï¼šå¼€å§‹å¡«å……ç´¢å¼•ï¼Œé»˜è®¤0</li><li>endï¼šç»“æŸå¡«å……ç´¢å¼•ï¼Œé»˜è®¤length</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_fill = <span class="function"><span class="keyword">function</span> (<span class="params">value, start = <span class="number">0</span>, end</span>) </span>&#123;</span><br><span class="line">  end = end || <span class="built_in">this</span>.length</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;</span><br><span class="line">      <span class="built_in">this</span>[i] = value</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(players.sx_fill(<span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span>, <span class="number">1</span>, <span class="number">3</span>))</span><br><span class="line"><span class="comment">// [</span></span><br><span class="line"><span class="comment">//     &#123; name: &#x27;ç§‘æ¯”&#x27;, num: 24 &#125;,</span></span><br><span class="line"><span class="comment">//     &#x27;æ—ä¸‰å¿ƒ&#x27;,</span></span><br><span class="line"><span class="comment">//     &#x27;æ—ä¸‰å¿ƒ&#x27;,</span></span><br><span class="line"><span class="comment">//     &#x27;æ—ä¸‰å¿ƒ&#x27;,</span></span><br><span class="line"><span class="comment">//     &#123; name: &#x27;æœå…°ç‰¹&#x27;, num: 35 &#125;</span></span><br><span class="line"><span class="comment">// ]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="35ã€includes"><a href="#35ã€includes" class="headerlink" title="35ã€includes"></a>35ã€includes</h3><p>ç”¨å¤„ï¼šæŸ¥æ‰¾å…ƒç´ ï¼ŒæŸ¥åˆ°è¿”å›<code>true</code>ï¼Œåä¹‹è¿”å›<code>false</code>ï¼Œå¯æŸ¥æ‰¾<code>NaN</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_includes = <span class="function"><span class="keyword">function</span> (<span class="params">value, start = <span class="number">0</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (start &lt; <span class="number">0</span>) start = <span class="built_in">this</span>.length + start</span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">isNaN</span> = <span class="built_in">Number</span>.isNaN(value)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; <span class="built_in">this</span>.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>[i] === value || (<span class="built_in">isNaN</span> &amp;&amp; <span class="built_in">Number</span>.isNaN(<span class="built_in">this</span>[i])) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].sx_includes(<span class="number">2</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="literal">NaN</span>].sx_includes(<span class="literal">NaN</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].sx_includes(<span class="number">1</span>, <span class="number">1</span>)) <span class="comment">// false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="36ã€join"><a href="#36ã€join" class="headerlink" title="36ã€join"></a>36ã€join</h3><p>ç”¨å¤„ï¼šå°†æ•°ç»„ç”¨åˆ†éš”ç¬¦æ‹¼æˆå­—ç¬¦ä¸²ï¼Œåˆ†éš”ç¬¦é»˜è®¤ä¸º<code>,</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_join = <span class="function"><span class="keyword">function</span> (<span class="params">s = <span class="string">&#x27;,&#x27;</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;</span><br><span class="line">        str = i === <span class="number">0</span> ? <span class="string">`<span class="subst">$&#123;str&#125;</span><span class="subst">$&#123;<span class="built_in">this</span>[i]&#125;</span>`</span> : <span class="string">`<span class="subst">$&#123;str&#125;</span><span class="subst">$&#123;s&#125;</span><span class="subst">$&#123;<span class="built_in">this</span>[i]&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].sx_join()) <span class="comment">// 1,2,3</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].sx_join(<span class="string">&#x27;*&#x27;</span>)) <span class="comment">// 1*2*3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="37ã€flat"><a href="#37ã€flat" class="headerlink" title="37ã€flat"></a>37ã€flat</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_flat = <span class="function"><span class="keyword">function</span> (<span class="params">num = <span class="literal">Infinity</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> arr = <span class="built_in">this</span></span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line">  <span class="keyword">while</span> (arr.some(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">Array</span>.isArray(item))) &#123;</span><br><span class="line">      arr = [].concat(...arr)</span><br><span class="line">      i++</span><br><span class="line">      <span class="keyword">if</span> (i &gt;= num) <span class="keyword">break</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testArr = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>]], [<span class="number">8</span>, <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(testArr.sx_flat(<span class="number">1</span>))</span><br><span class="line"><span class="comment">// [1, 2, 3, 4, 5, 8, 9]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="38ã€splice"><a href="#38ã€splice" class="headerlink" title="38ã€splice"></a>38ã€splice</h3><p>éš¾ç‚¹</p><ul><li>æˆªå–é•¿åº¦å’Œæ›¿æ¢é•¿åº¦çš„æ¯”è¾ƒï¼Œä¸åŒæƒ…å†µ</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_splice = <span class="function"><span class="keyword">function</span> (<span class="params">start, length, ...values</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> []</span><br><span class="line">  length = start + length &gt; <span class="built_in">this</span>.length - <span class="number">1</span> ? <span class="built_in">this</span>.length - start : length</span><br><span class="line">  <span class="built_in">console</span>.log(length)</span><br><span class="line">  <span class="keyword">const</span> res = [], tempArr = [...this]</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; start + values.length; i++) &#123;</span><br><span class="line">    <span class="built_in">this</span>[i] = values[i - start]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">this</span>.length = start + values.length</span><br><span class="line">  <span class="keyword">if</span> (values.length &lt; length) &#123;</span><br><span class="line">    <span class="keyword">const</span> cha = length - values.length</span><br><span class="line">    <span class="built_in">console</span>.log(cha)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = start + values.length; i &lt; tempArr.length; i++) &#123;</span><br><span class="line">      <span class="built_in">this</span>[i] = tempArr[i + cha]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.length = <span class="built_in">this</span>.length - cha </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (values.length &gt; length) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = start + length; i &lt; tempArr.length; i++) &#123;</span><br><span class="line">      <span class="built_in">this</span>.push(tempArr[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; start + length; i++) &#123;</span><br><span class="line">    res.push(tempArr[i])</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Objectç¯‡"><a href="#Objectç¯‡" class="headerlink" title="Objectç¯‡"></a>Objectç¯‡</h2><p>å®šä¹‰ä¸€ä¸ªæµ‹è¯•å¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">22</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="string">&#x27;ç”·&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="39ã€entries"><a href="#39ã€entries" class="headerlink" title="39ã€entries"></a>39ã€entries</h3><p>ç”¨å¤„ï¼šå°†å¯¹è±¡è½¬æˆé”®å€¼å¯¹æ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_entries = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> res = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        obj.hasOwnProperty(key) &amp;&amp; res.push([key, obj[key]])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.sx_entries(obj))</span><br><span class="line"><span class="comment">// [ [ &#x27;name&#x27;, &#x27;æ—ä¸‰å¿ƒ&#x27; ], [ &#x27;age&#x27;, 22 ], [ &#x27;gender&#x27;, &#x27;ç”·&#x27; ] ]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="40ã€fromEntries"><a href="#40ã€fromEntries" class="headerlink" title="40ã€fromEntries"></a>40ã€fromEntries</h3><p>ç”¨å¤„ï¼šè·Ÿ<code>entries</code>ç›¸åï¼Œå°†é”®å€¼å¯¹æ•°ç»„è½¬æˆå¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_fromEntries = <span class="function"><span class="keyword">function</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> [key, value] = arr[i]</span><br><span class="line">        obj[key] = value</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.sx_fromEntries([[<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span>], [<span class="string">&#x27;age&#x27;</span>, <span class="number">22</span>], [<span class="string">&#x27;gender&#x27;</span>, <span class="string">&#x27;ç”·&#x27;</span>]]))</span><br><span class="line"><span class="comment">// &#123; name: &#x27;æ—ä¸‰å¿ƒ&#x27;, age: 22, gender: &#x27;ç”·&#x27; &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="41ã€keys"><a href="#41ã€keys" class="headerlink" title="41ã€keys"></a>41ã€keys</h3><p>ç”¨å¤„ï¼šå°†å¯¹è±¡çš„keyè½¬æˆä¸€ä¸ªæ•°ç»„åˆé›†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_keys = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> keys = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        obj.hasOwnProperty(key) &amp;&amp; res.push(key)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> keys</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(obj))</span><br><span class="line"><span class="comment">// [ &#x27;name&#x27;, &#x27;age&#x27;, &#x27;gender&#x27; ]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="42ã€values"><a href="#42ã€values" class="headerlink" title="42ã€values"></a>42ã€values</h3><p>ç”¨å¤„ï¼šå°†å¯¹è±¡çš„æ‰€æœ‰å€¼è½¬æˆæ•°ç»„åˆé›†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_values = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> values = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        obj.hasOwnProperty(key) &amp;&amp; values.push(obj[key])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> values</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.sx_values(obj))</span><br><span class="line"><span class="comment">// [ &#x27;æ—ä¸‰å¿ƒ&#x27;, 22, &#x27;ç”·&#x27; ]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="43ã€instanceOf"><a href="#43ã€instanceOf" class="headerlink" title="43ã€instanceOf"></a>43ã€instanceOf</h3><p>ç”¨å¤„ï¼šA instanceOf Bï¼Œåˆ¤æ–­Aæ˜¯å¦ç»è¿‡Bçš„åŸå‹é“¾</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">instanceOf</span>(<span class="params">father, child</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> fp = father.prototype</span><br><span class="line">    <span class="keyword">var</span> cp = child.__proto__</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (cp) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cp === fp) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        cp = cp.__proto__</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> sx = <span class="keyword">new</span> Person(<span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(instanceOf(Person, sx)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(instanceOf(Person, sx2)) <span class="comment">// false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="44ã€is"><a href="#44ã€is" class="headerlink" title="44ã€is"></a>44ã€is</h3><p>ç”¨å¤„ï¼šObject.is(a, b)ï¼Œåˆ¤æ–­aæ˜¯å¦ç­‰äºb</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_is = <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x === y) &#123;</span><br><span class="line">        <span class="comment">// é˜²æ­¢ -0 å’Œ +0</span></span><br><span class="line">        <span class="keyword">return</span> x !== <span class="number">0</span> || <span class="number">1</span> / x === <span class="number">1</span> / y</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é˜²æ­¢NaN</span></span><br><span class="line">    <span class="keyword">return</span> x !== x &amp;&amp; y !== y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = &#123; <span class="attr">name</span>: <span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span> &#125;</span><br><span class="line"><span class="keyword">const</span> b = a</span><br><span class="line"><span class="keyword">const</span> c = &#123; <span class="attr">name</span>: <span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.sx_is(a, b)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.sx_is(a, c)) <span class="comment">// false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="45ã€Object-assign"><a href="#45ã€Object-assign" class="headerlink" title="45ã€Object.assign"></a>45ã€Object.assign</h3><p>éš¾ç‚¹</p><ul><li>assignæ¥æ”¶å¤šä¸ªå¯¹è±¡ï¼Œå¹¶å°†å¤šä¸ªå¯¹è±¡åˆæˆä¸€ä¸ªå¯¹è±¡</li><li>è¿™äº›å¯¹è±¡å¦‚æœæœ‰é‡åå±æ€§ï¼Œä»¥åæ¥çš„å¯¹è±¡å±æ€§å€¼ä¸ºå‡†</li><li>assignè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œ<code>è¿™ä¸ªå¯¹è±¡ === ç¬¬ä¸€ä¸ªå¯¹è±¡</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_assign = <span class="function"><span class="keyword">function</span> (<span class="params">target, ...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (target === <span class="literal">null</span> || target === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&#x27;Cannot convert undefined or null to object&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    target = <span class="built_in">Object</span>(target)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> nextObj <span class="keyword">of</span> args) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> nextObj) &#123;</span><br><span class="line">            nextObj.hasOwnProperty(key) &amp;&amp; (target[key] = nextObj[key])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testa = &#123; <span class="attr">name</span>: <span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span> &#125;</span><br><span class="line"><span class="keyword">const</span> testb = &#123; <span class="attr">name</span>: <span class="string">&#x27;sunshine_lin&#x27;</span>, <span class="attr">age</span>: <span class="number">22</span> &#125;</span><br><span class="line"><span class="keyword">const</span> testc = &#123; <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">gender</span>: <span class="string">&#x27;ç”·&#x27;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testd = <span class="built_in">Object</span>.sx_assign(testa, testb, testc)</span><br><span class="line"><span class="built_in">console</span>.log(testd) <span class="comment">// &#123; name: &#x27;sunshine_lin&#x27;, age: 18, gender: &#x27;ç”·&#x27; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(testa === testd) <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Functionç¯‡"><a href="#Functionç¯‡" class="headerlink" title="Functionç¯‡"></a>Functionç¯‡</h2><h3 id="46ã€call"><a href="#46ã€call" class="headerlink" title="46ã€call"></a>46ã€call</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.sx_call = <span class="function"><span class="keyword">function</span> (<span class="params">obj, ...args</span>) </span>&#123;</span><br><span class="line">    obj = obj || <span class="built_in">window</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Symbolæ˜¯å”¯ä¸€çš„ï¼Œé˜²æ­¢é‡åkey</span></span><br><span class="line">    <span class="keyword">const</span> fn = <span class="built_in">Symbol</span>()</span><br><span class="line">    obj[fn] = <span class="built_in">this</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰§è¡Œï¼Œè¿”å›æ‰§è¡Œå€¼</span></span><br><span class="line">    <span class="keyword">return</span> obj[fn](...args)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testobj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span>,</span><br><span class="line">    <span class="function"><span class="title">testFn</span>(<span class="params">age</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span><span class="subst">$&#123;age&#125;</span>å²äº†`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> testobj2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;sunshine_lin&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">testobj.testFn.sx_call(testobj2, <span class="number">22</span>) <span class="comment">// sunshine_lin22å²äº†</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="47ã€apply"><a href="#47ã€apply" class="headerlink" title="47ã€apply"></a>47ã€apply</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.sx_apply = <span class="function"><span class="keyword">function</span> (<span class="params">obj, args</span>) </span>&#123;</span><br><span class="line">    obj = obj || <span class="built_in">window</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Symbolæ˜¯å”¯ä¸€çš„ï¼Œé˜²æ­¢é‡åkey</span></span><br><span class="line">    <span class="keyword">const</span> fn = <span class="built_in">Symbol</span>()</span><br><span class="line">    obj[fn] = <span class="built_in">this</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰§è¡Œï¼Œè¿”å›æ‰§è¡Œå€¼</span></span><br><span class="line">    <span class="keyword">return</span> obj[fn](...args)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testobj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span>,</span><br><span class="line">    <span class="function"><span class="title">testFn</span>(<span class="params">age</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span><span class="subst">$&#123;age&#125;</span>å²äº†`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> testobj2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;sunshine_lin&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">testobj.testFn.sx_apply(testobj2, [<span class="number">22</span>]) <span class="comment">// sunshine_lin22å²äº†</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="48ã€Function-prototype-bind"><a href="#48ã€Function-prototype-bind" class="headerlink" title="48ã€Function.prototype.bind"></a>48ã€Function.prototype.bind</h3><p>éš¾ç‚¹ï¼š</p><ul><li>bindæ˜¯è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯æ‰§è¡Œç»“æœ</li><li>bindè¿”å›çš„å‡½æ•°ï¼Œæ‹¿æ¥å½“åšæ„é€ å‡½æ•°ï¼Œè¯¥æ€ä¹ˆå¤„ç†</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.sx_bind = <span class="function"><span class="keyword">function</span> (<span class="params">obj, ...args</span>) </span>&#123;</span><br><span class="line">    obj = obj || <span class="built_in">window</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Symbolæ˜¯å”¯ä¸€çš„ï¼Œé˜²æ­¢é‡åkey</span></span><br><span class="line">    <span class="keyword">const</span> fn = <span class="built_in">Symbol</span>()</span><br><span class="line">    obj[fn] = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">const</span> _this = <span class="built_in">this</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> res = <span class="function"><span class="keyword">function</span> (<span class="params">...innerArgs</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>, _this)</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> <span class="keyword">instanceof</span> _this) &#123;</span><br><span class="line">            <span class="built_in">this</span>[fn] = _this</span><br><span class="line">            <span class="built_in">this</span>[fn](...[...args, ...innerArgs])</span><br><span class="line">            <span class="keyword">delete</span> <span class="built_in">this</span>[fn]</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            obj[fn](...[...args, ...innerArgs])</span><br><span class="line">            <span class="keyword">delete</span> obj[fn]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res.prototype = <span class="built_in">Object</span>.create(<span class="built_in">this</span>.prototype)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Stringç¯‡"><a href="#Stringç¯‡" class="headerlink" title="Stringç¯‡"></a>Stringç¯‡</h2><h3 id="49ã€slice"><a href="#49ã€slice" class="headerlink" title="49ã€slice"></a>49ã€slice</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p><ul><li>startï¼šå¼€å§‹æˆªå–çš„å­—ç¬¦ç´¢å¼•(åŒ…å«æ­¤å­—ç¬¦)</li><li>endï¼šç»“æŸæˆªå–çš„å­—ç¬¦ç´¢å¼•(ä¸åŒ…å«æ­¤å­—ç¬¦)</li></ul><p>æ³¨æ„ç‚¹</p><ul><li>start &gt; endï¼šè¿”å›ç©ºå­—ç¬¦ä¸²</li><li>start &lt; 0ï¼š<code>start = æ•°ç»„é•¿åº¦ + start</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.sx_slice = <span class="function"><span class="keyword">function</span> (<span class="params">start = <span class="number">0</span>, end</span>) </span>&#123;</span><br><span class="line">    start = start &lt; <span class="number">0</span> ? <span class="built_in">this</span>.length + start : start</span><br><span class="line">    end = !end &amp;&amp; end !== <span class="number">0</span> ? <span class="built_in">this</span>.length : end</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (start &gt;= end) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;</span><br><span class="line">        str += <span class="built_in">this</span>[i]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str.sx_slice(<span class="number">2</span>)) <span class="comment">// nshine_lin</span></span><br><span class="line"><span class="built_in">console</span>.log(str.sx_slice(-<span class="number">2</span>)) <span class="comment">// in</span></span><br><span class="line"><span class="built_in">console</span>.log(str.sx_slice(-<span class="number">9</span>, <span class="number">10</span>)) <span class="comment">// shine_l</span></span><br><span class="line"><span class="built_in">console</span>.log(str.sx_slice(<span class="number">5</span>, <span class="number">1</span>)) <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="50ã€substr"><a href="#50ã€substr" class="headerlink" title="50ã€substr"></a>50ã€substr</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p><ul><li>startï¼šå¼€å§‹æˆªå–çš„å­—ç¬¦ç´¢å¼•(åŒ…å«æ­¤å­—ç¬¦)</li><li>lengthï¼šæˆªå–çš„é•¿åº¦</li></ul><p>æ³¨æ„ç‚¹</p><ul><li>start &lt; 0ï¼š<code>start = æ•°ç»„é•¿åº¦ + start</code></li><li>lengthè¶…å‡ºæ‰€èƒ½æˆªå–èŒƒå›´ï¼Œéœ€è¦åšå¤„ç†</li><li>length &lt; 0ï¼šè¿”å›ç©ºå­—ç¬¦ä¸²</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.sx_substr = <span class="function"><span class="keyword">function</span> (<span class="params">start = <span class="number">0</span>, length</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (length &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    start = start &lt; <span class="number">0</span> ? <span class="built_in">this</span>.length + start : start</span><br><span class="line">    length = (!length &amp;&amp; length !== <span class="number">0</span>) || length &gt; <span class="built_in">this</span>.length - start ? <span class="built_in">this</span>.length : start + length</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; length; i++) &#123;</span><br><span class="line">        str += <span class="built_in">this</span>[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str.sx_substr(<span class="number">3</span>)) <span class="comment">// shine_lin</span></span><br><span class="line"><span class="built_in">console</span>.log(str.sx_substr(<span class="number">3</span>, <span class="number">3</span>)) <span class="comment">// shi</span></span><br><span class="line"><span class="built_in">console</span>.log(str.sx_substr(<span class="number">5</span>, <span class="number">300</span>)) <span class="comment">// ine_lin</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="51ã€substring"><a href="#51ã€substring" class="headerlink" title="51ã€substring"></a>51ã€substring</h3><p>åŠŸèƒ½ä¸<code>slice</code>å¤§è‡´ç›¸åŒ</p><p>åŒºåˆ«ä¹‹å¤„</p><ul><li>start &gt; endï¼šäº’æ¢å€¼</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.sx_sunstring = <span class="function"><span class="keyword">function</span> (<span class="params">start = <span class="number">0</span>, end</span>) </span>&#123;</span><br><span class="line">    start = start &lt; <span class="number">0</span> ? <span class="built_in">this</span>.length + start : start</span><br><span class="line">    end = !end &amp;&amp; end !== <span class="number">0</span> ? <span class="built_in">this</span>.length : end</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (start &gt;= end) [start, end] = [end, start]</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;</span><br><span class="line">        str += <span class="built_in">this</span>[i]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str.sx_sunstring(<span class="number">2</span>)) <span class="comment">// nshine_lin</span></span><br><span class="line"><span class="built_in">console</span>.log(str.sx_sunstring(-<span class="number">2</span>)) <span class="comment">// in</span></span><br><span class="line"><span class="built_in">console</span>.log(str.sx_sunstring(-<span class="number">9</span>, <span class="number">10</span>)) <span class="comment">// shine_l</span></span><br><span class="line"><span class="built_in">console</span>.log(str.sx_sunstring(<span class="number">5</span>, <span class="number">1</span>)) <span class="comment">// unsh</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Promiseç¯‡"><a href="#Promiseç¯‡" class="headerlink" title="Promiseç¯‡"></a>Promiseç¯‡</h2><h3 id="52ã€all"><a href="#52ã€all" class="headerlink" title="52ã€all"></a>52ã€all</h3><ul><li>æ¥æ”¶ä¸€ä¸ªPromiseæ•°ç»„ï¼Œæ•°ç»„ä¸­å¦‚æœ‰éPromiseé¡¹ï¼Œåˆ™æ­¤é¡¹å½“åšæˆåŠŸ</li><li>å¦‚æœæ‰€æœ‰Promiseéƒ½æˆåŠŸï¼Œåˆ™è¿”å›æˆåŠŸç»“æœæ•°ç»„</li><li>å¦‚æœæœ‰ä¸€ä¸ªPromiseå¤±è´¥ï¼Œåˆ™è¿”å›è¿™ä¸ªå¤±è´¥ç»“æœ</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">all</span>(<span class="params">promises</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> result = []</span><br><span class="line">    <span class="keyword">let</span> count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> addData = <span class="function">(<span class="params">index, value</span>) =&gt;</span> &#123;</span><br><span class="line">            result[index] = value</span><br><span class="line">            count++</span><br><span class="line">            <span class="keyword">if</span> (count === promises.length) resolve(result)</span><br><span class="line">        &#125;</span><br><span class="line">        promises.forEach(<span class="function">(<span class="params">promise, index</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (promise <span class="keyword">instanceof</span> MyPromise) &#123;</span><br><span class="line">                promise.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                    addData(index, res)</span><br><span class="line">                &#125;, <span class="function"><span class="params">err</span> =&gt;</span> reject(err))</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                addData(index, promise)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="53ã€race"><a href="#53ã€race" class="headerlink" title="53ã€race"></a>53ã€race</h3><ul><li>æ¥æ”¶ä¸€ä¸ªPromiseæ•°ç»„ï¼Œæ•°ç»„ä¸­å¦‚æœ‰éPromiseé¡¹ï¼Œåˆ™æ­¤é¡¹å½“åšæˆåŠŸ</li><li>å“ªä¸ªPromiseæœ€å¿«å¾—åˆ°ç»“æœï¼Œå°±è¿”å›é‚£ä¸ªç»“æœï¼Œæ— è®ºæˆåŠŸå¤±è´¥</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">race</span>(<span class="params">promises</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        promises.forEach(<span class="function"><span class="params">promise</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (promise <span class="keyword">instanceof</span> MyPromise) &#123;</span><br><span class="line">                promise.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                    resolve(res)</span><br><span class="line">                &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">                    reject(err)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                resolve(promise)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="54ã€allSettled"><a href="#54ã€allSettled" class="headerlink" title="54ã€allSettled"></a>54ã€allSettled</h3><ul><li>æ¥æ”¶ä¸€ä¸ªPromiseæ•°ç»„ï¼Œæ•°ç»„ä¸­å¦‚æœ‰éPromiseé¡¹ï¼Œåˆ™æ­¤é¡¹å½“åšæˆåŠŸ</li><li>æŠŠæ¯ä¸€ä¸ªPromiseçš„ç»“æœï¼Œé›†åˆæˆæ•°ç»„ï¼Œè¿”å›</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">allSettled</span>(<span class="params">promises</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> res = []</span><br><span class="line">        <span class="keyword">let</span> count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">const</span> addData = <span class="function">(<span class="params">status, value, i</span>) =&gt;</span> &#123;</span><br><span class="line">            res[i] = &#123;</span><br><span class="line">                status,</span><br><span class="line">                value</span><br><span class="line">            &#125;</span><br><span class="line">            count++</span><br><span class="line">            <span class="keyword">if</span> (count === promises.length) &#123;</span><br><span class="line">                resolve(res)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        promises.forEach(<span class="function">(<span class="params">promise, i</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (promise <span class="keyword">instanceof</span> MyPromise) &#123;</span><br><span class="line">                promise.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                    addData(<span class="string">&#x27;fulfilled&#x27;</span>, res, i)</span><br><span class="line">                &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">                    addData(<span class="string">&#x27;rejected&#x27;</span>, err, i)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                addData(<span class="string">&#x27;fulfilled&#x27;</span>, promise, i)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="55ã€any"><a href="#55ã€any" class="headerlink" title="55ã€any"></a>55ã€any</h3><p>anyä¸allç›¸å</p><ul><li>æ¥æ”¶ä¸€ä¸ªPromiseæ•°ç»„ï¼Œæ•°ç»„ä¸­å¦‚æœ‰éPromiseé¡¹ï¼Œåˆ™æ­¤é¡¹å½“åšæˆåŠŸ</li><li>å¦‚æœæœ‰ä¸€ä¸ªPromiseæˆåŠŸï¼Œåˆ™è¿”å›è¿™ä¸ªæˆåŠŸç»“æœ</li><li>å¦‚æœæ‰€æœ‰Promiseéƒ½å¤±è´¥ï¼Œåˆ™æŠ¥é”™</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">any</span>(<span class="params">promises</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> count = <span class="number">0</span></span><br><span class="line">            promises.forEach(<span class="function">(<span class="params">promise</span>) =&gt;</span> &#123;</span><br><span class="line">                promise.then(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">                    resolve(val)</span><br><span class="line">                &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">                    count++</span><br><span class="line">                    <span class="keyword">if</span> (count === promises.length) &#123;</span><br><span class="line">                        reject(<span class="keyword">new</span> AggregateError(<span class="string">&#x27;All promises were rejected&#x27;</span>))</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="56ã€finally"><a href="#56ã€finally" class="headerlink" title="56ã€finally"></a>56ã€finally</h3><ul><li>æ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä½†æ— å‚æ•°æ¥æ”¶</li><li>æ— è®ºæˆåŠŸå¤±è´¥çŠ¶æ€ï¼Œéƒ½ä¼šæ‰§è¡Œfinally</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.prototype.finally = <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    callback()</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">  &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    callback()</span><br><span class="line">    <span class="keyword">throw</span> err</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaScripté¢è¯•é¢˜æ•´ç†</title>
      <link href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/"/>
      <url>/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€æ•°æ®ç±»å‹"><a href="#ä¸€ã€æ•°æ®ç±»å‹" class="headerlink" title="ä¸€ã€æ•°æ®ç±»å‹"></a>ä¸€ã€æ•°æ®ç±»å‹</h2><h3 id="1-JavaScriptæœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Œå®ƒä»¬çš„åŒºåˆ«ï¼Ÿ"><a href="#1-JavaScriptæœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Œå®ƒä»¬çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="1. JavaScriptæœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Œå®ƒä»¬çš„åŒºåˆ«ï¼Ÿ"></a>1. JavaScriptæœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Œå®ƒä»¬çš„åŒºåˆ«ï¼Ÿ</h3><p>JavaScriptå…±æœ‰å…«ç§æ•°æ®ç±»å‹ï¼Œåˆ†åˆ«æ˜¯ Undefinedã€Nullã€Booleanã€Numberã€Stringã€Objectã€Symbolã€BigIntã€‚</p><p>å…¶ä¸­ Symbol å’Œ BigInt æ˜¯ES6 ä¸­æ–°å¢çš„æ•°æ®ç±»å‹ï¼š</p><ul><li>Symbol ä»£è¡¨åˆ›å»ºåç‹¬ä¸€æ— äºŒä¸”ä¸å¯å˜çš„æ•°æ®ç±»å‹ï¼Œå®ƒä¸»è¦æ˜¯ä¸ºäº†è§£å†³å¯èƒ½å‡ºç°çš„å…¨å±€å˜é‡å†²çªçš„é—®é¢˜ã€‚</li><li>BigInt æ˜¯ä¸€ç§æ•°å­—ç±»å‹çš„æ•°æ®ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä»»æ„ç²¾åº¦æ ¼å¼çš„æ•´æ•°ï¼Œä½¿ç”¨ BigInt å¯ä»¥å®‰å…¨åœ°å­˜å‚¨å’Œæ“ä½œå¤§æ•´æ•°ï¼Œå³ä½¿è¿™ä¸ªæ•°å·²ç»è¶…å‡ºäº† Number èƒ½å¤Ÿè¡¨ç¤ºçš„å®‰å…¨æ•´æ•°èŒƒå›´ã€‚</li></ul><p>è¿™äº›æ•°æ®å¯ä»¥åˆ†ä¸ºåŸå§‹æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ï¼š</p><ul><li>æ ˆï¼šåŸå§‹æ•°æ®ç±»å‹ï¼ˆUndefinedã€Nullã€Booleanã€Numberã€Stringï¼‰</li><li>å †ï¼šå¼•ç”¨æ•°æ®ç±»å‹ï¼ˆå¯¹è±¡ã€æ•°ç»„å’Œå‡½æ•°ï¼‰</li></ul><p>ä¸¤ç§ç±»å‹çš„åŒºåˆ«åœ¨äº<strong>å­˜å‚¨ä½ç½®çš„ä¸åŒï¼š</strong></p><ul><li>åŸå§‹æ•°æ®ç±»å‹ç›´æ¥å­˜å‚¨åœ¨æ ˆï¼ˆstackï¼‰ä¸­çš„ç®€å•æ•°æ®æ®µï¼Œå æ®ç©ºé—´å°ã€å¤§å°å›ºå®šï¼Œå±äºè¢«é¢‘ç¹ä½¿ç”¨æ•°æ®ï¼Œæ‰€ä»¥æ”¾å…¥æ ˆä¸­å­˜å‚¨ï¼›</li><li>å¼•ç”¨æ•°æ®ç±»å‹å­˜å‚¨åœ¨å †ï¼ˆheapï¼‰ä¸­çš„å¯¹è±¡ï¼Œå æ®ç©ºé—´å¤§ã€å¤§å°ä¸å›ºå®šã€‚å¦‚æœå­˜å‚¨åœ¨æ ˆä¸­ï¼Œå°†ä¼šå½±å“ç¨‹åºè¿è¡Œçš„æ€§èƒ½ï¼›å¼•ç”¨æ•°æ®ç±»å‹åœ¨æ ˆä¸­å­˜å‚¨äº†æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å †ä¸­è¯¥å®ä½“çš„èµ·å§‹åœ°å€ã€‚å½“è§£é‡Šå™¨å¯»æ‰¾å¼•ç”¨å€¼æ—¶ï¼Œä¼šé¦–å…ˆæ£€ç´¢å…¶åœ¨æ ˆä¸­çš„åœ°å€ï¼Œå–å¾—åœ°å€åä»å †ä¸­è·å¾—å®ä½“ã€‚</li></ul><p>å †å’Œæ ˆçš„æ¦‚å¿µå­˜åœ¨äºæ•°æ®ç»“æ„å’Œæ“ä½œç³»ç»Ÿå†…å­˜ä¸­ï¼Œåœ¨æ•°æ®ç»“æ„ä¸­ï¼š</p><ul><li>åœ¨æ•°æ®ç»“æ„ä¸­ï¼Œæ ˆä¸­æ•°æ®çš„å­˜å–æ–¹å¼ä¸ºå…ˆè¿›åå‡ºã€‚</li><li>å †æ˜¯ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼Œæ˜¯æŒ‰ä¼˜å…ˆçº§æ¥è¿›è¡Œæ’åºçš„ï¼Œä¼˜å…ˆçº§å¯ä»¥æŒ‰ç…§å¤§å°æ¥è§„å®šã€‚</li></ul><p>åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œå†…å­˜è¢«åˆ†ä¸ºæ ˆåŒºå’Œå †åŒºï¼š</p><ul><li>æ ˆåŒºå†…å­˜ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ï¼Œå­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡çš„å€¼ç­‰ã€‚å…¶æ“ä½œæ–¹å¼ç±»ä¼¼äºæ•°æ®ç»“æ„ä¸­çš„æ ˆã€‚</li><li>å †åŒºå†…å­˜ä¸€èˆ¬ç”±å¼€å‘ç€åˆ†é…é‡Šæ”¾ï¼Œè‹¥å¼€å‘è€…ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ã€‚</li></ul><h3 id="2-æ•°æ®ç±»å‹æ£€æµ‹çš„æ–¹å¼æœ‰å“ªäº›"><a href="#2-æ•°æ®ç±»å‹æ£€æµ‹çš„æ–¹å¼æœ‰å“ªäº›" class="headerlink" title="2. æ•°æ®ç±»å‹æ£€æµ‹çš„æ–¹å¼æœ‰å“ªäº›"></a>2. æ•°æ®ç±»å‹æ£€æµ‹çš„æ–¹å¼æœ‰å“ªäº›</h3><p><strong>ï¼ˆ1ï¼‰typeof</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="number">2</span>);               <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">true</span>);            <span class="comment">// boolean</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="string">&#x27;str&#x27;</span>);           <span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> []);              <span class="comment">// object    </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;);    <span class="comment">// function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> &#123;&#125;);              <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">undefined</span>);       <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>);            <span class="comment">// object</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å…¶ä¸­æ•°ç»„ã€å¯¹è±¡ã€nulléƒ½ä¼šè¢«åˆ¤æ–­ä¸ºobjectï¼Œå…¶ä»–åˆ¤æ–­éƒ½æ­£ç¡®ã€‚</p><p><strong>ï¼ˆ2ï¼‰instanceof</strong></p><p><code>instanceof</code>å¯ä»¥æ­£ç¡®åˆ¤æ–­å¯¹è±¡çš„ç±»å‹ï¼Œ<strong>å…¶å†…éƒ¨è¿è¡Œæœºåˆ¶æ˜¯åˆ¤æ–­åœ¨å…¶åŸå‹é“¾ä¸­èƒ½å¦æ‰¾åˆ°è¯¥ç±»å‹çš„åŸå‹</strong>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span> <span class="keyword">instanceof</span> <span class="built_in">Number</span>);                    <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>);                <span class="comment">// false </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;str&#x27;</span> <span class="keyword">instanceof</span> <span class="built_in">String</span>);                <span class="comment">// false </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">console</span>.log([] <span class="keyword">instanceof</span> <span class="built_in">Array</span>);                    <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Function</span>);       <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Object</span>);                   <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>instanceof</code><strong>åªèƒ½æ­£ç¡®åˆ¤æ–­å¼•ç”¨æ•°æ®ç±»å‹</strong>ï¼Œè€Œä¸èƒ½åˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹ã€‚<code>instanceof</code> è¿ç®—ç¬¦å¯ä»¥ç”¨æ¥æµ‹è¯•ä¸€ä¸ªå¯¹è±¡åœ¨å…¶åŸå‹é“¾ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§ã€‚</p><p><strong>ï¼ˆ3ï¼‰ constructor</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log((<span class="number">2</span>).constructor === <span class="built_in">Number</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log((<span class="literal">true</span>).constructor === <span class="built_in">Boolean</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log((<span class="string">&#x27;str&#x27;</span>).constructor === <span class="built_in">String</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(([]).constructor === <span class="built_in">Array</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log((<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;).constructor === <span class="built_in">Function</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log((&#123;&#125;).constructor === <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><code>constructor</code>æœ‰ä¸¤ä¸ªä½œç”¨ï¼Œä¸€æ˜¯åˆ¤æ–­æ•°æ®çš„ç±»å‹ï¼ŒäºŒæ˜¯å¯¹è±¡å®ä¾‹é€šè¿‡ <code>constrcutor</code> å¯¹è±¡è®¿é—®å®ƒçš„æ„é€ å‡½æ•°ã€‚éœ€è¦æ³¨æ„ï¼Œå¦‚æœåˆ›å»ºä¸€ä¸ªå¯¹è±¡æ¥æ”¹å˜å®ƒçš„åŸå‹ï¼Œ<code>constructor</code>å°±ä¸èƒ½ç”¨æ¥åˆ¤æ–­æ•°æ®ç±»å‹äº†ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"> </span><br><span class="line">Fn.prototype = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> Fn();</span><br><span class="line"> </span><br><span class="line"><span class="built_in">console</span>.log(f.constructor===Fn);    <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(f.constructor===<span class="built_in">Array</span>); <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ4ï¼‰Object.prototype.toString.call()</strong></p><p><code>Object.prototype.toString.call()</code> ä½¿ç”¨ Object å¯¹è±¡çš„åŸå‹æ–¹æ³• toString æ¥åˆ¤æ–­æ•°æ®ç±»å‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">Object</span>.prototype.toString;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">console</span>.log(a.call(<span class="number">2</span>));</span><br><span class="line"><span class="built_in">console</span>.log(a.call(<span class="literal">true</span>));</span><br><span class="line"><span class="built_in">console</span>.log(a.call(<span class="string">&#x27;str&#x27;</span>));</span><br><span class="line"><span class="built_in">console</span>.log(a.call([]));</span><br><span class="line"><span class="built_in">console</span>.log(a.call(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;));</span><br><span class="line"><span class="built_in">console</span>.log(a.call(&#123;&#125;));</span><br><span class="line"><span class="built_in">console</span>.log(a.call(<span class="literal">undefined</span>));</span><br><span class="line"><span class="built_in">console</span>.log(a.call(<span class="literal">null</span>));</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åŒæ ·æ˜¯æ£€æµ‹å¯¹è±¡objè°ƒç”¨toStringæ–¹æ³•ï¼Œobj.toString()çš„ç»“æœå’ŒObject.prototype.toString.call(obj)çš„ç»“æœä¸ä¸€æ ·ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</p><p>è¿™æ˜¯å› ä¸ºtoStringæ˜¯Objectçš„åŸå‹æ–¹æ³•ï¼Œè€ŒArrayã€functionç­‰<strong>ç±»å‹ä½œä¸ºObjectçš„å®ä¾‹ï¼Œéƒ½é‡å†™äº†toStringæ–¹æ³•</strong>ã€‚ä¸åŒçš„å¯¹è±¡ç±»å‹è°ƒç”¨toStringæ–¹æ³•æ—¶ï¼Œæ ¹æ®åŸå‹é“¾çš„çŸ¥è¯†ï¼Œè°ƒç”¨çš„æ˜¯å¯¹åº”çš„é‡å†™ä¹‹åçš„toStringæ–¹æ³•ï¼ˆfunctionç±»å‹è¿”å›å†…å®¹ä¸ºå‡½æ•°ä½“çš„å­—ç¬¦ä¸²ï¼ŒArrayç±»å‹è¿”å›å…ƒç´ ç»„æˆçš„å­—ç¬¦ä¸²â€¦ï¼‰ï¼Œè€Œä¸ä¼šå»è°ƒç”¨Objectä¸ŠåŸå‹toStringæ–¹æ³•ï¼ˆè¿”å›å¯¹è±¡çš„å…·ä½“ç±»å‹ï¼‰ï¼Œæ‰€ä»¥é‡‡ç”¨obj.toString()ä¸èƒ½å¾—åˆ°å…¶å¯¹è±¡ç±»å‹ï¼Œåªèƒ½å°†objè½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼›å› æ­¤ï¼Œåœ¨æƒ³è¦å¾—åˆ°å¯¹è±¡çš„å…·ä½“ç±»å‹æ—¶ï¼Œåº”è¯¥è°ƒç”¨ObjectåŸå‹ä¸Šçš„toStringæ–¹æ³•ã€‚</p><h3 id="3-åˆ¤æ–­æ•°ç»„çš„æ–¹å¼æœ‰å“ªäº›"><a href="#3-åˆ¤æ–­æ•°ç»„çš„æ–¹å¼æœ‰å“ªäº›" class="headerlink" title="3. åˆ¤æ–­æ•°ç»„çš„æ–¹å¼æœ‰å“ªäº›"></a>3. åˆ¤æ–­æ•°ç»„çš„æ–¹å¼æœ‰å“ªäº›</h3><ul><li>é€šè¿‡Object.prototype.toString.call()åšåˆ¤æ–­</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.toString.call(obj).slice(<span class="number">8</span>,-<span class="number">1</span>) === <span class="string">&#x27;Array&#x27;</span>;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡åŸå‹é“¾åšåˆ¤æ–­</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj.__proto__ === <span class="built_in">Array</span>.prototype;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡ES6çš„Array.isArray()åšåˆ¤æ–­</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.isArrray(obj);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡instanceofåšåˆ¤æ–­</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj <span class="keyword">instanceof</span> <span class="built_in">Array</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡Array.prototype.isPrototypeOf</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.isPrototypeOf(obj)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="4-nullå’ŒundefinedåŒºåˆ«"><a href="#4-nullå’ŒundefinedåŒºåˆ«" class="headerlink" title="4. nullå’ŒundefinedåŒºåˆ«"></a>4. nullå’ŒundefinedåŒºåˆ«</h3><p>é¦–å…ˆ Undefined å’Œ Null éƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿™ä¸¤ä¸ªåŸºæœ¬æ•°æ®ç±»å‹åˆ†åˆ«éƒ½åªæœ‰ä¸€ä¸ªå€¼ï¼Œå°±æ˜¯ undefined å’Œ nullã€‚</p><p>undefined ä»£è¡¨çš„å«ä¹‰æ˜¯<strong>æœªå®šä¹‰</strong>ï¼Œnull ä»£è¡¨çš„å«ä¹‰æ˜¯<strong>ç©ºå¯¹è±¡</strong>ã€‚ä¸€èˆ¬å˜é‡å£°æ˜äº†ä½†è¿˜æ²¡æœ‰å®šä¹‰çš„æ—¶å€™ä¼šè¿”å› undefinedï¼Œnullä¸»è¦ç”¨äºèµ‹å€¼ç»™ä¸€äº›å¯èƒ½ä¼šè¿”å›å¯¹è±¡çš„å˜é‡ï¼Œä½œä¸ºåˆå§‹åŒ–ã€‚</p><p>undefined åœ¨ JavaScript ä¸­ä¸æ˜¯ä¸€ä¸ªä¿ç•™å­—ï¼Œè¿™æ„å‘³ç€å¯ä»¥ä½¿ç”¨ undefined æ¥ä½œä¸ºä¸€ä¸ªå˜é‡åï¼Œä½†æ˜¯è¿™æ ·çš„åšæ³•æ˜¯éå¸¸å±é™©çš„ï¼Œå®ƒä¼šå½±å“å¯¹ undefined å€¼çš„åˆ¤æ–­ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›æ–¹æ³•è·å¾—å®‰å…¨çš„ undefined å€¼ï¼Œæ¯”å¦‚è¯´ void 0ã€‚</p><p>å½“å¯¹è¿™ä¸¤ç§ç±»å‹ä½¿ç”¨ typeof è¿›è¡Œåˆ¤æ–­æ—¶ï¼ŒNull ç±»å‹åŒ–ä¼šè¿”å› â€œobjectâ€ï¼Œè¿™æ˜¯ä¸€ä¸ªå†å²é—ç•™çš„é—®é¢˜ã€‚å½“ä½¿ç”¨åŒç­‰å·å¯¹ä¸¤ç§ç±»å‹çš„å€¼è¿›è¡Œæ¯”è¾ƒæ—¶ä¼šè¿”å› trueï¼Œä½¿ç”¨ä¸‰ä¸ªç­‰å·æ—¶ä¼šè¿”å› falseã€‚</p><h3 id="5-typeof-null-çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆï¼Ÿ"><a href="#5-typeof-null-çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆï¼Ÿ" class="headerlink" title="5. typeof null çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆï¼Ÿ"></a>5. typeof null çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆï¼Ÿ</h3><p>typeof null çš„ç»“æœæ˜¯Objectã€‚</p><p>åœ¨ JavaScript ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼Œæ‰€æœ‰å€¼éƒ½å­˜å‚¨åœ¨ 32 ä½çš„å•å…ƒä¸­ï¼Œæ¯ä¸ªå•å…ƒåŒ…å«ä¸€ä¸ªå°çš„ <strong>ç±»å‹æ ‡ç­¾(1-3 bits)</strong> ä»¥åŠå½“å‰è¦å­˜å‚¨å€¼çš„çœŸå®æ•°æ®ã€‚ç±»å‹æ ‡ç­¾å­˜å‚¨åœ¨æ¯ä¸ªå•å…ƒçš„ä½ä½ä¸­ï¼Œå…±æœ‰äº”ç§æ•°æ®ç±»å‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">000</span>: object   - å½“å‰å­˜å‚¨çš„æ•°æ®æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚</span><br><span class="line">  <span class="number">1</span>: int      - å½“å‰å­˜å‚¨çš„æ•°æ®æ˜¯ä¸€ä¸ª <span class="number">31</span> ä½çš„æœ‰ç¬¦å·æ•´æ•°ã€‚</span><br><span class="line"><span class="number">010</span>: double   - å½“å‰å­˜å‚¨çš„æ•°æ®æŒ‡å‘ä¸€ä¸ªåŒç²¾åº¦çš„æµ®ç‚¹æ•°ã€‚</span><br><span class="line"><span class="number">100</span>: string   - å½“å‰å­˜å‚¨çš„æ•°æ®æŒ‡å‘ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</span><br><span class="line"><span class="number">110</span>: boolean  - å½“å‰å­˜å‚¨çš„æ•°æ®æ˜¯å¸ƒå°”å€¼ã€‚</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœæœ€ä½ä½æ˜¯ 1ï¼Œåˆ™ç±»å‹æ ‡ç­¾æ ‡å¿—ä½çš„é•¿åº¦åªæœ‰ä¸€ä½ï¼›å¦‚æœæœ€ä½ä½æ˜¯ 0ï¼Œåˆ™ç±»å‹æ ‡ç­¾æ ‡å¿—ä½çš„é•¿åº¦å ä¸‰ä½ï¼Œä¸ºå­˜å‚¨å…¶ä»–å››ç§æ•°æ®ç±»å‹æä¾›äº†é¢å¤–ä¸¤ä¸ª bit çš„é•¿åº¦ã€‚</p><p>æœ‰ä¸¤ç§ç‰¹æ®Šæ•°æ®ç±»å‹ï¼š</p><ul><li>undefinedçš„å€¼æ˜¯ (-2)30(ä¸€ä¸ªè¶…å‡ºæ•´æ•°èŒƒå›´çš„æ•°å­—)ï¼›</li><li>null çš„å€¼æ˜¯æœºå™¨ç  NULL æŒ‡é’ˆ(null æŒ‡é’ˆçš„å€¼å…¨æ˜¯ 0)</li></ul><p>é‚£ä¹Ÿå°±æ˜¯è¯´nullçš„ç±»å‹æ ‡ç­¾ä¹Ÿæ˜¯000ï¼Œå’ŒObjectçš„ç±»å‹æ ‡ç­¾ä¸€æ ·ï¼Œæ‰€ä»¥ä¼šè¢«åˆ¤å®šä¸ºObjectã€‚</p><h3 id="6-intanceof-æ“ä½œç¬¦çš„å®ç°åŸç†åŠå®ç°"><a href="#6-intanceof-æ“ä½œç¬¦çš„å®ç°åŸç†åŠå®ç°" class="headerlink" title="6. intanceof æ“ä½œç¬¦çš„å®ç°åŸç†åŠå®ç°"></a>6. intanceof æ“ä½œç¬¦çš„å®ç°åŸç†åŠå®ç°</h3><p>instanceof è¿ç®—ç¬¦ç”¨äºåˆ¤æ–­æ„é€ å‡½æ•°çš„ prototype å±æ€§æ˜¯å¦å‡ºç°åœ¨å¯¹è±¡çš„åŸå‹é“¾ä¸­çš„ä»»ä½•ä½ç½®ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myInstanceof</span>(<span class="params">left, right</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// è·å–å¯¹è±¡çš„åŸå‹</span></span><br><span class="line">  <span class="keyword">let</span> proto = <span class="built_in">Object</span>.getPrototypeOf(left)</span><br><span class="line">  <span class="comment">// è·å–æ„é€ å‡½æ•°çš„ prototype å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">let</span> prototype = right.prototype; </span><br><span class="line"> </span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ„é€ å‡½æ•°çš„ prototype å¯¹è±¡æ˜¯å¦åœ¨å¯¹è±¡çš„åŸå‹é“¾ä¸Š</span></span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!proto) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (proto === prototype) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ç»§ç»­ä»å…¶åŸå‹ä¸Šæ‰¾ï¼ŒObject.getPrototypeOfæ–¹æ³•ç”¨æ¥è·å–æŒ‡å®šå¯¹è±¡çš„åŸå‹</span></span><br><span class="line">    proto = <span class="built_in">Object</span>.getPrototypeOf(proto);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="7-ä¸ºä»€ä¹ˆ0-1-0-2-0-3ï¼Œå¦‚ä½•è®©å…¶ç›¸ç­‰"><a href="#7-ä¸ºä»€ä¹ˆ0-1-0-2-0-3ï¼Œå¦‚ä½•è®©å…¶ç›¸ç­‰" class="headerlink" title="7. ä¸ºä»€ä¹ˆ0.1+0.2 ! == 0.3ï¼Œå¦‚ä½•è®©å…¶ç›¸ç­‰"></a>7. ä¸ºä»€ä¹ˆ0.1+0.2 ! == 0.3ï¼Œå¦‚ä½•è®©å…¶ç›¸ç­‰</h3><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°ç±»ä¼¼è¿™æ ·çš„é—®é¢˜ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n1 = <span class="number">0.1</span>, n2 = <span class="number">0.2</span></span><br><span class="line"><span class="built_in">console</span>.log(n1 + n2)  <span class="comment">// 0.30000000000000004</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¾—åˆ°çš„ä¸æ˜¯æƒ³è¦çš„ç»“æœï¼Œè¦æƒ³ç­‰äº0.3ï¼Œå°±è¦æŠŠå®ƒè¿›è¡Œè½¬åŒ–ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(n1 + n2).toFixed(<span class="number">2</span>) <span class="comment">// æ³¨æ„ï¼ŒtoFixedä¸ºå››èˆäº”å…¥</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><code>toFixed(num)</code> æ–¹æ³•å¯æŠŠ Number å››èˆäº”å…¥ä¸ºæŒ‡å®šå°æ•°ä½æ•°çš„æ•°å­—ã€‚é‚£ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„ç»“æœå‘¢ï¼Ÿ</p><p>è®¡ç®—æœºæ˜¯é€šè¿‡äºŒè¿›åˆ¶çš„æ–¹å¼å­˜å‚¨æ•°æ®çš„ï¼Œæ‰€ä»¥è®¡ç®—æœºè®¡ç®—0.1+0.2çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯è®¡ç®—çš„ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶çš„å’Œã€‚0.1çš„äºŒè¿›åˆ¶æ˜¯<code>0.0001100110011001100...</code>ï¼ˆ1100å¾ªç¯ï¼‰ï¼Œ0.2çš„äºŒè¿›åˆ¶æ˜¯ï¼š<code>0.00110011001100...</code>ï¼ˆ1100å¾ªç¯ï¼‰ï¼Œè¿™ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶éƒ½æ˜¯æ— é™å¾ªç¯çš„æ•°ã€‚é‚£JavaScriptæ˜¯å¦‚ä½•å¤„ç†æ— é™å¾ªç¯çš„äºŒè¿›åˆ¶å°æ•°å‘¢ï¼Ÿ</p><p>ä¸€èˆ¬æˆ‘ä»¬è®¤ä¸ºæ•°å­—åŒ…æ‹¬æ•´æ•°å’Œå°æ•°ï¼Œä½†æ˜¯åœ¨ JavaScript ä¸­åªæœ‰ä¸€ç§æ•°å­—ç±»å‹ï¼šNumberï¼Œå®ƒçš„å®ç°éµå¾ªIEEE 754æ ‡å‡†ï¼Œä½¿ç”¨64ä½å›ºå®šé•¿åº¦æ¥è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯æ ‡å‡†çš„doubleåŒç²¾åº¦æµ®ç‚¹æ•°ã€‚åœ¨äºŒè¿›åˆ¶ç§‘å­¦è¡¨ç¤ºæ³•ä¸­ï¼ŒåŒç²¾åº¦æµ®ç‚¹æ•°çš„å°æ•°éƒ¨åˆ†æœ€å¤šåªèƒ½ä¿ç•™52ä½ï¼Œå†åŠ ä¸Šå‰é¢çš„1ï¼Œå…¶å®å°±æ˜¯ä¿ç•™53ä½æœ‰æ•ˆæ•°å­—ï¼Œå‰©ä½™çš„éœ€è¦èˆå»ï¼Œéµä»â€œ0èˆ1å…¥â€çš„åŸåˆ™ã€‚</p><p>æ ¹æ®è¿™ä¸ªåŸåˆ™ï¼Œ0.1å’Œ0.2çš„äºŒè¿›åˆ¶æ•°ç›¸åŠ ï¼Œå†è½¬åŒ–ä¸ºåè¿›åˆ¶æ•°å°±æ˜¯ï¼š<code>0.30000000000000004</code>ã€‚</p><p>ä¸‹é¢çœ‹ä¸€ä¸‹<strong>åŒç²¾åº¦æ•°æ˜¯å¦‚ä½•ä¿å­˜</strong>çš„ï¼š <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221928223.webp" alt="img"></p><ul><li>ç¬¬ä¸€éƒ¨åˆ†ï¼ˆè“è‰²ï¼‰ï¼šç”¨æ¥å­˜å‚¨ç¬¦å·ä½ï¼ˆsignï¼‰ï¼Œç”¨æ¥åŒºåˆ†æ­£è´Ÿæ•°ï¼Œ0è¡¨ç¤ºæ­£æ•°ï¼Œå ç”¨1ä½</li><li>ç¬¬äºŒéƒ¨åˆ†ï¼ˆç»¿è‰²ï¼‰ï¼šç”¨æ¥å­˜å‚¨æŒ‡æ•°ï¼ˆexponentï¼‰ï¼Œå ç”¨11ä½</li><li>ç¬¬ä¸‰éƒ¨åˆ†ï¼ˆçº¢è‰²ï¼‰ï¼šç”¨æ¥å­˜å‚¨å°æ•°ï¼ˆfractionï¼‰ï¼Œå ç”¨52ä½</li></ul><p>å¯¹äº0.1ï¼Œå®ƒçš„äºŒè¿›åˆ¶ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.00011001100110011001100110011001100110011001100110011001</span> <span class="number">10011.</span>..</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•ï¼ˆç§‘å­¦è®¡æ•°æ³•çš„ç»“æœå°±æ˜¯æµ®ç‚¹æ•°ï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.1001100110011001100110011001100110011001100110011001</span>*<span class="number">2</span>^-<span class="number">4</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡º0.1çš„ç¬¦å·ä½ä¸º0ï¼ŒæŒ‡æ•°ä½ä¸º-4ï¼Œå°æ•°ä½ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1001100110011001100110011001100110011001100110011001</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œ<strong>æŒ‡æ•°ä½æ˜¯è´Ÿæ•°ï¼Œè¯¥å¦‚ä½•ä¿å­˜</strong>å‘¢ï¼Ÿ</p><p>IEEEæ ‡å‡†è§„å®šäº†ä¸€ä¸ªåç§»é‡ï¼Œå¯¹äºæŒ‡æ•°éƒ¨åˆ†ï¼Œæ¯æ¬¡éƒ½åŠ è¿™ä¸ªåç§»é‡è¿›è¡Œä¿å­˜ï¼Œè¿™æ ·å³ä½¿æŒ‡æ•°æ˜¯è´Ÿæ•°ï¼Œé‚£ä¹ˆåŠ ä¸Šè¿™ä¸ªåç§»é‡ä¹Ÿå°±æ˜¯æ­£æ•°äº†ã€‚ç”±äºJavaScriptçš„æ•°å­—æ˜¯åŒç²¾åº¦æ•°ï¼Œè¿™é‡Œå°±ä»¥åŒç²¾åº¦æ•°ä¸ºä¾‹ï¼Œå®ƒçš„æŒ‡æ•°éƒ¨åˆ†ä¸º11ä½ï¼Œèƒ½è¡¨ç¤ºçš„èŒƒå›´å°±æ˜¯0~2047ï¼ŒIEEEå›ºå®š<strong>åŒç²¾åº¦æ•°çš„åç§»é‡ä¸º1023</strong>ã€‚</p><ul><li>å½“æŒ‡æ•°ä½ä¸å…¨æ˜¯0ä¹Ÿä¸å…¨æ˜¯1æ—¶(è§„æ ¼åŒ–çš„æ•°å€¼)ï¼ŒIEEEè§„å®šï¼Œé˜¶ç è®¡ç®—å…¬å¼ä¸º e-Biasã€‚ æ­¤æ—¶eæœ€å°å€¼æ˜¯1ï¼Œåˆ™1-1023= -1022ï¼Œeæœ€å¤§å€¼æ˜¯2046ï¼Œåˆ™2046-1023=1023ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§æƒ…å†µä¸‹å–å€¼èŒƒå›´æ˜¯<code>-1022~1013</code>ã€‚</li><li>å½“æŒ‡æ•°ä½å…¨éƒ¨æ˜¯0çš„æ—¶å€™(éè§„æ ¼åŒ–çš„æ•°å€¼)ï¼ŒIEEEè§„å®šï¼Œé˜¶ç çš„è®¡ç®—å…¬å¼ä¸º1-Biasï¼Œå³1-1023= -1022ã€‚</li><li>å½“æŒ‡æ•°ä½å…¨éƒ¨æ˜¯1çš„æ—¶å€™(ç‰¹æ®Šå€¼)ï¼ŒIEEEè§„å®šè¿™ä¸ªæµ®ç‚¹æ•°å¯ç”¨æ¥è¡¨ç¤º3ä¸ªç‰¹æ®Šå€¼ï¼Œåˆ†åˆ«æ˜¯æ­£æ— ç©·ï¼Œè´Ÿæ— ç©·ï¼ŒNaNã€‚ å…·ä½“çš„ï¼Œå°æ•°ä½ä¸ä¸º0çš„æ—¶å€™è¡¨ç¤ºNaNï¼›å°æ•°ä½ä¸º0æ—¶ï¼Œå½“ç¬¦å·ä½s=0æ—¶è¡¨ç¤ºæ­£æ— ç©·ï¼Œs=1æ—¶å€™è¡¨ç¤ºè´Ÿæ— ç©·ã€‚</li></ul><p>å¯¹äºä¸Šé¢çš„0.1çš„æŒ‡æ•°ä½ä¸º-4ï¼Œ-4+1023 = 1019 è½¬åŒ–ä¸ºäºŒè¿›åˆ¶å°±æ˜¯ï¼š<code>1111111011</code>.</p><p>æ‰€ä»¥ï¼Œ0.1è¡¨ç¤ºä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1111111011</span> <span class="number">1001100110011001100110011001100110011001100110011001</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œæ˜¯æ—¶å€™è¯¥æœ€å¼€å§‹çš„é—®é¢˜äº†ï¼Œå¦‚ä½•å®ç°0.1+0.2=0.3å‘¢ï¼Ÿ</p><p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªç›´æ¥çš„è§£å†³æ–¹æ³•å°±æ˜¯è®¾ç½®ä¸€ä¸ªè¯¯å·®èŒƒå›´ï¼Œé€šå¸¸ç§°ä¸ºâ€œæœºå™¨ç²¾åº¦â€ã€‚å¯¹JavaScriptæ¥è¯´ï¼Œè¿™ä¸ªå€¼é€šå¸¸ä¸º2-52ï¼Œåœ¨ES6ä¸­ï¼Œæä¾›äº†<code>Number.EPSILON</code>å±æ€§ï¼Œè€Œå®ƒçš„å€¼å°±æ˜¯2-52ï¼Œåªè¦åˆ¤æ–­<code>0.1+0.2-0.3</code>æ˜¯å¦å°äº<code>Number.EPSILON</code>ï¼Œå¦‚æœå°äºï¼Œå°±å¯ä»¥åˆ¤æ–­ä¸º0.1+0.2 ===0.3</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">numberepsilon</span>(<span class="params">arg1,arg2</span>)</span>&#123;                   </span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.abs(arg1 - arg2) &lt; <span class="built_in">Number</span>.EPSILON;        </span><br><span class="line">&#125;        </span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(numberepsilon(<span class="number">0.1</span> + <span class="number">0.2</span>, <span class="number">0.3</span>)); <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="8-å¦‚ä½•è·å–å®‰å…¨çš„-undefined-å€¼ï¼Ÿ"><a href="#8-å¦‚ä½•è·å–å®‰å…¨çš„-undefined-å€¼ï¼Ÿ" class="headerlink" title="8. å¦‚ä½•è·å–å®‰å…¨çš„ undefined å€¼ï¼Ÿ"></a>8. å¦‚ä½•è·å–å®‰å…¨çš„ undefined å€¼ï¼Ÿ</h3><p>å› ä¸º undefined æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œæ‰€ä»¥å¯ä»¥è¢«å½“ä½œå˜é‡æ¥ä½¿ç”¨å’Œèµ‹å€¼ï¼Œä½†æ˜¯è¿™æ ·ä¼šå½±å“ undefined çš„æ­£å¸¸åˆ¤æ–­ã€‚è¡¨è¾¾å¼ void ___ æ²¡æœ‰è¿”å›å€¼ï¼Œå› æ­¤è¿”å›ç»“æœæ˜¯ undefinedã€‚void å¹¶ä¸æ”¹å˜è¡¨è¾¾å¼çš„ç»“æœï¼Œåªæ˜¯è®©è¡¨è¾¾å¼ä¸è¿”å›å€¼ã€‚å› æ­¤å¯ä»¥ç”¨ void 0 æ¥è·å¾— undefinedã€‚</p><h3 id="9-typeof-NaN-çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#9-typeof-NaN-çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="9. typeof NaN çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ"></a>9. typeof NaN çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>NaN æŒ‡â€œä¸æ˜¯ä¸€ä¸ªæ•°å­—â€ï¼ˆnot a numberï¼‰ï¼ŒNaN æ˜¯ä¸€ä¸ªâ€œè­¦æˆ’å€¼â€ï¼ˆsentinel valueï¼Œæœ‰ç‰¹æ®Šç”¨é€”çš„å¸¸è§„å€¼ï¼‰ï¼Œç”¨äºæŒ‡å‡ºæ•°å­—ç±»å‹ä¸­çš„é”™è¯¯æƒ…å†µï¼Œå³â€œæ‰§è¡Œæ•°å­¦è¿ç®—æ²¡æœ‰æˆåŠŸï¼Œè¿™æ˜¯å¤±è´¥åè¿”å›çš„ç»“æœâ€ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">NaN</span>; <span class="comment">// &quot;number&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>NaN æ˜¯ä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œå®ƒå’Œè‡ªèº«ä¸ç›¸ç­‰ï¼Œæ˜¯å”¯ä¸€ä¸€ä¸ªéè‡ªåï¼ˆè‡ªåï¼Œreflexiveï¼Œå³ x === x ä¸æˆç«‹ï¼‰çš„å€¼ã€‚è€Œ NaN !== NaN ä¸º trueã€‚</p><h3 id="10-isNaN-å’Œ-Number-isNaN-å‡½æ•°çš„åŒºåˆ«ï¼Ÿ"><a href="#10-isNaN-å’Œ-Number-isNaN-å‡½æ•°çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="10. isNaN å’Œ Number.isNaN å‡½æ•°çš„åŒºåˆ«ï¼Ÿ"></a>10. isNaN å’Œ Number.isNaN å‡½æ•°çš„åŒºåˆ«ï¼Ÿ</h3><ul><li>å‡½æ•° isNaN æ¥æ”¶å‚æ•°åï¼Œä¼šå°è¯•å°†è¿™ä¸ªå‚æ•°è½¬æ¢ä¸ºæ•°å€¼ï¼Œä»»ä½•ä¸èƒ½è¢«è½¬æ¢ä¸ºæ•°å€¼çš„çš„å€¼éƒ½ä¼šè¿”å› trueï¼Œå› æ­¤éæ•°å­—å€¼ä¼ å…¥ä¹Ÿä¼šè¿”å› true ï¼Œä¼šå½±å“ NaN çš„åˆ¤æ–­ã€‚</li><li>å‡½æ•° Number.isNaN ä¼šé¦–å…ˆåˆ¤æ–­ä¼ å…¥å‚æ•°æ˜¯å¦ä¸ºæ•°å­—ï¼Œå¦‚æœæ˜¯æ•°å­—å†ç»§ç»­åˆ¤æ–­æ˜¯å¦ä¸º NaN ï¼Œä¸ä¼šè¿›è¡Œæ•°æ®ç±»å‹çš„è½¬æ¢ï¼Œè¿™ç§æ–¹æ³•å¯¹äº NaN çš„åˆ¤æ–­æ›´ä¸ºå‡†ç¡®ã€‚</li></ul><h3 id="11-æ“ä½œç¬¦çš„å¼ºåˆ¶ç±»å‹è½¬æ¢è§„åˆ™ï¼Ÿ"><a href="#11-æ“ä½œç¬¦çš„å¼ºåˆ¶ç±»å‹è½¬æ¢è§„åˆ™ï¼Ÿ" class="headerlink" title="11. == æ“ä½œç¬¦çš„å¼ºåˆ¶ç±»å‹è½¬æ¢è§„åˆ™ï¼Ÿ"></a>11. == æ“ä½œç¬¦çš„å¼ºåˆ¶ç±»å‹è½¬æ¢è§„åˆ™ï¼Ÿ</h3><p>å¯¹äº <code>==</code> æ¥è¯´ï¼Œå¦‚æœå¯¹æ¯”åŒæ–¹çš„ç±»å‹<strong>ä¸ä¸€æ ·</strong>ï¼Œå°±ä¼šè¿›è¡Œ<strong>ç±»å‹è½¬æ¢</strong>ã€‚å‡å¦‚å¯¹æ¯” <code>x</code> å’Œ <code>y</code> æ˜¯å¦ç›¸åŒï¼Œå°±ä¼šè¿›è¡Œå¦‚ä¸‹åˆ¤æ–­æµç¨‹ï¼š</p><ol><li>é¦–å…ˆä¼šåˆ¤æ–­ä¸¤è€…ç±»å‹æ˜¯å¦<strong>ç›¸åŒï¼Œ</strong>ç›¸åŒçš„è¯å°±æ¯”è¾ƒä¸¤è€…çš„å¤§å°ï¼›</li><li>ç±»å‹ä¸ç›¸åŒçš„è¯ï¼Œå°±ä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼›</li><li>ä¼šå…ˆåˆ¤æ–­æ˜¯å¦åœ¨å¯¹æ¯” <code>null</code> å’Œ <code>undefined</code>ï¼Œæ˜¯çš„è¯å°±ä¼šè¿”å› <code>true</code></li><li>åˆ¤æ–­ä¸¤è€…ç±»å‹æ˜¯å¦ä¸º <code>string</code> å’Œ <code>number</code>ï¼Œæ˜¯çš„è¯å°±ä¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸º <code>number</code></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> == <span class="string">&#x27;1&#x27;</span></span><br><span class="line">      â†“</span><br><span class="line"><span class="number">1</span> ==  <span class="number">1</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ol><li>åˆ¤æ–­å…¶ä¸­ä¸€æ–¹æ˜¯å¦ä¸º <code>boolean</code>ï¼Œæ˜¯çš„è¯å°±ä¼šæŠŠ <code>boolean</code> è½¬ä¸º <code>number</code> å†è¿›è¡Œåˆ¤æ–­</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;1&#x27;</span> == <span class="literal">true</span></span><br><span class="line">        â†“</span><br><span class="line"><span class="string">&#x27;1&#x27;</span> ==  <span class="number">1</span></span><br><span class="line">        â†“</span><br><span class="line"> <span class="number">1</span>  ==  <span class="number">1</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ol><li>åˆ¤æ–­å…¶ä¸­ä¸€æ–¹æ˜¯å¦ä¸º <code>object</code> ä¸”å¦ä¸€æ–¹ä¸º <code>string</code>ã€<code>number</code> æˆ–è€… <code>symbol</code>ï¼Œæ˜¯çš„è¯å°±ä¼šæŠŠ <code>object</code> è½¬ä¸ºåŸå§‹ç±»å‹å†è¿›è¡Œåˆ¤æ–­</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;1&#x27;</span> == &#123; <span class="attr">name</span>: <span class="string">&#x27;js&#x27;</span> &#125;        â†“<span class="string">&#x27;1&#x27;</span> == <span class="string">&#x27;[object Object]&#x27;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å…¶æµç¨‹å›¾å¦‚ä¸‹ï¼š <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221929529.webp" alt="img"></p><h3 id="12-å…¶ä»–å€¼åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢è§„åˆ™ï¼Ÿ"><a href="#12-å…¶ä»–å€¼åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢è§„åˆ™ï¼Ÿ" class="headerlink" title="12. å…¶ä»–å€¼åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢è§„åˆ™ï¼Ÿ"></a>12. å…¶ä»–å€¼åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢è§„åˆ™ï¼Ÿ</h3><ul><li>Null å’Œ Undefined ç±»å‹ ï¼Œnull è½¬æ¢ä¸º â€œnullâ€ï¼Œundefined è½¬æ¢ä¸º â€œundefinedâ€ï¼Œ</li><li>Boolean ç±»å‹ï¼Œtrue è½¬æ¢ä¸º â€œtrueâ€ï¼Œfalse è½¬æ¢ä¸º â€œfalseâ€ã€‚</li><li>Number ç±»å‹çš„å€¼ç›´æ¥è½¬æ¢ï¼Œä¸è¿‡é‚£äº›æå°å’Œæå¤§çš„æ•°å­—ä¼šä½¿ç”¨æŒ‡æ•°å½¢å¼ã€‚</li><li>Symbol ç±»å‹çš„å€¼ç›´æ¥è½¬æ¢ï¼Œä½†æ˜¯åªå…è®¸æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä½¿ç”¨éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¼šäº§ç”Ÿé”™è¯¯ã€‚</li><li>å¯¹æ™®é€šå¯¹è±¡æ¥è¯´ï¼Œé™¤éè‡ªè¡Œå®šä¹‰ toString() æ–¹æ³•ï¼Œå¦åˆ™ä¼šè°ƒç”¨ toString()ï¼ˆObject.prototype.toString()ï¼‰æ¥è¿”å›å†…éƒ¨å±æ€§ [[Class]] çš„å€¼ï¼Œå¦‚â€[object Object]â€ã€‚å¦‚æœå¯¹è±¡æœ‰è‡ªå·±çš„ toString() æ–¹æ³•ï¼Œå­—ç¬¦ä¸²åŒ–æ—¶å°±ä¼šè°ƒç”¨è¯¥æ–¹æ³•å¹¶ä½¿ç”¨å…¶è¿”å›å€¼ã€‚</li></ul><h3 id="13-å…¶ä»–å€¼åˆ°æ•°å­—å€¼çš„è½¬æ¢è§„åˆ™ï¼Ÿ"><a href="#13-å…¶ä»–å€¼åˆ°æ•°å­—å€¼çš„è½¬æ¢è§„åˆ™ï¼Ÿ" class="headerlink" title="13. å…¶ä»–å€¼åˆ°æ•°å­—å€¼çš„è½¬æ¢è§„åˆ™ï¼Ÿ"></a>13. å…¶ä»–å€¼åˆ°æ•°å­—å€¼çš„è½¬æ¢è§„åˆ™ï¼Ÿ</h3><ul><li>Undefined ç±»å‹çš„å€¼è½¬æ¢ä¸º NaNã€‚</li><li>Null ç±»å‹çš„å€¼è½¬æ¢ä¸º 0ã€‚</li><li>Boolean ç±»å‹çš„å€¼ï¼Œtrue è½¬æ¢ä¸º 1ï¼Œfalse è½¬æ¢ä¸º 0ã€‚</li><li>String ç±»å‹çš„å€¼è½¬æ¢å¦‚åŒä½¿ç”¨ Number() å‡½æ•°è¿›è¡Œè½¬æ¢ï¼Œå¦‚æœåŒ…å«éæ•°å­—å€¼åˆ™è½¬æ¢ä¸º NaNï¼Œç©ºå­—ç¬¦ä¸²ä¸º 0ã€‚</li><li>Symbol ç±»å‹çš„å€¼ä¸èƒ½è½¬æ¢ä¸ºæ•°å­—ï¼Œä¼šæŠ¥é”™ã€‚</li><li>å¯¹è±¡ï¼ˆåŒ…æ‹¬æ•°ç»„ï¼‰ä¼šé¦–å…ˆè¢«è½¬æ¢ä¸ºç›¸åº”çš„åŸºæœ¬ç±»å‹å€¼ï¼Œå¦‚æœè¿”å›çš„æ˜¯éæ•°å­—çš„åŸºæœ¬ç±»å‹å€¼ï¼Œåˆ™å†éµå¾ªä»¥ä¸Šè§„åˆ™å°†å…¶å¼ºåˆ¶è½¬æ¢ä¸ºæ•°å­—ã€‚</li></ul><p>ä¸ºäº†å°†å€¼è½¬æ¢ä¸ºç›¸åº”çš„åŸºæœ¬ç±»å‹å€¼ï¼ŒæŠ½è±¡æ“ä½œ ToPrimitive ä¼šé¦–å…ˆï¼ˆé€šè¿‡å†…éƒ¨æ“ä½œ DefaultValueï¼‰æ£€æŸ¥è¯¥å€¼æ˜¯å¦æœ‰valueOf()æ–¹æ³•ã€‚å¦‚æœæœ‰å¹¶ä¸”è¿”å›åŸºæœ¬ç±»å‹å€¼ï¼Œå°±ä½¿ç”¨è¯¥å€¼è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚å¦‚æœæ²¡æœ‰å°±ä½¿ç”¨ toString() çš„è¿”å›å€¼ï¼ˆå¦‚æœå­˜åœ¨ï¼‰æ¥è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p><p>å¦‚æœ valueOf() å’Œ toString() å‡ä¸è¿”å›åŸºæœ¬ç±»å‹å€¼ï¼Œä¼šäº§ç”Ÿ TypeError é”™è¯¯ã€‚</p><h3 id="14-å…¶ä»–å€¼åˆ°å¸ƒå°”ç±»å‹çš„å€¼çš„è½¬æ¢è§„åˆ™ï¼Ÿ"><a href="#14-å…¶ä»–å€¼åˆ°å¸ƒå°”ç±»å‹çš„å€¼çš„è½¬æ¢è§„åˆ™ï¼Ÿ" class="headerlink" title="14. å…¶ä»–å€¼åˆ°å¸ƒå°”ç±»å‹çš„å€¼çš„è½¬æ¢è§„åˆ™ï¼Ÿ"></a>14. å…¶ä»–å€¼åˆ°å¸ƒå°”ç±»å‹çš„å€¼çš„è½¬æ¢è§„åˆ™ï¼Ÿ</h3><p>ä»¥ä¸‹è¿™äº›æ˜¯å‡å€¼ï¼š â€¢ undefined â€¢ null â€¢ false â€¢ +0ã€-0 å’Œ NaN â€¢ â€œâ€</p><p>å‡å€¼çš„å¸ƒå°”å¼ºåˆ¶ç±»å‹è½¬æ¢ç»“æœä¸º falseã€‚ä»é€»è¾‘ä¸Šè¯´ï¼Œå‡å€¼åˆ—è¡¨ä»¥å¤–çš„éƒ½åº”è¯¥æ˜¯çœŸå€¼ã€‚</p><h3 id="15-å’Œ-amp-amp-æ“ä½œç¬¦çš„è¿”å›å€¼ï¼Ÿ"><a href="#15-å’Œ-amp-amp-æ“ä½œç¬¦çš„è¿”å›å€¼ï¼Ÿ" class="headerlink" title="15. || å’Œ &amp;&amp; æ“ä½œç¬¦çš„è¿”å›å€¼ï¼Ÿ"></a>15. || å’Œ &amp;&amp; æ“ä½œç¬¦çš„è¿”å›å€¼ï¼Ÿ</h3><p>|| å’Œ &amp;&amp; é¦–å…ˆä¼šå¯¹ç¬¬ä¸€ä¸ªæ“ä½œæ•°æ‰§è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœå…¶ä¸æ˜¯å¸ƒå°”å€¼å°±å…ˆå¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹ï¼Œç„¶åå†æ‰§è¡Œæ¡ä»¶åˆ¤æ–­ã€‚</p><ul><li>å¯¹äº || æ¥è¯´ï¼Œå¦‚æœæ¡ä»¶åˆ¤æ–­ç»“æœä¸º true å°±è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœä¸º false å°±è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°çš„å€¼ã€‚</li><li>&amp;&amp; åˆ™ç›¸åï¼Œå¦‚æœæ¡ä»¶åˆ¤æ–­ç»“æœä¸º true å°±è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœä¸º false å°±è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°çš„å€¼ã€‚</li></ul><p>|| å’Œ &amp;&amp; è¿”å›å®ƒä»¬å…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°çš„å€¼ï¼Œè€Œéæ¡ä»¶åˆ¤æ–­çš„ç»“æœ</p><h3 id="16-Object-is-ä¸æ¯”è¾ƒæ“ä½œç¬¦-â€œ-â€ã€â€œ-â€-çš„åŒºåˆ«ï¼Ÿ"><a href="#16-Object-is-ä¸æ¯”è¾ƒæ“ä½œç¬¦-â€œ-â€ã€â€œ-â€-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="16. Object.is() ä¸æ¯”è¾ƒæ“ä½œç¬¦ â€œ===â€ã€â€œ==â€ çš„åŒºåˆ«ï¼Ÿ"></a>16. Object.is() ä¸æ¯”è¾ƒæ“ä½œç¬¦ â€œ===â€ã€â€œ==â€ çš„åŒºåˆ«ï¼Ÿ</h3><ul><li>ä½¿ç”¨åŒç­‰å·ï¼ˆ==ï¼‰è¿›è¡Œç›¸ç­‰åˆ¤æ–­æ—¶ï¼Œå¦‚æœä¸¤è¾¹çš„ç±»å‹ä¸ä¸€è‡´ï¼Œåˆ™ä¼šè¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬åŒ–åå†è¿›è¡Œæ¯”è¾ƒã€‚</li><li>ä½¿ç”¨ä¸‰ç­‰å·ï¼ˆ===ï¼‰è¿›è¡Œç›¸ç­‰åˆ¤æ–­æ—¶ï¼Œå¦‚æœä¸¤è¾¹çš„ç±»å‹ä¸ä¸€è‡´æ—¶ï¼Œä¸ä¼šåšå¼ºåˆ¶ç±»å‹å‡†æ¢ï¼Œç›´æ¥è¿”å› falseã€‚</li><li>ä½¿ç”¨ Object.is æ¥è¿›è¡Œç›¸ç­‰åˆ¤æ–­æ—¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å’Œä¸‰ç­‰å·çš„åˆ¤æ–­ç›¸åŒï¼Œå®ƒå¤„ç†äº†ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µï¼Œæ¯”å¦‚ -0 å’Œ +0 ä¸å†ç›¸ç­‰ï¼Œä¸¤ä¸ª NaN æ˜¯ç›¸ç­‰çš„ã€‚</li></ul><h3 id="17-ä»€ä¹ˆæ˜¯-JavaScript-ä¸­çš„åŒ…è£…ç±»å‹ï¼Ÿ"><a href="#17-ä»€ä¹ˆæ˜¯-JavaScript-ä¸­çš„åŒ…è£…ç±»å‹ï¼Ÿ" class="headerlink" title="17. ä»€ä¹ˆæ˜¯ JavaScript ä¸­çš„åŒ…è£…ç±»å‹ï¼Ÿ"></a>17. ä»€ä¹ˆæ˜¯ JavaScript ä¸­çš„åŒ…è£…ç±»å‹ï¼Ÿ</h3><p>åœ¨ JavaScript ä¸­ï¼ŒåŸºæœ¬ç±»å‹æ˜¯æ²¡æœ‰å±æ€§å’Œæ–¹æ³•çš„ï¼Œä½†æ˜¯ä¸ºäº†ä¾¿äºæ“ä½œåŸºæœ¬ç±»å‹çš„å€¼ï¼Œåœ¨è°ƒç”¨åŸºæœ¬ç±»å‹çš„å±æ€§æˆ–æ–¹æ³•æ—¶ JavaScript ä¼šåœ¨åå°éšå¼åœ°å°†åŸºæœ¬ç±»å‹çš„å€¼è½¬æ¢ä¸ºå¯¹è±¡ï¼Œå¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">a.length; <span class="comment">// 3</span></span><br><span class="line">a.toUpperCase(); <span class="comment">// &quot;ABC&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åœ¨è®¿é—®<code>&#39;abc&#39;.length</code>æ—¶ï¼ŒJavaScript å°†<code>&#39;abc&#39;</code>åœ¨åå°è½¬æ¢æˆ<code>String(&#39;abc&#39;)</code>ï¼Œç„¶åå†è®¿é—®å…¶<code>length</code>å±æ€§ã€‚</p><p>JavaScriptä¹Ÿå¯ä»¥ä½¿ç”¨<code>Object</code>å‡½æ•°æ˜¾å¼åœ°å°†åŸºæœ¬ç±»å‹è½¬æ¢ä¸ºåŒ…è£…ç±»å‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;abc&#x27;</span></span><br><span class="line"><span class="built_in">Object</span>(a) <span class="comment">// String &#123;&quot;abc&quot;&#125;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>valueOf</code>æ–¹æ³•å°†åŒ…è£…ç±»å‹å€’è½¬æˆåŸºæœ¬ç±»å‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;abc&#x27;</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">Object</span>(a)</span><br><span class="line"><span class="keyword">var</span> c = b.valueOf() <span class="comment">// &#x27;abc&#x27;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>çœ‹çœ‹å¦‚ä¸‹ä»£ç ä¼šæ‰“å°å‡ºä»€ä¹ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Boolean</span>( <span class="literal">false</span> );</span><br><span class="line"><span class="keyword">if</span> (!a) &#123;</span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">&quot;Oops&quot;</span> ); <span class="comment">// never runs</span></span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆæ˜¯ä»€ä¹ˆéƒ½ä¸ä¼šæ‰“å°ï¼Œå› ä¸ºè™½ç„¶åŒ…è£¹çš„åŸºæœ¬ç±»å‹æ˜¯<code>false</code>ï¼Œä½†æ˜¯<code>false</code>è¢«åŒ…è£¹æˆåŒ…è£…ç±»å‹åå°±æˆäº†å¯¹è±¡ï¼Œæ‰€ä»¥å…¶éå€¼ä¸º<code>false</code>ï¼Œæ‰€ä»¥å¾ªç¯ä½“ä¸­çš„å†…å®¹ä¸ä¼šè¿è¡Œã€‚</p><h3 id="18-JavaScript-ä¸­å¦‚ä½•è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Ÿ"><a href="#18-JavaScript-ä¸­å¦‚ä½•è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Ÿ" class="headerlink" title="18. JavaScript ä¸­å¦‚ä½•è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Ÿ"></a>18. JavaScript ä¸­å¦‚ä½•è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Ÿ</h3><p>é¦–å…ˆè¦ä»‹ç»<code>ToPrimitive</code>æ–¹æ³•ï¼Œè¿™æ˜¯ JavaScript ä¸­æ¯ä¸ªå€¼éšå«çš„è‡ªå¸¦çš„æ–¹æ³•ï¼Œç”¨æ¥å°†å€¼ ï¼ˆæ— è®ºæ˜¯åŸºæœ¬ç±»å‹å€¼è¿˜æ˜¯å¯¹è±¡ï¼‰è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹å€¼ã€‚å¦‚æœå€¼ä¸ºåŸºæœ¬ç±»å‹ï¼Œåˆ™ç›´æ¥è¿”å›å€¼æœ¬èº«ï¼›å¦‚æœå€¼ä¸ºå¯¹è±¡ï¼Œå…¶çœ‹èµ·æ¥å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@obj </span>éœ€è¦è½¬æ¢çš„å¯¹è±¡</span></span><br><span class="line"><span class="comment">* <span class="doctag">@type </span>æœŸæœ›çš„ç»“æœç±»å‹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">ToPrimitive(obj,type)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><code>type</code>çš„å€¼ä¸º<code>number</code>æˆ–è€…<code>string</code>ã€‚</p><p><strong>ï¼ˆ1ï¼‰å½“</strong><code>type</code><strong>ä¸º</strong><code>number</code><strong>æ—¶è§„åˆ™å¦‚ä¸‹ï¼š</strong></p><ul><li>è°ƒç”¨<code>obj</code>çš„<code>valueOf</code>æ–¹æ³•ï¼Œå¦‚æœä¸ºåŸå§‹å€¼ï¼Œåˆ™è¿”å›ï¼Œå¦åˆ™ä¸‹ä¸€æ­¥ï¼›</li><li>è°ƒç”¨<code>obj</code>çš„<code>toString</code>æ–¹æ³•ï¼Œåç»­åŒä¸Šï¼›</li><li>æŠ›å‡º<code>TypeError</code> å¼‚å¸¸ã€‚</li></ul><p><strong>ï¼ˆ2ï¼‰å½“</strong><code>type</code><strong>ä¸º</strong><code>string</code><strong>æ—¶è§„åˆ™å¦‚ä¸‹ï¼š</strong></p><ul><li>è°ƒç”¨<code>obj</code>çš„<code>toString</code>æ–¹æ³•ï¼Œå¦‚æœä¸ºåŸå§‹å€¼ï¼Œåˆ™è¿”å›ï¼Œå¦åˆ™ä¸‹ä¸€æ­¥ï¼›</li><li>è°ƒç”¨<code>obj</code>çš„<code>valueOf</code>æ–¹æ³•ï¼Œåç»­åŒä¸Šï¼›</li><li>æŠ›å‡º<code>TypeError</code> å¼‚å¸¸ã€‚</li></ul><p>å¯ä»¥çœ‹å‡ºä¸¤è€…çš„ä¸»è¦åŒºåˆ«åœ¨äºè°ƒç”¨<code>toString</code>å’Œ<code>valueOf</code>çš„å…ˆåé¡ºåºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼š</p><ul><li>å¦‚æœå¯¹è±¡ä¸º Date å¯¹è±¡ï¼Œåˆ™<code>type</code>é»˜è®¤ä¸º<code>string</code>ï¼›</li><li>å…¶ä»–æƒ…å†µä¸‹ï¼Œ<code>type</code>é»˜è®¤ä¸º<code>number</code>ã€‚</li></ul><p>æ€»ç»“ä¸Šé¢çš„è§„åˆ™ï¼Œå¯¹äº Date ä»¥å¤–çš„å¯¹è±¡ï¼Œè½¬æ¢ä¸ºåŸºæœ¬ç±»å‹çš„å¤§æ¦‚è§„åˆ™å¯ä»¥æ¦‚æ‹¬ä¸ºä¸€ä¸ªå‡½æ•°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> objToNumber = <span class="function"><span class="params">value</span> =&gt;</span> <span class="built_in">Number</span>(value.valueOf().toString())</span><br><span class="line">objToNumber([]) === <span class="number">0</span></span><br><span class="line">objToNumber(&#123;&#125;) === <span class="literal">NaN</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è€Œ JavaScript ä¸­çš„éšå¼ç±»å‹è½¬æ¢ä¸»è¦å‘ç”Ÿåœ¨<code>+ã€-ã€*ã€/</code>ä»¥åŠ<code>==ã€&gt;ã€&lt;</code>è¿™äº›è¿ç®—ç¬¦ä¹‹é—´ã€‚è€Œè¿™äº›è¿ç®—ç¬¦åªèƒ½æ“ä½œåŸºæœ¬ç±»å‹å€¼ï¼Œæ‰€ä»¥åœ¨è¿›è¡Œè¿™äº›è¿ç®—å‰çš„ç¬¬ä¸€æ­¥å°±æ˜¯å°†ä¸¤è¾¹çš„å€¼ç”¨<code>ToPrimitive</code>è½¬æ¢æˆåŸºæœ¬ç±»å‹ï¼Œå†è¿›è¡Œæ“ä½œã€‚</p><p>ä»¥ä¸‹æ˜¯åŸºæœ¬ç±»å‹çš„å€¼åœ¨ä¸åŒæ“ä½œç¬¦çš„æƒ…å†µä¸‹éšå¼è½¬æ¢çš„è§„åˆ™ ï¼ˆå¯¹äºå¯¹è±¡ï¼Œå…¶ä¼šè¢«<code>ToPrimitive</code>è½¬æ¢æˆåŸºæœ¬ç±»å‹ï¼Œæ‰€ä»¥æœ€ç»ˆè¿˜æ˜¯è¦åº”ç”¨åŸºæœ¬ç±»å‹è½¬æ¢è§„åˆ™ï¼‰ï¼š</p><ol><li><code>+</code><strong>æ“ä½œç¬¦</strong></li></ol><p><code>+</code>æ“ä½œç¬¦çš„ä¸¤è¾¹æœ‰è‡³å°‘ä¸€ä¸ª<code>string</code>ç±»å‹å˜é‡æ—¶ï¼Œä¸¤è¾¹çš„å˜é‡éƒ½ä¼šè¢«éšå¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼›å…¶ä»–æƒ…å†µä¸‹ä¸¤è¾¹çš„å˜é‡éƒ½ä¼šè¢«è½¬æ¢ä¸ºæ•°å­—ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="string">&#x27;23&#x27;</span> <span class="comment">// &#x27;123&#x27;</span></span><br><span class="line"> <span class="number">1</span> + <span class="literal">false</span> <span class="comment">// 1 </span></span><br><span class="line"> <span class="number">1</span> + <span class="built_in">Symbol</span>() <span class="comment">// Uncaught TypeError: Cannot convert a Symbol value to a number</span></span><br><span class="line"> <span class="string">&#x27;1&#x27;</span> + <span class="literal">false</span> <span class="comment">// &#x27;1false&#x27;</span></span><br><span class="line"> <span class="literal">false</span> + <span class="literal">true</span> <span class="comment">// 1</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ol><li><code>-</code>ã€<code>*</code>ã€<code>\</code><strong>æ“ä½œç¬¦</strong></li></ol><p><code>NaN</code>ä¹Ÿæ˜¯ä¸€ä¸ªæ•°å­—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> * <span class="string">&#x27;23&#x27;</span> <span class="comment">// 23</span></span><br><span class="line"> <span class="number">1</span> * <span class="literal">false</span> <span class="comment">// 0</span></span><br><span class="line"> <span class="number">1</span> / <span class="string">&#x27;aa&#x27;</span> <span class="comment">// NaN</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ol><li><strong>å¯¹äº</strong><code>==</code><strong>æ“ä½œç¬¦</strong></li></ol><p>æ“ä½œç¬¦ä¸¤è¾¹çš„å€¼éƒ½å°½é‡è½¬æˆ<code>number</code>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span> == <span class="literal">true</span> <span class="comment">// false, 3 è½¬ä¸ºnumberä¸º3ï¼Œtrueè½¬ä¸ºnumberä¸º1</span></span><br><span class="line"><span class="string">&#x27;0&#x27;</span> == <span class="literal">false</span> <span class="comment">//true, &#x27;0&#x27;è½¬ä¸ºnumberä¸º0ï¼Œfalseè½¬ä¸ºnumberä¸º0</span></span><br><span class="line"><span class="string">&#x27;0&#x27;</span> == <span class="number">0</span> <span class="comment">// &#x27;0&#x27;è½¬ä¸ºnumberä¸º0</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ol><li><strong>å¯¹äº</strong><code>&lt;</code><strong>å’Œ</strong><code>&gt;</code><strong>æ¯”è¾ƒç¬¦</strong></li></ol><p>å¦‚æœä¸¤è¾¹éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æ¯”è¾ƒå­—æ¯è¡¨é¡ºåºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;ca&#x27;</span> &lt; <span class="string">&#x27;bd&#x27;</span> <span class="comment">// false</span></span><br><span class="line"><span class="string">&#x27;a&#x27;</span> &lt; <span class="string">&#x27;b&#x27;</span> <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å…¶ä»–æƒ…å†µä¸‹ï¼Œè½¬æ¢ä¸ºæ•°å­—å†æ¯”è¾ƒï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;12&#x27;</span> &lt; <span class="number">13</span> <span class="comment">// true</span></span><br><span class="line"><span class="literal">false</span> &gt; -<span class="number">1</span> <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šè¯´çš„æ˜¯åŸºæœ¬ç±»å‹çš„éšå¼è½¬æ¢ï¼Œè€Œå¯¹è±¡ä¼šè¢«<code>ToPrimitive</code>è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹å†è¿›è¡Œè½¬æ¢ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;&#125;</span><br><span class="line">a &gt; <span class="number">2</span> <span class="comment">// false</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å…¶å¯¹æ¯”è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a.valueOf() <span class="comment">// &#123;&#125;, ä¸Šé¢æåˆ°è¿‡ï¼ŒToPrimitiveé»˜è®¤typeä¸ºnumberï¼Œæ‰€ä»¥å…ˆvalueOfï¼Œç»“æœè¿˜æ˜¯ä¸ªå¯¹è±¡ï¼Œä¸‹ä¸€æ­¥</span></span><br><span class="line">a.toString() <span class="comment">// &quot;[object Object]&quot;ï¼Œç°åœ¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²äº†</span></span><br><span class="line"><span class="built_in">Number</span>(a.toString()) <span class="comment">// NaNï¼Œæ ¹æ®ä¸Šé¢ &lt; å’Œ &gt; æ“ä½œç¬¦çš„è§„åˆ™ï¼Œè¦è½¬æ¢æˆæ•°å­—</span></span><br><span class="line"><span class="literal">NaN</span> &gt; <span class="number">2</span> <span class="comment">//falseï¼Œå¾—å‡ºæ¯”è¾ƒç»“æœ</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åˆæ¯”å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;<span class="attr">name</span>:<span class="string">&#x27;Jack&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">var</span> b = &#123;<span class="attr">age</span>: <span class="number">18</span>&#125;</span><br><span class="line">a + b <span class="comment">// &quot;[object Object][object Object]&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a.valueOf() <span class="comment">// &#123;&#125;ï¼Œä¸Šé¢æåˆ°è¿‡ï¼ŒToPrimitiveé»˜è®¤typeä¸ºnumberï¼Œæ‰€ä»¥å…ˆvalueOfï¼Œç»“æœè¿˜æ˜¯ä¸ªå¯¹è±¡ï¼Œä¸‹ä¸€æ­¥</span></span><br><span class="line">a.toString() <span class="comment">// &quot;[object Object]&quot;</span></span><br><span class="line">b.valueOf() <span class="comment">// åŒç†</span></span><br><span class="line">b.toString() <span class="comment">// &quot;[object Object]&quot;</span></span><br><span class="line">a + b <span class="comment">// &quot;[object Object][object Object]&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="19-æ“ä½œç¬¦ä»€ä¹ˆæ—¶å€™ç”¨äºå­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Ÿ"><a href="#19-æ“ä½œç¬¦ä»€ä¹ˆæ—¶å€™ç”¨äºå­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Ÿ" class="headerlink" title="19. + æ“ä½œç¬¦ä»€ä¹ˆæ—¶å€™ç”¨äºå­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Ÿ"></a>19. <code>+</code> æ“ä½œç¬¦ä»€ä¹ˆæ—¶å€™ç”¨äºå­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Ÿ</h3><p>æ ¹æ® ES5 è§„èŒƒï¼Œå¦‚æœæŸä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²æˆ–è€…èƒ½å¤Ÿé€šè¿‡ä»¥ä¸‹æ­¥éª¤è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„è¯ï¼Œ+ å°†è¿›è¡Œæ‹¼æ¥æ“ä½œã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼ˆåŒ…æ‹¬æ•°ç»„ï¼‰ï¼Œåˆ™é¦–å…ˆå¯¹å…¶è°ƒç”¨ ToPrimitive æŠ½è±¡æ“ä½œï¼Œè¯¥æŠ½è±¡æ“ä½œå†è°ƒç”¨ [[DefaultValue]]ï¼Œä»¥æ•°å­—ä½œä¸ºä¸Šä¸‹æ–‡ã€‚å¦‚æœä¸èƒ½è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™ä¼šå°†å…¶è½¬æ¢ä¸ºæ•°å­—ç±»å‹æ¥è¿›è¡Œè®¡ç®—ã€‚</p><p>ç®€å•æ¥è¯´å°±æ˜¯ï¼Œå¦‚æœ + çš„å…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼ˆæˆ–è€…é€šè¿‡ä»¥ä¸Šæ­¥éª¤æœ€ç»ˆå¾—åˆ°å­—ç¬¦ä¸²ï¼‰ï¼Œåˆ™æ‰§è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¦åˆ™æ‰§è¡Œæ•°å­—åŠ æ³•ã€‚</p><p>é‚£ä¹ˆå¯¹äºé™¤äº†åŠ æ³•çš„è¿ç®—ç¬¦æ¥è¯´ï¼Œåªè¦å…¶ä¸­ä¸€æ–¹æ˜¯æ•°å­—ï¼Œé‚£ä¹ˆå¦ä¸€æ–¹å°±ä¼šè¢«è½¬ä¸ºæ•°å­—ã€‚</p><h3 id="20-ä¸ºä»€ä¹ˆä¼šæœ‰BigIntçš„ææ¡ˆï¼Ÿ"><a href="#20-ä¸ºä»€ä¹ˆä¼šæœ‰BigIntçš„ææ¡ˆï¼Ÿ" class="headerlink" title="20. ä¸ºä»€ä¹ˆä¼šæœ‰BigIntçš„ææ¡ˆï¼Ÿ"></a>20. ä¸ºä»€ä¹ˆä¼šæœ‰<strong>BigInt</strong>çš„ææ¡ˆï¼Ÿ</h3><p>JavaScriptä¸­Number.MAX_SAFE_INTEGERè¡¨ç¤ºæœ€â¼¤å®‰å…¨æ•°å­—ï¼Œè®¡ç®—ç»“æœæ˜¯9007199254740991ï¼Œå³åœ¨è¿™ä¸ªæ•°èŒƒå›´å†…ä¸ä¼šå‡ºç°ç²¾åº¦ä¸¢å¤±ï¼ˆâ¼©æ•°é™¤å¤–ï¼‰ã€‚ä½†æ˜¯â¼€æ—¦è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œjså°±ä¼šå‡ºç°è®¡ç®—ä¸å‡†ç¡®çš„æƒ…å†µï¼Œè¿™åœ¨â¼¤æ•°è®¡ç®—çš„æ—¶å€™ä¸å¾—ä¸ä¾é â¼€äº›ç¬¬ä¸‰â½…åº“è¿›â¾è§£å†³ï¼Œå› æ­¤å®˜â½…æå‡ºäº†BigIntæ¥è§£å†³æ­¤é—®é¢˜ã€‚</p><h3 id="21-object-assignå’Œæ‰©å±•è¿ç®—æ³•æ˜¯æ·±æ‹·è´è¿˜æ˜¯æµ…æ‹·è´ï¼Œä¸¤è€…åŒºåˆ«"><a href="#21-object-assignå’Œæ‰©å±•è¿ç®—æ³•æ˜¯æ·±æ‹·è´è¿˜æ˜¯æµ…æ‹·è´ï¼Œä¸¤è€…åŒºåˆ«" class="headerlink" title="21. object.assignå’Œæ‰©å±•è¿ç®—æ³•æ˜¯æ·±æ‹·è´è¿˜æ˜¯æµ…æ‹·è´ï¼Œä¸¤è€…åŒºåˆ«"></a>21. object.assignå’Œæ‰©å±•è¿ç®—æ³•æ˜¯æ·±æ‹·è´è¿˜æ˜¯æµ…æ‹·è´ï¼Œä¸¤è€…åŒºåˆ«</h3><p>æ‰©å±•è¿ç®—ç¬¦ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> outObj = &#123;</span><br><span class="line">  <span class="attr">inObj</span>: &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> newObj = &#123;...outObj&#125;</span><br><span class="line">newObj.inObj.a = <span class="number">2</span></span><br><span class="line"><span class="built_in">console</span>.log(outObj) <span class="comment">// &#123;inObj: &#123;a: 2, b: 2&#125;&#125;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>Object.assign():</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> outObj = &#123;</span><br><span class="line">  <span class="attr">inObj</span>: &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> newObj = <span class="built_in">Object</span>.assign(&#123;&#125;, outObj)</span><br><span class="line">newObj.inObj.a = <span class="number">2</span></span><br><span class="line"><span class="built_in">console</span>.log(outObj) <span class="comment">// &#123;inObj: &#123;a: 2, b: 2&#125;&#125;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸¤è€…éƒ½æ˜¯æµ…æ‹·è´ã€‚</p><ul><li>Object.assign()æ–¹æ³•æ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºç›®æ ‡å¯¹è±¡ï¼Œåé¢çš„æ‰€æœ‰å‚æ•°ä½œä¸ºæºå¯¹è±¡ã€‚ç„¶åæŠŠæ‰€æœ‰çš„æºå¯¹è±¡åˆå¹¶åˆ°ç›®æ ‡å¯¹è±¡ä¸­ã€‚å®ƒä¼šä¿®æ”¹äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤ä¼šè§¦å‘ ES6 setterã€‚</li><li>æ‰©å±•æ“ä½œç¬¦ï¼ˆâ€¦ï¼‰ä½¿ç”¨å®ƒæ—¶ï¼Œæ•°ç»„æˆ–å¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½ä¼šè¢«æ‹·è´åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„æˆ–å¯¹è±¡ä¸­ã€‚å®ƒä¸å¤åˆ¶ç»§æ‰¿çš„å±æ€§æˆ–ç±»çš„å±æ€§ï¼Œä½†æ˜¯å®ƒä¼šå¤åˆ¶ES6çš„ symbols å±æ€§ã€‚</li></ul><h2 id="äºŒã€ES6"><a href="#äºŒã€ES6" class="headerlink" title="äºŒã€ES6"></a>äºŒã€ES6</h2><h3 id="1-letã€constã€varçš„åŒºåˆ«"><a href="#1-letã€constã€varçš„åŒºåˆ«" class="headerlink" title="1. letã€constã€varçš„åŒºåˆ«"></a>1. letã€constã€varçš„åŒºåˆ«</h3><p><strong>ï¼ˆ1ï¼‰å—çº§ä½œç”¨åŸŸï¼š</strong> å—ä½œç”¨åŸŸç”± <code>&#123; &#125;</code>åŒ…æ‹¬ï¼Œletå’Œconstå…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œvarä¸å­˜åœ¨å—çº§ä½œç”¨åŸŸã€‚å—çº§ä½œç”¨åŸŸè§£å†³äº†ES5ä¸­çš„ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>å†…å±‚å˜é‡å¯èƒ½è¦†ç›–å¤–å±‚å˜é‡</li><li>ç”¨æ¥è®¡æ•°çš„å¾ªç¯å˜é‡æ³„éœ²ä¸ºå…¨å±€å˜é‡</li></ul><p><strong>ï¼ˆ2ï¼‰å˜é‡æå‡ï¼š</strong> varå­˜åœ¨å˜é‡æå‡ï¼Œletå’Œconstä¸å­˜åœ¨å˜é‡æå‡ï¼Œå³åœ¨å˜é‡åªèƒ½åœ¨å£°æ˜ä¹‹åä½¿ç”¨ï¼Œå¦åœ¨ä¼šæŠ¥é”™ã€‚</p><p><strong>ï¼ˆ3ï¼‰ç»™å…¨å±€æ·»åŠ å±æ€§ï¼š</strong> æµè§ˆå™¨çš„å…¨å±€å¯¹è±¡æ˜¯windowï¼ŒNodeçš„å…¨å±€å¯¹è±¡æ˜¯globalã€‚varå£°æ˜çš„å˜é‡ä¸ºå…¨å±€å˜é‡ï¼Œå¹¶ä¸”ä¼šå°†è¯¥å˜é‡æ·»åŠ ä¸ºå…¨å±€å¯¹è±¡çš„å±æ€§ï¼Œä½†æ˜¯letå’Œconstä¸ä¼šã€‚</p><p><strong>ï¼ˆ4ï¼‰é‡å¤å£°æ˜ï¼š</strong> varå£°æ˜å˜é‡æ—¶ï¼Œå¯ä»¥é‡å¤å£°æ˜å˜é‡ï¼Œåå£°æ˜çš„åŒåå˜é‡ä¼šè¦†ç›–ä¹‹å‰å£°æ˜çš„éå†ã€‚constå’Œletä¸å…è®¸é‡å¤å£°æ˜å˜é‡ã€‚</p><p><strong>ï¼ˆ5ï¼‰æš‚æ—¶æ€§æ­»åŒºï¼š</strong> åœ¨ä½¿ç”¨letã€constå‘½ä»¤å£°æ˜å˜é‡ä¹‹å‰ï¼Œè¯¥å˜é‡éƒ½æ˜¯ä¸å¯ç”¨çš„ã€‚è¿™åœ¨è¯­æ³•ä¸Šï¼Œç§°ä¸º<strong>æš‚æ—¶æ€§æ­»åŒº</strong>ã€‚ä½¿ç”¨varå£°æ˜çš„å˜é‡ä¸å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºã€‚</p><p><strong>ï¼ˆ6ï¼‰åˆå§‹å€¼è®¾ç½®ï¼š</strong> åœ¨å˜é‡å£°æ˜æ—¶ï¼Œvar å’Œ let å¯ä»¥ä¸ç”¨è®¾ç½®åˆå§‹å€¼ã€‚è€Œconstå£°æ˜å˜é‡å¿…é¡»è®¾ç½®åˆå§‹å€¼ã€‚</p><p><strong>ï¼ˆ7ï¼‰æŒ‡é’ˆæŒ‡å‘ï¼š</strong> letå’Œconstéƒ½æ˜¯ES6æ–°å¢çš„ç”¨äºåˆ›å»ºå˜é‡çš„è¯­æ³•ã€‚ letåˆ›å»ºçš„å˜é‡æ˜¯å¯ä»¥æ›´æ”¹æŒ‡é’ˆæŒ‡å‘ï¼ˆå¯ä»¥é‡æ–°èµ‹å€¼ï¼‰ã€‚ä½†constå£°æ˜çš„å˜é‡æ˜¯ä¸å…è®¸æ”¹å˜æŒ‡é’ˆçš„æŒ‡å‘ã€‚</p><table><thead><tr><th><strong>åŒºåˆ«</strong></th><th><strong>var</strong></th><th><strong>let</strong></th><th><strong>const</strong></th></tr></thead><tbody><tr><td>æ˜¯å¦æœ‰å—çº§ä½œç”¨åŸŸ</td><td>Ã—</td><td>âœ”ï¸</td><td>âœ”ï¸</td></tr><tr><td>æ˜¯å¦å­˜åœ¨å˜é‡æå‡</td><td>âœ”ï¸</td><td>Ã—</td><td>Ã—</td></tr><tr><td>æ˜¯å¦æ·»åŠ å…¨å±€å±æ€§</td><td>âœ”ï¸</td><td>Ã—</td><td>Ã—</td></tr><tr><td>èƒ½å¦é‡å¤å£°æ˜å˜é‡</td><td>âœ”ï¸</td><td>Ã—</td><td>Ã—</td></tr><tr><td>æ˜¯å¦å­˜åœ¨æš‚æ—¶æ€§æ­»åŒº</td><td>Ã—</td><td>âœ”ï¸</td><td>âœ”ï¸</td></tr><tr><td>æ˜¯å¦å¿…é¡»è®¾ç½®åˆå§‹å€¼</td><td>Ã—</td><td>Ã—</td><td>âœ”ï¸</td></tr><tr><td>èƒ½å¦æ”¹å˜æŒ‡é’ˆæŒ‡å‘</td><td>âœ”ï¸</td><td>âœ”ï¸</td><td>Ã—</td></tr></tbody></table><h3 id="2-constå¯¹è±¡çš„å±æ€§å¯ä»¥ä¿®æ”¹å—"><a href="#2-constå¯¹è±¡çš„å±æ€§å¯ä»¥ä¿®æ”¹å—" class="headerlink" title="2. constå¯¹è±¡çš„å±æ€§å¯ä»¥ä¿®æ”¹å—"></a>2. constå¯¹è±¡çš„å±æ€§å¯ä»¥ä¿®æ”¹å—</h3><p>constä¿è¯çš„å¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸èƒ½æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸èƒ½æ”¹åŠ¨ã€‚å¯¹äºåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå…¶å€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚</p><p>ä½†å¯¹äºå¼•ç”¨ç±»å‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰æ¥è¯´ï¼Œå˜é‡æŒ‡å‘æ•°æ®çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šä¸å˜çš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æ§åˆ¶äº†ã€‚</p><h3 id="3-å¦‚æœnewä¸€ä¸ªç®­å¤´å‡½æ•°çš„ä¼šæ€ä¹ˆæ ·"><a href="#3-å¦‚æœnewä¸€ä¸ªç®­å¤´å‡½æ•°çš„ä¼šæ€ä¹ˆæ ·" class="headerlink" title="3. å¦‚æœnewä¸€ä¸ªç®­å¤´å‡½æ•°çš„ä¼šæ€ä¹ˆæ ·"></a>3. å¦‚æœnewä¸€ä¸ªç®­å¤´å‡½æ•°çš„ä¼šæ€ä¹ˆæ ·</h3><p>ç®­å¤´å‡½æ•°æ˜¯ES6ä¸­çš„æå‡ºæ¥çš„ï¼Œå®ƒæ²¡æœ‰prototypeï¼Œä¹Ÿæ²¡æœ‰è‡ªå·±çš„thisæŒ‡å‘ï¼Œæ›´ä¸å¯ä»¥ä½¿ç”¨argumentså‚æ•°ï¼Œæ‰€ä»¥ä¸èƒ½Newä¸€ä¸ªç®­å¤´å‡½æ•°ã€‚</p><p>newæ“ä½œç¬¦çš„å®ç°æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ªå¯¹è±¡</li><li>å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹ç»™æ–°å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯å°†å¯¹è±¡çš„__proto__å±æ€§æŒ‡å‘æ„é€ å‡½æ•°çš„prototypeå±æ€§ï¼‰</li><li>æŒ‡å‘æ„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼Œæ„é€ å‡½æ•°ä¸­çš„thisæŒ‡å‘è¯¥å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³•ï¼‰</li><li>è¿”å›æ–°çš„å¯¹è±¡</li></ol><p>æ‰€ä»¥ï¼Œä¸Šé¢çš„ç¬¬äºŒã€ä¸‰æ­¥ï¼Œç®­å¤´å‡½æ•°éƒ½æ˜¯æ²¡æœ‰åŠæ³•æ‰§è¡Œçš„ã€‚</p><h3 id="4-ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«"><a href="#4-ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«" class="headerlink" title="4. ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«"></a>4. ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«</h3><p><strong>ï¼ˆ1ï¼‰ç®­å¤´å‡½æ•°æ¯”æ™®é€šå‡½æ•°æ›´åŠ ç®€æ´</strong></p><ul><li>å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œå°±ç›´æ¥å†™ä¸€ä¸ªç©ºæ‹¬å·å³å¯</li><li>å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥çœå»å‚æ•°çš„æ‹¬å·</li><li>å¦‚æœæœ‰å¤šä¸ªå‚æ•°ï¼Œç”¨é€—å·åˆ†å‰²</li><li>å¦‚æœå‡½æ•°ä½“çš„è¿”å›å€¼åªæœ‰ä¸€å¥ï¼Œå¯ä»¥çœç•¥å¤§æ‹¬å·</li><li>å¦‚æœå‡½æ•°ä½“ä¸éœ€è¦è¿”å›å€¼ï¼Œä¸”åªæœ‰ä¸€å¥è¯ï¼Œå¯ä»¥ç»™è¿™ä¸ªè¯­å¥å‰é¢åŠ ä¸€ä¸ªvoidå…³é”®å­—ã€‚æœ€å¸¸è§çš„å°±æ˜¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fn = <span class="function">() =&gt;</span> <span class="keyword">void</span> doesNotReturn();</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this</strong></p><p>ç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»ºè‡ªå·±çš„thisï¼Œ æ‰€ä»¥å®ƒæ²¡æœ‰è‡ªå·±çš„thisï¼Œå®ƒåªä¼šåœ¨è‡ªå·±ä½œç”¨åŸŸçš„ä¸Šä¸€å±‚ç»§æ‰¿thisã€‚æ‰€ä»¥ç®­å¤´å‡½æ•°ä¸­thisçš„æŒ‡å‘åœ¨å®ƒåœ¨å®šä¹‰æ—¶å·²ç»ç¡®å®šäº†ï¼Œä¹‹åä¸ä¼šæ”¹å˜ã€‚</p><p><strong>ï¼ˆ3ï¼‰ç®­å¤´å‡½æ•°ç»§æ‰¿æ¥çš„thisæŒ‡å‘æ°¸è¿œä¸ä¼šæ”¹å˜</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> id = <span class="string">&#x27;GLOBAL&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="string">&#x27;OBJ&#x27;</span>,</span><br><span class="line">  <span class="attr">a</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.id);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">b</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.id);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.a();    <span class="comment">// &#x27;OBJ&#x27;</span></span><br><span class="line">obj.b();    <span class="comment">// &#x27;GLOBAL&#x27;</span></span><br><span class="line"><span class="keyword">new</span> obj.a()  <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">new</span> obj.b()  <span class="comment">// Uncaught TypeError: obj.b is not a constructor</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯¹è±¡objçš„æ–¹æ³•bæ˜¯ä½¿ç”¨ç®­å¤´å‡½æ•°å®šä¹‰çš„ï¼Œè¿™ä¸ªå‡½æ•°ä¸­çš„thiså°±æ°¸è¿œæŒ‡å‘å®ƒå®šä¹‰æ—¶æ‰€å¤„çš„å…¨å±€æ‰§è¡Œç¯å¢ƒä¸­çš„thisï¼Œå³ä¾¿è¿™ä¸ªå‡½æ•°æ˜¯ä½œä¸ºå¯¹è±¡objçš„æ–¹æ³•è°ƒç”¨ï¼Œthisä¾æ—§æŒ‡å‘Windowå¯¹è±¡ã€‚éœ€è¦æ³¨æ„ï¼Œå®šä¹‰å¯¹è±¡çš„å¤§æ‹¬å·<code>&#123;&#125;</code>æ˜¯æ— æ³•å½¢æˆä¸€ä¸ªå•ç‹¬çš„æ‰§è¡Œç¯å¢ƒçš„ï¼Œå®ƒä¾æ—§æ˜¯å¤„äºå…¨å±€æ‰§è¡Œç¯å¢ƒä¸­ã€‚</p><p><strong>ï¼ˆ4ï¼‰call()ã€apply()ã€bind()ç­‰æ–¹æ³•ä¸èƒ½æ”¹å˜ç®­å¤´å‡½æ•°ä¸­thisçš„æŒ‡å‘</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> id = <span class="string">&#x27;Global&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> fun1 = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.id)</span><br><span class="line">&#125;;</span><br><span class="line">fun1();                     <span class="comment">// &#x27;Global&#x27;</span></span><br><span class="line">fun1.call(&#123;<span class="attr">id</span>: <span class="string">&#x27;Obj&#x27;</span>&#125;);     <span class="comment">// &#x27;Global&#x27;</span></span><br><span class="line">fun1.apply(&#123;<span class="attr">id</span>: <span class="string">&#x27;Obj&#x27;</span>&#125;);    <span class="comment">// &#x27;Global&#x27;</span></span><br><span class="line">fun1.bind(&#123;<span class="attr">id</span>: <span class="string">&#x27;Obj&#x27;</span>&#125;)();   <span class="comment">// &#x27;Global&#x27;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ5ï¼‰ç®­å¤´å‡½æ•°ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨</strong></p><p>æ„é€ å‡½æ•°åœ¨newçš„æ­¥éª¤åœ¨ä¸Šé¢å·²ç»è¯´è¿‡äº†ï¼Œå®é™…ä¸Šç¬¬äºŒæ­¥å°±æ˜¯å°†å‡½æ•°ä¸­çš„thisæŒ‡å‘è¯¥å¯¹è±¡ã€‚ ä½†æ˜¯ç”±äºç®­å¤´å‡½æ•°æ—¶æ²¡æœ‰è‡ªå·±çš„thisçš„ï¼Œä¸”thisæŒ‡å‘å¤–å±‚çš„æ‰§è¡Œç¯å¢ƒï¼Œä¸”ä¸èƒ½æ”¹å˜æŒ‡å‘ï¼Œæ‰€ä»¥ä¸èƒ½å½“åšæ„é€ å‡½æ•°ä½¿ç”¨ã€‚</p><p><strong>ï¼ˆ6ï¼‰ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„arguments</strong></p><p>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„argumentså¯¹è±¡ã€‚åœ¨ç®­å¤´å‡½æ•°ä¸­è®¿é—®argumentså®é™…ä¸Šè·å¾—çš„æ˜¯å®ƒå¤–å±‚å‡½æ•°çš„argumentså€¼ã€‚</p><p><strong>ï¼ˆ7ï¼‰ç®­å¤´å‡½æ•°æ²¡æœ‰prototype</strong></p><p><strong>ï¼ˆ8ï¼‰ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨yeildå…³é”®å­—</strong></p><h3 id="5-ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘å“ªâ¾¥ï¼Ÿ"><a href="#5-ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘å“ªâ¾¥ï¼Ÿ" class="headerlink" title="5. ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘å“ªâ¾¥ï¼Ÿ"></a>5. ç®­å¤´å‡½æ•°çš„<strong>this</strong>æŒ‡å‘å“ªâ¾¥ï¼Ÿ</h3><p>ç®­å¤´å‡½æ•°ä¸åŒäºä¼ ç»ŸJavaScriptä¸­çš„å‡½æ•°ï¼Œç®­å¤´å‡½æ•°å¹¶æ²¡æœ‰å±äºâ¾ƒâ¼°çš„thisï¼Œå®ƒæ‰€è°“çš„thisæ˜¯æ•è·å…¶æ‰€åœ¨ä¸Šä¸‹â½‚çš„ this å€¼ï¼Œä½œä¸ºâ¾ƒâ¼°çš„ this å€¼ï¼Œå¹¶ä¸”ç”±äºæ²¡æœ‰å±äºâ¾ƒâ¼°çš„thisï¼Œæ‰€ä»¥æ˜¯ä¸ä¼šè¢«newè°ƒâ½¤çš„ï¼Œè¿™ä¸ªæ‰€è°“çš„thisä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚</p><p>å¯ä»¥â½¤Babelç†è§£â¼€ä¸‹ç®­å¤´å‡½æ•°:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6 </span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; </span><br><span class="line">  <span class="function"><span class="title">getArrow</span>(<span class="params"></span>)</span> &#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123; </span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span> === obj); </span><br><span class="line">    &#125;; </span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è½¬åŒ–åï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5ï¼Œç”± Babel è½¬è¯‘</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123; </span><br><span class="line">   <span class="attr">getArrow</span>: <span class="function"><span class="keyword">function</span> <span class="title">getArrow</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">     <span class="keyword">var</span> _this = <span class="built_in">this</span>; </span><br><span class="line">     <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">        <span class="built_in">console</span>.log(_this === obj); </span><br><span class="line">     &#125;; </span><br><span class="line">   &#125; </span><br><span class="line">&#125;;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="6-æ‰©å±•è¿ç®—ç¬¦çš„ä½œç”¨åŠä½¿ç”¨åœºæ™¯"><a href="#6-æ‰©å±•è¿ç®—ç¬¦çš„ä½œç”¨åŠä½¿ç”¨åœºæ™¯" class="headerlink" title="6. æ‰©å±•è¿ç®—ç¬¦çš„ä½œç”¨åŠä½¿ç”¨åœºæ™¯"></a>6. æ‰©å±•è¿ç®—ç¬¦çš„ä½œç”¨åŠä½¿ç”¨åœºæ™¯</h3><p><strong>ï¼ˆ1ï¼‰å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦</strong></p><p>å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦(â€¦)ç”¨äºå–å‡ºå‚æ•°å¯¹è±¡ä¸­çš„æ‰€æœ‰å¯éå†å±æ€§ï¼Œæ‹·è´åˆ°å½“å‰å¯¹è±¡ä¹‹ä¸­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bar = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> baz = &#123; ...bar &#125;; <span class="comment">// &#123; a: 1, b: 2 &#125;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¸Šè¿°æ–¹æ³•å®é™…ä¸Šç­‰ä»·äº:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bar = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> baz = <span class="built_in">Object</span>.assign(&#123;&#125;, bar); <span class="comment">// &#123; a: 1, b: 2 &#125;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><code>Object.assign</code>æ–¹æ³•ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡<code>ï¼ˆsourceï¼‰</code>çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡<code>ï¼ˆtargetï¼‰</code>ã€‚<code>Object.assign</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œåé¢çš„å‚æ•°éƒ½æ˜¯æºå¯¹è±¡ã€‚(<strong>å¦‚æœç›®æ ‡å¯¹è±¡ä¸æºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œæˆ–å¤šä¸ªæºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œåˆ™åé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§</strong>)ã€‚</p><p>åŒæ ·ï¼Œå¦‚æœç”¨æˆ·è‡ªå®šä¹‰çš„å±æ€§ï¼Œæ”¾åœ¨æ‰©å±•è¿ç®—ç¬¦åé¢ï¼Œåˆ™æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨çš„åŒåå±æ€§ä¼šè¢«è¦†ç›–æ‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bar = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> baz = &#123;...bar, ...&#123;<span class="attr">a</span>:<span class="number">2</span>, <span class="attr">b</span>: <span class="number">4</span>&#125;&#125;;  <span class="comment">// &#123;a: 2, b: 4&#125;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åˆ©ç”¨ä¸Šè¿°ç‰¹æ€§å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¿®æ”¹å¯¹è±¡çš„éƒ¨åˆ†å±æ€§ã€‚åœ¨<code>redux</code>ä¸­çš„<code>reducer</code>å‡½æ•°è§„å®šå¿…é¡»æ˜¯<strong>ä¸€ä¸ªçº¯å‡½æ•°</strong>ï¼Œ<code>reducer</code>ä¸­çš„<code>state</code>å¯¹è±¡è¦æ±‚ä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œå¯ä»¥é€šè¿‡æ‰©å±•è¿ç®—ç¬¦æŠŠä¿®æ”¹è·¯å¾„çš„å¯¹è±¡éƒ½å¤åˆ¶ä¸€éï¼Œç„¶åäº§ç”Ÿä¸€ä¸ªæ–°çš„å¯¹è±¡è¿”å›ã€‚</p><p>éœ€è¦æ³¨æ„ï¼š<strong>æ‰©å±•è¿ç®—ç¬¦å¯¹å¯¹è±¡å®ä¾‹çš„æ‹·è´å±äºæµ…æ‹·è´</strong>ã€‚</p><p><strong>ï¼ˆ2ï¼‰æ•°ç»„æ‰©å±•è¿ç®—ç¬¦</strong></p><p>æ•°ç»„çš„æ‰©å±•è¿ç®—ç¬¦å¯ä»¥å°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ï¼Œä¸”æ¯æ¬¡åªèƒ½å±•å¼€ä¸€å±‚æ•°ç»„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(...[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="comment">// 1 2 3</span></span><br><span class="line"><span class="built_in">console</span>.log(...[<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="number">5</span>])</span><br><span class="line"><span class="comment">// 1 [2, 3, 4] 5</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æ•°ç»„çš„æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨ï¼š</p><ul><li><strong>å°†æ•°ç»„è½¬æ¢ä¸ºå‚æ•°åºåˆ—</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">add(...numbers) <span class="comment">// 3</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li><strong>å¤åˆ¶æ•°ç»„</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = [...arr1];</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¦è®°ä½ï¼š<strong>æ‰©å±•è¿ç®—ç¬¦(â€¦)ç”¨äºå–å‡ºå‚æ•°å¯¹è±¡ä¸­çš„æ‰€æœ‰å¯éå†å±æ€§ï¼Œæ‹·è´åˆ°å½“å‰å¯¹è±¡ä¹‹ä¸­</strong>ï¼Œè¿™é‡Œå‚æ•°å¯¹è±¡æ˜¯ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œé¢çš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯åŸºç¡€æ•°æ®ç±»å‹ï¼Œå°†æ‰€æœ‰åŸºç¡€æ•°æ®ç±»å‹é‡æ–°æ‹·è´åˆ°æ–°çš„æ•°ç»„ä¸­ã€‚</p><ul><li><strong>åˆå¹¶æ•°ç»„</strong></li></ul><p>å¦‚æœæƒ³åœ¨æ•°ç»„å†…åˆå¹¶æ•°ç»„ï¼Œå¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>];<span class="keyword">const</span> arr2 = [<span class="string">&#x27;one&#x27;</span>, ...arr1, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;five&#x27;</span>];<span class="comment">// [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;]</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li><strong>æ‰©å±•è¿ç®—ç¬¦ä¸è§£æ„èµ‹å€¼ç»“åˆèµ·æ¥ï¼Œç”¨äºç”Ÿæˆæ•°ç»„</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [first, ...rest] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];first <span class="comment">// 1rest  // [2, 3, 4, 5]</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„ï¼š<strong>å¦‚æœå°†æ‰©å±•è¿ç®—ç¬¦ç”¨äºæ•°ç»„èµ‹å€¼ï¼Œåªèƒ½æ”¾åœ¨å‚æ•°çš„æœ€åä¸€ä½ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [...rest, last] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];         <span class="comment">// æŠ¥é”™const [first, ...rest, last] = [1, 2, 3, 4, 5];  // æŠ¥é”™</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li><strong>å°†å­—ç¬¦ä¸²è½¬ä¸ºçœŸæ­£çš„æ•°ç»„</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[...<span class="string">&#x27;hello&#x27;</span>]    <span class="comment">// [ &quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot; ]</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li><strong>ä»»ä½• Iterator æ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ç”¨æ‰©å±•è¿ç®—ç¬¦è½¬ä¸ºçœŸæ­£çš„æ•°ç»„</strong></li></ul><p>æ¯”è¾ƒå¸¸è§çš„åº”ç”¨æ˜¯å¯ä»¥å°†æŸäº›æ•°æ®ç»“æ„è½¬ä¸ºæ•°ç»„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// argumentså¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> args = [...arguments];</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç”¨äºæ›¿æ¢<code>es5</code>ä¸­çš„<code>Array.prototype.slice.call(arguments)</code>å†™æ³•ã€‚</p><ul><li><strong>ä½¿ç”¨</strong><code>Math</code><strong>å‡½æ•°è·å–æ•°ç»„ä¸­ç‰¹å®šçš„å€¼</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">9</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">1</span>];</span><br><span class="line"><span class="built_in">Math</span>.min(...numbers); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">Math</span>.max(...numbers); <span class="comment">// 9</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="7-Proxy-å¯ä»¥å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ"><a href="#7-Proxy-å¯ä»¥å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ" class="headerlink" title="7. Proxy å¯ä»¥å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ"></a>7. Proxy å¯ä»¥å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ</h3><p>åœ¨ Vue3.0 ä¸­é€šè¿‡ <code>Proxy</code> æ¥æ›¿æ¢åŸæœ¬çš„ <code>Object.defineProperty</code> æ¥å®ç°æ•°æ®å“åº”å¼ã€‚</p><p>Proxy æ˜¯ ES6 ä¸­æ–°å¢çš„åŠŸèƒ½ï¼Œå®ƒå¯ä»¥ç”¨æ¥è‡ªå®šä¹‰å¯¹è±¡ä¸­çš„æ“ä½œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target, handler)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><code>target</code> ä»£è¡¨éœ€è¦æ·»åŠ ä»£ç†çš„å¯¹è±¡ï¼Œ<code>handler</code> ç”¨æ¥è‡ªå®šä¹‰å¯¹è±¡ä¸­çš„æ“ä½œï¼Œæ¯”å¦‚å¯ä»¥ç”¨æ¥è‡ªå®šä¹‰ <code>set</code> æˆ–è€… <code>get</code> å‡½æ•°ã€‚</p><p>ä¸‹é¢æ¥é€šè¿‡ <code>Proxy</code> æ¥å®ç°ä¸€ä¸ªæ•°æ®å“åº”å¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> onWatch = <span class="function">(<span class="params">obj, setBind, getLogger</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> handler = &#123;</span><br><span class="line">    <span class="function"><span class="title">get</span>(<span class="params">target, property, receiver</span>)</span> &#123;</span><br><span class="line">      getLogger(target, property)</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(target, property, receiver)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">set</span>(<span class="params">target, property, value, receiver</span>)</span> &#123;</span><br><span class="line">      setBind(value, property)</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(target, property, value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Proxy</span>(obj, handler)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">let</span> p = onWatch(</span><br><span class="line">  obj,</span><br><span class="line">  <span class="function">(<span class="params">v, property</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`ç›‘å¬åˆ°å±æ€§<span class="subst">$&#123;property&#125;</span>æ”¹å˜ä¸º<span class="subst">$&#123;v&#125;</span>`</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">target, property</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`&#x27;<span class="subst">$&#123;property&#125;</span>&#x27; = <span class="subst">$&#123;target[property]&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line">p.a = <span class="number">2</span> <span class="comment">// ç›‘å¬åˆ°å±æ€§aæ”¹å˜</span></span><br><span class="line">p.a <span class="comment">// &#x27;a&#x27; = 2</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œé€šè¿‡è‡ªå®šä¹‰ <code>set</code> å’Œ <code>get</code> å‡½æ•°çš„æ–¹å¼ï¼Œåœ¨åŸæœ¬çš„é€»è¾‘ä¸­æ’å…¥äº†æˆ‘ä»¬çš„å‡½æ•°é€»è¾‘ï¼Œå®ç°äº†åœ¨å¯¹å¯¹è±¡ä»»ä½•å±æ€§è¿›è¡Œè¯»å†™æ—¶å‘å‡ºé€šçŸ¥ã€‚</p><p>å½“ç„¶è¿™æ˜¯ç®€å•ç‰ˆçš„å“åº”å¼å®ç°ï¼Œå¦‚æœéœ€è¦å®ç°ä¸€ä¸ª Vue ä¸­çš„å“åº”å¼ï¼Œéœ€è¦åœ¨ <code>get</code> ä¸­æ”¶é›†ä¾èµ–ï¼Œåœ¨ <code>set</code> æ´¾å‘æ›´æ–°ï¼Œä¹‹æ‰€ä»¥ Vue3.0 è¦ä½¿ç”¨ <code>Proxy</code> æ›¿æ¢åŸæœ¬çš„ API åŸå› åœ¨äº <code>Proxy</code> æ— éœ€ä¸€å±‚å±‚é€’å½’ä¸ºæ¯ä¸ªå±æ€§æ·»åŠ ä»£ç†ï¼Œä¸€æ¬¡å³å¯å®Œæˆä»¥ä¸Šæ“ä½œï¼Œæ€§èƒ½ä¸Šæ›´å¥½ï¼Œå¹¶ä¸”åŸæœ¬çš„å®ç°æœ‰ä¸€äº›æ•°æ®æ›´æ–°ä¸èƒ½ç›‘å¬åˆ°ï¼Œä½†æ˜¯ <code>Proxy</code> å¯ä»¥å®Œç¾ç›‘å¬åˆ°ä»»ä½•æ–¹å¼çš„æ•°æ®æ”¹å˜ï¼Œå”¯ä¸€ç¼ºé™·å°±æ˜¯æµè§ˆå™¨çš„å…¼å®¹æ€§ä¸å¥½ã€‚</p><h3 id="8-å¯¹å¯¹è±¡ä¸æ•°ç»„çš„è§£æ„çš„ç†è§£"><a href="#8-å¯¹å¯¹è±¡ä¸æ•°ç»„çš„è§£æ„çš„ç†è§£" class="headerlink" title="8. å¯¹å¯¹è±¡ä¸æ•°ç»„çš„è§£æ„çš„ç†è§£"></a>8. å¯¹å¯¹è±¡ä¸æ•°ç»„çš„è§£æ„çš„ç†è§£</h3><p>è§£æ„æ˜¯ ES6 æä¾›çš„ä¸€ç§æ–°çš„æå–æ•°æ®çš„æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼èƒ½å¤Ÿä»å¯¹è±¡æˆ–æ•°ç»„é‡Œæœ‰é’ˆå¯¹æ€§åœ°æ‹¿åˆ°æƒ³è¦çš„æ•°å€¼ã€‚ <strong>1ï¼‰æ•°ç»„çš„è§£æ„</strong> åœ¨è§£æ„æ•°ç»„æ—¶ï¼Œä»¥å…ƒç´ çš„ä½ç½®ä¸ºåŒ¹é…æ¡ä»¶æ¥æå–æƒ³è¦çš„æ•°æ®çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æœ€ç»ˆï¼Œaã€bã€cåˆ†åˆ«è¢«èµ‹äºˆäº†æ•°ç»„ç¬¬0ã€1ã€2ä¸ªç´¢å¼•ä½çš„å€¼ï¼š <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221929067.webp" alt="img"> æ•°ç»„é‡Œçš„0ã€1ã€2ç´¢å¼•ä½çš„å…ƒç´ å€¼ï¼Œç²¾å‡†åœ°è¢«æ˜ å°„åˆ°äº†å·¦ä¾§çš„ç¬¬0ã€1ã€2ä¸ªå˜é‡é‡Œå»ï¼Œè¿™å°±æ˜¯æ•°ç»„è§£æ„çš„å·¥ä½œæ¨¡å¼ã€‚è¿˜å¯ä»¥é€šè¿‡ç»™å·¦ä¾§å˜é‡æ•°ç»„è®¾ç½®ç©ºå ä½çš„æ–¹å¼ï¼Œå®ç°å¯¹æ•°ç»„ä¸­æŸå‡ ä¸ªå…ƒç´ çš„ç²¾å‡†æå–ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a,,c] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>é€šè¿‡æŠŠä¸­é—´ä½ç•™ç©ºï¼Œå¯ä»¥é¡ºåˆ©åœ°æŠŠæ•°ç»„ç¬¬ä¸€ä½å’Œæœ€åä¸€ä½çš„å€¼èµ‹ç»™ aã€c ä¸¤ä¸ªå˜é‡ï¼š <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221929660.webp" alt="img"></p><p><strong>2ï¼‰å¯¹è±¡çš„è§£æ„</strong> å¯¹è±¡è§£æ„æ¯”æ•°ç»„ç»“æ„ç¨å¾®å¤æ‚ä¸€äº›ï¼Œä¹Ÿæ›´æ˜¾å¼ºå¤§ã€‚åœ¨è§£æ„å¯¹è±¡æ—¶ï¼Œæ˜¯ä»¥å±æ€§çš„åç§°ä¸ºåŒ¹é…æ¡ä»¶ï¼Œæ¥æå–æƒ³è¦çš„æ•°æ®çš„ã€‚ç°åœ¨å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> stu = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Bob&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">24</span></span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å‡å¦‚æƒ³è¦è§£æ„å®ƒçš„ä¸¤ä¸ªè‡ªæœ‰å±æ€§ï¼Œå¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; name, age &#125; = stu</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¾—åˆ°äº† name å’Œ age ä¸¤ä¸ªå’Œ stu å¹³çº§çš„å˜é‡ï¼š <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221929625.webp" alt="img"></p><p>æ³¨æ„ï¼Œå¯¹è±¡è§£æ„ä¸¥æ ¼ä»¥å±æ€§åä½œä¸ºå®šä½ä¾æ®ï¼Œæ‰€ä»¥å°±ç®—è°ƒæ¢äº† name å’Œ age çš„ä½ç½®ï¼Œç»“æœä¹Ÿæ˜¯ä¸€æ ·çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; age, name &#125; = stu</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="9-å¦‚ä½•æå–é«˜åº¦åµŒå¥—çš„å¯¹è±¡é‡Œçš„æŒ‡å®šå±æ€§ï¼Ÿ"><a href="#9-å¦‚ä½•æå–é«˜åº¦åµŒå¥—çš„å¯¹è±¡é‡Œçš„æŒ‡å®šå±æ€§ï¼Ÿ" class="headerlink" title="9. å¦‚ä½•æå–é«˜åº¦åµŒå¥—çš„å¯¹è±¡é‡Œçš„æŒ‡å®šå±æ€§ï¼Ÿ"></a>9. <strong>å¦‚ä½•æå–é«˜åº¦åµŒå¥—çš„å¯¹è±¡é‡Œçš„æŒ‡å®šå±æ€§ï¼Ÿ</strong></h3><p>æœ‰æ—¶ä¼šé‡åˆ°ä¸€äº›åµŒå¥—ç¨‹åº¦éå¸¸æ·±çš„å¯¹è±¡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> school = &#123;</span><br><span class="line">   <span class="attr">classes</span>: &#123;</span><br><span class="line">      <span class="attr">stu</span>: &#123;</span><br><span class="line">         <span class="attr">name</span>: <span class="string">&#x27;Bob&#x27;</span>,</span><br><span class="line">         <span class="attr">age</span>: <span class="number">24</span>,</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åƒæ­¤å¤„çš„ name è¿™ä¸ªå˜é‡ï¼ŒåµŒå¥—äº†å››å±‚ï¼Œæ­¤æ—¶å¦‚æœä»ç„¶å°è¯•è€æ–¹æ³•æ¥æå–å®ƒï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; name &#125; = school</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ˜¾ç„¶æ˜¯ä¸å¥æ•ˆçš„ï¼Œå› ä¸º school è¿™ä¸ªå¯¹è±¡æœ¬èº«æ˜¯æ²¡æœ‰ name è¿™ä¸ªå±æ€§çš„ï¼Œname ä½äº school å¯¹è±¡çš„â€œå„¿å­çš„å„¿å­â€å¯¹è±¡é‡Œé¢ã€‚è¦æƒ³æŠŠ name æå–å‡ºæ¥ï¼Œä¸€ç§æ¯”è¾ƒç¬¨çš„æ–¹æ³•æ˜¯é€å±‚è§£æ„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; classes &#125; = school</span><br><span class="line"><span class="keyword">const</span> &#123; stu &#125; = classes</span><br><span class="line"><span class="keyword">const</span> &#123; name &#125; = stu</span><br><span class="line">name <span class="comment">// &#x27;Bob&#x27;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿˜æœ‰ä¸€ç§æ›´æ ‡å‡†çš„åšæ³•ï¼Œå¯ä»¥ç”¨ä¸€è¡Œä»£ç æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="attr">classes</span>: &#123; <span class="attr">stu</span>: &#123; name &#125; &#125;&#125; = school</span><br><span class="line">       </span><br><span class="line"><span class="built_in">console</span>.log(name)  <span class="comment">// &#x27;Bob&#x27;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨è§£æ„å‡ºæ¥çš„å˜é‡åå³ä¾§ï¼Œé€šè¿‡å†’å·+{ç›®æ ‡å±æ€§å}è¿™ç§å½¢å¼ï¼Œè¿›ä¸€æ­¥è§£æ„å®ƒï¼Œä¸€ç›´è§£æ„åˆ°æ‹¿åˆ°ç›®æ ‡æ•°æ®ä¸ºæ­¢ã€‚</p><h3 id="10-å¯¹-rest-å‚æ•°çš„ç†è§£"><a href="#10-å¯¹-rest-å‚æ•°çš„ç†è§£" class="headerlink" title="10. å¯¹ rest å‚æ•°çš„ç†è§£"></a>10. å¯¹ rest å‚æ•°çš„ç†è§£</h3><p>æ‰©å±•è¿ç®—ç¬¦è¢«ç”¨åœ¨å‡½æ•°å½¢å‚ä¸Šæ—¶ï¼Œ<strong>å®ƒè¿˜å¯ä»¥æŠŠä¸€ä¸ªåˆ†ç¦»çš„å‚æ•°åºåˆ—æ•´åˆæˆä¸€ä¸ªæ•°ç»„</strong>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mutiple</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> val <span class="keyword">of</span> args) &#123;</span><br><span class="line">    result *= val;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">mutiple(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>) <span class="comment">// 24</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œä¼ å…¥ mutiple çš„æ˜¯å››ä¸ªåˆ†ç¦»çš„å‚æ•°ï¼Œä½†æ˜¯å¦‚æœåœ¨ mutiple å‡½æ•°é‡Œå°è¯•è¾“å‡º args çš„å€¼ï¼Œä¼šå‘ç°å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mutiple</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(args)</span><br><span class="line">&#125;</span><br><span class="line">mutiple(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>) <span class="comment">// [1, 2, 3, 4]</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™å°±æ˜¯ â€¦ restè¿ç®—ç¬¦çš„åˆä¸€å±‚å¨åŠ›äº†ï¼Œå®ƒå¯ä»¥æŠŠå‡½æ•°çš„å¤šä¸ªå…¥å‚æ”¶æ•›è¿›ä¸€ä¸ªæ•°ç»„é‡Œã€‚è¿™ä¸€ç‚¹<strong>ç»å¸¸ç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œæˆ–è€…åƒä¸Šé¢è¿™æ ·å¤„ç†å‡½æ•°å‚æ•°ä¸ªæ•°ä¸ç¡®å®šçš„æƒ…å†µã€‚</strong></p><h3 id="11-ES6ä¸­æ¨¡æ¿è¯­æ³•ä¸å­—ç¬¦ä¸²å¤„ç†"><a href="#11-ES6ä¸­æ¨¡æ¿è¯­æ³•ä¸å­—ç¬¦ä¸²å¤„ç†" class="headerlink" title="11. ES6ä¸­æ¨¡æ¿è¯­æ³•ä¸å­—ç¬¦ä¸²å¤„ç†"></a>11. ES6ä¸­æ¨¡æ¿è¯­æ³•ä¸å­—ç¬¦ä¸²å¤„ç†</h3><p>ES6 æå‡ºäº†â€œæ¨¡æ¿è¯­æ³•â€çš„æ¦‚å¿µã€‚åœ¨ ES6 ä»¥å‰ï¼Œæ‹¼æ¥å­—ç¬¦ä¸²æ˜¯å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;css&#x27;</span>   </span><br><span class="line"><span class="keyword">var</span> career = <span class="string">&#x27;coder&#x27;</span> </span><br><span class="line"><span class="keyword">var</span> hobby = [<span class="string">&#x27;coding&#x27;</span>, <span class="string">&#x27;writing&#x27;</span>]</span><br><span class="line"><span class="keyword">var</span> finalString = <span class="string">&#x27;my name is &#x27;</span> + name + <span class="string">&#x27;, I work as a &#x27;</span> + career + <span class="string">&#x27;, I love &#x27;</span> + hobby[<span class="number">0</span>] + <span class="string">&#x27; and &#x27;</span> + hobby[<span class="number">1</span>]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä»…ä»…å‡ ä¸ªå˜é‡ï¼Œå†™äº†è¿™ä¹ˆå¤šåŠ å·ï¼Œè¿˜è¦æ—¶åˆ»å°å¿ƒé‡Œé¢çš„ç©ºæ ¼å’Œæ ‡ç‚¹ç¬¦å·æœ‰æ²¡æœ‰è·Ÿé”™åœ°æ–¹ã€‚ä½†æ˜¯æœ‰äº†æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œæ‹¼æ¥éš¾åº¦ç›´çº¿ä¸‹é™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;css&#x27;</span>   </span><br><span class="line"><span class="keyword">var</span> career = <span class="string">&#x27;coder&#x27;</span> </span><br><span class="line"><span class="keyword">var</span> hobby = [<span class="string">&#x27;coding&#x27;</span>, <span class="string">&#x27;writing&#x27;</span>]</span><br><span class="line"><span class="keyword">var</span> finalString = <span class="string">`my name is <span class="subst">$&#123;name&#125;</span>, I work as a <span class="subst">$&#123;career&#125;</span> I love <span class="subst">$&#123;hobby[<span class="number">0</span>]&#125;</span> and <span class="subst">$&#123;hobby[<span class="number">1</span>]&#125;</span>`</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²ä¸ä»…æ›´å®¹æ˜“æ‹¼äº†ï¼Œä¹Ÿæ›´æ˜“è¯»äº†ï¼Œä»£ç æ•´ä½“çš„è´¨é‡éƒ½å˜é«˜äº†ã€‚è¿™å°±æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªä¼˜åŠ¿â€”â€”å…è®¸ç”¨${}çš„æ–¹å¼åµŒå…¥å˜é‡ã€‚ä½†è¿™è¿˜ä¸æ˜¯é—®é¢˜çš„å…³é”®ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²çš„å…³é”®ä¼˜åŠ¿æœ‰ä¸¤ä¸ªï¼š</p><ul><li>åœ¨æ¨¡æ¿å­—ç¬¦ä¸²ä¸­ï¼Œç©ºæ ¼ã€ç¼©è¿›ã€æ¢è¡Œéƒ½ä¼šè¢«ä¿ç•™</li><li>æ¨¡æ¿å­—ç¬¦ä¸²å®Œå…¨æ”¯æŒâ€œè¿ç®—â€å¼çš„è¡¨è¾¾å¼ï¼Œå¯ä»¥åœ¨${}é‡Œå®Œæˆä¸€äº›è®¡ç®—</li></ul><p>åŸºäºç¬¬ä¸€ç‚¹ï¼Œå¯ä»¥åœ¨æ¨¡æ¿å­—ç¬¦ä¸²é‡Œæ— éšœç¢åœ°ç›´æ¥å†™ html ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;ul&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;åˆ—è¡¨é¡¹1&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;åˆ—è¡¨é¡¹2&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"><span class="built_in">console</span>.log(message); <span class="comment">// æ­£ç¡®è¾“å‡ºï¼Œä¸å­˜åœ¨æŠ¥é”™</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åŸºäºç¬¬äºŒç‚¹ï¼Œå¯ä»¥æŠŠä¸€äº›ç®€å•çš„è®¡ç®—å’Œè°ƒç”¨ä¸¢è¿› ${} æ¥åšï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> finalString = <span class="string">`<span class="subst">$&#123;a&#125;</span> + <span class="subst">$&#123;b&#125;</span> = <span class="subst">$&#123;a+b&#125;</span>`</span></span><br><span class="line">  <span class="built_in">console</span>.log(finalString)</span><br><span class="line">&#125;</span><br><span class="line">add(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">// è¾“å‡º &#x27;1 + 2 = 3&#x27;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>é™¤äº†æ¨¡æ¿è¯­æ³•å¤–ï¼Œ ES6ä¸­è¿˜æ–°å¢äº†ä¸€ç³»åˆ—çš„å­—ç¬¦ä¸²æ–¹æ³•ç”¨äºæå‡å¼€å‘æ•ˆç‡ï¼š</p><p>ï¼ˆ1ï¼‰<strong>å­˜åœ¨æ€§åˆ¤å®š</strong>ï¼šåœ¨è¿‡å»ï¼Œå½“åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦/å­—ç¬¦ä¸²æ˜¯å¦åœ¨æŸå­—ç¬¦ä¸²ä¸­æ—¶ï¼Œåªèƒ½ç”¨ indexOf &gt; -1 æ¥åšã€‚ç°åœ¨ ES6 æä¾›äº†ä¸‰ä¸ªæ–¹æ³•ï¼šincludesã€startsWithã€endsWithï¼Œå®ƒä»¬éƒ½ä¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼æ¥å‘Šè¯‰ä½ æ˜¯å¦å­˜åœ¨ã€‚</p><ul><li><strong>includes</strong>ï¼šåˆ¤æ–­å­—ç¬¦ä¸²ä¸å­ä¸²çš„åŒ…å«å…³ç³»ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> son = <span class="string">&#x27;haha&#x27;</span> </span><br><span class="line"><span class="keyword">const</span> father = <span class="string">&#x27;xixi haha hehe&#x27;</span></span><br><span class="line">father.includes(son) <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li><strong>startsWith</strong>ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŸä¸ª/æŸä¸²å­—ç¬¦å¼€å¤´ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> father = <span class="string">&#x27;xixi haha hehe&#x27;</span></span><br><span class="line">father.startsWith(<span class="string">&#x27;haha&#x27;</span>) <span class="comment">// false</span></span><br><span class="line">father.startsWith(<span class="string">&#x27;xixi&#x27;</span>) <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li><strong>endsWith</strong>ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŸä¸ª/æŸä¸²å­—ç¬¦ç»“å°¾ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> father = <span class="string">&#x27;xixi haha hehe&#x27;</span></span><br><span class="line">  father.endsWith(<span class="string">&#x27;hehe&#x27;</span>) <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰<strong>è‡ªåŠ¨é‡å¤</strong>ï¼šå¯ä»¥ä½¿ç”¨ repeat æ–¹æ³•æ¥ä½¿åŒä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºå¤šæ¬¡ï¼ˆè¢«è¿ç»­å¤åˆ¶å¤šæ¬¡ï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sourceCode = <span class="string">&#x27;repeat for 3 times;&#x27;</span></span><br><span class="line"><span class="keyword">const</span> repeated = sourceCode.repeat(<span class="number">3</span>) </span><br><span class="line"><span class="built_in">console</span>.log(repeated) <span class="comment">// repeat for 3 times;repeat for 3 times;repeat for 3 times;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€JavaScriptåŸºç¡€"><a href="#ä¸‰ã€JavaScriptåŸºç¡€" class="headerlink" title="ä¸‰ã€JavaScriptåŸºç¡€"></a>ä¸‰ã€JavaScriptåŸºç¡€</h2><h3 id="1-newæ“ä½œç¬¦çš„å®ç°åŸç†"><a href="#1-newæ“ä½œç¬¦çš„å®ç°åŸç†" class="headerlink" title="1. newæ“ä½œç¬¦çš„å®ç°åŸç†"></a>1. newæ“ä½œç¬¦çš„å®ç°åŸç†</h3><p><strong>newæ“ä½œç¬¦çš„æ‰§è¡Œè¿‡ç¨‹ï¼š</strong></p><p>ï¼ˆ1ï¼‰é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡</p><p>ï¼ˆ2ï¼‰è®¾ç½®åŸå‹ï¼Œå°†å¯¹è±¡çš„åŸå‹è®¾ç½®ä¸ºå‡½æ•°çš„ prototype å¯¹è±¡ã€‚</p><p>ï¼ˆ3ï¼‰è®©å‡½æ•°çš„ this æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œæ‰§è¡Œæ„é€ å‡½æ•°çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰</p><p>ï¼ˆ4ï¼‰åˆ¤æ–­å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œå¦‚æœæ˜¯å€¼ç±»å‹ï¼Œè¿”å›åˆ›å»ºçš„å¯¹è±¡ã€‚å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±è¿”å›è¿™ä¸ªå¼•ç”¨ç±»å‹çš„å¯¹è±¡ã€‚</p><p>å…·ä½“å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">objectFactory</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> newObject = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">let</span> <span class="title">constructor</span> = <span class="title">Array</span>.<span class="title">prototype</span>.<span class="title">shift</span>.<span class="title">call</span>(<span class="params"><span class="built_in">arguments</span></span>);</span><br><span class="line">  <span class="keyword">let</span> result = <span class="literal">null</span>;</span><br><span class="line">  <span class="comment">// åˆ¤æ–­å‚æ•°æ˜¯å¦æ˜¯ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="title">constructor</span> !== &quot;<span class="title">function</span>&quot;) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">&quot;type error&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ–°å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¯¹è±¡çš„åŸå‹ä¸ºæ„é€ å‡½æ•°çš„ prototype å¯¹è±¡</span></span><br><span class="line">  newObject = <span class="built_in">Object</span>.create(<span class="title">constructor</span>.<span class="title">prototype</span>);</span><br><span class="line">  <span class="comment">// å°† this æŒ‡å‘æ–°å»ºå¯¹è±¡ï¼Œå¹¶æ‰§è¡Œå‡½æ•°</span></span><br><span class="line">  result = <span class="title">constructor</span>.<span class="title">apply</span>(<span class="params">newObject, <span class="built_in">arguments</span></span>);</span><br><span class="line">  <span class="comment">// åˆ¤æ–­è¿”å›å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">let</span> flag = result &amp;&amp; (<span class="keyword">typeof</span> result === <span class="string">&quot;object&quot;</span> || <span class="keyword">typeof</span> result === <span class="string">&quot;function&quot;</span>);</span><br><span class="line">  <span class="comment">// åˆ¤æ–­è¿”å›ç»“æœ</span></span><br><span class="line">  <span class="keyword">return</span> flag ? result : newObject;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½¿ç”¨æ–¹æ³•</span></span><br><span class="line">objectFactory(æ„é€ å‡½æ•°, åˆå§‹åŒ–å‚æ•°);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="2-mapå’ŒObjectçš„åŒºåˆ«"><a href="#2-mapå’ŒObjectçš„åŒºåˆ«" class="headerlink" title="2. mapå’ŒObjectçš„åŒºåˆ«"></a>2. mapå’ŒObjectçš„åŒºåˆ«</h3><table><thead><tr><th></th><th>Map</th><th>Object</th></tr></thead><tbody><tr><td>æ„å¤–çš„é”®</td><td>Mapé»˜è®¤æƒ…å†µä¸åŒ…å«ä»»ä½•é”®ï¼ŒåªåŒ…å«æ˜¾å¼æ’å…¥çš„é”®ã€‚</td><td>Object æœ‰ä¸€ä¸ªåŸå‹, åŸå‹é“¾ä¸Šçš„é”®åæœ‰å¯èƒ½å’Œè‡ªå·±åœ¨å¯¹è±¡ä¸Šçš„è®¾ç½®çš„é”®åäº§ç”Ÿå†²çªã€‚</td></tr><tr><td>é”®çš„ç±»å‹</td><td>Mapçš„é”®å¯ä»¥æ˜¯ä»»æ„å€¼ï¼ŒåŒ…æ‹¬å‡½æ•°ã€å¯¹è±¡æˆ–ä»»æ„åŸºæœ¬ç±»å‹ã€‚</td><td>Object çš„é”®å¿…é¡»æ˜¯ String æˆ–æ˜¯Symbolã€‚</td></tr><tr><td>é”®çš„é¡ºåº</td><td>Map ä¸­çš„ key æ˜¯æœ‰åºçš„ã€‚å› æ­¤ï¼Œå½“è¿­ä»£çš„æ—¶å€™ï¼Œ Map å¯¹è±¡ä»¥æ’å…¥çš„é¡ºåºè¿”å›é”®å€¼ã€‚</td><td>Object çš„é”®æ˜¯æ— åºçš„</td></tr><tr><td>Size</td><td>Map çš„é”®å€¼å¯¹ä¸ªæ•°å¯ä»¥è½»æ˜“åœ°é€šè¿‡size å±æ€§è·å–</td><td>Object çš„é”®å€¼å¯¹ä¸ªæ•°åªèƒ½æ‰‹åŠ¨è®¡ç®—</td></tr><tr><td>è¿­ä»£</td><td>Map æ˜¯ iterable çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è¢«è¿­ä»£ã€‚</td><td>è¿­ä»£Objectéœ€è¦ä»¥æŸç§æ–¹å¼è·å–å®ƒçš„é”®ç„¶åæ‰èƒ½è¿­ä»£ã€‚</td></tr><tr><td>æ€§èƒ½</td><td>åœ¨é¢‘ç¹å¢åˆ é”®å€¼å¯¹çš„åœºæ™¯ä¸‹è¡¨ç°æ›´å¥½ã€‚</td><td>åœ¨é¢‘ç¹æ·»åŠ å’Œåˆ é™¤é”®å€¼å¯¹çš„åœºæ™¯ä¸‹æœªä½œå‡ºä¼˜åŒ–ã€‚</td></tr></tbody></table><h3 id="3-mapå’ŒweakMapçš„åŒºåˆ«"><a href="#3-mapå’ŒweakMapçš„åŒºåˆ«" class="headerlink" title="3. mapå’ŒweakMapçš„åŒºåˆ«"></a>3. mapå’ŒweakMapçš„åŒºåˆ«</h3><p><strong>ï¼ˆ1ï¼‰Map</strong> mapæœ¬è´¨ä¸Šå°±æ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯æ™®é€šçš„Objectä¸­çš„é”®å€¼å¯¹ä¸­çš„é”®åªèƒ½æ˜¯å­—ç¬¦ä¸²ã€‚è€ŒES6æä¾›çš„Mapæ•°æ®ç»“æ„ç±»ä¼¼äºå¯¹è±¡ï¼Œä½†æ˜¯å®ƒçš„é”®ä¸é™åˆ¶èŒƒå›´ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œæ˜¯ä¸€ç§æ›´åŠ å®Œå–„çš„Hashç»“æ„ã€‚å¦‚æœMapçš„é”®æ˜¯ä¸€ä¸ªåŸå§‹æ•°æ®ç±»å‹ï¼Œåªè¦ä¸¤ä¸ªé”®ä¸¥æ ¼ç›¸åŒï¼Œå°±è§†ä¸ºæ˜¯åŒä¸€ä¸ªé”®ã€‚</p><p>å®é™…ä¸ŠMapæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„æ¯ä¸€ä¸ªæ•°æ®ä¹Ÿéƒ½æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶å½¢å¼å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = [</span><br><span class="line">     [<span class="string">&quot;name&quot;</span>,<span class="string">&quot;å¼ ä¸‰&quot;</span>],</span><br><span class="line">     [<span class="string">&quot;age&quot;</span>,<span class="number">18</span>],</span><br><span class="line">]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>Mapæ•°æ®ç»“æ„æœ‰ä»¥ä¸‹æ“ä½œæ–¹æ³•ï¼š</p><ul><li><strong>size</strong>ï¼š <code>map.size</code> è¿”å›Mapç»“æ„çš„æˆå‘˜æ€»æ•°ã€‚</li><li>**set(key,value)**ï¼šè®¾ç½®é”®åkeyå¯¹åº”çš„é”®å€¼valueï¼Œç„¶åè¿”å›æ•´ä¸ªMapç»“æ„ï¼Œå¦‚æœkeyå·²ç»æœ‰å€¼ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®ã€‚ï¼ˆå› ä¸ºè¿”å›çš„æ˜¯å½“å‰Mapå¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥é“¾å¼è°ƒç”¨ï¼‰</li><li>**get(key)**ï¼šè¯¥æ–¹æ³•è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°keyï¼Œè¿”å›undefinedã€‚</li><li>**has(key)**ï¼šè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰Mapå¯¹è±¡ä¸­ã€‚</li><li>**delete(key)**ï¼šè¯¥æ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›trueï¼Œå¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›falseã€‚</li><li>**clear()**ï¼šmap.clear()æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</li></ul><p>Mapç»“æ„åŸç”Ÿæä¾›æ˜¯ä¸‰ä¸ªéå†å™¨ç”Ÿæˆå‡½æ•°å’Œä¸€ä¸ªéå†æ–¹æ³•</p><ul><li>keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚</li><li>values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚</li><li>entries()ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚</li><li>forEach()ï¼šéå†Mapçš„æ‰€æœ‰æˆå‘˜ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">     [<span class="string">&quot;foo&quot;</span>,<span class="number">1</span>],</span><br><span class="line">     [<span class="string">&quot;bar&quot;</span>,<span class="number">2</span>],</span><br><span class="line">])</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">of</span> map.keys())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key);  <span class="comment">// foo bar</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> value <span class="keyword">of</span> map.values())&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(value); <span class="comment">// 1 2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> items <span class="keyword">of</span> map.entries())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(items);  <span class="comment">// [&quot;foo&quot;,1]  [&quot;bar&quot;,2]</span></span><br><span class="line">&#125;</span><br><span class="line">map.forEach( <span class="function">(<span class="params">value,key,map</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(key,value); <span class="comment">// foo 1    bar 2</span></span><br><span class="line">&#125;)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰WeakMap</strong> WeakMap å¯¹è±¡ä¹Ÿæ˜¯ä¸€ç»„é”®å€¼å¯¹çš„é›†åˆï¼Œå…¶ä¸­çš„é”®æ˜¯å¼±å¼•ç”¨çš„ã€‚<strong>å…¶é”®å¿…é¡»æ˜¯å¯¹è±¡</strong>ï¼ŒåŸå§‹æ•°æ®ç±»å‹ä¸èƒ½ä½œä¸ºkeyå€¼ï¼Œè€Œå€¼å¯ä»¥æ˜¯ä»»æ„çš„ã€‚</p><p>è¯¥å¯¹è±¡ä¹Ÿæœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š</p><ul><li>**set(key,value)**ï¼šè®¾ç½®é”®åkeyå¯¹åº”çš„é”®å€¼valueï¼Œç„¶åè¿”å›æ•´ä¸ªMapç»“æ„ï¼Œå¦‚æœkeyå·²ç»æœ‰å€¼ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®ã€‚ï¼ˆå› ä¸ºè¿”å›çš„æ˜¯å½“å‰Mapå¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥é“¾å¼è°ƒç”¨ï¼‰</li><li>**get(key)**ï¼šè¯¥æ–¹æ³•è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°keyï¼Œè¿”å›undefinedã€‚</li><li>**has(key)**ï¼šè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰Mapå¯¹è±¡ä¸­ã€‚</li><li>**delete(key)**ï¼šè¯¥æ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›trueï¼Œå¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›falseã€‚</li></ul><p>å…¶clear()æ–¹æ³•å·²ç»è¢«å¼ƒç”¨ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªç©ºçš„WeakMapå¹¶æ›¿æ¢åŸå¯¹è±¡æ¥å®ç°æ¸…é™¤ã€‚</p><p>WeakMapçš„è®¾è®¡ç›®çš„åœ¨äºï¼Œæœ‰æ—¶æƒ³åœ¨æŸä¸ªå¯¹è±¡ä¸Šé¢å­˜æ”¾ä¸€äº›æ•°æ®ï¼Œä½†æ˜¯è¿™ä¼šå½¢æˆå¯¹äºè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚ä¸€æ—¦ä¸å†éœ€è¦è¿™ä¸¤ä¸ªå¯¹è±¡ï¼Œå°±å¿…é¡»æ‰‹åŠ¨åˆ é™¤è¿™ä¸ªå¼•ç”¨ï¼Œå¦åˆ™åƒåœ¾å›æ”¶æœºåˆ¶å°±ä¸ä¼šé‡Šæ”¾å¯¹è±¡å ç”¨çš„å†…å­˜ã€‚</p><p>è€ŒWeakMapçš„<strong>é”®åæ‰€å¼•ç”¨çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨</strong>ï¼Œå³åƒåœ¾å›æ”¶æœºåˆ¶ä¸å°†è¯¥å¼•ç”¨è€ƒè™‘åœ¨å†…ã€‚å› æ­¤ï¼Œåªè¦æ‰€å¼•ç”¨çš„å¯¹è±¡çš„å…¶ä»–å¼•ç”¨éƒ½è¢«æ¸…é™¤ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶å°±ä¼šé‡Šæ”¾è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ä¸å†éœ€è¦ï¼ŒWeakMap é‡Œé¢çš„<strong>é”®åå¯¹è±¡å’Œæ‰€å¯¹åº”çš„é”®å€¼å¯¹ä¼šè‡ªåŠ¨æ¶ˆå¤±ï¼Œä¸ç”¨æ‰‹åŠ¨åˆ é™¤å¼•ç”¨</strong>ã€‚</p><p><strong>æ€»ç»“ï¼š</strong></p><ul><li>Map æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚</li><li>WeakMap ç»“æ„ä¸ Map ç»“æ„ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨äºç”Ÿæˆé”®å€¼å¯¹çš„é›†åˆã€‚ä½†æ˜¯ WeakMap åªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆ null é™¤å¤–ï¼‰ï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºé”®åã€‚è€Œä¸” WeakMap çš„é”®åæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶ã€‚</li></ul><h3 id="4-JavaScriptæœ‰å“ªäº›å†…ç½®å¯¹è±¡"><a href="#4-JavaScriptæœ‰å“ªäº›å†…ç½®å¯¹è±¡" class="headerlink" title="4. JavaScriptæœ‰å“ªäº›å†…ç½®å¯¹è±¡"></a>4. JavaScriptæœ‰å“ªäº›å†…ç½®å¯¹è±¡</h3><p>å…¨å±€çš„å¯¹è±¡ï¼ˆ global objects ï¼‰æˆ–ç§°æ ‡å‡†å†…ç½®å¯¹è±¡ï¼Œä¸è¦å’Œ â€œå…¨å±€å¯¹è±¡ï¼ˆglobal objectï¼‰â€ æ··æ·†ã€‚è¿™é‡Œè¯´çš„å…¨å±€çš„å¯¹è±¡æ˜¯è¯´åœ¨ å…¨å±€ä½œç”¨åŸŸé‡Œçš„å¯¹è±¡ã€‚å…¨å±€ä½œç”¨åŸŸä¸­çš„å…¶ä»–å¯¹è±¡å¯ä»¥ç”±ç”¨æˆ·çš„è„šæœ¬åˆ›å»ºæˆ–ç”±å®¿ä¸»ç¨‹åºæä¾›ã€‚</p><p><strong>æ ‡å‡†å†…ç½®å¯¹è±¡çš„åˆ†ç±»ï¼š</strong></p><p>ï¼ˆ1ï¼‰å€¼å±æ€§ï¼Œè¿™äº›å…¨å±€å±æ€§è¿”å›ä¸€ä¸ªç®€å•å€¼ï¼Œè¿™äº›å€¼æ²¡æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚ä¾‹å¦‚ Infinityã€NaNã€undefinedã€null å­—é¢é‡</p><p>ï¼ˆ2ï¼‰å‡½æ•°å±æ€§ï¼Œå…¨å±€å‡½æ•°å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦åœ¨è°ƒç”¨æ—¶æŒ‡å®šæ‰€å±å¯¹è±¡ï¼Œæ‰§è¡Œç»“æŸåä¼šå°†ç»“æœç›´æ¥è¿”å›ç»™è°ƒç”¨è€…ã€‚ä¾‹å¦‚ eval()ã€parseFloat()ã€parseInt() ç­‰</p><p>ï¼ˆ3ï¼‰åŸºæœ¬å¯¹è±¡ï¼ŒåŸºæœ¬å¯¹è±¡æ˜¯å®šä¹‰æˆ–ä½¿ç”¨å…¶ä»–å¯¹è±¡çš„åŸºç¡€ã€‚åŸºæœ¬å¯¹è±¡åŒ…æ‹¬ä¸€èˆ¬å¯¹è±¡ã€å‡½æ•°å¯¹è±¡å’Œé”™è¯¯å¯¹è±¡ã€‚ä¾‹å¦‚ Objectã€Functionã€Booleanã€Symbolã€Error ç­‰</p><p>ï¼ˆ4ï¼‰æ•°å­—å’Œæ—¥æœŸå¯¹è±¡ï¼Œç”¨æ¥è¡¨ç¤ºæ•°å­—ã€æ—¥æœŸå’Œæ‰§è¡Œæ•°å­¦è®¡ç®—çš„å¯¹è±¡ã€‚ä¾‹å¦‚ Numberã€Mathã€Date</p><p>ï¼ˆ5ï¼‰å­—ç¬¦ä¸²ï¼Œç”¨æ¥è¡¨ç¤ºå’Œæ“ä½œå­—ç¬¦ä¸²çš„å¯¹è±¡ã€‚ä¾‹å¦‚ Stringã€RegExp</p><p>ï¼ˆ6ï¼‰å¯ç´¢å¼•çš„é›†åˆå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡è¡¨ç¤ºæŒ‰ç…§ç´¢å¼•å€¼æ¥æ’åºçš„æ•°æ®é›†åˆï¼ŒåŒ…æ‹¬æ•°ç»„å’Œç±»å‹æ•°ç»„ï¼Œä»¥åŠç±»æ•°ç»„ç»“æ„çš„å¯¹è±¡ã€‚ä¾‹å¦‚ Array</p><p>ï¼ˆ7ï¼‰ä½¿ç”¨é”®çš„é›†åˆå¯¹è±¡ï¼Œè¿™äº›é›†åˆå¯¹è±¡åœ¨å­˜å‚¨æ•°æ®æ—¶ä¼šä½¿ç”¨åˆ°é”®ï¼Œæ”¯æŒæŒ‰ç…§æ’å…¥é¡ºåºæ¥è¿­ä»£å…ƒç´ ã€‚ ä¾‹å¦‚ Mapã€Setã€WeakMapã€WeakSet</p><p>ï¼ˆ8ï¼‰çŸ¢é‡é›†åˆï¼ŒSIMD çŸ¢é‡é›†åˆä¸­çš„æ•°æ®ä¼šè¢«ç»„ç»‡ä¸ºä¸€ä¸ªæ•°æ®åºåˆ—ã€‚ ä¾‹å¦‚ SIMD ç­‰</p><p>ï¼ˆ9ï¼‰ç»“æ„åŒ–æ•°æ®ï¼Œè¿™äº›å¯¹è±¡ç”¨æ¥è¡¨ç¤ºå’Œæ“ä½œç»“æ„åŒ–çš„ç¼“å†²åŒºæ•°æ®ï¼Œæˆ–ä½¿ç”¨ JSON ç¼–ç çš„æ•°æ®ã€‚ä¾‹å¦‚ JSON ç­‰</p><p>ï¼ˆ10ï¼‰æ§åˆ¶æŠ½è±¡å¯¹è±¡ ä¾‹å¦‚ Promiseã€Generator ç­‰</p><p>ï¼ˆ11ï¼‰åå°„ã€‚ä¾‹å¦‚ Reflectã€Proxy</p><p>ï¼ˆ12ï¼‰å›½é™…åŒ–ï¼Œä¸ºäº†æ”¯æŒå¤šè¯­è¨€å¤„ç†è€ŒåŠ å…¥ ECMAScript çš„å¯¹è±¡ã€‚ä¾‹å¦‚ Intlã€Intl.Collator ç­‰</p><p>ï¼ˆ13ï¼‰WebAssembly</p><p>ï¼ˆ14ï¼‰å…¶ä»–ã€‚ä¾‹å¦‚ arguments</p><p><strong>æ€»ç»“ï¼š</strong> js ä¸­çš„å†…ç½®å¯¹è±¡ä¸»è¦æŒ‡çš„æ˜¯åœ¨ç¨‹åºæ‰§è¡Œå‰å­˜åœ¨å…¨å±€ä½œç”¨åŸŸé‡Œçš„ç”± js å®šä¹‰çš„ä¸€äº›å…¨å±€å€¼å±æ€§ã€å‡½æ•°å’Œç”¨æ¥å®ä¾‹åŒ–å…¶ä»–å¯¹è±¡çš„æ„é€ å‡½æ•°å¯¹è±¡ã€‚ä¸€èˆ¬ç»å¸¸ç”¨åˆ°çš„å¦‚å…¨å±€å˜é‡å€¼ NaNã€undefinedï¼Œå…¨å±€å‡½æ•°å¦‚ parseInt()ã€parseFloat() ç”¨æ¥å®ä¾‹åŒ–å¯¹è±¡çš„æ„é€ å‡½æ•°å¦‚ Dateã€Object ç­‰ï¼Œè¿˜æœ‰æä¾›æ•°å­¦è®¡ç®—çš„å•ä½“å†…ç½®å¯¹è±¡å¦‚ Math å¯¹è±¡ã€‚</p><h3 id="5-å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æœ‰å“ªäº›ï¼Ÿ"><a href="#5-å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="5. å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æœ‰å“ªäº›ï¼Ÿ"></a>5. å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æœ‰å“ªäº›ï¼Ÿ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ï¼ˆ1ï¼‰åŒ¹é… 16 è¿›åˆ¶é¢œè‰²å€¼</span></span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/#([0-9a-fA-F]&#123;6&#125;|[0-9a-fA-F]&#123;3&#125;)/g</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ï¼ˆ2ï¼‰åŒ¹é…æ—¥æœŸï¼Œå¦‚ yyyy-mm-dd æ ¼å¼</span></span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/^[0-9]&#123;4&#125;-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ï¼ˆ3ï¼‰åŒ¹é… qq å·</span></span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/^[1-9][0-9]&#123;4,10&#125;$/g</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ï¼ˆ4ï¼‰æ‰‹æœºå·ç æ­£åˆ™</span></span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/^1[34578]\d&#123;9&#125;$/g</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ï¼ˆ5ï¼‰ç”¨æˆ·åæ­£åˆ™</span></span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/^[a-zA-Z\$][a-zA-Z0-9_\$]&#123;4,16&#125;$/</span>;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="6-å¯¹JSONçš„ç†è§£"><a href="#6-å¯¹JSONçš„ç†è§£" class="headerlink" title="6. å¯¹JSONçš„ç†è§£"></a>6. å¯¹JSONçš„ç†è§£</h3><p>JSON æ˜¯ä¸€ç§åŸºäºæ–‡æœ¬çš„è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚å®ƒå¯ä»¥è¢«ä»»ä½•çš„ç¼–ç¨‹è¯­è¨€è¯»å–å’Œä½œä¸ºæ•°æ®æ ¼å¼æ¥ä¼ é€’ã€‚</p><p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œä½¿ç”¨ JSON ä½œä¸ºå‰åç«¯æ•°æ®äº¤æ¢çš„æ–¹å¼ã€‚åœ¨å‰ç«¯é€šè¿‡å°†ä¸€ä¸ªç¬¦åˆ JSON æ ¼å¼çš„æ•°æ®ç»“æ„åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²ï¼Œç„¶åå°†å®ƒä¼ é€’åˆ°åç«¯ï¼Œåç«¯é€šè¿‡ JSON æ ¼å¼çš„å­—ç¬¦ä¸²è§£æåç”Ÿæˆå¯¹åº”çš„æ•°æ®ç»“æ„ï¼Œä»¥æ­¤æ¥å®ç°å‰åç«¯æ•°æ®çš„ä¸€ä¸ªä¼ é€’ã€‚</p><p>å› ä¸º JSON çš„è¯­æ³•æ˜¯åŸºäº js çš„ï¼Œå› æ­¤å¾ˆå®¹æ˜“å°† JSON å’Œ js ä¸­çš„å¯¹è±¡å¼„æ··ï¼Œä½†æ˜¯åº”è¯¥æ³¨æ„çš„æ˜¯ JSON å’Œ js ä¸­çš„å¯¹è±¡ä¸æ˜¯ä¸€å›äº‹ï¼ŒJSON ä¸­å¯¹è±¡æ ¼å¼æ›´åŠ ä¸¥æ ¼ï¼Œæ¯”å¦‚è¯´åœ¨ JSON ä¸­å±æ€§å€¼ä¸èƒ½ä¸ºå‡½æ•°ï¼Œä¸èƒ½å‡ºç° NaN è¿™æ ·çš„å±æ€§å€¼ç­‰ï¼Œå› æ­¤å¤§å¤šæ•°çš„ js å¯¹è±¡æ˜¯ä¸ç¬¦åˆ JSON å¯¹è±¡çš„æ ¼å¼çš„ã€‚</p><p>åœ¨ js ä¸­æä¾›äº†ä¸¤ä¸ªå‡½æ•°æ¥å®ç° js æ•°æ®ç»“æ„å’Œ JSON æ ¼å¼çš„è½¬æ¢å¤„ç†ï¼Œ</p><ul><li>JSON.stringify å‡½æ•°ï¼Œé€šè¿‡ä¼ å…¥ä¸€ä¸ªç¬¦åˆ JSON æ ¼å¼çš„æ•°æ®ç»“æ„ï¼Œå°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª JSON å­—ç¬¦ä¸²ã€‚å¦‚æœä¼ å…¥çš„æ•°æ®ç»“æ„ä¸ç¬¦åˆ JSON æ ¼å¼ï¼Œé‚£ä¹ˆåœ¨åºåˆ—åŒ–çš„æ—¶å€™ä¼šå¯¹è¿™äº›å€¼è¿›è¡Œå¯¹åº”çš„ç‰¹æ®Šå¤„ç†ï¼Œä½¿å…¶ç¬¦åˆè§„èŒƒã€‚åœ¨å‰ç«¯å‘åç«¯å‘é€æ•°æ®æ—¶ï¼Œå¯ä»¥è°ƒç”¨è¿™ä¸ªå‡½æ•°å°†æ•°æ®å¯¹è±¡è½¬åŒ–ä¸º JSON æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚</li><li>JSON.parse() å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ç”¨æ¥å°† JSON æ ¼å¼çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ª js æ•°æ®ç»“æ„ï¼Œå¦‚æœä¼ å…¥çš„å­—ç¬¦ä¸²ä¸æ˜¯æ ‡å‡†çš„ JSON æ ¼å¼çš„å­—ç¬¦ä¸²çš„è¯ï¼Œå°†ä¼šæŠ›å‡ºé”™è¯¯ã€‚å½“ä»åç«¯æ¥æ”¶åˆ° JSON æ ¼å¼çš„å­—ç¬¦ä¸²æ—¶ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥å°†å…¶è§£æä¸ºä¸€ä¸ª js æ•°æ®ç»“æ„ï¼Œä»¥æ­¤æ¥è¿›è¡Œæ•°æ®çš„è®¿é—®ã€‚</li></ul><h3 id="7-JavaScriptè„šæœ¬å»¶è¿ŸåŠ è½½çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"><a href="#7-JavaScriptè„šæœ¬å»¶è¿ŸåŠ è½½çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="7. JavaScriptè„šæœ¬å»¶è¿ŸåŠ è½½çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"></a>7. JavaScriptè„šæœ¬å»¶è¿ŸåŠ è½½çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h3><p>å»¶è¿ŸåŠ è½½å°±æ˜¯ç­‰é¡µé¢åŠ è½½å®Œæˆä¹‹åå†åŠ è½½ JavaScript æ–‡ä»¶ã€‚ js å»¶è¿ŸåŠ è½½æœ‰åŠ©äºæé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</p><p>ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p><ul><li><strong>defer å±æ€§ï¼š</strong> ç»™ js è„šæœ¬æ·»åŠ  defer å±æ€§ï¼Œè¿™ä¸ªå±æ€§ä¼šè®©è„šæœ¬çš„åŠ è½½ä¸æ–‡æ¡£çš„è§£æåŒæ­¥è§£æï¼Œç„¶ååœ¨æ–‡æ¡£è§£æå®Œæˆåå†æ‰§è¡Œè¿™ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œè¿™æ ·çš„è¯å°±èƒ½ä½¿é¡µé¢çš„æ¸²æŸ“ä¸è¢«é˜»å¡ã€‚å¤šä¸ªè®¾ç½®äº† defer å±æ€§çš„è„šæœ¬æŒ‰è§„èŒƒæ¥è¯´æœ€åæ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œä½†æ˜¯åœ¨ä¸€äº›æµè§ˆå™¨ä¸­å¯èƒ½ä¸æ˜¯è¿™æ ·ã€‚</li><li><strong>async å±æ€§ï¼š</strong> ç»™ js è„šæœ¬æ·»åŠ  async å±æ€§ï¼Œè¿™ä¸ªå±æ€§ä¼šä½¿è„šæœ¬å¼‚æ­¥åŠ è½½ï¼Œä¸ä¼šé˜»å¡é¡µé¢çš„è§£æè¿‡ç¨‹ï¼Œä½†æ˜¯å½“è„šæœ¬åŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œ js è„šæœ¬ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœæ–‡æ¡£æ²¡æœ‰è§£æå®Œæˆçš„è¯åŒæ ·ä¼šé˜»å¡ã€‚å¤šä¸ª async å±æ€§çš„è„šæœ¬çš„æ‰§è¡Œé¡ºåºæ˜¯ä¸å¯é¢„æµ‹çš„ï¼Œä¸€èˆ¬ä¸ä¼šæŒ‰ç…§ä»£ç çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</li><li><strong>åŠ¨æ€åˆ›å»º DOM æ–¹å¼ï¼š</strong> åŠ¨æ€åˆ›å»º DOM æ ‡ç­¾çš„æ–¹å¼ï¼Œå¯ä»¥å¯¹æ–‡æ¡£çš„åŠ è½½äº‹ä»¶è¿›è¡Œç›‘å¬ï¼Œå½“æ–‡æ¡£åŠ è½½å®Œæˆåå†åŠ¨æ€çš„åˆ›å»º script æ ‡ç­¾æ¥å¼•å…¥ js è„šæœ¬ã€‚</li><li><strong>ä½¿ç”¨ setTimeout å»¶è¿Ÿæ–¹æ³•ï¼š</strong> è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨æ¥å»¶è¿ŸåŠ è½½jsè„šæœ¬æ–‡ä»¶</li><li><strong>è®© JS æœ€ååŠ è½½ï¼š</strong> å°† js è„šæœ¬æ”¾åœ¨æ–‡æ¡£çš„åº•éƒ¨ï¼Œæ¥ä½¿ js è„šæœ¬å°½å¯èƒ½çš„åœ¨æœ€åæ¥åŠ è½½æ‰§è¡Œã€‚</li></ul><h3 id="8-JavaScript-ç±»æ•°ç»„å¯¹è±¡çš„å®šä¹‰ï¼Ÿ"><a href="#8-JavaScript-ç±»æ•°ç»„å¯¹è±¡çš„å®šä¹‰ï¼Ÿ" class="headerlink" title="8. JavaScript ç±»æ•°ç»„å¯¹è±¡çš„å®šä¹‰ï¼Ÿ"></a>8. JavaScript ç±»æ•°ç»„å¯¹è±¡çš„å®šä¹‰ï¼Ÿ</h3><p>ä¸€ä¸ªæ‹¥æœ‰ length å±æ€§å’Œè‹¥å¹²ç´¢å¼•å±æ€§çš„å¯¹è±¡å°±å¯ä»¥è¢«ç§°ä¸ºç±»æ•°ç»„å¯¹è±¡ï¼Œç±»æ•°ç»„å¯¹è±¡å’Œæ•°ç»„ç±»ä¼¼ï¼Œä½†æ˜¯ä¸èƒ½è°ƒç”¨æ•°ç»„çš„æ–¹æ³•ã€‚å¸¸è§çš„ç±»æ•°ç»„å¯¹è±¡æœ‰ arguments å’Œ DOM æ–¹æ³•çš„è¿”å›ç»“æœï¼Œè¿˜æœ‰ä¸€ä¸ªå‡½æ•°ä¹Ÿå¯ä»¥è¢«çœ‹ä½œæ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Œå› ä¸ºå®ƒå«æœ‰ length å±æ€§å€¼ï¼Œä»£è¡¨å¯æ¥æ”¶çš„å‚æ•°ä¸ªæ•°ã€‚</p><p>å¸¸è§çš„ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„çš„æ–¹æ³•æœ‰è¿™æ ·å‡ ç§ï¼š</p><p>ï¼ˆ1ï¼‰é€šè¿‡ call è°ƒç”¨æ•°ç»„çš„ slice æ–¹æ³•æ¥å®ç°è½¬æ¢</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.slice.call(arrayLike);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰é€šè¿‡ call è°ƒç”¨æ•°ç»„çš„ splice æ–¹æ³•æ¥å®ç°è½¬æ¢</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.splice.call(arrayLike, <span class="number">0</span>);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰é€šè¿‡ apply è°ƒç”¨æ•°ç»„çš„ concat æ–¹æ³•æ¥å®ç°è½¬æ¢</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.concat.apply([], arrayLike);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰é€šè¿‡ Array.from æ–¹æ³•æ¥å®ç°è½¬æ¢</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(arrayLike);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="9-æ•°ç»„æœ‰å“ªäº›åŸç”Ÿæ–¹æ³•ï¼Ÿ"><a href="#9-æ•°ç»„æœ‰å“ªäº›åŸç”Ÿæ–¹æ³•ï¼Ÿ" class="headerlink" title="9. æ•°ç»„æœ‰å“ªäº›åŸç”Ÿæ–¹æ³•ï¼Ÿ"></a>9. æ•°ç»„æœ‰å“ªäº›åŸç”Ÿæ–¹æ³•ï¼Ÿ</h3><ul><li>æ•°ç»„å’Œå­—ç¬¦ä¸²çš„è½¬æ¢æ–¹æ³•ï¼štoString()ã€toLocalString()ã€join() å…¶ä¸­ join() æ–¹æ³•å¯ä»¥æŒ‡å®šè½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶çš„åˆ†éš”ç¬¦ã€‚</li><li>æ•°ç»„å°¾éƒ¨æ“ä½œçš„æ–¹æ³• pop() å’Œ push()ï¼Œpush æ–¹æ³•å¯ä»¥ä¼ å…¥å¤šä¸ªå‚æ•°ã€‚</li><li>æ•°ç»„é¦–éƒ¨æ“ä½œçš„æ–¹æ³• shift() å’Œ unshift() é‡æ’åºçš„æ–¹æ³• reverse() å’Œ sort()ï¼Œsort() æ–¹æ³•å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°æ¥è¿›è¡Œæ¯”è¾ƒï¼Œä¼ å…¥å‰åä¸¤ä¸ªå€¼ï¼Œå¦‚æœè¿”å›å€¼ä¸ºæ­£æ•°ï¼Œåˆ™äº¤æ¢ä¸¤ä¸ªå‚æ•°çš„ä½ç½®ã€‚</li><li>æ•°ç»„è¿æ¥çš„æ–¹æ³• concat() ï¼Œè¿”å›çš„æ˜¯æ‹¼æ¥å¥½çš„æ•°ç»„ï¼Œä¸å½±å“åŸæ•°ç»„ã€‚</li><li>æ•°ç»„æˆªå–åŠæ³• slice()ï¼Œç”¨äºæˆªå–æ•°ç»„ä¸­çš„ä¸€éƒ¨åˆ†è¿”å›ï¼Œä¸å½±å“åŸæ•°ç»„ã€‚</li><li>æ•°ç»„æ’å…¥æ–¹æ³• splice()ï¼Œå½±å“åŸæ•°ç»„æŸ¥æ‰¾ç‰¹å®šé¡¹çš„ç´¢å¼•çš„æ–¹æ³•ï¼ŒindexOf() å’Œ lastIndexOf() è¿­ä»£æ–¹æ³• every()ã€some()ã€filter()ã€map() å’Œ forEach() æ–¹æ³•</li><li>æ•°ç»„å½’å¹¶æ–¹æ³• reduce() å’Œ reduceRight() æ–¹æ³•</li></ul><h3 id="10-Unicodeã€UTF-8ã€UTF-16ã€UTF-32çš„åŒºåˆ«ï¼Ÿ"><a href="#10-Unicodeã€UTF-8ã€UTF-16ã€UTF-32çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="10. Unicodeã€UTF-8ã€UTF-16ã€UTF-32çš„åŒºåˆ«ï¼Ÿ"></a>10. <strong>Unicodeã€UTF-8ã€UTF-16ã€UTF-32çš„åŒºåˆ«ï¼Ÿ</strong></h3><h4 id="ï¼ˆ1ï¼‰Unicode"><a href="#ï¼ˆ1ï¼‰Unicode" class="headerlink" title="ï¼ˆ1ï¼‰Unicode"></a>ï¼ˆ1ï¼‰Unicode</h4><p>åœ¨è¯´<code>Unicode</code>ä¹‹å‰éœ€è¦å…ˆäº†è§£ä¸€ä¸‹<code>ASCII</code>ç ï¼šASCII ç ï¼ˆ<code>American Standard Code for Information Interchange</code>ï¼‰ç§°ä¸ºç¾å›½æ ‡å‡†ä¿¡æ¯äº¤æ¢ç ã€‚</p><ul><li>å®ƒæ˜¯åŸºäºæ‹‰ä¸å­—æ¯çš„ä¸€å¥—ç”µè„‘ç¼–ç ç³»ç»Ÿã€‚</li><li>å®ƒå®šä¹‰äº†ä¸€ä¸ªç”¨äºä»£è¡¨å¸¸è§å­—ç¬¦çš„å­—å…¸ã€‚</li><li>å®ƒåŒ…å«äº†â€A-Zâ€(åŒ…å«å¤§å°å†™)ï¼Œæ•°æ®â€0-9â€ ä»¥åŠä¸€äº›å¸¸è§çš„ç¬¦å·ã€‚</li><li>å®ƒæ˜¯ä¸“é—¨ä¸ºè‹±è¯­è€Œè®¾è®¡çš„ï¼Œæœ‰128ä¸ªç¼–ç ï¼Œå¯¹å…¶ä»–è¯­è¨€æ— èƒ½ä¸ºåŠ›</li></ul><p><code>ASCII</code>ç å¯ä»¥è¡¨ç¤ºçš„ç¼–ç æœ‰é™ï¼Œè¦æƒ³è¡¨ç¤ºå…¶ä»–è¯­è¨€çš„ç¼–ç ï¼Œè¿˜æ˜¯è¦ä½¿ç”¨<code>Unicode</code>æ¥è¡¨ç¤ºï¼Œå¯ä»¥è¯´<code>Unicode</code>æ˜¯<code>ASCII</code> çš„è¶…é›†ã€‚</p><p><code>Unicode</code>å…¨ç§° <code>Unicode Translation Format</code>ï¼Œåˆå«åšç»Ÿä¸€ç ã€ä¸‡å›½ç ã€å•ä¸€ç ã€‚<code>Unicode</code> æ˜¯ä¸ºäº†è§£å†³ä¼ ç»Ÿçš„å­—ç¬¦ç¼–ç æ–¹æ¡ˆçš„å±€é™è€Œäº§ç”Ÿçš„ï¼Œå®ƒä¸ºæ¯ç§è¯­è¨€ä¸­çš„æ¯ä¸ªå­—ç¬¦è®¾å®šäº†ç»Ÿä¸€å¹¶ä¸”å”¯ä¸€çš„äºŒè¿›åˆ¶ç¼–ç ï¼Œä»¥æ»¡è¶³è·¨è¯­è¨€ã€è·¨å¹³å°è¿›è¡Œæ–‡æœ¬è½¬æ¢ã€å¤„ç†çš„è¦æ±‚ã€‚</p><p><code>Unicode</code>çš„å®ç°æ–¹å¼ï¼ˆä¹Ÿå°±æ˜¯ç¼–ç æ–¹å¼ï¼‰æœ‰å¾ˆå¤šç§ï¼Œå¸¸è§çš„æ˜¯<strong>UTF-8</strong>ã€<strong>UTF-16</strong>ã€<strong>UTF-32</strong>å’Œ<strong>USC-2</strong>ã€‚</p><h4 id="ï¼ˆ2ï¼‰UTF-8"><a href="#ï¼ˆ2ï¼‰UTF-8" class="headerlink" title="ï¼ˆ2ï¼‰UTF-8"></a>ï¼ˆ2ï¼‰UTF-8</h4><p><code>UTF-8</code>æ˜¯ä½¿ç”¨æœ€å¹¿æ³›çš„<code>Unicode</code>ç¼–ç æ–¹å¼ï¼Œå®ƒæ˜¯ä¸€ç§å¯å˜é•¿çš„ç¼–ç æ–¹å¼ï¼Œå¯ä»¥æ˜¯1â€”4ä¸ªå­—èŠ‚ä¸ç­‰ï¼Œå®ƒå¯ä»¥å®Œå…¨å…¼å®¹<code>ASCII</code>ç çš„128ä¸ªå­—ç¬¦ã€‚</p><p><strong>æ³¨æ„ï¼š</strong> <code>UTF-8</code> æ˜¯ä¸€ç§ç¼–ç æ–¹å¼ï¼Œ<code>Unicode</code>æ˜¯ä¸€ä¸ªå­—ç¬¦é›†åˆã€‚</p><p><code>UTF-8</code>çš„ç¼–ç è§„åˆ™ï¼š</p><ul><li>å¯¹äº<strong>å•å­—èŠ‚</strong>çš„ç¬¦å·ï¼Œå­—èŠ‚çš„ç¬¬ä¸€ä½ä¸º0ï¼Œåé¢çš„7ä½ä¸ºè¿™ä¸ªå­—ç¬¦çš„<code>Unicode</code>ç¼–ç ï¼Œå› æ­¤å¯¹äºè‹±æ–‡å­—æ¯ï¼Œå®ƒçš„<code>Unicode</code>ç¼–ç å’Œ<code>ACSII</code>ç¼–ç ä¸€æ ·ã€‚</li><li>å¯¹äº<strong>nå­—èŠ‚</strong>çš„ç¬¦å·ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰nä½éƒ½æ˜¯1ï¼Œç¬¬n+1ä½è®¾ä¸º0ï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º10ï¼Œå‰©ä¸‹çš„æ²¡æœ‰æåŠçš„äºŒè¿›åˆ¶ä½ï¼Œå…¨éƒ¨ä¸ºè¿™ä¸ªç¬¦å·çš„<code>Unicode</code>ç  ã€‚</li></ul><p>æ¥çœ‹ä¸€ä¸‹å…·ä½“çš„<code>Unicode</code>ç¼–å·èŒƒå›´ä¸å¯¹åº”çš„<code>UTF-8</code>äºŒè¿›åˆ¶æ ¼å¼ ï¼š</p><table><thead><tr><th>ç¼–ç èŒƒå›´ï¼ˆç¼–å·å¯¹åº”çš„åè¿›åˆ¶æ•°ï¼‰</th><th>äºŒè¿›åˆ¶æ ¼å¼</th></tr></thead><tbody><tr><td>0x00â€”0x7F ï¼ˆ0-127ï¼‰</td><td>0xxxxxxx</td></tr><tr><td>0x80â€”0x7FF ï¼ˆ128-2047ï¼‰</td><td>110xxxxx 10xxxxxx</td></tr><tr><td>0x800â€”0xFFFF  ï¼ˆ2048-65535ï¼‰</td><td>1110xxxx 10xxxxxx 10xxxxxx</td></tr><tr><td>0x10000â€”0x10FFFF  ï¼ˆ65536ä»¥ä¸Šï¼‰</td><td>11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</td></tr></tbody></table><p>é‚£è¯¥å¦‚ä½•é€šè¿‡å…·ä½“çš„<code>Unicode</code>ç¼–ç ï¼Œè¿›è¡Œå…·ä½“çš„<code>UTF-8</code>ç¼–ç å‘¢ï¼Ÿ<strong>æ­¥éª¤å¦‚ä¸‹ï¼š</strong></p><ul><li>æ‰¾åˆ°è¯¥<code>Unicode</code>ç¼–ç çš„æ‰€åœ¨çš„ç¼–å·èŒƒå›´ï¼Œè¿›è€Œæ‰¾åˆ°ä¸ä¹‹å¯¹åº”çš„äºŒè¿›åˆ¶æ ¼å¼</li><li>å°†<code>Unicode</code>ç¼–ç è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°ï¼ˆå»æ‰æœ€é«˜ä½çš„0ï¼‰</li><li>å°†äºŒè¿›åˆ¶æ•°ä»å³å¾€å·¦ä¸€æ¬¡å¡«å…¥äºŒè¿›åˆ¶æ ¼å¼çš„<code>X</code>ä¸­ï¼Œå¦‚æœæœ‰<code>X</code>æœªå¡«ï¼Œå°±è®¾ä¸º0</li></ul><p>æ¥çœ‹ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼š â€œ<strong>é©¬</strong>â€ å­—çš„<code>Unicode</code>ç¼–ç æ˜¯ï¼š<code>0x9A6C</code>ï¼Œæ•´æ•°ç¼–å·æ˜¯<code>39532</code> ï¼ˆ1ï¼‰é¦–é€‰ç¡®å®šäº†è¯¥å­—ç¬¦åœ¨ç¬¬ä¸‰ä¸ªèŒƒå›´å†…ï¼Œå®ƒçš„æ ¼å¼æ˜¯ <code>1110xxxx 10xxxxxx 10xxxxxx</code> ï¼ˆ2ï¼‰39532å¯¹åº”çš„äºŒè¿›åˆ¶æ•°ä¸º<code>1001 1010 0110 1100</code> ï¼ˆ3ï¼‰å°†äºŒè¿›åˆ¶æ•°å¡«å…¥Xä¸­ï¼Œç»“æœæ˜¯ï¼š<code>11101001 10101001 10101100</code></p><h4 id="ï¼ˆ3ï¼‰UTF-16"><a href="#ï¼ˆ3ï¼‰UTF-16" class="headerlink" title="ï¼ˆ3ï¼‰UTF-16"></a>ï¼ˆ3ï¼‰UTF-16</h4><p><strong>1. å¹³é¢çš„æ¦‚å¿µ</strong></p><p>åœ¨äº†è§£<code>UTF-16</code>ä¹‹å‰ï¼Œå…ˆçœ‹ä¸€ä¸‹<strong>å¹³é¢</strong>çš„æ¦‚å¿µï¼š <code>Unicode</code>ç¼–ç ä¸­æœ‰å¾ˆå¤šå¾ˆå¤šçš„å­—ç¬¦ï¼Œå®ƒå¹¶ä¸æ˜¯ä¸€æ¬¡æ€§å®šä¹‰çš„ï¼Œè€Œæ˜¯åˆ†åŒºè¿›è¡Œå®šä¹‰çš„ï¼Œæ¯ä¸ªåŒºå­˜æ”¾<strong>65536</strong>ï¼ˆ216ï¼‰ä¸ªå­—ç¬¦ï¼Œè¿™ç§°ä¸ºä¸€ä¸ª<strong>å¹³é¢</strong>ï¼Œç›®å‰æ€»å…±æœ‰17 ä¸ªå¹³é¢ã€‚</p><p>æœ€å‰é¢çš„ä¸€ä¸ªå¹³é¢ç§°ä¸º<strong>åŸºæœ¬å¹³é¢</strong>ï¼Œå®ƒçš„ç ç‚¹ä»<strong>0 â€” 216-1</strong>ï¼Œå†™æˆ16è¿›åˆ¶å°±æ˜¯<code>U+0000 â€” U+FFFF</code>ï¼Œé‚£å‰©ä¸‹çš„16ä¸ªå¹³é¢å°±æ˜¯<strong>è¾…åŠ©å¹³é¢</strong>ï¼Œç ç‚¹èŒƒå›´æ˜¯ <code>U+10000â€”U+10FFFF</code>ã€‚</p><p><strong>2. UTF-16 æ¦‚å¿µï¼š</strong></p><p><code>UTF-16</code>ä¹Ÿæ˜¯<code>Unicode</code>ç¼–ç é›†çš„ä¸€ç§ç¼–ç å½¢å¼ï¼ŒæŠŠ<code>Unicode</code>å­—ç¬¦é›†çš„æŠ½è±¡ç ä½æ˜ å°„ä¸º16ä½é•¿çš„æ•´æ•°ï¼ˆå³ç å…ƒï¼‰çš„åºåˆ—ï¼Œç”¨äºæ•°æ®å­˜å‚¨æˆ–ä¼ é€’ã€‚<code>Unicode</code>å­—ç¬¦çš„ç ä½éœ€è¦1ä¸ªæˆ–è€…2ä¸ª16ä½é•¿çš„ç å…ƒæ¥è¡¨ç¤ºï¼Œå› æ­¤<code>UTF-16</code>ä¹Ÿæ˜¯ç”¨å˜é•¿å­—èŠ‚è¡¨ç¤ºçš„ã€‚</p><p><strong>3. UTF-16 ç¼–ç è§„åˆ™ï¼š</strong></p><ul><li>ç¼–å·åœ¨ <code>U+0000â€”U+FFFF</code> çš„å­—ç¬¦ï¼ˆå¸¸ç”¨å­—ç¬¦é›†ï¼‰ï¼Œç›´æ¥ç”¨ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºã€‚</li><li>ç¼–å·åœ¨ <code>U+10000â€”U+10FFFF</code> ä¹‹é—´çš„å­—ç¬¦ï¼Œéœ€è¦ç”¨å››ä¸ªå­—èŠ‚è¡¨ç¤ºã€‚</li></ul><p><strong>4. ç¼–ç è¯†åˆ«</strong></p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå½“é‡åˆ°ä¸¤ä¸ªå­—èŠ‚æ—¶ï¼Œæ€ä¹ˆçŸ¥é“æ˜¯æŠŠå®ƒå½“åšä¸€ä¸ªå­—ç¬¦è¿˜æ˜¯å’Œåé¢çš„ä¸¤ä¸ªå­—èŠ‚ä¸€èµ·å½“åšä¸€ä¸ªå­—ç¬¦å‘¢ï¼Ÿ</p><p><code>UTF-16</code> ç¼–ç è‚¯å®šä¹Ÿè€ƒè™‘åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œåœ¨åŸºæœ¬å¹³é¢å†…ï¼Œä» <code>U+D800 â€” U+DFFF</code> æ˜¯ä¸€ä¸ªç©ºæ®µï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªåŒºé—´çš„ç ç‚¹ä¸å¯¹åº”ä»»ä½•çš„å­—ç¬¦ï¼Œå› æ­¤è¿™äº›ç©ºæ®µå°±å¯ä»¥ç”¨æ¥æ˜ å°„è¾…åŠ©å¹³é¢çš„å­—ç¬¦ã€‚</p><p>è¾…åŠ©å¹³é¢å…±æœ‰ <strong>220</strong> ä¸ªå­—ç¬¦ä½ï¼Œå› æ­¤è¡¨ç¤ºè¿™äº›å­—ç¬¦è‡³å°‘éœ€è¦ 20 ä¸ªäºŒè¿›åˆ¶ä½ã€‚<code>UTF-16</code> å°†è¿™ 20 ä¸ªäºŒè¿›åˆ¶ä½åˆ†æˆä¸¤åŠï¼Œå‰ 10 ä½æ˜ å°„åœ¨ <code>U+D800 â€” U+DBFF</code>ï¼Œç§°ä¸º<strong>é«˜ä½</strong>ï¼ˆHï¼‰ï¼Œå 10 ä½æ˜ å°„åœ¨ <code>U+DC00 â€” U+DFFF</code>ï¼Œç§°ä¸º<strong>ä½ä½</strong>ï¼ˆLï¼‰ã€‚è¿™å°±ç›¸å½“äºï¼Œå°†ä¸€ä¸ªè¾…åŠ©å¹³é¢çš„å­—ç¬¦æ‹†æˆäº†ä¸¤ä¸ªåŸºæœ¬å¹³é¢çš„å­—ç¬¦æ¥è¡¨ç¤ºã€‚</p><p>å› æ­¤ï¼Œå½“é‡åˆ°ä¸¤ä¸ªå­—èŠ‚æ—¶ï¼Œå‘ç°å®ƒçš„ç ç‚¹åœ¨ <code>U+D800 â€”U+DBFF</code>ä¹‹é—´ï¼Œå°±å¯ä»¥çŸ¥é“ï¼Œå®ƒåé¢çš„ä¸¤ä¸ªå­—èŠ‚çš„ç ç‚¹åº”è¯¥åœ¨ <code>U+DC00 â€” U+DFFF</code> ä¹‹é—´ï¼Œè¿™å››ä¸ªå­—èŠ‚å¿…é¡»æ”¾åœ¨ä¸€èµ·è¿›è¡Œè§£è¯»ã€‚</p><p><strong>5. ä¸¾ä¾‹è¯´æ˜</strong></p><p>ä»¥ â€œ<strong>ğ¡ €</strong>â€œ å­—ä¸ºä¾‹ï¼Œå®ƒçš„ <code>Unicode</code> ç ç‚¹ä¸º <code>0x21800</code>ï¼Œè¯¥ç ç‚¹è¶…å‡ºäº†åŸºæœ¬å¹³é¢çš„èŒƒå›´ï¼Œå› æ­¤éœ€è¦ç”¨å››ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>é¦–å…ˆè®¡ç®—è¶…å‡ºéƒ¨åˆ†çš„ç»“æœï¼š<code>0x21800 - 0x10000</code></li><li>å°†ä¸Šé¢çš„è®¡ç®—ç»“æœè½¬ä¸º20ä½çš„äºŒè¿›åˆ¶æ•°ï¼Œä¸è¶³20ä½å°±åœ¨å‰é¢è¡¥0ï¼Œç»“æœä¸ºï¼š<code>0001000110 0000000000</code></li><li>å°†å¾—åˆ°çš„ä¸¤ä¸ª10ä½äºŒè¿›åˆ¶æ•°åˆ†åˆ«å¯¹åº”åˆ°ä¸¤ä¸ªåŒºé—´ä¸­</li><li><code>U+D800</code> å¯¹åº”çš„äºŒè¿›åˆ¶æ•°ä¸º <code>1101100000000000</code>ï¼Œ å°†<code>0001000110</code>å¡«å……åœ¨å®ƒçš„å10 ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå¾—åˆ° <code>1101100001000110</code>ï¼Œè½¬æˆ 16 è¿›åˆ¶æ•°ä¸º <code>0xD846</code>ã€‚åŒç†ï¼Œä½ä½ä¸º <code>0xDC00</code>ï¼Œæ‰€ä»¥è¿™ä¸ªå­—çš„<code>UTF-16</code> ç¼–ç ä¸º <code>0xD846 0xDC00</code></li></ul><h4 id="ï¼ˆ4ï¼‰-UTF-32"><a href="#ï¼ˆ4ï¼‰-UTF-32" class="headerlink" title="ï¼ˆ4ï¼‰ UTF-32"></a>ï¼ˆ4ï¼‰ UTF-32</h4><p><code>UTF-32</code> å°±æ˜¯å­—ç¬¦æ‰€å¯¹åº”ç¼–å·çš„æ•´æ•°äºŒè¿›åˆ¶å½¢å¼ï¼Œæ¯ä¸ªå­—ç¬¦å å››ä¸ªå­—èŠ‚ï¼Œè¿™ä¸ªæ˜¯ç›´æ¥è¿›è¡Œè½¬æ¢çš„ã€‚è¯¥ç¼–ç æ–¹å¼å ç”¨çš„å‚¨å­˜ç©ºé—´è¾ƒå¤šï¼Œæ‰€ä»¥ä½¿ç”¨è¾ƒå°‘ã€‚</p><p>æ¯”å¦‚â€œ<strong>é©¬</strong>â€ å­—çš„Unicodeç¼–å·æ˜¯ï¼š<code>U+9A6C</code>ï¼Œæ•´æ•°ç¼–å·æ˜¯<code>39532</code>ï¼Œç›´æ¥è½¬åŒ–ä¸ºäºŒè¿›åˆ¶ï¼š<code>1001 1010 0110 1100</code>ï¼Œè¿™å°±æ˜¯å®ƒçš„UTF-32ç¼–ç ã€‚</p><h4 id="ï¼ˆ5ï¼‰æ€»ç»“"><a href="#ï¼ˆ5ï¼‰æ€»ç»“" class="headerlink" title="ï¼ˆ5ï¼‰æ€»ç»“"></a>ï¼ˆ5ï¼‰æ€»ç»“</h4><p><strong>Unicodeã€UTF-8ã€UTF-16ã€UTF-32æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p><ul><li><code>Unicode</code> æ˜¯ç¼–ç å­—ç¬¦é›†ï¼ˆå­—ç¬¦é›†ï¼‰ï¼Œè€Œ<code>UTF-8</code>ã€<code>UTF-16</code>ã€<code>UTF-32</code>æ˜¯å­—ç¬¦é›†ç¼–ç ï¼ˆç¼–ç è§„åˆ™ï¼‰ï¼›</li><li><code>UTF-16</code> ä½¿ç”¨å˜é•¿ç å…ƒåºåˆ—çš„ç¼–ç æ–¹å¼ï¼Œç›¸è¾ƒäºå®šé•¿ç å…ƒåºåˆ—çš„<code>UTF-32</code>ç®—æ³•æ›´å¤æ‚ï¼Œç”šè‡³æ¯”åŒæ ·æ˜¯å˜é•¿ç å…ƒåºåˆ—çš„<code>UTF-8</code>ä¹Ÿæ›´ä¸ºå¤æ‚ï¼Œå› ä¸ºå…¶å¼•å…¥äº†ç‹¬ç‰¹çš„<strong>ä»£ç†å¯¹</strong>è¿™æ ·çš„ä»£ç†æœºåˆ¶ï¼›</li><li><code>UTF-8</code>éœ€è¦åˆ¤æ–­æ¯ä¸ªå­—èŠ‚ä¸­çš„å¼€å¤´æ ‡å¿—ä¿¡æ¯ï¼Œæ‰€ä»¥å¦‚æœæŸä¸ªå­—èŠ‚åœ¨ä¼ é€è¿‡ç¨‹ä¸­å‡ºé”™äº†ï¼Œå°±ä¼šå¯¼è‡´åé¢çš„å­—èŠ‚ä¹Ÿä¼šè§£æå‡ºé”™ï¼›è€Œ<code>UTF-16</code>ä¸ä¼šåˆ¤æ–­å¼€å¤´æ ‡å¿—ï¼Œå³ä½¿é”™ä¹Ÿåªä¼šé”™ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥å®¹é”™èƒ½åŠ›æ•™å¼ºï¼›</li><li>å¦‚æœå­—ç¬¦å†…å®¹å…¨éƒ¨è‹±æ–‡æˆ–è‹±æ–‡ä¸å…¶ä»–æ–‡å­—æ··åˆï¼Œä½†è‹±æ–‡å ç»å¤§éƒ¨åˆ†ï¼Œé‚£ä¹ˆç”¨<code>UTF-8</code>å°±æ¯”<code>UTF-16</code>èŠ‚çœäº†å¾ˆå¤šç©ºé—´ï¼›è€Œå¦‚æœå­—ç¬¦å†…å®¹å…¨éƒ¨æ˜¯ä¸­æ–‡è¿™æ ·ç±»ä¼¼çš„å­—ç¬¦æˆ–è€…æ··åˆå­—ç¬¦ä¸­ä¸­æ–‡å ç»å¤§å¤šæ•°ï¼Œé‚£ä¹ˆ<code>UTF-16</code>å°±å ä¼˜åŠ¿äº†ï¼Œå¯ä»¥èŠ‚çœå¾ˆå¤šç©ºé—´ï¼›</li></ul><h3 id="11-å¸¸è§çš„ä½è¿ç®—ç¬¦æœ‰å“ªäº›ï¼Ÿå…¶è®¡ç®—è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#11-å¸¸è§çš„ä½è¿ç®—ç¬¦æœ‰å“ªäº›ï¼Ÿå…¶è®¡ç®—è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="11. å¸¸è§çš„ä½è¿ç®—ç¬¦æœ‰å“ªäº›ï¼Ÿå…¶è®¡ç®—è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿ"></a>11. å¸¸è§çš„ä½è¿ç®—ç¬¦æœ‰å“ªäº›ï¼Ÿå…¶è®¡ç®—è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>ç°ä»£è®¡ç®—æœºä¸­æ•°æ®éƒ½æ˜¯ä»¥äºŒè¿›åˆ¶çš„å½¢å¼å­˜å‚¨çš„ï¼Œå³0ã€1ä¸¤ç§çŠ¶æ€ï¼Œè®¡ç®—æœºå¯¹äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œçš„è¿ç®—åŠ å‡ä¹˜é™¤ç­‰éƒ½æ˜¯å«ä½è¿ç®—ï¼Œå³å°†ç¬¦å·ä½å…±åŒå‚ä¸è¿ç®—çš„è¿ç®—ã€‚</p><p>å¸¸è§çš„ä½è¿ç®—æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>æè¿°</th><th>è¿ç®—è§„åˆ™</th></tr></thead><tbody><tr><td><code>&amp;</code></td><td>ä¸</td><td>ä¸¤ä¸ªä½éƒ½ä¸º1æ—¶ï¼Œç»“æœæ‰ä¸º1</td></tr><tr><td>`</td><td>`</td><td>æˆ–</td></tr><tr><td><code>^</code></td><td>å¼‚æˆ–</td><td>ä¸¤ä¸ªä½ç›¸åŒä¸º0ï¼Œç›¸å¼‚ä¸º1</td></tr><tr><td><code>~</code></td><td>å–å</td><td>0å˜1ï¼Œ1å˜0</td></tr><tr><td><code>&lt;&lt;</code></td><td>å·¦ç§»</td><td>å„äºŒè¿›åˆ¶ä½å…¨éƒ¨å·¦ç§»è‹¥å¹²ä½ï¼Œé«˜ä½ä¸¢å¼ƒï¼Œä½ä½è¡¥0</td></tr><tr><td><code>&gt;&gt;</code></td><td>å³ç§»</td><td>å„äºŒè¿›åˆ¶ä½å…¨éƒ¨å³ç§»è‹¥å¹²ä½ï¼Œæ­£æ•°å·¦è¡¥0ï¼Œè´Ÿæ•°å·¦è¡¥1ï¼Œå³è¾¹ä¸¢å¼ƒ</td></tr></tbody></table><h4 id="1-æŒ‰ä½ä¸è¿ç®—ç¬¦ï¼ˆ-amp-ï¼‰"><a href="#1-æŒ‰ä½ä¸è¿ç®—ç¬¦ï¼ˆ-amp-ï¼‰" class="headerlink" title="1. æŒ‰ä½ä¸è¿ç®—ç¬¦ï¼ˆ&amp;ï¼‰"></a>1. æŒ‰ä½ä¸è¿ç®—ç¬¦ï¼ˆ&amp;ï¼‰</h4><p><strong>å®šä¹‰ï¼š</strong> å‚åŠ è¿ç®—çš„ä¸¤ä¸ªæ•°æ®<strong>æŒ‰äºŒè¿›åˆ¶ä½</strong>è¿›è¡Œâ€œä¸â€è¿ç®—ã€‚ <strong>è¿ç®—è§„åˆ™ï¼š</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> &amp; <span class="number">0</span> = <span class="number">0</span>  </span><br><span class="line"><span class="number">0</span> &amp; <span class="number">1</span> = <span class="number">0</span>  </span><br><span class="line"><span class="number">1</span> &amp; <span class="number">0</span> = <span class="number">0</span>  </span><br><span class="line"><span class="number">1</span> &amp; <span class="number">1</span> = <span class="number">1</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼šä¸¤ä½åŒæ—¶ä¸º1ï¼Œç»“æœæ‰ä¸º1ï¼Œå¦åˆ™ç»“æœä¸º0ã€‚ ä¾‹å¦‚ï¼š3&amp;5 å³ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0000</span> <span class="number">0011</span> </span><br><span class="line">   <span class="number">0000</span> <span class="number">0101</span> </span><br><span class="line"> = <span class="number">0000</span> <span class="number">0001</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å› æ­¤ 3&amp;5 çš„å€¼ä¸º1ã€‚ æ³¨æ„ï¼šè´Ÿæ•°æŒ‰è¡¥ç å½¢å¼å‚åŠ æŒ‰ä½ä¸è¿ç®—ã€‚</p><p><strong>ç”¨é€”ï¼š</strong></p><p><strong>ï¼ˆ1ï¼‰åˆ¤æ–­å¥‡å¶</strong></p><p>åªè¦æ ¹æ®æœ€æœªä½æ˜¯0è¿˜æ˜¯1æ¥å†³å®šï¼Œä¸º0å°±æ˜¯å¶æ•°ï¼Œä¸º1å°±æ˜¯å¥‡æ•°ã€‚å› æ­¤å¯ä»¥ç”¨<code>if ((i &amp; 1) == 0)</code>ä»£æ›¿<code>if (i % 2 == 0)</code>æ¥åˆ¤æ–­aæ˜¯ä¸æ˜¯å¶æ•°ã€‚</p><p><strong>ï¼ˆ2ï¼‰æ¸…é›¶</strong></p><p>å¦‚æœæƒ³å°†ä¸€ä¸ªå•å…ƒæ¸…é›¶ï¼Œå³ä½¿å…¶å…¨éƒ¨äºŒè¿›åˆ¶ä½ä¸º0ï¼Œåªè¦ä¸ä¸€ä¸ªå„ä½éƒ½ä¸ºé›¶çš„æ•°å€¼ç›¸ä¸ï¼Œç»“æœä¸ºé›¶ã€‚</p><h4 id="2-æŒ‰ä½æˆ–è¿ç®—ç¬¦ï¼ˆ-ï¼‰"><a href="#2-æŒ‰ä½æˆ–è¿ç®—ç¬¦ï¼ˆ-ï¼‰" class="headerlink" title="2. æŒ‰ä½æˆ–è¿ç®—ç¬¦ï¼ˆ|ï¼‰"></a>2. æŒ‰ä½æˆ–è¿ç®—ç¬¦ï¼ˆ|ï¼‰</h4><p><strong>å®šä¹‰ï¼š</strong> å‚åŠ è¿ç®—çš„ä¸¤ä¸ªå¯¹è±¡æŒ‰äºŒè¿›åˆ¶ä½è¿›è¡Œâ€œæˆ–â€è¿ç®—ã€‚</p><p><strong>è¿ç®—è§„åˆ™ï¼š</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> | <span class="number">0</span> = <span class="number">0</span></span><br><span class="line"><span class="number">0</span> | <span class="number">1</span> = <span class="number">1</span>  </span><br><span class="line"><span class="number">1</span> | <span class="number">0</span> = <span class="number">1</span>  </span><br><span class="line"><span class="number">1</span> | <span class="number">1</span> = <span class="number">1</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼šå‚åŠ è¿ç®—çš„ä¸¤ä¸ªå¯¹è±¡åªè¦æœ‰ä¸€ä¸ªä¸º1ï¼Œå…¶å€¼ä¸º1ã€‚ ä¾‹å¦‚ï¼š3|5å³ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0000</span> <span class="number">0011</span></span><br><span class="line">  <span class="number">0000</span> <span class="number">0101</span> </span><br><span class="line">= <span class="number">0000</span> <span class="number">0111</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œ3|5çš„å€¼ä¸º7ã€‚ æ³¨æ„ï¼šè´Ÿæ•°æŒ‰è¡¥ç å½¢å¼å‚åŠ æŒ‰ä½æˆ–è¿ç®—ã€‚</p><h4 id="3-å¼‚æˆ–è¿ç®—ç¬¦ï¼ˆ-ï¼‰"><a href="#3-å¼‚æˆ–è¿ç®—ç¬¦ï¼ˆ-ï¼‰" class="headerlink" title="3. å¼‚æˆ–è¿ç®—ç¬¦ï¼ˆ^ï¼‰"></a>3. å¼‚æˆ–è¿ç®—ç¬¦ï¼ˆ^ï¼‰</h4><p><strong>å®šä¹‰ï¼š</strong> å‚åŠ è¿ç®—çš„ä¸¤ä¸ªæ•°æ®æŒ‰äºŒè¿›åˆ¶ä½è¿›è¡Œâ€œå¼‚æˆ–â€è¿ç®—ã€‚</p><p><strong>è¿ç®—è§„åˆ™ï¼š</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> ^ <span class="number">0</span> = <span class="number">0</span>  </span><br><span class="line"><span class="number">0</span> ^ <span class="number">1</span> = <span class="number">1</span>  </span><br><span class="line"><span class="number">1</span> ^ <span class="number">0</span> = <span class="number">1</span>  </span><br><span class="line"><span class="number">1</span> ^ <span class="number">1</span> = <span class="number">0</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼šå‚åŠ è¿ç®—çš„ä¸¤ä¸ªå¯¹è±¡ï¼Œå¦‚æœä¸¤ä¸ªç›¸åº”ä½ç›¸åŒä¸º0ï¼Œç›¸å¼‚ä¸º1ã€‚ ä¾‹å¦‚ï¼š3|5å³ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0000</span> <span class="number">0011</span></span><br><span class="line">  <span class="number">0000</span> <span class="number">0101</span> </span><br><span class="line">= <span class="number">0000</span> <span class="number">0110</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œ3^5çš„å€¼ä¸º6ã€‚ å¼‚æˆ–è¿ç®—çš„æ€§è´¨:</p><ul><li>äº¤æ¢å¾‹ï¼š<code>(a^b)^c == a^(b^c)</code></li><li>ç»“åˆå¾‹ï¼š<code>(a + b)^c == a^b + b^c</code></li><li>å¯¹äºä»»ä½•æ•°xï¼Œéƒ½æœ‰ <code>x^x=0ï¼Œx^0=x</code></li><li>è‡ªåæ€§: <code>a^b^b=a^0=a</code>;</li></ul><h4 id="4-å–åè¿ç®—ç¬¦"><a href="#4-å–åè¿ç®—ç¬¦" class="headerlink" title="4. å–åè¿ç®—ç¬¦ (~)"></a>4. å–åè¿ç®—ç¬¦ (~)</h4><p><strong>å®šä¹‰ï¼š</strong> å‚åŠ è¿ç®—çš„ä¸€ä¸ªæ•°æ®æŒ‰äºŒè¿›åˆ¶è¿›è¡Œâ€œå–åâ€è¿ç®—ã€‚</p><p><strong>è¿ç®—è§„åˆ™ï¼š</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~ <span class="number">1</span> = <span class="number">0</span>~ <span class="number">0</span> = <span class="number">1</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼šå¯¹ä¸€ä¸ªäºŒè¿›åˆ¶æ•°æŒ‰ä½å–åï¼Œå³å°†0å˜1ï¼Œ1å˜0ã€‚ ä¾‹å¦‚ï¼š~6 å³ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0000</span> <span class="number">0110</span>= <span class="number">1111</span> <span class="number">1001</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åœ¨è®¡ç®—æœºä¸­ï¼Œæ­£æ•°ç”¨åŸç è¡¨ç¤ºï¼Œè´Ÿæ•°ä½¿ç”¨è¡¥ç å­˜å‚¨ï¼Œé¦–å…ˆçœ‹æœ€é«˜ä½ï¼Œæœ€é«˜ä½1è¡¨ç¤ºè´Ÿæ•°ï¼Œ0è¡¨ç¤ºæ­£æ•°ã€‚æ­¤è®¡ç®—æœºäºŒè¿›åˆ¶ç ä¸ºè´Ÿæ•°ï¼Œæœ€é«˜ä½ä¸ºç¬¦å·ä½ã€‚ å½“å‘ç°æŒ‰ä½å–åä¸ºè´Ÿæ•°æ—¶ï¼Œå°±<strong>ç›´æ¥å–å…¶è¡¥ç </strong>ï¼Œå˜ä¸ºåè¿›åˆ¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0000</span> <span class="number">0110</span>   = <span class="number">1111</span> <span class="number">1001</span>åç ï¼š<span class="number">1000</span> <span class="number">0110</span>è¡¥ç ï¼š<span class="number">1000</span> <span class="number">0111</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œ~6çš„å€¼ä¸º-7ã€‚</p><h4 id="5-å·¦ç§»è¿ç®—ç¬¦ï¼ˆ-lt-lt-ï¼‰"><a href="#5-å·¦ç§»è¿ç®—ç¬¦ï¼ˆ-lt-lt-ï¼‰" class="headerlink" title="5. å·¦ç§»è¿ç®—ç¬¦ï¼ˆ&lt;&lt;ï¼‰"></a>5. å·¦ç§»è¿ç®—ç¬¦ï¼ˆ&lt;&lt;ï¼‰</h4><p><strong>å®šä¹‰ï¼š</strong> å°†ä¸€ä¸ªè¿ç®—å¯¹è±¡çš„å„äºŒè¿›åˆ¶ä½å…¨éƒ¨å·¦ç§»è‹¥å¹²ä½ï¼Œå·¦è¾¹çš„äºŒè¿›åˆ¶ä½ä¸¢å¼ƒï¼Œå³è¾¹è¡¥0ã€‚ è®¾ a=1010 1110ï¼Œa = a&lt;&lt; 2 å°†açš„äºŒè¿›åˆ¶ä½å·¦ç§»2ä½ã€å³è¡¥0ï¼Œå³å¾—a=1011 1000ã€‚ è‹¥å·¦ç§»æ—¶èˆå¼ƒçš„é«˜ä½ä¸åŒ…å«1ï¼Œåˆ™æ¯å·¦ç§»ä¸€ä½ï¼Œç›¸å½“äºè¯¥æ•°ä¹˜ä»¥2ã€‚</p><h4 id="6-å³ç§»è¿ç®—ç¬¦ï¼ˆ-gt-gt-ï¼‰"><a href="#6-å³ç§»è¿ç®—ç¬¦ï¼ˆ-gt-gt-ï¼‰" class="headerlink" title="6. å³ç§»è¿ç®—ç¬¦ï¼ˆ&gt;&gt;ï¼‰"></a>6. å³ç§»è¿ç®—ç¬¦ï¼ˆ&gt;&gt;ï¼‰</h4><p><strong>å®šä¹‰ï¼š</strong> å°†ä¸€ä¸ªæ•°çš„å„äºŒè¿›åˆ¶ä½å…¨éƒ¨å³ç§»è‹¥å¹²ä½ï¼Œæ­£æ•°å·¦è¡¥0ï¼Œè´Ÿæ•°å·¦è¡¥1ï¼Œå³è¾¹ä¸¢å¼ƒã€‚ ä¾‹å¦‚ï¼ša=a&gt;&gt;2 å°†açš„äºŒè¿›åˆ¶ä½å³ç§»2ä½ï¼Œå·¦è¡¥0 æˆ–è€… å·¦è¡¥1å¾—çœ‹è¢«ç§»æ•°æ˜¯æ­£è¿˜æ˜¯è´Ÿã€‚ æ“ä½œæ•°æ¯å³ç§»ä¸€ä½ï¼Œç›¸å½“äºè¯¥æ•°é™¤ä»¥2ã€‚</p><h4 id="7-åŸç ã€è¡¥ç ã€åç "><a href="#7-åŸç ã€è¡¥ç ã€åç " class="headerlink" title="7. åŸç ã€è¡¥ç ã€åç "></a>7. åŸç ã€è¡¥ç ã€åç </h4><p>ä¸Šé¢æåˆ°äº†è¡¥ç ã€åç ç­‰çŸ¥è¯†ï¼Œè¿™é‡Œå°±è¡¥å……ä¸€ä¸‹ã€‚ è®¡ç®—æœºä¸­çš„<strong>æœ‰ç¬¦å·æ•°</strong>æœ‰ä¸‰ç§è¡¨ç¤ºæ–¹æ³•ï¼Œå³åŸç ã€åç å’Œè¡¥ç ã€‚ä¸‰ç§è¡¨ç¤ºæ–¹æ³•å‡æœ‰ç¬¦å·ä½å’Œæ•°å€¼ä½ä¸¤éƒ¨åˆ†ï¼Œç¬¦å·ä½éƒ½æ˜¯ç”¨0è¡¨ç¤ºâ€œæ­£â€ï¼Œç”¨1è¡¨ç¤ºâ€œè´Ÿâ€ï¼Œè€Œæ•°å€¼ä½ï¼Œä¸‰ç§è¡¨ç¤ºæ–¹æ³•å„ä¸ç›¸åŒã€‚</p><p><strong>ï¼ˆ1ï¼‰åŸç </strong></p><p>åŸç å°±æ˜¯ä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶æ•°ã€‚ä¾‹å¦‚ï¼š10çš„åŸç ä¸º0000 1010</p><p><strong>ï¼ˆ2ï¼‰åç </strong></p><ul><li>æ­£æ•°çš„åç ä¸åŸç ç›¸åŒï¼Œå¦‚ï¼š10 åç ä¸º 0000 1010</li><li>è´Ÿæ•°çš„åç ä¸ºé™¤ç¬¦å·ä½ï¼ŒæŒ‰ä½å–åï¼Œå³0å˜1ï¼Œ1å˜0ã€‚</li></ul><p>ä¾‹å¦‚ï¼š-10</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">åŸç ï¼š<span class="number">1000</span> <span class="number">1010</span></span><br><span class="line">åç ï¼š<span class="number">1111</span> <span class="number">0101</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ3ï¼‰è¡¥ç </strong></p><ul><li>æ­£æ•°çš„è¡¥ç ä¸åŸç ç›¸åŒï¼Œå¦‚ï¼š10 è¡¥ç ä¸º 0000 1010</li><li>è´Ÿæ•°çš„è¡¥ç æ˜¯åŸç é™¤ç¬¦å·ä½å¤–çš„æ‰€æœ‰ä½å–åå³0å˜1ï¼Œ1å˜0ï¼Œç„¶ååŠ 1ï¼Œä¹Ÿå°±æ˜¯åç åŠ 1ã€‚</li></ul><p>ä¾‹å¦‚ï¼š-10</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åŸç ï¼š<span class="number">1000</span> <span class="number">1010</span></span><br><span class="line">åç ï¼š<span class="number">1111</span> <span class="number">0101</span></span><br><span class="line">è¡¥ç ï¼š<span class="number">1111</span> <span class="number">0110</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="12-ä¸ºä»€ä¹ˆå‡½æ•°çš„-arguments-å‚æ•°æ˜¯ç±»æ•°ç»„è€Œä¸æ˜¯æ•°ç»„ï¼Ÿå¦‚ä½•éå†ç±»æ•°ç»„"><a href="#12-ä¸ºä»€ä¹ˆå‡½æ•°çš„-arguments-å‚æ•°æ˜¯ç±»æ•°ç»„è€Œä¸æ˜¯æ•°ç»„ï¼Ÿå¦‚ä½•éå†ç±»æ•°ç»„" class="headerlink" title="12. ä¸ºä»€ä¹ˆå‡½æ•°çš„ arguments å‚æ•°æ˜¯ç±»æ•°ç»„è€Œä¸æ˜¯æ•°ç»„ï¼Ÿå¦‚ä½•éå†ç±»æ•°ç»„?"></a>12. ä¸ºä»€ä¹ˆå‡½æ•°çš„ arguments å‚æ•°æ˜¯ç±»æ•°ç»„è€Œä¸æ˜¯æ•°ç»„ï¼Ÿå¦‚ä½•éå†ç±»æ•°ç»„?</h3><p><code>arguments</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„å±æ€§æ˜¯ä» 0 å¼€å§‹ä¾æ¬¡é€’å¢çš„æ•°å­—ï¼Œè¿˜æœ‰<code>callee</code>å’Œ<code>length</code>ç­‰å±æ€§ï¼Œä¸æ•°ç»„ç›¸ä¼¼ï¼›ä½†æ˜¯å®ƒå´æ²¡æœ‰æ•°ç»„å¸¸è§çš„æ–¹æ³•å±æ€§ï¼Œå¦‚<code>forEach</code>, <code>reduce</code>ç­‰ï¼Œæ‰€ä»¥å«å®ƒä»¬ç±»æ•°ç»„ã€‚</p><p>è¦éå†ç±»æ•°ç»„ï¼Œæœ‰ä¸‰ä¸ªæ–¹æ³•ï¼š</p><p>ï¼ˆ1ï¼‰å°†æ•°ç»„çš„æ–¹æ³•åº”ç”¨åˆ°ç±»æ•°ç»„ä¸Šï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨<code>call</code>å’Œ<code>apply</code>æ–¹æ³•ï¼Œå¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">  <span class="built_in">Array</span>.prototype.forEach.call(<span class="built_in">arguments</span>, <span class="function"><span class="params">a</span> =&gt;</span> <span class="built_in">console</span>.log(a))</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ä½¿ç”¨Array.fromæ–¹æ³•å°†ç±»æ•°ç»„è½¬åŒ–æˆæ•°ç»„ï¼šâ€Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">  <span class="keyword">const</span> arrArgs = <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>) </span><br><span class="line">  arrArgs.forEach(<span class="function"><span class="params">a</span> =&gt;</span> <span class="built_in">console</span>.log(a))</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦å°†ç±»æ•°ç»„è½¬åŒ–æˆæ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">    <span class="keyword">const</span> arrArgs = [...arguments] </span><br><span class="line">    arrArgs.forEach(<span class="function"><span class="params">a</span> =&gt;</span> <span class="built_in">console</span>.log(a)) </span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="13-ä»€ä¹ˆæ˜¯-DOM-å’Œ-BOMï¼Ÿ"><a href="#13-ä»€ä¹ˆæ˜¯-DOM-å’Œ-BOMï¼Ÿ" class="headerlink" title="13. ä»€ä¹ˆæ˜¯ DOM å’Œ BOMï¼Ÿ"></a>13. ä»€ä¹ˆæ˜¯ DOM å’Œ BOMï¼Ÿ</h3><ul><li>DOM æŒ‡çš„æ˜¯æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼Œå®ƒæŒ‡çš„æ˜¯æŠŠæ–‡æ¡£å½“åšä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸»è¦å®šä¹‰äº†å¤„ç†ç½‘é¡µå†…å®¹çš„æ–¹æ³•å’Œæ¥å£ã€‚</li><li>BOM æŒ‡çš„æ˜¯æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œå®ƒæŒ‡çš„æ˜¯æŠŠæµè§ˆå™¨å½“åšä¸€ä¸ªå¯¹è±¡æ¥å¯¹å¾…ï¼Œè¿™ä¸ªå¯¹è±¡ä¸»è¦å®šä¹‰äº†ä¸æµè§ˆå™¨è¿›è¡Œäº¤äº’çš„æ³•å’Œæ¥å£ã€‚BOMçš„æ ¸å¿ƒæ˜¯ windowï¼Œè€Œ window å¯¹è±¡å…·æœ‰åŒé‡è§’è‰²ï¼Œå®ƒæ—¢æ˜¯é€šè¿‡ js è®¿é—®æµè§ˆå™¨çª—å£çš„ä¸€ä¸ªæ¥å£ï¼Œåˆæ˜¯ä¸€ä¸ª Globalï¼ˆå…¨å±€ï¼‰å¯¹è±¡ã€‚è¿™æ„å‘³ç€åœ¨ç½‘é¡µä¸­å®šä¹‰çš„ä»»ä½•å¯¹è±¡ï¼Œå˜é‡å’Œå‡½æ•°ï¼Œéƒ½ä½œä¸ºå…¨å±€å¯¹è±¡çš„ä¸€ä¸ªå±æ€§æˆ–è€…æ–¹æ³•å­˜åœ¨ã€‚window å¯¹è±¡å«æœ‰ location å¯¹è±¡ã€navigator å¯¹è±¡ã€screen å¯¹è±¡ç­‰å­å¯¹è±¡ï¼Œå¹¶ä¸” DOM çš„æœ€æ ¹æœ¬çš„å¯¹è±¡ document å¯¹è±¡ä¹Ÿæ˜¯ BOM çš„ window å¯¹è±¡çš„å­å¯¹è±¡ã€‚</li></ul><h3 id="14-å¯¹ç±»æ•°ç»„å¯¹è±¡çš„ç†è§£ï¼Œå¦‚ä½•è½¬åŒ–ä¸ºæ•°ç»„"><a href="#14-å¯¹ç±»æ•°ç»„å¯¹è±¡çš„ç†è§£ï¼Œå¦‚ä½•è½¬åŒ–ä¸ºæ•°ç»„" class="headerlink" title="14. å¯¹ç±»æ•°ç»„å¯¹è±¡çš„ç†è§£ï¼Œå¦‚ä½•è½¬åŒ–ä¸ºæ•°ç»„"></a>14. å¯¹ç±»æ•°ç»„å¯¹è±¡çš„ç†è§£ï¼Œå¦‚ä½•è½¬åŒ–ä¸ºæ•°ç»„</h3><p>ä¸€ä¸ªæ‹¥æœ‰ length å±æ€§å’Œè‹¥å¹²ç´¢å¼•å±æ€§çš„å¯¹è±¡å°±å¯ä»¥è¢«ç§°ä¸ºç±»æ•°ç»„å¯¹è±¡ï¼Œç±»æ•°ç»„å¯¹è±¡å’Œæ•°ç»„ç±»ä¼¼ï¼Œä½†æ˜¯ä¸èƒ½è°ƒç”¨æ•°ç»„çš„æ–¹æ³•ã€‚å¸¸è§çš„ç±»æ•°ç»„å¯¹è±¡æœ‰ arguments å’Œ DOM æ–¹æ³•çš„è¿”å›ç»“æœï¼Œå‡½æ•°å‚æ•°ä¹Ÿå¯ä»¥è¢«çœ‹ä½œæ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Œå› ä¸ºå®ƒå«æœ‰ lengthå±æ€§å€¼ï¼Œä»£è¡¨å¯æ¥æ”¶çš„å‚æ•°ä¸ªæ•°ã€‚</p><p>å¸¸è§çš„ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„çš„æ–¹æ³•æœ‰è¿™æ ·å‡ ç§ï¼š</p><ul><li>é€šè¿‡ call è°ƒç”¨æ•°ç»„çš„ slice æ–¹æ³•æ¥å®ç°è½¬æ¢</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.slice.call(arrayLike);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡ call è°ƒç”¨æ•°ç»„çš„ splice æ–¹æ³•æ¥å®ç°è½¬æ¢</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.splice.call(arrayLike, <span class="number">0</span>);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡ apply è°ƒç”¨æ•°ç»„çš„ concat æ–¹æ³•æ¥å®ç°è½¬æ¢</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.concat.apply([], arrayLike);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡ Array.from æ–¹æ³•æ¥å®ç°è½¬æ¢</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(arrayLike);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="15-escapeã€encodeURIã€encodeURIComponent-çš„åŒºåˆ«"><a href="#15-escapeã€encodeURIã€encodeURIComponent-çš„åŒºåˆ«" class="headerlink" title="15. escapeã€encodeURIã€encodeURIComponent çš„åŒºåˆ«"></a>15. escapeã€encodeURIã€encodeURIComponent çš„åŒºåˆ«</h3><ul><li>encodeURI æ˜¯å¯¹æ•´ä¸ª URI è¿›è¡Œè½¬ä¹‰ï¼Œå°† URI ä¸­çš„éæ³•å­—ç¬¦è½¬æ¢ä¸ºåˆæ³•å­—ç¬¦ï¼Œæ‰€ä»¥å¯¹äºä¸€äº›åœ¨ URI ä¸­æœ‰ç‰¹æ®Šæ„ä¹‰çš„å­—ç¬¦ä¸ä¼šè¿›è¡Œè½¬ä¹‰ã€‚</li><li>encodeURIComponent æ˜¯å¯¹ URI çš„ç»„æˆéƒ¨åˆ†è¿›è¡Œè½¬ä¹‰ï¼Œæ‰€ä»¥ä¸€äº›ç‰¹æ®Šå­—ç¬¦ä¹Ÿä¼šå¾—åˆ°è½¬ä¹‰ã€‚</li><li>escape å’Œ encodeURI çš„ä½œç”¨ç›¸åŒï¼Œä¸è¿‡å®ƒä»¬å¯¹äº unicode ç¼–ç ä¸º 0xff ä¹‹å¤–å­—ç¬¦çš„æ—¶å€™ä¼šæœ‰åŒºåˆ«ï¼Œescape æ˜¯ç›´æ¥åœ¨å­—ç¬¦çš„ unicode ç¼–ç å‰åŠ ä¸Š %uï¼Œè€Œ encodeURI é¦–å…ˆä¼šå°†å­—ç¬¦è½¬æ¢ä¸º UTF-8 çš„æ ¼å¼ï¼Œå†åœ¨æ¯ä¸ªå­—èŠ‚å‰åŠ ä¸Š %ã€‚</li></ul><h3 id="16-å¯¹AJAXçš„ç†è§£ï¼Œå®ç°ä¸€ä¸ªAJAXè¯·æ±‚"><a href="#16-å¯¹AJAXçš„ç†è§£ï¼Œå®ç°ä¸€ä¸ªAJAXè¯·æ±‚" class="headerlink" title="16. å¯¹AJAXçš„ç†è§£ï¼Œå®ç°ä¸€ä¸ªAJAXè¯·æ±‚"></a>16. å¯¹AJAXçš„ç†è§£ï¼Œå®ç°ä¸€ä¸ªAJAXè¯·æ±‚</h3><p>AJAXæ˜¯ Asynchronous JavaScript and XML çš„ç¼©å†™ï¼ŒæŒ‡çš„æ˜¯é€šè¿‡ JavaScript çš„ å¼‚æ­¥é€šä¿¡ï¼Œä»æœåŠ¡å™¨è·å– XML æ–‡æ¡£ä»ä¸­æå–æ•°æ®ï¼Œå†æ›´æ–°å½“å‰ç½‘é¡µçš„å¯¹åº”éƒ¨åˆ†ï¼Œè€Œä¸ç”¨åˆ·æ–°æ•´ä¸ªç½‘é¡µã€‚</p><p>åˆ›å»ºAJAXè¯·æ±‚çš„æ­¥éª¤ï¼š</p><ul><li><strong>åˆ›å»ºä¸€ä¸ª XMLHttpRequest å¯¹è±¡ã€‚</strong></li><li>åœ¨è¿™ä¸ªå¯¹è±¡ä¸Š<strong>ä½¿ç”¨ open æ–¹æ³•åˆ›å»ºä¸€ä¸ª HTTP è¯·æ±‚</strong>ï¼Œopen æ–¹æ³•æ‰€éœ€è¦çš„å‚æ•°æ˜¯è¯·æ±‚çš„æ–¹æ³•ã€è¯·æ±‚çš„åœ°å€ã€æ˜¯å¦å¼‚æ­¥å’Œç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ã€‚</li><li>åœ¨å‘èµ·è¯·æ±‚å‰ï¼Œå¯ä»¥ä¸ºè¿™ä¸ªå¯¹è±¡<strong>æ·»åŠ ä¸€äº›ä¿¡æ¯å’Œç›‘å¬å‡½æ•°</strong>ã€‚æ¯”å¦‚è¯´å¯ä»¥é€šè¿‡ setRequestHeader æ–¹æ³•æ¥ä¸ºè¯·æ±‚æ·»åŠ å¤´ä¿¡æ¯ã€‚è¿˜å¯ä»¥ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ ä¸€ä¸ªçŠ¶æ€ç›‘å¬å‡½æ•°ã€‚ä¸€ä¸ª XMLHttpRequest å¯¹è±¡ä¸€å…±æœ‰ 5 ä¸ªçŠ¶æ€ï¼Œå½“å®ƒçš„çŠ¶æ€å˜åŒ–æ—¶ä¼šè§¦å‘onreadystatechange äº‹ä»¶ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ç›‘å¬å‡½æ•°ï¼Œæ¥å¤„ç†è¯·æ±‚æˆåŠŸåçš„ç»“æœã€‚å½“å¯¹è±¡çš„ readyState å˜ä¸º 4 çš„æ—¶å€™ï¼Œä»£è¡¨æœåŠ¡å™¨è¿”å›çš„æ•°æ®æ¥æ”¶å®Œæˆï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥é€šè¿‡åˆ¤æ–­è¯·æ±‚çš„çŠ¶æ€ï¼Œå¦‚æœçŠ¶æ€æ˜¯ 2xx æˆ–è€… 304 çš„è¯åˆ™ä»£è¡¨è¿”å›æ­£å¸¸ã€‚è¿™ä¸ªæ—¶å€™å°±å¯ä»¥é€šè¿‡ response ä¸­çš„æ•°æ®æ¥å¯¹é¡µé¢è¿›è¡Œæ›´æ–°äº†ã€‚</li><li>å½“å¯¹è±¡çš„å±æ€§å’Œç›‘å¬å‡½æ•°è®¾ç½®å®Œæˆåï¼Œæœ€åè°ƒ<strong>ç”¨ sent æ–¹æ³•æ¥å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚</strong>ï¼Œå¯ä»¥ä¼ å…¥å‚æ•°ä½œä¸ºå‘é€çš„æ•°æ®ä½“ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SERVER_URL = <span class="string">&quot;/server&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line"><span class="comment">// åˆ›å»º Http è¯·æ±‚</span></span><br><span class="line">xhr.open(<span class="string">&quot;GET&quot;</span>, url, <span class="literal">true</span>);</span><br><span class="line"><span class="comment">// è®¾ç½®çŠ¶æ€ç›‘å¬å‡½æ•°</span></span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">this</span>.readyState !== <span class="number">4</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="comment">// å½“è¯·æ±‚æˆåŠŸæ—¶</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">this</span>.status === <span class="number">200</span>) &#123;</span><br><span class="line">    handle(<span class="built_in">this</span>.response);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="built_in">this</span>.statusText);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è®¾ç½®è¯·æ±‚å¤±è´¥æ—¶çš„ç›‘å¬å‡½æ•°</span></span><br><span class="line">xhr.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.error(<span class="built_in">this</span>.statusText);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</span></span><br><span class="line">xhr.responseType = <span class="string">&quot;json&quot;</span>;</span><br><span class="line">xhr.setRequestHeader(<span class="string">&quot;Accept&quot;</span>, <span class="string">&quot;application/json&quot;</span>);</span><br><span class="line"><span class="comment">// å‘é€ Http è¯·æ±‚</span></span><br><span class="line">xhr.send(<span class="literal">null</span>);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä½¿ç”¨Promiseå°è£…AJAXï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// promise å°è£…å®ç°ï¼š</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getJSON</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ª promise å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    <span class="comment">// æ–°å»ºä¸€ä¸ª http è¯·æ±‚</span></span><br><span class="line">    xhr.open(<span class="string">&quot;GET&quot;</span>, url, <span class="literal">true</span>);</span><br><span class="line">    <span class="comment">// è®¾ç½®çŠ¶æ€çš„ç›‘å¬å‡½æ•°</span></span><br><span class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.readyState !== <span class="number">4</span>) <span class="keyword">return</span>;</span><br><span class="line">      <span class="comment">// å½“è¯·æ±‚æˆåŠŸæˆ–å¤±è´¥æ—¶ï¼Œæ”¹å˜ promise çš„çŠ¶æ€</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.status === <span class="number">200</span>) &#123;</span><br><span class="line">        resolve(<span class="built_in">this</span>.response);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="built_in">this</span>.statusText));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// è®¾ç½®é”™è¯¯ç›‘å¬å‡½æ•°</span></span><br><span class="line">    xhr.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="built_in">this</span>.statusText));</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”çš„æ•°æ®ç±»å‹</span></span><br><span class="line">    xhr.responseType = <span class="string">&quot;json&quot;</span>;</span><br><span class="line">    <span class="comment">// è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</span></span><br><span class="line">    xhr.setRequestHeader(<span class="string">&quot;Accept&quot;</span>, <span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">    <span class="comment">// å‘é€ http è¯·æ±‚</span></span><br><span class="line">    xhr.send(<span class="literal">null</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> promise;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="17-JavaScriptä¸ºä»€ä¹ˆè¦è¿›è¡Œå˜é‡æå‡ï¼Œå®ƒå¯¼è‡´äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><a href="#17-JavaScriptä¸ºä»€ä¹ˆè¦è¿›è¡Œå˜é‡æå‡ï¼Œå®ƒå¯¼è‡´äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ" class="headerlink" title="17. JavaScriptä¸ºä»€ä¹ˆè¦è¿›è¡Œå˜é‡æå‡ï¼Œå®ƒå¯¼è‡´äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"></a>17. JavaScriptä¸ºä»€ä¹ˆè¦è¿›è¡Œå˜é‡æå‡ï¼Œå®ƒå¯¼è‡´äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3><p>å˜é‡æå‡çš„è¡¨ç°æ˜¯ï¼Œæ— è®ºåœ¨å‡½æ•°ä¸­ä½•å¤„ä½ç½®å£°æ˜çš„å˜é‡ï¼Œå¥½åƒéƒ½è¢«æå‡åˆ°äº†å‡½æ•°çš„é¦–éƒ¨ï¼Œå¯ä»¥åœ¨å˜é‡å£°æ˜å‰è®¿é—®åˆ°è€Œä¸ä¼šæŠ¥é”™ã€‚</p><p>é€ æˆå˜é‡å£°æ˜æå‡çš„<strong>æœ¬è´¨åŸå› </strong>æ˜¯ js å¼•æ“åœ¨ä»£ç æ‰§è¡Œå‰æœ‰ä¸€ä¸ªè§£æçš„è¿‡ç¨‹ï¼Œåˆ›å»ºäº†æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œåˆå§‹åŒ–äº†ä¸€äº›ä»£ç æ‰§è¡Œæ—¶éœ€è¦ç”¨åˆ°çš„å¯¹è±¡ã€‚å½“è®¿é—®ä¸€ä¸ªå˜é‡æ—¶ï¼Œä¼šåˆ°å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ä½œç”¨åŸŸé“¾ä¸­å»æŸ¥æ‰¾ï¼Œè€Œä½œç”¨åŸŸé“¾çš„é¦–ç«¯æŒ‡å‘çš„æ˜¯å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ï¼Œè¿™ä¸ªå˜é‡å¯¹è±¡æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒåŒ…å«äº†å‡½æ•°çš„å½¢å‚ã€æ‰€æœ‰çš„å‡½æ•°å’Œå˜é‡å£°æ˜ï¼Œè¿™ä¸ªå¯¹è±¡çš„æ˜¯åœ¨ä»£ç è§£æçš„æ—¶å€™åˆ›å»ºçš„ã€‚</p><p>é¦–å…ˆè¦çŸ¥é“ï¼ŒJSåœ¨æ‹¿åˆ°ä¸€ä¸ªå˜é‡æˆ–è€…ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸¤æ­¥æ“ä½œï¼Œå³è§£æå’Œæ‰§è¡Œã€‚</p><ul><li><p>åœ¨è§£æé˜¶æ®µ</p><p>ï¼ŒJSä¼šæ£€æŸ¥è¯­æ³•ï¼Œå¹¶å¯¹å‡½æ•°è¿›è¡Œé¢„ç¼–è¯‘ã€‚è§£æçš„æ—¶å€™ä¼šå…ˆåˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå…ˆæŠŠä»£ç ä¸­å³å°†æ‰§è¡Œçš„å˜é‡ã€å‡½æ•°å£°æ˜éƒ½æ‹¿å‡ºæ¥ï¼Œå˜é‡å…ˆèµ‹å€¼ä¸ºundefinedï¼Œå‡½æ•°å…ˆå£°æ˜å¥½å¯ä½¿ç”¨ã€‚åœ¨ä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¹‹å‰ï¼Œä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œè·Ÿå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç±»ä¼¼ï¼Œä¸è¿‡å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¼šå¤šå‡ºthisã€argumentså’Œå‡½æ•°çš„å‚æ•°ã€‚</p><ul><li>å…¨å±€ä¸Šä¸‹æ–‡ï¼šå˜é‡å®šä¹‰ï¼Œå‡½æ•°å£°æ˜</li><li>å‡½æ•°ä¸Šä¸‹æ–‡ï¼šå˜é‡å®šä¹‰ï¼Œå‡½æ•°å£°æ˜ï¼Œthisï¼Œarguments</li></ul></li><li><p><strong>åœ¨æ‰§è¡Œé˜¶æ®µ</strong>ï¼Œå°±æ˜¯æŒ‰ç…§ä»£ç çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</p></li></ul><p>é‚£ä¸ºä»€ä¹ˆä¼šè¿›è¡Œå˜é‡æå‡å‘¢ï¼Ÿä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸå› ï¼š</p><ul><li>æé«˜æ€§èƒ½</li><li>å®¹é”™æ€§æ›´å¥½</li></ul><p><strong>ï¼ˆ1ï¼‰æé«˜æ€§èƒ½</strong> åœ¨JSä»£ç æ‰§è¡Œä¹‹å‰ï¼Œä¼šè¿›è¡Œè¯­æ³•æ£€æŸ¥å’Œé¢„ç¼–è¯‘ï¼Œå¹¶ä¸”è¿™ä¸€æ“ä½œåªè¿›è¡Œä¸€æ¬¡ã€‚è¿™ä¹ˆåšå°±æ˜¯ä¸ºäº†æé«˜æ€§èƒ½ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸€æ­¥ï¼Œé‚£ä¹ˆæ¯æ¬¡æ‰§è¡Œä»£ç å‰éƒ½å¿…é¡»é‡æ–°è§£æä¸€éè¯¥å˜é‡ï¼ˆå‡½æ•°ï¼‰ï¼Œè€Œè¿™æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œå› ä¸ºå˜é‡ï¼ˆå‡½æ•°ï¼‰çš„ä»£ç å¹¶ä¸ä¼šæ”¹å˜ï¼Œè§£æä¸€éå°±å¤Ÿäº†ã€‚</p><p>åœ¨è§£æçš„è¿‡ç¨‹ä¸­ï¼Œè¿˜ä¼šä¸ºå‡½æ•°ç”Ÿæˆé¢„ç¼–è¯‘ä»£ç ã€‚åœ¨é¢„ç¼–è¯‘æ—¶ï¼Œä¼šç»Ÿè®¡å£°æ˜äº†å“ªäº›å˜é‡ã€åˆ›å»ºäº†å“ªäº›å‡½æ•°ï¼Œå¹¶å¯¹å‡½æ•°çš„ä»£ç è¿›è¡Œå‹ç¼©ï¼Œå»é™¤æ³¨é‡Šã€ä¸å¿…è¦çš„ç©ºç™½ç­‰ã€‚è¿™æ ·åšçš„å¥½å¤„å°±æ˜¯æ¯æ¬¡æ‰§è¡Œå‡½æ•°æ—¶éƒ½å¯ä»¥ç›´æ¥ä¸ºè¯¥å‡½æ•°åˆ†é…æ ˆç©ºé—´ï¼ˆä¸éœ€è¦å†è§£æä¸€éå»è·å–ä»£ç ä¸­å£°æ˜äº†å“ªäº›å˜é‡ï¼Œåˆ›å»ºäº†å“ªäº›å‡½æ•°ï¼‰ï¼Œå¹¶ä¸”å› ä¸ºä»£ç å‹ç¼©çš„åŸå› ï¼Œä»£ç æ‰§è¡Œä¹Ÿæ›´å¿«äº†ã€‚</p><p><strong>ï¼ˆ2ï¼‰å®¹é”™æ€§æ›´å¥½</strong></p><p>å˜é‡æå‡å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜JSçš„å®¹é”™æ€§ï¼Œçœ‹ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span>;<span class="keyword">var</span> a;<span class="built_in">console</span>.log(a);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰å˜é‡æå‡ï¼Œè¿™ä¸¤è¡Œä»£ç å°±ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å› ä¸ºæœ‰äº†å˜é‡æå‡ï¼Œè¿™æ®µä»£ç å°±å¯ä»¥æ­£å¸¸æ‰§è¡Œã€‚</p><p>è™½ç„¶ï¼Œåœ¨å¯ä»¥å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥å®Œå…¨é¿å…è¿™æ ·å†™ï¼Œä½†æ˜¯æœ‰æ—¶ä»£ç å¾ˆå¤æ‚çš„æ—¶å€™ã€‚å¯èƒ½å› ä¸ºç–å¿½è€Œå…ˆä½¿ç”¨åå®šä¹‰äº†ï¼Œè¿™æ ·ä¹Ÿä¸ä¼šå½±å“æ­£å¸¸ä½¿ç”¨ã€‚ç”±äºå˜é‡æå‡çš„å­˜åœ¨ï¼Œè€Œä¼šæ­£å¸¸è¿è¡Œã€‚</p><p><strong>æ€»ç»“ï¼š</strong></p><ul><li>è§£æå’Œé¢„ç¼–è¯‘è¿‡ç¨‹ä¸­çš„å£°æ˜æå‡å¯ä»¥æé«˜æ€§èƒ½ï¼Œè®©å‡½æ•°å¯ä»¥åœ¨æ‰§è¡Œæ—¶é¢„å…ˆä¸ºå˜é‡åˆ†é…æ ˆç©ºé—´</li><li>å£°æ˜æå‡è¿˜å¯ä»¥æé«˜JSä»£ç çš„å®¹é”™æ€§ï¼Œä½¿ä¸€äº›ä¸è§„èŒƒçš„ä»£ç ä¹Ÿå¯ä»¥æ­£å¸¸æ‰§è¡Œ</li></ul><p>å˜é‡æå‡è™½ç„¶æœ‰ä¸€äº›ä¼˜ç‚¹ï¼Œä½†æ˜¯ä»–ä¹Ÿä¼šé€ æˆä¸€å®šçš„é—®é¢˜ï¼Œåœ¨ES6ä¸­æå‡ºäº†letã€constæ¥å®šä¹‰å˜é‡ï¼Œå®ƒä»¬å°±æ²¡æœ‰å˜é‡æå‡çš„æœºåˆ¶ã€‚ä¸‹é¢çœ‹ä¸€ä¸‹å˜é‡æå‡å¯èƒ½ä¼šå¯¼è‡´çš„é—®é¢˜ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tmp = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(tmp);</span><br><span class="line"><span class="keyword">if</span>(<span class="literal">false</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> tmp = <span class="string">&#x27;hello world&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn();  <span class="comment">// undefined</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼ŒåŸæœ¬æ˜¯è¦æ‰“å°å‡ºå¤–å±‚çš„tmpå˜é‡ï¼Œä½†æ˜¯å› ä¸ºå˜é‡æå‡çš„é—®é¢˜ï¼Œå†…å±‚å®šä¹‰çš„tmpè¢«æåˆ°å‡½æ•°å†…éƒ¨çš„æœ€é¡¶éƒ¨ï¼Œç›¸å½“äºè¦†ç›–äº†å¤–å±‚çš„tmpï¼Œæ‰€ä»¥æ‰“å°ç»“æœä¸ºundefinedã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tmp = <span class="string">&#x27;hello world&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; tmp.length; i++) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(tmp[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(i); <span class="comment">// 11</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç”±äºéå†æ—¶å®šä¹‰çš„iä¼šå˜é‡æå‡æˆä¸ºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œåœ¨å‡½æ•°ç»“æŸä¹‹åä¸ä¼šè¢«é”€æ¯ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥11ã€‚</p><h3 id="18-ä»€ä¹ˆæ˜¯å°¾è°ƒç”¨ï¼Œä½¿ç”¨å°¾è°ƒç”¨æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ"><a href="#18-ä»€ä¹ˆæ˜¯å°¾è°ƒç”¨ï¼Œä½¿ç”¨å°¾è°ƒç”¨æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ" class="headerlink" title="18. ä»€ä¹ˆæ˜¯å°¾è°ƒç”¨ï¼Œä½¿ç”¨å°¾è°ƒç”¨æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ"></a>18. ä»€ä¹ˆæ˜¯å°¾è°ƒç”¨ï¼Œä½¿ç”¨å°¾è°ƒç”¨æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</h3><p>å°¾è°ƒç”¨æŒ‡çš„æ˜¯å‡½æ•°çš„æœ€åä¸€æ­¥è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ã€‚ä»£ç æ‰§è¡Œæ˜¯åŸºäºæ‰§è¡Œæ ˆçš„ï¼Œæ‰€ä»¥å½“åœ¨ä¸€ä¸ªå‡½æ•°é‡Œè°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä¼šä¿ç•™å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œç„¶åå†æ–°å»ºå¦å¤–ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡åŠ å…¥æ ˆä¸­ã€‚ä½¿ç”¨å°¾è°ƒç”¨çš„è¯ï¼Œå› ä¸ºå·²ç»æ˜¯å‡½æ•°çš„æœ€åä¸€æ­¥ï¼Œæ‰€ä»¥è¿™æ—¶å¯ä»¥ä¸å¿…å†ä¿ç•™å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä»è€ŒèŠ‚çœäº†å†…å­˜ï¼Œè¿™å°±æ˜¯å°¾è°ƒç”¨ä¼˜åŒ–ã€‚ä½†æ˜¯ ES6 çš„å°¾è°ƒç”¨ä¼˜åŒ–åªåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å¼€å¯ï¼Œæ­£å¸¸æ¨¡å¼æ˜¯æ— æ•ˆçš„ã€‚</p><h3 id="19-ES6æ¨¡å—ä¸CommonJSæ¨¡å—æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿ"><a href="#19-ES6æ¨¡å—ä¸CommonJSæ¨¡å—æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿ" class="headerlink" title="19.  ES6æ¨¡å—ä¸CommonJSæ¨¡å—æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿ"></a>19.  <strong>ES6</strong>æ¨¡å—ä¸<strong>CommonJS</strong>æ¨¡å—æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿ</h3><p>ES6 Moduleå’ŒCommonJSæ¨¡å—çš„åŒºåˆ«ï¼š</p><ul><li>CommonJSæ˜¯å¯¹æ¨¡å—çš„æµ…æ‹·â»‰ï¼ŒES6 Moduleæ˜¯å¯¹æ¨¡å—çš„å¼•â½¤ï¼Œå³ES6 Moduleåªå­˜åªè¯»ï¼Œä¸èƒ½æ”¹å˜å…¶å€¼ï¼Œä¹Ÿå°±æ˜¯æŒ‡é’ˆæŒ‡å‘ä¸èƒ½å˜ï¼Œç±»ä¼¼constï¼›</li><li>importçš„æ¥â¼æ˜¯read-onlyï¼ˆåªè¯»çŠ¶æ€ï¼‰ï¼Œä¸èƒ½ä¿®æ”¹å…¶å˜é‡å€¼ã€‚ å³ä¸èƒ½ä¿®æ”¹å…¶å˜é‡çš„æŒ‡é’ˆæŒ‡å‘ï¼Œä½†å¯ä»¥æ”¹å˜å˜é‡å†…éƒ¨æŒ‡é’ˆæŒ‡å‘ï¼Œå¯ä»¥å¯¹commonJSå¯¹é‡æ–°èµ‹å€¼ï¼ˆæ”¹å˜æŒ‡é’ˆæŒ‡å‘ï¼‰ï¼Œä½†æ˜¯å¯¹ES6 Moduleèµ‹å€¼ä¼šç¼–è¯‘æŠ¥é”™ã€‚</li></ul><p>ES6 Moduleå’ŒCommonJSæ¨¡å—çš„å…±åŒç‚¹ï¼š</p><ul><li>CommonJSå’ŒES6 Moduleéƒ½å¯ä»¥å¯¹å¼•â¼Šçš„å¯¹è±¡è¿›â¾èµ‹å€¼ï¼Œå³å¯¹å¯¹è±¡å†…éƒ¨å±æ€§çš„å€¼è¿›â¾æ”¹å˜ã€‚</li></ul><h3 id="20-å¸¸è§çš„DOMæ“ä½œæœ‰å“ªäº›"><a href="#20-å¸¸è§çš„DOMæ“ä½œæœ‰å“ªäº›" class="headerlink" title="20. å¸¸è§çš„DOMæ“ä½œæœ‰å“ªäº›"></a>20. å¸¸è§çš„DOMæ“ä½œæœ‰å“ªäº›</h3><h4 id="1ï¼‰DOM-èŠ‚ç‚¹çš„è·å–"><a href="#1ï¼‰DOM-èŠ‚ç‚¹çš„è·å–" class="headerlink" title="1ï¼‰DOM èŠ‚ç‚¹çš„è·å–"></a>1ï¼‰DOM èŠ‚ç‚¹çš„è·å–</h4><p>DOM èŠ‚ç‚¹çš„è·å–çš„APIåŠä½¿ç”¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">getElementById <span class="comment">// æŒ‰ç…§ id æŸ¥è¯¢</span></span><br><span class="line">getElementsByTagName <span class="comment">// æŒ‰ç…§æ ‡ç­¾åæŸ¥è¯¢</span></span><br><span class="line">getElementsByClassName <span class="comment">// æŒ‰ç…§ç±»åæŸ¥è¯¢</span></span><br><span class="line">querySelectorAll <span class="comment">// æŒ‰ç…§ css é€‰æ‹©å™¨æŸ¥è¯¢</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰ç…§ id æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">var</span> imooc = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;imooc&#x27;</span>) <span class="comment">// æŸ¥è¯¢åˆ° id ä¸º imooc çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">// æŒ‰ç…§æ ‡ç­¾åæŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">var</span> pList = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;p&#x27;</span>)  <span class="comment">// æŸ¥è¯¢åˆ°æ ‡ç­¾ä¸º p çš„é›†åˆ</span></span><br><span class="line"><span class="built_in">console</span>.log(divList.length)</span><br><span class="line"><span class="built_in">console</span>.log(divList[<span class="number">0</span>])</span><br><span class="line"><span class="comment">// æŒ‰ç…§ç±»åæŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">var</span> moocList = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;mooc&#x27;</span>) <span class="comment">// æŸ¥è¯¢åˆ°ç±»åä¸º mooc çš„é›†åˆ</span></span><br><span class="line"><span class="comment">// æŒ‰ç…§ css é€‰æ‹©å™¨æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">var</span> pList = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.mooc&#x27;</span>) <span class="comment">// æŸ¥è¯¢åˆ°ç±»åä¸º mooc çš„é›†åˆ</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="2ï¼‰DOM-èŠ‚ç‚¹çš„åˆ›å»º"><a href="#2ï¼‰DOM-èŠ‚ç‚¹çš„åˆ›å»º" class="headerlink" title="2ï¼‰DOM èŠ‚ç‚¹çš„åˆ›å»º"></a>2ï¼‰DOM èŠ‚ç‚¹çš„åˆ›å»º</h4><p><strong>åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå¹¶æŠŠå®ƒæ·»åŠ åˆ°æŒ‡å®šèŠ‚ç‚¹çš„åé¢ã€‚</strong> å·²çŸ¥çš„ HTML ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>DEMO<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span> </span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">&quot;title&quot;</span>&gt;</span>æˆ‘æ˜¯æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>   </span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¦æ±‚æ·»åŠ ä¸€ä¸ªæœ‰å†…å®¹çš„ span èŠ‚ç‚¹åˆ° id ä¸º title çš„èŠ‚ç‚¹åé¢ï¼Œåšæ³•å°±æ˜¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¦–å…ˆè·å–çˆ¶èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">var</span> container = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;container&#x27;</span>)</span><br><span class="line"><span class="comment">// åˆ›å»ºæ–°èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">var</span> targetSpan = <span class="built_in">document</span>.createElement(<span class="string">&#x27;span&#x27;</span>)</span><br><span class="line"><span class="comment">// è®¾ç½® span èŠ‚ç‚¹çš„å†…å®¹</span></span><br><span class="line">targetSpan.innerHTML = <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"><span class="comment">// æŠŠæ–°åˆ›å»ºçš„å…ƒç´ å¡è¿›çˆ¶èŠ‚ç‚¹é‡Œå»</span></span><br><span class="line">container.appendChild(targetSpan)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="3ï¼‰DOM-èŠ‚ç‚¹çš„åˆ é™¤"><a href="#3ï¼‰DOM-èŠ‚ç‚¹çš„åˆ é™¤" class="headerlink" title="3ï¼‰DOM èŠ‚ç‚¹çš„åˆ é™¤"></a>3ï¼‰DOM èŠ‚ç‚¹çš„åˆ é™¤</h4><p><strong>åˆ é™¤æŒ‡å®šçš„ DOM èŠ‚ç‚¹ï¼Œ</strong> å·²çŸ¥çš„ HTML ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>DEMO<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span> </span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">&quot;title&quot;</span>&gt;</span>æˆ‘æ˜¯æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>   </span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line">&lt;/html&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>éœ€è¦åˆ é™¤ id ä¸º title çš„å…ƒç´ ï¼Œåšæ³•æ˜¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–ç›®æ ‡å…ƒç´ çš„çˆ¶å…ƒç´ </span></span><br><span class="line"><span class="keyword">var</span> container = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;container&#x27;</span>)</span><br><span class="line"><span class="comment">// è·å–ç›®æ ‡å…ƒç´ </span></span><br><span class="line"><span class="keyword">var</span> targetNode = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;title&#x27;</span>)</span><br><span class="line"><span class="comment">// åˆ é™¤ç›®æ ‡å…ƒç´ </span></span><br><span class="line">container.removeChild(targetNode)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æˆ–è€…é€šè¿‡å­èŠ‚ç‚¹æ•°ç»„æ¥å®Œæˆåˆ é™¤ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–ç›®æ ‡å…ƒç´ çš„çˆ¶å…ƒç´ var container = document.getElementById(&#x27;container&#x27;)// è·å–ç›®æ ‡å…ƒç´ var targetNode = container.childNodes[1]// åˆ é™¤ç›®æ ‡å…ƒç´ container.removeChild(targetNode)</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="4ï¼‰ä¿®æ”¹-DOM-å…ƒç´ "><a href="#4ï¼‰ä¿®æ”¹-DOM-å…ƒç´ " class="headerlink" title="4ï¼‰ä¿®æ”¹ DOM å…ƒç´ "></a>4ï¼‰ä¿®æ”¹ DOM å…ƒç´ </h4><p>ä¿®æ”¹ DOM å…ƒç´ è¿™ä¸ªåŠ¨ä½œå¯ä»¥åˆ†å¾ˆå¤šç»´åº¦ï¼Œæ¯”å¦‚è¯´ç§»åŠ¨ DOM å…ƒç´ çš„ä½ç½®ï¼Œä¿®æ”¹ DOM å…ƒç´ çš„å±æ€§ç­‰ã€‚</p><p><strong>å°†æŒ‡å®šçš„ä¸¤ä¸ª DOM å…ƒç´ äº¤æ¢ä½ç½®ï¼Œ</strong> å·²çŸ¥çš„ HTML ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>DEMO<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span> </span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">&quot;title&quot;</span>&gt;</span>æˆ‘æ˜¯æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;content&quot;</span>&gt;</span>æˆ‘æ˜¯å†…å®¹<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>   </span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line">&lt;/html&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç°åœ¨éœ€è¦è°ƒæ¢ title å’Œ content çš„ä½ç½®ï¼Œå¯ä»¥è€ƒè™‘ insertBefore æˆ–è€… appendChildï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–çˆ¶å…ƒç´ </span></span><br><span class="line"><span class="keyword">var</span> container = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;container&#x27;</span>)   </span><br><span class="line"> </span><br><span class="line"><span class="comment">// è·å–ä¸¤ä¸ªéœ€è¦è¢«äº¤æ¢çš„å…ƒç´ </span></span><br><span class="line"><span class="keyword">var</span> title = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;title&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> content = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;content&#x27;</span>)</span><br><span class="line"><span class="comment">// äº¤æ¢ä¸¤ä¸ªå…ƒç´ ï¼ŒæŠŠ content ç½®äº title å‰é¢</span></span><br><span class="line">container.insertBefore(content, title)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="21-use-strictæ˜¯ä»€ä¹ˆæ„æ€-ä½¿ç”¨å®ƒåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#21-use-strictæ˜¯ä»€ä¹ˆæ„æ€-ä½¿ç”¨å®ƒåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="21. use strictæ˜¯ä»€ä¹ˆæ„æ€ ? ä½¿ç”¨å®ƒåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>21. use strictæ˜¯ä»€ä¹ˆæ„æ€ ? ä½¿ç”¨å®ƒåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>use strict æ˜¯ä¸€ç§ ECMAscript5 æ·»åŠ çš„ï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰è¿è¡Œæ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼ä½¿å¾— Javascript åœ¨æ›´ä¸¥æ ¼çš„æ¡ä»¶ä¸‹è¿è¡Œã€‚è®¾ç«‹ä¸¥æ ¼æ¨¡å¼çš„ç›®çš„å¦‚ä¸‹ï¼š</p><ul><li>æ¶ˆé™¤ Javascript è¯­æ³•çš„ä¸åˆç†ã€ä¸ä¸¥è°¨ä¹‹å¤„ï¼Œå‡å°‘æ€ªå¼‚è¡Œä¸º;</li><li>æ¶ˆé™¤ä»£ç è¿è¡Œçš„ä¸å®‰å…¨ä¹‹å¤„ï¼Œä¿è¯ä»£ç è¿è¡Œçš„å®‰å…¨ï¼›</li><li>æé«˜ç¼–è¯‘å™¨æ•ˆç‡ï¼Œå¢åŠ è¿è¡Œé€Ÿåº¦ï¼›</li><li>ä¸ºæœªæ¥æ–°ç‰ˆæœ¬çš„ Javascript åšå¥½é“ºå«ã€‚</li></ul><p>åŒºåˆ«ï¼š</p><ul><li>ç¦æ­¢ä½¿ç”¨ with è¯­å¥ã€‚</li><li>ç¦æ­¢ this å…³é”®å­—æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚</li><li>å¯¹è±¡ä¸èƒ½æœ‰é‡åçš„å±æ€§ã€‚</li></ul><h3 id="22-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç±»ï¼Ÿ"><a href="#22-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç±»ï¼Ÿ" class="headerlink" title="22. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç±»ï¼Ÿ"></a>22. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç±»ï¼Ÿ</h3><ul><li>ç¬¬ä¸€ç§æ–¹å¼ï¼Œä½¿ç”¨ instanceof è¿ç®—ç¬¦æ¥åˆ¤æ–­æ„é€ å‡½æ•°çš„ prototype å±æ€§æ˜¯å¦å‡ºç°åœ¨å¯¹è±¡çš„åŸå‹é“¾ä¸­çš„ä»»ä½•ä½ç½®ã€‚</li><li>ç¬¬äºŒç§æ–¹å¼ï¼Œé€šè¿‡å¯¹è±¡çš„ constructor å±æ€§æ¥åˆ¤æ–­ï¼Œå¯¹è±¡çš„ constructor å±æ€§æŒ‡å‘è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¸æ˜¯å¾ˆå®‰å…¨ï¼Œå› ä¸º constructor å±æ€§å¯ä»¥è¢«æ”¹å†™ã€‚</li><li>ç¬¬ä¸‰ç§æ–¹å¼ï¼Œå¦‚æœéœ€è¦åˆ¤æ–­çš„æ˜¯æŸä¸ªå†…ç½®çš„å¼•ç”¨ç±»å‹çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ Object.prototype.toString() æ–¹æ³•æ¥æ‰“å°å¯¹è±¡çš„[[Class]] å±æ€§æ¥è¿›è¡Œåˆ¤æ–­ã€‚</li></ul><h3 id="23-å¼ºç±»å‹è¯­è¨€å’Œå¼±ç±»å‹è¯­è¨€çš„åŒºåˆ«"><a href="#23-å¼ºç±»å‹è¯­è¨€å’Œå¼±ç±»å‹è¯­è¨€çš„åŒºåˆ«" class="headerlink" title="23. å¼ºç±»å‹è¯­è¨€å’Œå¼±ç±»å‹è¯­è¨€çš„åŒºåˆ«"></a>23. å¼ºç±»å‹è¯­è¨€å’Œå¼±ç±»å‹è¯­è¨€çš„åŒºåˆ«</h3><ul><li><strong>å¼ºç±»å‹è¯­è¨€</strong>ï¼šå¼ºç±»å‹è¯­è¨€ä¹Ÿç§°ä¸ºå¼ºç±»å‹å®šä¹‰è¯­è¨€ï¼Œæ˜¯ä¸€ç§æ€»æ˜¯å¼ºåˆ¶ç±»å‹å®šä¹‰çš„è¯­è¨€ï¼Œè¦æ±‚å˜é‡çš„ä½¿ç”¨è¦ä¸¥æ ¼ç¬¦åˆå®šä¹‰ï¼Œæ‰€æœ‰å˜é‡éƒ½å¿…é¡»å…ˆå®šä¹‰åä½¿ç”¨ã€‚Javaå’ŒC++ç­‰è¯­è¨€éƒ½æ˜¯å¼ºåˆ¶ç±»å‹å®šä¹‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ä¸€ä¸ªå˜é‡è¢«æŒ‡å®šäº†æŸä¸ªæ•°æ®ç±»å‹ï¼Œå¦‚æœä¸ç»è¿‡å¼ºåˆ¶è½¬æ¢ï¼Œé‚£ä¹ˆå®ƒå°±æ°¸è¿œæ˜¯è¿™ä¸ªæ•°æ®ç±»å‹äº†ã€‚ä¾‹å¦‚ä½ æœ‰ä¸€ä¸ªæ•´æ•°ï¼Œå¦‚æœä¸æ˜¾å¼åœ°è¿›è¡Œè½¬æ¢ï¼Œä½ ä¸èƒ½å°†å…¶è§†ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</li><li><strong>å¼±ç±»å‹è¯­è¨€</strong>ï¼šå¼±ç±»å‹è¯­è¨€ä¹Ÿç§°ä¸ºå¼±ç±»å‹å®šä¹‰è¯­è¨€ï¼Œä¸å¼ºç±»å‹å®šä¹‰ç›¸åã€‚JavaScriptè¯­è¨€å°±å±äºå¼±ç±»å‹è¯­è¨€ã€‚ç®€å•ç†è§£å°±æ˜¯ä¸€ç§å˜é‡ç±»å‹å¯ä»¥è¢«å¿½ç•¥çš„è¯­è¨€ã€‚æ¯”å¦‚JavaScriptæ˜¯å¼±ç±»å‹å®šä¹‰çš„ï¼Œåœ¨JavaScriptä¸­å°±å¯ä»¥å°†å­—ç¬¦ä¸²â€™12â€™å’Œæ•´æ•°3è¿›è¡Œè¿æ¥å¾—åˆ°å­—ç¬¦ä¸²â€™123â€™ï¼Œåœ¨ç›¸åŠ çš„æ—¶å€™ä¼šè¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</li></ul><p>ä¸¤è€…å¯¹æ¯”ï¼šå¼ºç±»å‹è¯­è¨€åœ¨é€Ÿåº¦ä¸Šå¯èƒ½ç•¥é€Šè‰²äºå¼±ç±»å‹è¯­è¨€ï¼Œä½†æ˜¯å¼ºç±»å‹è¯­è¨€å¸¦æ¥çš„ä¸¥è°¨æ€§å¯ä»¥æœ‰æ•ˆåœ°å¸®åŠ©é¿å…è®¸å¤šé”™è¯¯ã€‚</p><h3 id="24-è§£é‡Šæ€§è¯­è¨€å’Œç¼–è¯‘å‹è¯­è¨€çš„åŒºåˆ«"><a href="#24-è§£é‡Šæ€§è¯­è¨€å’Œç¼–è¯‘å‹è¯­è¨€çš„åŒºåˆ«" class="headerlink" title="24. è§£é‡Šæ€§è¯­è¨€å’Œç¼–è¯‘å‹è¯­è¨€çš„åŒºåˆ«"></a>24. è§£é‡Šæ€§è¯­è¨€å’Œç¼–è¯‘å‹è¯­è¨€çš„åŒºåˆ«</h3><p>ï¼ˆ1ï¼‰è§£é‡Šå‹è¯­è¨€ ä½¿ç”¨ä¸“é—¨çš„è§£é‡Šå™¨å¯¹æºç¨‹åºé€è¡Œè§£é‡Šæˆç‰¹å®šå¹³å°çš„æœºå™¨ç å¹¶ç«‹å³æ‰§è¡Œã€‚æ˜¯ä»£ç åœ¨æ‰§è¡Œæ—¶æ‰è¢«è§£é‡Šå™¨ä¸€è¡Œè¡ŒåŠ¨æ€ç¿»è¯‘å’Œæ‰§è¡Œï¼Œè€Œä¸æ˜¯åœ¨æ‰§è¡Œä¹‹å‰å°±å®Œæˆç¿»è¯‘ã€‚è§£é‡Šå‹è¯­è¨€ä¸éœ€è¦äº‹å…ˆç¼–è¯‘ï¼Œå…¶ç›´æ¥å°†æºä»£ç è§£é‡Šæˆæœºå™¨ç å¹¶ç«‹å³æ‰§è¡Œï¼Œæ‰€ä»¥åªè¦æŸä¸€å¹³å°æä¾›äº†ç›¸åº”çš„è§£é‡Šå™¨å³å¯è¿è¡Œè¯¥ç¨‹åºã€‚å…¶ç‰¹ç‚¹æ€»ç»“å¦‚ä¸‹</p><ul><li>è§£é‡Šå‹è¯­è¨€æ¯æ¬¡è¿è¡Œéƒ½éœ€è¦å°†æºä»£ç è§£é‡Šç§°æœºå™¨ç å¹¶æ‰§è¡Œï¼Œæ•ˆç‡è¾ƒä½ï¼›</li><li>åªè¦å¹³å°æä¾›ç›¸åº”çš„è§£é‡Šå™¨ï¼Œå°±å¯ä»¥è¿è¡Œæºä»£ç ï¼Œæ‰€ä»¥å¯ä»¥æ–¹ä¾¿æºç¨‹åºç§»æ¤ï¼›</li><li>JavaScriptã€Pythonç­‰å±äºè§£é‡Šå‹è¯­è¨€ã€‚</li></ul><p>ï¼ˆ2ï¼‰ç¼–è¯‘å‹è¯­è¨€ ä½¿ç”¨ä¸“é—¨çš„ç¼–è¯‘å™¨ï¼Œé’ˆå¯¹ç‰¹å®šçš„å¹³å°ï¼Œå°†é«˜çº§è¯­è¨€æºä»£ç ä¸€æ¬¡æ€§çš„ç¼–è¯‘æˆå¯è¢«è¯¥å¹³å°ç¡¬ä»¶æ‰§è¡Œçš„æœºå™¨ç ï¼Œå¹¶åŒ…è£…æˆè¯¥å¹³å°æ‰€èƒ½è¯†åˆ«çš„å¯æ‰§è¡Œæ€§ç¨‹åºçš„æ ¼å¼ã€‚åœ¨ç¼–è¯‘å‹è¯­è¨€å†™çš„ç¨‹åºæ‰§è¡Œä¹‹å‰ï¼Œéœ€è¦ä¸€ä¸ªä¸“é—¨çš„ç¼–è¯‘è¿‡ç¨‹ï¼ŒæŠŠæºä»£ç ç¼–è¯‘æˆæœºå™¨è¯­è¨€çš„æ–‡ä»¶ï¼Œå¦‚exeæ ¼å¼çš„æ–‡ä»¶ï¼Œä»¥åè¦å†è¿è¡Œæ—¶ï¼Œç›´æ¥ä½¿ç”¨ç¼–è¯‘ç»“æœå³å¯ï¼Œå¦‚ç›´æ¥è¿è¡Œexeæ–‡ä»¶ã€‚å› ä¸ºåªéœ€ç¼–è¯‘ä¸€æ¬¡ï¼Œä»¥åè¿è¡Œæ—¶ä¸éœ€è¦ç¼–è¯‘ï¼Œæ‰€ä»¥ç¼–è¯‘å‹è¯­è¨€æ‰§è¡Œæ•ˆç‡é«˜ã€‚å…¶ç‰¹ç‚¹æ€»ç»“å¦‚ä¸‹ï¼š</p><ul><li>ä¸€æ¬¡æ€§çš„ç¼–è¯‘æˆå¹³å°ç›¸å…³çš„æœºå™¨è¯­è¨€æ–‡ä»¶ï¼Œè¿è¡Œæ—¶è„±ç¦»å¼€å‘ç¯å¢ƒï¼Œè¿è¡Œæ•ˆç‡é«˜ï¼›</li><li>ä¸ç‰¹å®šå¹³å°ç›¸å…³ï¼Œä¸€èˆ¬æ— æ³•ç§»æ¤åˆ°å…¶ä»–å¹³å°ï¼›</li><li>Cã€C++ç­‰å±äºç¼–è¯‘å‹è¯­è¨€ã€‚</li></ul><p><strong>ä¸¤è€…ä¸»è¦åŒºåˆ«åœ¨äºï¼š</strong> å‰è€…æºç¨‹åºç¼–è¯‘åå³å¯åœ¨è¯¥å¹³å°è¿è¡Œï¼Œåè€…æ˜¯åœ¨è¿è¡ŒæœŸé—´æ‰ç¼–è¯‘ã€‚æ‰€ä»¥å‰è€…è¿è¡Œé€Ÿåº¦å¿«ï¼Œåè€…è·¨å¹³å°æ€§å¥½ã€‚</p><h3 id="25-forâ€¦inå’Œforâ€¦ofçš„åŒºåˆ«"><a href="#25-forâ€¦inå’Œforâ€¦ofçš„åŒºåˆ«" class="headerlink" title="25. forâ€¦inå’Œforâ€¦ofçš„åŒºåˆ«"></a>25. forâ€¦inå’Œforâ€¦ofçš„åŒºåˆ«</h3><p>forâ€¦of æ˜¯ES6æ–°å¢çš„éå†æ–¹å¼ï¼Œå…è®¸éå†ä¸€ä¸ªå«æœ‰iteratoræ¥å£çš„æ•°æ®ç»“æ„ï¼ˆæ•°ç»„ã€å¯¹è±¡ç­‰ï¼‰å¹¶ä¸”è¿”å›å„é¡¹çš„å€¼ï¼Œå’ŒES3ä¸­çš„forâ€¦inçš„åŒºåˆ«å¦‚ä¸‹</p><ul><li>forâ€¦of éå†è·å–çš„æ˜¯å¯¹è±¡çš„é”®å€¼ï¼Œforâ€¦in è·å–çš„æ˜¯å¯¹è±¡çš„é”®åï¼›</li><li>forâ€¦ in ä¼šéå†å¯¹è±¡çš„æ•´ä¸ªåŸå‹é“¾ï¼Œæ€§èƒ½éå¸¸å·®ä¸æ¨èä½¿ç”¨ï¼Œè€Œ for â€¦ of åªéå†å½“å‰å¯¹è±¡ä¸ä¼šéå†åŸå‹é“¾ï¼›</li><li>å¯¹äºæ•°ç»„çš„éå†ï¼Œforâ€¦in ä¼šè¿”å›æ•°ç»„ä¸­æ‰€æœ‰å¯æšä¸¾çš„å±æ€§(åŒ…æ‹¬åŸå‹é“¾ä¸Šå¯æšä¸¾çš„å±æ€§)ï¼Œforâ€¦of åªè¿”å›æ•°ç»„çš„ä¸‹æ ‡å¯¹åº”çš„å±æ€§å€¼ï¼›</li></ul><p><strong>æ€»ç»“ï¼š</strong> forâ€¦in å¾ªç¯ä¸»è¦æ˜¯ä¸ºäº†éå†å¯¹è±¡è€Œç”Ÿï¼Œä¸é€‚ç”¨äºéå†æ•°ç»„ï¼›forâ€¦of å¾ªç¯å¯ä»¥ç”¨æ¥éå†æ•°ç»„ã€ç±»æ•°ç»„å¯¹è±¡ï¼Œå­—ç¬¦ä¸²ã€Setã€Map ä»¥åŠ Generator å¯¹è±¡ã€‚</p><h3 id="26-å¦‚ä½•ä½¿ç”¨forâ€¦oféå†å¯¹è±¡"><a href="#26-å¦‚ä½•ä½¿ç”¨forâ€¦oféå†å¯¹è±¡" class="headerlink" title="26. å¦‚ä½•ä½¿ç”¨forâ€¦oféå†å¯¹è±¡"></a>26. å¦‚ä½•ä½¿ç”¨forâ€¦oféå†å¯¹è±¡</h3><p>forâ€¦ofæ˜¯ä½œä¸ºES6æ–°å¢çš„éå†æ–¹å¼ï¼Œå…è®¸éå†ä¸€ä¸ªå«æœ‰iteratoræ¥å£çš„æ•°æ®ç»“æ„ï¼ˆæ•°ç»„ã€å¯¹è±¡ç­‰ï¼‰å¹¶ä¸”è¿”å›å„é¡¹çš„å€¼ï¼Œæ™®é€šçš„å¯¹è±¡ç”¨for..oféå†æ˜¯ä¼šæŠ¥é”™çš„ã€‚</p><p>å¦‚æœéœ€è¦éå†çš„å¯¹è±¡æ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Œç”¨Array.fromè½¬æˆæ•°ç»„å³å¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="number">0</span>:<span class="string">&#x27;one&#x27;</span>,</span><br><span class="line">    <span class="number">1</span>:<span class="string">&#x27;two&#x27;</span>,</span><br><span class="line">    <span class="attr">length</span>: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line">obj = <span class="built_in">Array</span>.from(obj);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">of</span> obj)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k)</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Œå°±ç»™å¯¹è±¡æ·»åŠ ä¸€ä¸ª[Symbol.iterator]å±æ€§ï¼Œå¹¶æŒ‡å‘ä¸€ä¸ªè¿­ä»£å™¨å³å¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹æ³•ä¸€ï¼š</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>:<span class="number">2</span>,</span><br><span class="line">    <span class="attr">c</span>:<span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(<span class="built_in">this</span>);</span><br><span class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"><span class="function"><span class="title">next</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(count&lt;keys.length)&#123;</span><br><span class="line"><span class="keyword">return</span> &#123;<span class="attr">value</span>: obj[keys[count++]],<span class="attr">done</span>:<span class="literal">false</span>&#125;;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">return</span> &#123;<span class="attr">value</span>:<span class="literal">undefined</span>,<span class="attr">done</span>:<span class="literal">true</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">of</span> obj)&#123;</span><br><span class="line"><span class="built_in">console</span>.log(k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>:<span class="number">2</span>,</span><br><span class="line">    <span class="attr">c</span>:<span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line">obj[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(obj);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">of</span> keys)&#123;</span><br><span class="line">        <span class="keyword">yield</span> [k,obj[k]]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> [k,v] <span class="keyword">of</span> obj)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k,v);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="27-ajaxã€axiosã€fetchçš„åŒºåˆ«"><a href="#27-ajaxã€axiosã€fetchçš„åŒºåˆ«" class="headerlink" title="27. ajaxã€axiosã€fetchçš„åŒºåˆ«"></a>27. ajaxã€axiosã€fetchçš„åŒºåˆ«</h3><p><strong>ï¼ˆ1ï¼‰AJAX</strong> Ajax å³â€œAsynchronousJavascriptAndXMLâ€ï¼ˆå¼‚æ­¥ JavaScript å’Œ XMLï¼‰ï¼Œæ˜¯æŒ‡ä¸€ç§åˆ›å»ºäº¤äº’å¼ç½‘é¡µåº”ç”¨çš„ç½‘é¡µå¼€å‘æŠ€æœ¯ã€‚å®ƒæ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ã€‚é€šè¿‡åœ¨åå°ä¸æœåŠ¡å™¨è¿›è¡Œå°‘é‡æ•°æ®äº¤æ¢ï¼ŒAjax å¯ä»¥ä½¿ç½‘é¡µå®ç°å¼‚æ­¥æ›´æ–°ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘é¡µçš„æŸéƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚ä¼ ç»Ÿçš„ç½‘é¡µï¼ˆä¸ä½¿ç”¨ Ajaxï¼‰å¦‚æœéœ€è¦æ›´æ–°å†…å®¹ï¼Œå¿…é¡»é‡è½½æ•´ä¸ªç½‘é¡µé¡µé¢ã€‚å…¶ç¼ºç‚¹å¦‚ä¸‹ï¼š</p><ul><li>æœ¬èº«æ˜¯é’ˆå¯¹MVCç¼–ç¨‹ï¼Œä¸ç¬¦åˆå‰ç«¯MVVMçš„æµªæ½®</li><li>åŸºäºåŸç”ŸXHRå¼€å‘ï¼ŒXHRæœ¬èº«çš„æ¶æ„ä¸æ¸…æ™°</li><li>ä¸ç¬¦åˆå…³æ³¨åˆ†ç¦»ï¼ˆSeparation of Concernsï¼‰çš„åŸåˆ™</li><li>é…ç½®å’Œè°ƒç”¨æ–¹å¼éå¸¸æ··ä¹±ï¼Œè€Œä¸”åŸºäºäº‹ä»¶çš„å¼‚æ­¥æ¨¡å‹ä¸å‹å¥½ã€‚</li></ul><p><strong>ï¼ˆ2ï¼‰Fetch</strong> fetchå·ç§°æ˜¯AJAXçš„æ›¿ä»£å“ï¼Œæ˜¯åœ¨ES6å‡ºç°çš„ï¼Œä½¿ç”¨äº†ES6ä¸­çš„promiseå¯¹è±¡ã€‚Fetchæ˜¯åŸºäºpromiseè®¾è®¡çš„ã€‚Fetchçš„ä»£ç ç»“æ„æ¯”èµ·ajaxç®€å•å¤šã€‚<strong>fetchä¸æ˜¯ajaxçš„è¿›ä¸€æ­¥å°è£…ï¼Œè€Œæ˜¯åŸç”Ÿjsï¼Œæ²¡æœ‰ä½¿ç”¨XMLHttpRequestå¯¹è±¡</strong>ã€‚</p><p>fetchçš„ä¼˜ç‚¹ï¼š</p><ul><li>è¯­æ³•ç®€æ´ï¼Œæ›´åŠ è¯­ä¹‰åŒ–</li><li>åŸºäºæ ‡å‡† Promise å®ç°ï¼Œæ”¯æŒ async/await</li><li>æ›´åŠ åº•å±‚ï¼Œæä¾›çš„APIä¸°å¯Œï¼ˆrequest, responseï¼‰</li><li>è„±ç¦»äº†XHRï¼Œæ˜¯ESè§„èŒƒé‡Œæ–°çš„å®ç°æ–¹å¼</li></ul><p>fetchçš„ç¼ºç‚¹ï¼š</p><ul><li>fetchåªå¯¹ç½‘ç»œè¯·æ±‚æŠ¥é”™ï¼Œå¯¹400ï¼Œ500éƒ½å½“åšæˆåŠŸçš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å› 400ï¼Œ500 é”™è¯¯ç æ—¶å¹¶ä¸ä¼š rejectï¼Œåªæœ‰ç½‘ç»œé”™è¯¯è¿™äº›å¯¼è‡´è¯·æ±‚ä¸èƒ½å®Œæˆæ—¶ï¼Œfetch æ‰ä¼šè¢« rejectã€‚</li><li>fetché»˜è®¤ä¸ä¼šå¸¦cookieï¼Œéœ€è¦æ·»åŠ é…ç½®é¡¹ï¼š fetch(url, {credentials: â€˜includeâ€™})</li><li>fetchä¸æ”¯æŒabortï¼Œä¸æ”¯æŒè¶…æ—¶æ§åˆ¶ï¼Œä½¿ç”¨setTimeoutåŠPromise.rejectçš„å®ç°çš„è¶…æ—¶æ§åˆ¶å¹¶ä¸èƒ½é˜»æ­¢è¯·æ±‚è¿‡ç¨‹ç»§ç»­åœ¨åå°è¿è¡Œï¼Œé€ æˆäº†æµé‡çš„æµªè´¹</li><li>fetchæ²¡æœ‰åŠæ³•åŸç”Ÿç›‘æµ‹è¯·æ±‚çš„è¿›åº¦ï¼Œè€ŒXHRå¯ä»¥</li></ul><p><strong>ï¼ˆ3ï¼‰Axios</strong> Axios æ˜¯ä¸€ç§åŸºäºPromiseå°è£…çš„HTTPå®¢æˆ·ç«¯ï¼Œå…¶ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li>æµè§ˆå™¨ç«¯å‘èµ·XMLHttpRequestsè¯·æ±‚</li><li>nodeç«¯å‘èµ·httpè¯·æ±‚</li><li>æ”¯æŒPromise API</li><li>ç›‘å¬è¯·æ±‚å’Œè¿”å›</li><li>å¯¹è¯·æ±‚å’Œè¿”å›è¿›è¡Œè½¬åŒ–</li><li>å–æ¶ˆè¯·æ±‚</li><li>è‡ªåŠ¨è½¬æ¢jsonæ•°æ®</li><li>å®¢æˆ·ç«¯æ”¯æŒæŠµå¾¡XSRFæ”»å‡»</li></ul><h3 id="28-æ•°ç»„çš„éå†æ–¹æ³•æœ‰å“ªäº›"><a href="#28-æ•°ç»„çš„éå†æ–¹æ³•æœ‰å“ªäº›" class="headerlink" title="28. æ•°ç»„çš„éå†æ–¹æ³•æœ‰å“ªäº›"></a>28. æ•°ç»„çš„éå†æ–¹æ³•æœ‰å“ªäº›</h3><table><thead><tr><th><strong>æ–¹æ³•</strong></th><th><strong>æ˜¯å¦æ”¹å˜åŸæ•°ç»„</strong></th><th><strong>ç‰¹ç‚¹</strong></th></tr></thead><tbody><tr><td>forEach()</td><td>å¦</td><td>æ•°ç»„æ–¹æ³•ï¼Œä¸æ”¹å˜åŸæ•°ç»„ï¼Œæ²¡æœ‰è¿”å›å€¼</td></tr><tr><td>map()</td><td>å¦</td><td>æ•°ç»„æ–¹æ³•ï¼Œä¸æ”¹å˜åŸæ•°ç»„ï¼Œæœ‰è¿”å›å€¼ï¼Œå¯é“¾å¼è°ƒç”¨</td></tr><tr><td>filter()</td><td>å¦</td><td>æ•°ç»„æ–¹æ³•ï¼Œè¿‡æ»¤æ•°ç»„ï¼Œè¿”å›åŒ…å«ç¬¦åˆæ¡ä»¶çš„å…ƒç´ çš„æ•°ç»„ï¼Œå¯é“¾å¼è°ƒç”¨</td></tr><tr><td>forâ€¦of</td><td>å¦</td><td>forâ€¦oféå†å…·æœ‰Iteratorè¿­ä»£å™¨çš„å¯¹è±¡çš„å±æ€§ï¼Œè¿”å›çš„æ˜¯æ•°ç»„çš„å…ƒç´ ã€å¯¹è±¡çš„å±æ€§å€¼ï¼Œä¸èƒ½éå†æ™®é€šçš„objå¯¹è±¡ï¼Œå°†å¼‚æ­¥å¾ªç¯å˜æˆåŒæ­¥å¾ªç¯</td></tr><tr><td>every() å’Œ some()</td><td>å¦</td><td>æ•°ç»„æ–¹æ³•ï¼Œsome()åªè¦æœ‰ä¸€ä¸ªæ˜¯trueï¼Œä¾¿è¿”å›trueï¼›è€Œevery()åªè¦æœ‰ä¸€ä¸ªæ˜¯falseï¼Œä¾¿è¿”å›false.</td></tr><tr><td>find() å’Œ findIndex()</td><td>å¦</td><td>æ•°ç»„æ–¹æ³•ï¼Œfind()è¿”å›çš„æ˜¯ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å€¼ï¼›findIndex()è¿”å›çš„æ˜¯ç¬¬ä¸€ä¸ªè¿”å›æ¡ä»¶çš„å€¼çš„ç´¢å¼•å€¼</td></tr><tr><td>reduce() å’Œ reduceRight()</td><td>å¦</td><td>æ•°ç»„æ–¹æ³•ï¼Œreduce()å¯¹æ•°ç»„æ­£åºæ“ä½œï¼›reduceRight()å¯¹æ•°ç»„é€†åºæ“ä½œ</td></tr></tbody></table><p>éå†æ–¹æ³•çš„è¯¦ç»†è§£é‡Šï¼š<a href="https://link.juejin.cn/?target=https://cuggz.blog.csdn.net/article/details/107649549">ã€Šç»†æ•°JavaScriptä¸­é‚£äº›éå†å’Œå¾ªç¯ã€‹</a></p><h3 id="29-forEachå’Œmapæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#29-forEachå’Œmapæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="29. forEachå’Œmapæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«"></a>29. forEachå’Œmapæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«</h3><p>è¿™æ–¹æ³•éƒ½æ˜¯ç”¨æ¥éå†æ•°ç»„çš„ï¼Œä¸¤è€…åŒºåˆ«å¦‚ä¸‹ï¼š</p><ul><li>forEach()æ–¹æ³•ä¼šé’ˆå¯¹æ¯ä¸€ä¸ªå…ƒç´ æ‰§è¡Œæä¾›çš„å‡½æ•°ï¼Œå¯¹æ•°æ®çš„æ“ä½œä¼šæ”¹å˜åŸæ•°ç»„ï¼Œè¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼›</li><li>map()æ–¹æ³•ä¸ä¼šæ”¹å˜åŸæ•°ç»„çš„å€¼ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œæ–°æ•°ç»„ä¸­çš„å€¼ä¸ºåŸæ•°ç»„è°ƒç”¨å‡½æ•°å¤„ç†ä¹‹åçš„å€¼ï¼›</li></ul><h2 id="å››ã€åŸå‹ä¸åŸå‹é“¾"><a href="#å››ã€åŸå‹ä¸åŸå‹é“¾" class="headerlink" title="å››ã€åŸå‹ä¸åŸå‹é“¾"></a>å››ã€åŸå‹ä¸åŸå‹é“¾</h2><h3 id="1-å¯¹åŸå‹ã€åŸå‹é“¾çš„ç†è§£"><a href="#1-å¯¹åŸå‹ã€åŸå‹é“¾çš„ç†è§£" class="headerlink" title="1. å¯¹åŸå‹ã€åŸå‹é“¾çš„ç†è§£"></a>1. å¯¹åŸå‹ã€åŸå‹é“¾çš„ç†è§£</h3><p>åœ¨JavaScriptä¸­æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°æ¥æ–°å»ºä¸€ä¸ªå¯¹è±¡çš„ï¼Œæ¯ä¸€ä¸ªæ„é€ å‡½æ•°çš„å†…éƒ¨éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼Œå®ƒçš„å±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†å¯ä»¥ç”±è¯¥æ„é€ å‡½æ•°çš„æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚å½“ä½¿ç”¨æ„é€ å‡½æ•°æ–°å»ºä¸€ä¸ªå¯¹è±¡åï¼Œåœ¨è¿™ä¸ªå¯¹è±¡çš„å†…éƒ¨å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘æ„é€ å‡½æ•°çš„ prototype å±æ€§å¯¹åº”çš„å€¼ï¼Œåœ¨ ES5 ä¸­è¿™ä¸ªæŒ‡é’ˆè¢«ç§°ä¸ºå¯¹è±¡çš„åŸå‹ã€‚ä¸€èˆ¬æ¥è¯´ä¸åº”è¯¥èƒ½å¤Ÿè·å–åˆ°è¿™ä¸ªå€¼çš„ï¼Œä½†æ˜¯ç°åœ¨æµè§ˆå™¨ä¸­éƒ½å®ç°äº† <strong>proto</strong> å±æ€§æ¥è®¿é—®è¿™ä¸ªå±æ€§ï¼Œä½†æ˜¯æœ€å¥½ä¸è¦ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œå› ä¸ºå®ƒä¸æ˜¯è§„èŒƒä¸­è§„å®šçš„ã€‚ES5 ä¸­æ–°å¢äº†ä¸€ä¸ª Object.getPrototypeOf() æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥è·å–å¯¹è±¡çš„åŸå‹ã€‚</p><p>å½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå»å®ƒçš„åŸå‹å¯¹è±¡é‡Œæ‰¾è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡åˆä¼šæœ‰è‡ªå·±çš„åŸå‹ï¼Œäºæ˜¯å°±è¿™æ ·ä¸€ç›´æ‰¾ä¸‹å»ï¼Œä¹Ÿå°±æ˜¯åŸå‹é“¾çš„æ¦‚å¿µã€‚åŸå‹é“¾çš„å°½å¤´ä¸€èˆ¬æ¥è¯´éƒ½æ˜¯ Object.prototype æ‰€ä»¥è¿™å°±æ˜¯æ–°å»ºçš„å¯¹è±¡ä¸ºä»€ä¹ˆèƒ½å¤Ÿä½¿ç”¨ toString() ç­‰æ–¹æ³•çš„åŸå› ã€‚</p><p><strong>ç‰¹ç‚¹ï¼š</strong> JavaScript å¯¹è±¡æ˜¯é€šè¿‡å¼•ç”¨æ¥ä¼ é€’çš„ï¼Œåˆ›å»ºçš„æ¯ä¸ªæ–°å¯¹è±¡å®ä½“ä¸­å¹¶æ²¡æœ‰ä¸€ä»½å±äºè‡ªå·±çš„åŸå‹å‰¯æœ¬ã€‚å½“ä¿®æ”¹åŸå‹æ—¶ï¼Œä¸ä¹‹ç›¸å…³çš„å¯¹è±¡ä¹Ÿä¼šç»§æ‰¿è¿™ä¸€æ”¹å˜ã€‚ <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c68fcad75ea54d62a9404aa02cafc65c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp" alt="img"></p><h3 id="2-åŸå‹ä¿®æ”¹ã€é‡å†™"><a href="#2-åŸå‹ä¿®æ”¹ã€é‡å†™" class="headerlink" title="2. åŸå‹ä¿®æ”¹ã€é‡å†™"></a>2. åŸå‹ä¿®æ”¹ã€é‡å†™</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¿®æ”¹åŸå‹</span></span><br><span class="line">Person.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(p.__proto__ === Person.prototype) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(p.__proto__ === p.constructor.prototype) <span class="comment">// true</span></span><br><span class="line"><span class="comment">// é‡å†™åŸå‹</span></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    <span class="attr">getName</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(p.__proto__ === Person.prototype)        <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(p.__proto__ === p.constructor.prototype) <span class="comment">// false</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä¿®æ”¹åŸå‹çš„æ—¶å€™pçš„æ„é€ å‡½æ•°ä¸æ˜¯æŒ‡å‘Personäº†ï¼Œå› ä¸ºç›´æ¥ç»™Personçš„åŸå‹å¯¹è±¡ç›´æ¥ç”¨å¯¹è±¡èµ‹å€¼æ—¶ï¼Œå®ƒçš„æ„é€ å‡½æ•°æŒ‡å‘çš„äº†æ ¹æ„é€ å‡½æ•°Objectï¼Œæ‰€ä»¥è¿™æ—¶å€™<code>p.constructor === Object</code> ï¼Œè€Œä¸æ˜¯<code>p.constructor === Person</code>ã€‚è¦æƒ³æˆç«‹ï¼Œå°±è¦ç”¨constructoræŒ‡å›æ¥ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype = &#123;</span><br><span class="line">    <span class="attr">getName</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">p.constructor = Person</span><br><span class="line"><span class="built_in">console</span>.log(p.__proto__ === Person.prototype)        <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(p.__proto__ === p.constructor.prototype) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="3-åŸå‹é“¾æŒ‡å‘"><a href="#3-åŸå‹é“¾æŒ‡å‘" class="headerlink" title="3. åŸå‹é“¾æŒ‡å‘"></a>3. åŸå‹é“¾æŒ‡å‘</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">p.__proto__  <span class="comment">// Person.prototype</span></span><br><span class="line">Person.prototype.__proto__  <span class="comment">// Object.prototype</span></span><br><span class="line">p.__proto__.__proto__ <span class="comment">//Object.prototype</span></span><br><span class="line">p.__proto__.constructor.prototype.__proto__ <span class="comment">// Object.prototype</span></span><br><span class="line">Person.prototype.constructor.prototype.__proto__ <span class="comment">// Object.prototype</span></span><br><span class="line">p1.__proto__.constructor <span class="comment">// Person</span></span><br><span class="line">Person.prototype.constructor  <span class="comment">// Person</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="4-åŸå‹é“¾çš„ç»ˆç‚¹æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ‰“å°å‡ºåŸå‹é“¾çš„ç»ˆç‚¹ï¼Ÿ"><a href="#4-åŸå‹é“¾çš„ç»ˆç‚¹æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ‰“å°å‡ºåŸå‹é“¾çš„ç»ˆç‚¹ï¼Ÿ" class="headerlink" title="4. åŸå‹é“¾çš„ç»ˆç‚¹æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ‰“å°å‡ºåŸå‹é“¾çš„ç»ˆç‚¹ï¼Ÿ"></a>4. åŸå‹é“¾çš„ç»ˆç‚¹æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ‰“å°å‡ºåŸå‹é“¾çš„ç»ˆç‚¹ï¼Ÿ</h3><p>ç”±äº<code>Object</code>æ˜¯æ„é€ å‡½æ•°ï¼ŒåŸå‹é“¾ç»ˆç‚¹æ˜¯<code>Object.prototype.__proto__</code>ï¼Œè€Œ<code>Object.prototype.__proto__=== null // true</code>ï¼Œæ‰€ä»¥ï¼ŒåŸå‹é“¾çš„ç»ˆç‚¹æ˜¯<code>null</code>ã€‚åŸå‹é“¾ä¸Šçš„æ‰€æœ‰åŸå‹éƒ½æ˜¯å¯¹è±¡ï¼Œæ‰€æœ‰çš„å¯¹è±¡æœ€ç»ˆéƒ½æ˜¯ç”±<code>Object</code>æ„é€ çš„ï¼Œè€Œ<code>Object.prototype</code>çš„ä¸‹ä¸€çº§æ˜¯<code>Object.prototype.__proto__</code>ã€‚ <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221928408.webp" alt="img"></p><h3 id="5-å¦‚ä½•è·å¾—å¯¹è±¡éåŸå‹é“¾ä¸Šçš„å±æ€§ï¼Ÿ"><a href="#5-å¦‚ä½•è·å¾—å¯¹è±¡éåŸå‹é“¾ä¸Šçš„å±æ€§ï¼Ÿ" class="headerlink" title="5. å¦‚ä½•è·å¾—å¯¹è±¡éåŸå‹é“¾ä¸Šçš„å±æ€§ï¼Ÿ"></a>5. å¦‚ä½•è·å¾—å¯¹è±¡éåŸå‹é“¾ä¸Šçš„å±æ€§ï¼Ÿ</h3><p>ä½¿ç”¨å<code>hasOwnProperty()</code>æ–¹æ³•æ¥åˆ¤æ–­å±æ€§æ˜¯å¦å±äºåŸå‹é“¾çš„å±æ€§ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iterate</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">var</span> res=[];</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="keyword">if</span>(obj.hasOwnProperty(key))</span><br><span class="line">           res.push(key+<span class="string">&#x27;: &#x27;</span>+obj[key]);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> res;</span><br><span class="line">&#125; </span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="äº”ã€æ‰§è¡Œä¸Šä¸‹æ–‡-ä½œç”¨åŸŸé“¾-é—­åŒ…"><a href="#äº”ã€æ‰§è¡Œä¸Šä¸‹æ–‡-ä½œç”¨åŸŸé“¾-é—­åŒ…" class="headerlink" title="äº”ã€æ‰§è¡Œä¸Šä¸‹æ–‡/ä½œç”¨åŸŸé“¾/é—­åŒ…"></a>äº”ã€æ‰§è¡Œä¸Šä¸‹æ–‡/ä½œç”¨åŸŸé“¾/é—­åŒ…</h2><h3 id="1-å¯¹é—­åŒ…çš„ç†è§£"><a href="#1-å¯¹é—­åŒ…çš„ç†è§£" class="headerlink" title="1. å¯¹é—­åŒ…çš„ç†è§£"></a>1. å¯¹é—­åŒ…çš„ç†è§£</h3><p><strong>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°</strong>ï¼Œåˆ›å»ºé—­åŒ…çš„æœ€å¸¸è§çš„æ–¹å¼å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°ï¼Œåˆ›å»ºçš„å‡½æ•°å¯ä»¥è®¿é—®åˆ°å½“å‰å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚</p><p>é—­åŒ…æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„ç”¨é€”ï¼›</p><ul><li>é—­åŒ…çš„ç¬¬ä¸€ä¸ªç”¨é€”æ˜¯ä½¿æˆ‘ä»¬åœ¨å‡½æ•°å¤–éƒ¨èƒ½å¤Ÿè®¿é—®åˆ°å‡½æ•°å†…éƒ¨çš„å˜é‡ã€‚é€šè¿‡ä½¿ç”¨é—­åŒ…ï¼Œå¯ä»¥é€šè¿‡åœ¨å¤–éƒ¨è°ƒç”¨é—­åŒ…å‡½æ•°ï¼Œä»è€Œåœ¨å¤–éƒ¨è®¿é—®åˆ°å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•æ¥åˆ›å»ºç§æœ‰å˜é‡ã€‚</li><li>é—­åŒ…çš„å¦ä¸€ä¸ªç”¨é€”æ˜¯ä½¿å·²ç»è¿è¡Œç»“æŸçš„å‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å¯¹è±¡ç»§ç»­ç•™åœ¨å†…å­˜ä¸­ï¼Œå› ä¸ºé—­åŒ…å‡½æ•°ä¿ç•™äº†è¿™ä¸ªå˜é‡å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥è¿™ä¸ªå˜é‡å¯¹è±¡ä¸ä¼šè¢«å›æ”¶ã€‚</li></ul><p>æ¯”å¦‚ï¼Œå‡½æ•° A å†…éƒ¨æœ‰ä¸€ä¸ªå‡½æ•° Bï¼Œå‡½æ•° B å¯ä»¥è®¿é—®åˆ°å‡½æ•° A ä¸­çš„å˜é‡ï¼Œé‚£ä¹ˆå‡½æ•° B å°±æ˜¯é—­åŒ…ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">1</span></span><br><span class="line">  <span class="built_in">window</span>.B = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(a)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">A()</span><br><span class="line">B() <span class="comment">// 1</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åœ¨ JS ä¸­ï¼Œé—­åŒ…å­˜åœ¨çš„æ„ä¹‰å°±æ˜¯è®©æˆ‘ä»¬å¯ä»¥é—´æ¥è®¿é—®å‡½æ•°å†…éƒ¨çš„å˜é‡ã€‚ç»å…¸é¢è¯•é¢˜ï¼šå¾ªç¯ä¸­ä½¿ç”¨é—­åŒ…è§£å†³ var å®šä¹‰å‡½æ•°çš„é—®é¢˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">  &#125;, i * <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>é¦–å…ˆå› ä¸º <code>setTimeout</code> æ˜¯ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œæ‰€ä»¥ä¼šå…ˆæŠŠå¾ªç¯å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œè¿™æ—¶å€™ <code>i</code> å°±æ˜¯ 6 äº†ï¼Œæ‰€ä»¥ä¼šè¾“å‡ºä¸€å † 6ã€‚è§£å†³åŠæ³•æœ‰ä¸‰ç§ï¼š</p><ul><li>ç¬¬ä¸€ç§æ˜¯ä½¿ç”¨é—­åŒ…çš„æ–¹å¼</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;  ;(<span class="function"><span class="keyword">function</span>(<span class="params">j</span>) </span>&#123;    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>) </span>&#123;      <span class="built_in">console</span>.log(j)    &#125;, j * <span class="number">1000</span>)  &#125;)(i)&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œé¦–å…ˆä½¿ç”¨äº†ç«‹å³æ‰§è¡Œå‡½æ•°å°† <code>i</code> ä¼ å…¥å‡½æ•°å†…éƒ¨ï¼Œè¿™ä¸ªæ—¶å€™å€¼å°±è¢«å›ºå®šåœ¨äº†å‚æ•° <code>j</code> ä¸Šé¢ä¸ä¼šæ”¹å˜ï¼Œå½“ä¸‹æ¬¡æ‰§è¡Œ <code>timer</code> è¿™ä¸ªé—­åŒ…çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡ <code>j</code>ï¼Œä»è€Œè¾¾åˆ°ç›®çš„ã€‚</p><ul><li>ç¬¬äºŒç§å°±æ˜¯ä½¿ç”¨ <code>setTimeout</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°ä¼šè¢«å½“æˆ <code>timer</code> å‡½æ•°çš„å‚æ•°ä¼ å…¥ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params">j</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(j)</span><br><span class="line">    &#125;,</span><br><span class="line">    i * <span class="number">1000</span>,</span><br><span class="line">    i</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>ç¬¬ä¸‰ç§å°±æ˜¯ä½¿ç”¨ <code>let</code> å®šä¹‰ <code>i</code> äº†æ¥è§£å†³é—®é¢˜äº†ï¼Œè¿™ä¸ªä¹Ÿæ˜¯æœ€ä¸ºæ¨èçš„æ–¹å¼</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">  &#125;, i * <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="2-å¯¹ä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾çš„ç†è§£"><a href="#2-å¯¹ä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾çš„ç†è§£" class="headerlink" title="2. å¯¹ä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾çš„ç†è§£"></a>2. å¯¹ä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾çš„ç†è§£</h3><h5 id="1ï¼‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸ"><a href="#1ï¼‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸ" class="headerlink" title="1ï¼‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸ"></a>1ï¼‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸ</h5><p>ï¼ˆ1ï¼‰å…¨å±€ä½œç”¨åŸŸ</p><ul><li>æœ€å¤–å±‚å‡½æ•°å’Œæœ€å¤–å±‚å‡½æ•°å¤–é¢å®šä¹‰çš„å˜é‡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ</li><li>æ‰€æœ‰æœªå®šä¹‰ç›´æ¥èµ‹å€¼çš„å˜é‡è‡ªåŠ¨å£°æ˜ä¸ºå…¨å±€ä½œç”¨åŸŸ</li><li>æ‰€æœ‰windowå¯¹è±¡çš„å±æ€§æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ</li><li>å…¨å±€ä½œç”¨åŸŸæœ‰å¾ˆå¤§çš„å¼Šç«¯ï¼Œè¿‡å¤šçš„å…¨å±€ä½œç”¨åŸŸå˜é‡ä¼šæ±¡æŸ“å…¨å±€å‘½åç©ºé—´ï¼Œå®¹æ˜“å¼•èµ·å‘½åå†²çªã€‚</li></ul><p>ï¼ˆ2ï¼‰å‡½æ•°ä½œç”¨åŸŸ</p><ul><li>å‡½æ•°ä½œç”¨åŸŸå£°æ˜åœ¨å‡½æ•°å†…éƒ¨çš„å˜é›¶ï¼Œä¸€èˆ¬åªæœ‰å›ºå®šçš„ä»£ç ç‰‡æ®µå¯ä»¥è®¿é—®åˆ°</li><li>ä½œç”¨åŸŸæ˜¯åˆ†å±‚çš„ï¼Œå†…å±‚ä½œç”¨åŸŸå¯ä»¥è®¿é—®å¤–å±‚ä½œç”¨åŸŸï¼Œåä¹‹ä¸è¡Œ</li></ul><h5 id="2ï¼‰å—çº§ä½œç”¨åŸŸ"><a href="#2ï¼‰å—çº§ä½œç”¨åŸŸ" class="headerlink" title="2ï¼‰å—çº§ä½œç”¨åŸŸ"></a>2ï¼‰å—çº§ä½œç”¨åŸŸ</h5><ul><li>ä½¿ç”¨ES6ä¸­æ–°å¢çš„letå’ŒconstæŒ‡ä»¤å¯ä»¥å£°æ˜å—çº§ä½œç”¨åŸŸï¼Œå—çº§ä½œç”¨åŸŸå¯ä»¥åœ¨å‡½æ•°ä¸­åˆ›å»ºä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªä»£ç å—ä¸­çš„åˆ›å»ºï¼ˆç”±<code>&#123; &#125;</code>åŒ…è£¹çš„ä»£ç ç‰‡æ®µï¼‰</li><li>letå’Œconstå£°æ˜çš„å˜é‡ä¸ä¼šæœ‰å˜é‡æå‡ï¼Œä¹Ÿä¸å¯ä»¥é‡å¤å£°æ˜</li><li>åœ¨å¾ªç¯ä¸­æ¯”è¾ƒé€‚åˆç»‘å®šå—çº§ä½œç”¨åŸŸï¼Œè¿™æ ·å°±å¯ä»¥æŠŠå£°æ˜çš„è®¡æ•°å™¨å˜é‡é™åˆ¶åœ¨å¾ªç¯å†…éƒ¨ã€‚</li></ul><p><strong>ä½œç”¨åŸŸé“¾ï¼š</strong> åœ¨å½“å‰ä½œç”¨åŸŸä¸­æŸ¥æ‰¾æ‰€éœ€å˜é‡ï¼Œä½†æ˜¯è¯¥ä½œç”¨åŸŸæ²¡æœ‰è¿™ä¸ªå˜é‡ï¼Œé‚£è¿™ä¸ªå˜é‡å°±æ˜¯è‡ªç”±å˜é‡ã€‚å¦‚æœåœ¨è‡ªå·±ä½œç”¨åŸŸæ‰¾ä¸åˆ°è¯¥å˜é‡å°±å»çˆ¶çº§ä½œç”¨åŸŸæŸ¥æ‰¾ï¼Œä¾æ¬¡å‘ä¸Šçº§ä½œç”¨åŸŸæŸ¥æ‰¾ï¼Œç›´åˆ°è®¿é—®åˆ°windowå¯¹è±¡å°±è¢«ç»ˆæ­¢ï¼Œè¿™ä¸€å±‚å±‚çš„å…³ç³»å°±æ˜¯ä½œç”¨åŸŸé“¾ã€‚</p><p>ä½œç”¨åŸŸé“¾çš„ä½œç”¨æ˜¯<strong>ä¿è¯å¯¹æ‰§è¡Œç¯å¢ƒæœ‰æƒè®¿é—®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ï¼Œé€šè¿‡ä½œç”¨åŸŸé“¾ï¼Œå¯ä»¥è®¿é—®åˆ°å¤–å±‚ç¯å¢ƒçš„å˜é‡å’Œå‡½æ•°ã€‚</strong></p><p>ä½œç”¨åŸŸé“¾çš„æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨ã€‚å˜é‡å¯¹è±¡æ˜¯ä¸€ä¸ªåŒ…å«äº†æ‰§è¡Œç¯å¢ƒä¸­æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„å¯¹è±¡ã€‚ä½œç”¨åŸŸé“¾çš„å‰ç«¯å§‹ç»ˆéƒ½æ˜¯å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ã€‚å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡ï¼‰å§‹ç»ˆæ˜¯ä½œç”¨åŸŸé“¾çš„æœ€åä¸€ä¸ªå¯¹è±¡ã€‚</p><p>å½“æŸ¥æ‰¾ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¦‚æœå½“å‰æ‰§è¡Œç¯å¢ƒä¸­æ²¡æœ‰æ‰¾åˆ°ï¼Œå¯ä»¥æ²¿ç€ä½œç”¨åŸŸé“¾å‘åæŸ¥æ‰¾ã€‚</p><h3 id="3-å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç†è§£"><a href="#3-å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç†è§£" class="headerlink" title="3. å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç†è§£"></a>3. å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç†è§£</h3><h5 id="1-æ‰§è¡Œä¸Šä¸‹æ–‡ç±»å‹"><a href="#1-æ‰§è¡Œä¸Šä¸‹æ–‡ç±»å‹" class="headerlink" title="1. æ‰§è¡Œä¸Šä¸‹æ–‡ç±»å‹"></a>1. æ‰§è¡Œä¸Šä¸‹æ–‡ç±»å‹</h5><p><strong>ï¼ˆ1ï¼‰å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡</strong></p><p>ä»»ä½•ä¸åœ¨å‡½æ•°å†…éƒ¨çš„éƒ½æ˜¯å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå®ƒé¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€çš„windowå¯¹è±¡ï¼Œå¹¶ä¸”è®¾ç½®thisçš„å€¼ç­‰äºè¿™ä¸ªå…¨å±€å¯¹è±¡ï¼Œä¸€ä¸ªç¨‹åºä¸­åªæœ‰ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p><p><strong>ï¼ˆ2ï¼‰å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡</strong></p><p>å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå°±ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå‡½æ•°çš„ä¸Šä¸‹æ–‡å¯ä»¥æœ‰ä»»æ„å¤šä¸ªã€‚</p><p><strong>ï¼ˆ3ï¼‰</strong><code>eval</code><strong>å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡</strong></p><p>æ‰§è¡Œåœ¨evalå‡½æ•°ä¸­çš„ä»£ç ä¼šæœ‰å±äºä»–è‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä¸è¿‡evalå‡½æ•°ä¸å¸¸ä½¿ç”¨ï¼Œä¸åšä»‹ç»ã€‚</p><h5 id="2-æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ"><a href="#2-æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ" class="headerlink" title="2. æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ"></a>2. æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</h5><ul><li>JavaScriptå¼•æ“ä½¿ç”¨æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆæ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡</li><li>å½“JavaScriptæ‰§è¡Œä»£ç æ—¶ï¼Œé¦–å…ˆé‡åˆ°å…¨å±€ä»£ç ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶ä¸”å‹å…¥æ‰§è¡Œæ ˆä¸­ï¼Œæ¯å½“é‡åˆ°ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œå°±ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å‹å…¥æ ˆé¡¶ï¼Œå¼•æ“ä¼šæ‰§è¡Œä½äºæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆé¡¶çš„å‡½æ•°ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæˆä¹‹åï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ä»æ ˆä¸­å¼¹å‡ºï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªä¸Šä¸‹æ–‡ã€‚å½“æ‰€æœ‰çš„ä»£ç éƒ½æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œä»æ ˆä¸­å¼¹å‡ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;Hello World!&#x27;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">first</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Inside first function&#x27;</span>);</span><br><span class="line">  second();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Again inside first function&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">second</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Inside second function&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">first();</span><br><span class="line"><span class="comment">//æ‰§è¡Œé¡ºåº</span></span><br><span class="line"><span class="comment">//å…ˆæ‰§è¡Œsecond(),åœ¨æ‰§è¡Œfirst()</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h5 id="3-åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡"><a href="#3-åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡" class="headerlink" title="3. åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡"></a>3. åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡</h5><p>åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡æœ‰ä¸¤ä¸ªé˜¶æ®µï¼š<strong>åˆ›å»ºé˜¶æ®µ</strong>å’Œ<strong>æ‰§è¡Œé˜¶æ®µ</strong></p><p><strong>1ï¼‰åˆ›å»ºé˜¶æ®µ</strong></p><p>ï¼ˆ1ï¼‰thisç»‘å®š</p><ul><li>åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼ŒthisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆwindowå¯¹è±¡ï¼‰</li><li>åœ¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼ŒthisæŒ‡å‘å–å†³äºå‡½æ•°å¦‚ä½•è°ƒç”¨ã€‚å¦‚æœå®ƒè¢«ä¸€ä¸ªå¼•ç”¨å¯¹è±¡è°ƒç”¨ï¼Œé‚£ä¹ˆ this ä¼šè¢«è®¾ç½®æˆé‚£ä¸ªå¯¹è±¡ï¼Œå¦åˆ™ this çš„å€¼è¢«è®¾ç½®ä¸ºå…¨å±€å¯¹è±¡æˆ–è€… undefined</li></ul><p>ï¼ˆ2ï¼‰åˆ›å»ºè¯æ³•ç¯å¢ƒç»„ä»¶</p><ul><li>è¯æ³•ç¯å¢ƒæ˜¯ä¸€ç§æœ‰<strong>æ ‡è¯†ç¬¦â€”â€”å˜é‡æ˜ å°„</strong>çš„æ•°æ®ç»“æ„ï¼Œæ ‡è¯†ç¬¦æ˜¯æŒ‡å˜é‡/å‡½æ•°åï¼Œå˜é‡æ˜¯å¯¹å®é™…å¯¹è±¡æˆ–åŸå§‹æ•°æ®çš„å¼•ç”¨ã€‚</li><li>è¯æ³•ç¯å¢ƒçš„å†…éƒ¨æœ‰ä¸¤ä¸ªç»„ä»¶ï¼š<strong>åŠ ç²—æ ·å¼</strong>ï¼šç¯å¢ƒè®°å½•å™¨:ç”¨æ¥å‚¨å­˜å˜é‡ä¸ªå‡½æ•°å£°æ˜çš„å®é™…ä½ç½®<strong>å¤–éƒ¨ç¯å¢ƒçš„å¼•ç”¨</strong>ï¼šå¯ä»¥è®¿é—®çˆ¶çº§ä½œç”¨åŸŸ</li></ul><p>ï¼ˆ3ï¼‰åˆ›å»ºå˜é‡ç¯å¢ƒç»„ä»¶</p><ul><li>å˜é‡ç¯å¢ƒä¹Ÿæ˜¯ä¸€ä¸ªè¯æ³•ç¯å¢ƒï¼Œå…¶ç¯å¢ƒè®°å½•å™¨æŒæœ‰å˜é‡å£°æ˜è¯­å¥åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºçš„ç»‘å®šå…³ç³»ã€‚</li></ul><p><strong>2ï¼‰æ‰§è¡Œé˜¶æ®µ</strong> æ­¤é˜¶æ®µä¼šå®Œæˆå¯¹å˜é‡çš„åˆ†é…ï¼Œæœ€åæ‰§è¡Œå®Œä»£ç ã€‚</p><p><strong>ç®€å•æ¥è¯´æ‰§è¡Œä¸Šä¸‹æ–‡å°±æ˜¯æŒ‡ï¼š</strong></p><p>åœ¨æ‰§è¡Œä¸€ç‚¹JSä»£ç ä¹‹å‰ï¼Œéœ€è¦å…ˆè§£æä»£ç ã€‚è§£æçš„æ—¶å€™ä¼šå…ˆåˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå…ˆæŠŠä»£ç ä¸­å³å°†æ‰§è¡Œçš„å˜é‡ã€å‡½æ•°å£°æ˜éƒ½æ‹¿å‡ºæ¥ï¼Œå˜é‡å…ˆèµ‹å€¼ä¸ºundefinedï¼Œå‡½æ•°å…ˆå£°æ˜å¥½å¯ä½¿ç”¨ã€‚è¿™ä¸€æ­¥æ‰§è¡Œå®Œäº†ï¼Œæ‰å¼€å§‹æ­£å¼çš„æ‰§è¡Œç¨‹åºã€‚</p><p>åœ¨ä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¹‹å‰ï¼Œä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œè·Ÿå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç±»ä¼¼ï¼Œä¸è¿‡å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¼šå¤šå‡ºthisã€argumentså’Œå‡½æ•°çš„å‚æ•°ã€‚</p><ul><li>å…¨å±€ä¸Šä¸‹æ–‡ï¼šå˜é‡å®šä¹‰ï¼Œå‡½æ•°å£°æ˜</li><li>å‡½æ•°ä¸Šä¸‹æ–‡ï¼šå˜é‡å®šä¹‰ï¼Œå‡½æ•°å£°æ˜ï¼Œ<code>this</code>ï¼Œ<code>arguments</code></li></ul><p><strong>æ³¨ï¼š</strong> ç”±äºå­—æ•°é™åˆ¶ï¼Œå‰©ä½™å†…å®¹åœ¨ä¸‹ç¯‡è¿›è¡Œæ€»ç»“å“¦ã€‚</p><h2 id="å…­ã€this-call-apply-bind"><a href="#å…­ã€this-call-apply-bind" class="headerlink" title="å…­ã€this/call/apply/bind"></a>å…­ã€this/call/apply/bind</h2><h3 id="1-å¯¹thiså¯¹è±¡çš„ç†è§£"><a href="#1-å¯¹thiså¯¹è±¡çš„ç†è§£" class="headerlink" title="1. å¯¹thiså¯¹è±¡çš„ç†è§£"></a>1. å¯¹thiså¯¹è±¡çš„ç†è§£</h3><p>this æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒæŒ‡å‘æœ€åä¸€æ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œthis çš„æŒ‡å‘å¯ä»¥é€šè¿‡å››ç§è°ƒç”¨æ¨¡å¼æ¥åˆ¤æ–­ã€‚</p><ul><li>ç¬¬ä¸€ç§æ˜¯<strong>å‡½æ•°è°ƒç”¨æ¨¡å¼</strong>ï¼Œå½“ä¸€ä¸ªå‡½æ•°ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œç›´æ¥ä½œä¸ºå‡½æ•°æ¥è°ƒç”¨æ—¶ï¼Œthis æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚</li><li>ç¬¬äºŒç§æ˜¯<strong>æ–¹æ³•è°ƒç”¨æ¨¡å¼</strong>ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°ä½œä¸ºä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•æ¥è°ƒç”¨æ—¶ï¼Œthis æŒ‡å‘è¿™ä¸ªå¯¹è±¡ã€‚</li><li>ç¬¬ä¸‰ç§æ˜¯<strong>æ„é€ å™¨è°ƒç”¨æ¨¡å¼</strong>ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°ç”¨ new è°ƒç”¨æ—¶ï¼Œå‡½æ•°æ‰§è¡Œå‰ä¼šæ–°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œthis æŒ‡å‘è¿™ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</li><li>ç¬¬å››ç§æ˜¯ <strong>apply ã€ call å’Œ bind è°ƒç”¨æ¨¡å¼</strong>ï¼Œè¿™ä¸‰ä¸ªæ–¹æ³•éƒ½å¯ä»¥æ˜¾ç¤ºçš„æŒ‡å®šè°ƒç”¨å‡½æ•°çš„ this æŒ‡å‘ã€‚å…¶ä¸­ apply æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯ this ç»‘å®šçš„å¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯å‚æ•°æ•°ç»„ã€‚call æ–¹æ³•æ¥æ”¶çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ this ç»‘å®šçš„å¯¹è±¡ï¼Œåé¢çš„å…¶ä½™å‚æ•°æ˜¯ä¼ å…¥å‡½æ•°æ‰§è¡Œçš„å‚æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä½¿ç”¨ call() æ–¹æ³•æ—¶ï¼Œä¼ é€’ç»™å‡½æ•°çš„å‚æ•°å¿…é¡»é€ä¸ªåˆ—ä¸¾å‡ºæ¥ã€‚bind æ–¹æ³•é€šè¿‡ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ª this ç»‘å®šäº†ä¼ å…¥å¯¹è±¡çš„æ–°å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„ this æŒ‡å‘é™¤äº†ä½¿ç”¨ new æ—¶ä¼šè¢«æ”¹å˜ï¼Œå…¶ä»–æƒ…å†µä¸‹éƒ½ä¸ä¼šæ”¹å˜ã€‚</li></ul><p>è¿™å››ç§æ–¹å¼ï¼Œä½¿ç”¨æ„é€ å™¨è°ƒç”¨æ¨¡å¼çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œç„¶åæ˜¯ applyã€call å’Œ bind è°ƒç”¨æ¨¡å¼ï¼Œç„¶åæ˜¯æ–¹æ³•è°ƒç”¨æ¨¡å¼ï¼Œç„¶åæ˜¯å‡½æ•°è°ƒç”¨æ¨¡å¼ã€‚</p><h3 id="2-call-å’Œ-apply-çš„åŒºåˆ«ï¼Ÿ"><a href="#2-call-å’Œ-apply-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="2. call() å’Œ apply() çš„åŒºåˆ«ï¼Ÿ"></a>2. call() å’Œ apply() çš„åŒºåˆ«ï¼Ÿ</h3><p>å®ƒä»¬çš„ä½œç”¨ä¸€æ¨¡ä¸€æ ·ï¼ŒåŒºåˆ«ä»…åœ¨äºä¼ å…¥å‚æ•°çš„å½¢å¼çš„ä¸åŒã€‚</p><ul><li>apply æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šäº†å‡½æ•°ä½“å†… this å¯¹è±¡çš„æŒ‡å‘ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå¸¦ä¸‹æ ‡çš„é›†åˆï¼Œè¿™ä¸ªé›†åˆå¯ä»¥ä¸ºæ•°ç»„ï¼Œä¹Ÿå¯ä»¥ä¸ºç±»æ•°ç»„ï¼Œapply æ–¹æ³•æŠŠè¿™ä¸ªé›†åˆä¸­çš„å…ƒç´ ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¢«è°ƒç”¨çš„å‡½æ•°ã€‚</li><li>call ä¼ å…¥çš„å‚æ•°æ•°é‡ä¸å›ºå®šï¼Œè·Ÿ apply ç›¸åŒçš„æ˜¯ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¹Ÿæ˜¯ä»£è¡¨å‡½æ•°ä½“å†…çš„ this æŒ‡å‘ï¼Œä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹å¾€åï¼Œæ¯ä¸ªå‚æ•°è¢«ä¾æ¬¡ä¼ å…¥å‡½æ•°ã€‚</li></ul><h3 id="3-å®ç°callã€apply-åŠ-bind-å‡½æ•°"><a href="#3-å®ç°callã€apply-åŠ-bind-å‡½æ•°" class="headerlink" title="3. å®ç°callã€apply åŠ bind å‡½æ•°"></a>3. å®ç°callã€apply åŠ bind å‡½æ•°</h3><p><strong>ï¼ˆ1ï¼‰call å‡½æ•°çš„å®ç°æ­¥éª¤ï¼š</strong></p><ul><li>åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°ï¼Œå³ä½¿æ˜¯å®šä¹‰åœ¨å‡½æ•°çš„åŸå‹ä¸Šçš„ï¼Œä½†æ˜¯å¯èƒ½å‡ºç°ä½¿ç”¨ call ç­‰æ–¹å¼è°ƒç”¨çš„æƒ…å†µã€‚</li><li>åˆ¤æ–­ä¼ å…¥ä¸Šä¸‹æ–‡å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è®¾ç½®ä¸º window ã€‚</li><li>å¤„ç†ä¼ å…¥çš„å‚æ•°ï¼Œæˆªå–ç¬¬ä¸€ä¸ªå‚æ•°åçš„æ‰€æœ‰å‚æ•°ã€‚</li><li>å°†å‡½æ•°ä½œä¸ºä¸Šä¸‹æ–‡å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ã€‚</li><li>ä½¿ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¿å­˜è¿”å›ç»“æœã€‚</li><li>åˆ é™¤åˆšæ‰æ–°å¢çš„å±æ€§ã€‚</li><li>è¿”å›ç»“æœã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myCall = <span class="function"><span class="keyword">function</span>(<span class="params">context</span>) </span>&#123;  <span class="comment">// åˆ¤æ–­è°ƒç”¨å¯¹è±¡  if (typeof this !== &quot;function&quot;) &#123;    console.error(&quot;type error&quot;);  &#125;  // è·å–å‚æ•°  let args = [...arguments].slice(1),    result = null;  // åˆ¤æ–­ context æ˜¯å¦ä¼ å…¥ï¼Œå¦‚æœæœªä¼ å…¥åˆ™è®¾ç½®ä¸º window  context = context || window;  // å°†è°ƒç”¨å‡½æ•°è®¾ä¸ºå¯¹è±¡çš„æ–¹æ³•  context.fn = this;  // è°ƒç”¨å‡½æ•°  result = context.fn(...args);  // å°†å±æ€§åˆ é™¤  delete context.fn;  return result;&#125;;å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰apply å‡½æ•°çš„å®ç°æ­¥éª¤ï¼š</strong></p><ul><li>åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°ï¼Œå³ä½¿æ˜¯å®šä¹‰åœ¨å‡½æ•°çš„åŸå‹ä¸Šçš„ï¼Œä½†æ˜¯å¯èƒ½å‡ºç°ä½¿ç”¨ call ç­‰æ–¹å¼è°ƒç”¨çš„æƒ…å†µã€‚</li><li>åˆ¤æ–­ä¼ å…¥ä¸Šä¸‹æ–‡å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è®¾ç½®ä¸º window ã€‚</li><li>å°†å‡½æ•°ä½œä¸ºä¸Šä¸‹æ–‡å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ã€‚</li><li>åˆ¤æ–­å‚æ•°å€¼æ˜¯å¦ä¼ å…¥</li><li>ä½¿ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¿å­˜è¿”å›ç»“æœã€‚</li><li>åˆ é™¤åˆšæ‰æ–°å¢çš„å±æ€§</li><li>è¿”å›ç»“æœ</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myApply = <span class="function"><span class="keyword">function</span>(<span class="params">context</span>) </span>&#123;  <span class="comment">// åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°  if (typeof this !== &quot;function&quot;) &#123;    throw new TypeError(&quot;Error&quot;);  &#125;  let result = null;  // åˆ¤æ–­ context æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæœªä¼ å…¥åˆ™ä¸º window  context = context || window;  // å°†å‡½æ•°è®¾ä¸ºå¯¹è±¡çš„æ–¹æ³•  context.fn = this;  // è°ƒç”¨æ–¹æ³•  if (arguments[1]) &#123;    result = context.fn(...arguments[1]);  &#125; else &#123;    result = context.fn();  &#125;  // å°†å±æ€§åˆ é™¤  delete context.fn;  return result;&#125;;å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ3ï¼‰bind å‡½æ•°çš„å®ç°æ­¥éª¤ï¼š</strong></p><ul><li>åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°ï¼Œå³ä½¿æ˜¯å®šä¹‰åœ¨å‡½æ•°çš„åŸå‹ä¸Šçš„ï¼Œä½†æ˜¯å¯èƒ½å‡ºç°ä½¿ç”¨ call ç­‰æ–¹å¼è°ƒç”¨çš„æƒ…å†µã€‚</li><li>ä¿å­˜å½“å‰å‡½æ•°çš„å¼•ç”¨ï¼Œè·å–å…¶ä½™ä¼ å…¥å‚æ•°å€¼ã€‚</li><li>åˆ›å»ºä¸€ä¸ªå‡½æ•°è¿”å›</li><li>å‡½æ•°å†…éƒ¨ä½¿ç”¨ apply æ¥ç»‘å®šå‡½æ•°è°ƒç”¨ï¼Œéœ€è¦åˆ¤æ–­å‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ä¼ å…¥å½“å‰å‡½æ•°çš„ this ç»™ apply è°ƒç”¨ï¼Œå…¶ä½™æƒ…å†µéƒ½ä¼ å…¥æŒ‡å®šçš„ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myBind = <span class="function"><span class="keyword">function</span>(<span class="params">context</span>) </span>&#123;  <span class="comment">// åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°  if (typeof this !== &quot;function&quot;) &#123;    throw new TypeError(&quot;Error&quot;);  &#125;  // è·å–å‚æ•°  var args = [...arguments].slice(1),    fn = this;  return function Fn() &#123;    // æ ¹æ®è°ƒç”¨æ–¹å¼ï¼Œä¼ å…¥ä¸åŒç»‘å®šå€¼    return fn.apply(      this instanceof Fn ? this : context,      args.concat(...arguments)    );  &#125;;&#125;;å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><h2 id="ä¸ƒã€å¼‚æ­¥ç¼–ç¨‹"><a href="#ä¸ƒã€å¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="ä¸ƒã€å¼‚æ­¥ç¼–ç¨‹"></a>ä¸ƒã€å¼‚æ­¥ç¼–ç¨‹</h2><h3 id="1-å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼ï¼Ÿ"><a href="#1-å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼ï¼Ÿ" class="headerlink" title="1. å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼ï¼Ÿ"></a>1. å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼ï¼Ÿ</h3><p>JavaScriptä¸­çš„å¼‚æ­¥æœºåˆ¶å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p><ul><li><strong>å›è°ƒå‡½æ•°</strong> çš„æ–¹å¼ï¼Œä½¿ç”¨å›è°ƒå‡½æ•°çš„æ–¹å¼æœ‰ä¸€ä¸ªç¼ºç‚¹æ˜¯ï¼Œå¤šä¸ªå›è°ƒå‡½æ•°åµŒå¥—çš„æ—¶å€™ä¼šé€ æˆå›è°ƒå‡½æ•°åœ°ç‹±ï¼Œä¸Šä¸‹ä¸¤å±‚çš„å›è°ƒå‡½æ•°é—´çš„ä»£ç è€¦åˆåº¦å¤ªé«˜ï¼Œä¸åˆ©äºä»£ç çš„å¯ç»´æŠ¤ã€‚</li><li><strong>Promise</strong> çš„æ–¹å¼ï¼Œä½¿ç”¨ Promise çš„æ–¹å¼å¯ä»¥å°†åµŒå¥—çš„å›è°ƒå‡½æ•°ä½œä¸ºé“¾å¼è°ƒç”¨ã€‚ä½†æ˜¯ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæœ‰æ—¶ä¼šé€ æˆå¤šä¸ª then çš„é“¾å¼è°ƒç”¨ï¼Œå¯èƒ½ä¼šé€ æˆä»£ç çš„è¯­ä¹‰ä¸å¤Ÿæ˜ç¡®ã€‚</li><li><strong>generator</strong> çš„æ–¹å¼ï¼Œå®ƒå¯ä»¥åœ¨å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå°†å‡½æ•°çš„æ‰§è¡Œæƒè½¬ç§»å‡ºå»ï¼Œåœ¨å‡½æ•°å¤–éƒ¨è¿˜å¯ä»¥å°†æ‰§è¡Œæƒè½¬ç§»å›æ¥ã€‚å½“é‡åˆ°å¼‚æ­¥å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œå°†å‡½æ•°æ‰§è¡Œæƒè½¬ç§»å‡ºå»ï¼Œå½“å¼‚æ­¥å‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶å†å°†æ‰§è¡Œæƒç»™è½¬ç§»å›æ¥ã€‚å› æ­¤åœ¨ generator å†…éƒ¨å¯¹äºå¼‚æ­¥æ“ä½œçš„æ–¹å¼ï¼Œå¯ä»¥ä»¥åŒæ­¥çš„é¡ºåºæ¥ä¹¦å†™ã€‚ä½¿ç”¨è¿™ç§æ–¹å¼éœ€è¦è€ƒè™‘çš„é—®é¢˜æ˜¯ä½•æ—¶å°†å‡½æ•°çš„æ§åˆ¶æƒè½¬ç§»å›æ¥ï¼Œå› æ­¤éœ€è¦æœ‰ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œ generator çš„æœºåˆ¶ï¼Œæ¯”å¦‚è¯´ co æ¨¡å—ç­‰æ–¹å¼æ¥å®ç° generator çš„è‡ªåŠ¨æ‰§è¡Œã€‚</li><li><strong>async å‡½æ•°</strong> çš„æ–¹å¼ï¼Œasync å‡½æ•°æ˜¯ generator å’Œ promise å®ç°çš„ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œçš„è¯­æ³•ç³–ï¼Œå®ƒå†…éƒ¨è‡ªå¸¦æ‰§è¡Œå™¨ï¼Œå½“å‡½æ•°å†…éƒ¨æ‰§è¡Œåˆ°ä¸€ä¸ª await è¯­å¥çš„æ—¶å€™ï¼Œå¦‚æœè¯­å¥è¿”å›ä¸€ä¸ª promise å¯¹è±¡ï¼Œé‚£ä¹ˆå‡½æ•°å°†ä¼šç­‰å¾… promise å¯¹è±¡çš„çŠ¶æ€å˜ä¸º resolve åå†ç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚å› æ­¤å¯ä»¥å°†å¼‚æ­¥é€»è¾‘ï¼Œè½¬åŒ–ä¸ºåŒæ­¥çš„é¡ºåºæ¥ä¹¦å†™ï¼Œå¹¶ä¸”è¿™ä¸ªå‡½æ•°å¯ä»¥è‡ªåŠ¨æ‰§è¡Œã€‚</li></ul><h3 id="2-setTimeoutã€Promiseã€Async-Await-çš„åŒºåˆ«"><a href="#2-setTimeoutã€Promiseã€Async-Await-çš„åŒºåˆ«" class="headerlink" title="2. setTimeoutã€Promiseã€Async/Await çš„åŒºåˆ«"></a>2. setTimeoutã€Promiseã€Async/Await çš„åŒºåˆ«</h3><h4 id="ï¼ˆ1ï¼‰setTimeout"><a href="#ï¼ˆ1ï¼‰setTimeout" class="headerlink" title="ï¼ˆ1ï¼‰setTimeout"></a>ï¼ˆ1ï¼‰setTimeout</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>)<span class="comment">//1. æ‰“å° script startsetTimeout(function()&#123;    console.log(&#x27;settimeout&#x27;)// 4. æ‰“å° settimeout&#125;)// 2. è°ƒç”¨ setTimeout å‡½æ•°ï¼Œå¹¶å®šä¹‰å…¶å®Œæˆåæ‰§è¡Œçš„å›è°ƒå‡½æ•°console.log(&#x27;script end&#x27;)//3. æ‰“å° script start// è¾“å‡ºé¡ºåºï¼šscript start-&gt;script end-&gt;settimeoutå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ2ï¼‰Promise"><a href="#ï¼ˆ2ï¼‰Promise" class="headerlink" title="ï¼ˆ2ï¼‰Promise"></a>ï¼ˆ2ï¼‰Promise</h4><p>Promiseæœ¬èº«æ˜¯<strong>åŒæ­¥çš„ç«‹å³æ‰§è¡Œå‡½æ•°</strong>ï¼Œ å½“åœ¨executorä¸­æ‰§è¡Œresolveæˆ–è€…rejectçš„æ—¶å€™, æ­¤æ—¶æ˜¯å¼‚æ­¥æ“ä½œï¼Œ ä¼šå…ˆæ‰§è¡Œthen/catchç­‰ï¼Œå½“ä¸»æ ˆå®Œæˆåï¼Œæ‰ä¼šå»è°ƒç”¨resolve/rejectä¸­å­˜æ”¾çš„æ–¹æ³•æ‰§è¡Œï¼Œæ‰“å°pçš„æ—¶å€™ï¼Œæ˜¯æ‰“å°çš„è¿”å›ç»“æœï¼Œä¸€ä¸ªPromiseå®ä¾‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>)<span class="keyword">let</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;promise1&#x27;</span>)    resolve()    <span class="built_in">console</span>.log(<span class="string">&#x27;promise1 end&#x27;</span>)&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;promise2&#x27;</span>)&#125;)<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;settimeout&#x27;</span>)&#125;)<span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>)<span class="comment">// è¾“å‡ºé¡ºåº: script start-&gt;promise1-&gt;promise1 end-&gt;script end-&gt;promise2-&gt;settimeoutå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>å½“JSä¸»çº¿ç¨‹æ‰§è¡Œåˆ°Promiseå¯¹è±¡æ—¶ï¼š</p><ul><li>promise1.then() çš„å›è°ƒå°±æ˜¯ä¸€ä¸ª task</li><li>promise1 æ˜¯ resolvedæˆ–rejected: é‚£è¿™ä¸ª task å°±ä¼šæ”¾å…¥å½“å‰äº‹ä»¶å¾ªç¯å›åˆçš„ microtask queue</li><li>promise1 æ˜¯ pending: è¿™ä¸ª task å°±ä¼šæ”¾å…¥ äº‹ä»¶å¾ªç¯çš„æœªæ¥çš„æŸä¸ª(å¯èƒ½ä¸‹ä¸€ä¸ª)å›åˆçš„ microtask queue ä¸­</li><li>setTimeout çš„å›è°ƒä¹Ÿæ˜¯ä¸ª task ï¼Œå®ƒä¼šè¢«æ”¾å…¥ macrotask queue å³ä½¿æ˜¯ 0ms çš„æƒ…å†µ</li></ul><h4 id="ï¼ˆ3ï¼‰async-await"><a href="#ï¼ˆ3ï¼‰async-await" class="headerlink" title="ï¼ˆ3ï¼‰async/await"></a>ï¼ˆ3ï¼‰async/await</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>)</span>&#123;   <span class="built_in">console</span>.log(<span class="string">&#x27;async1 start&#x27;</span>);    <span class="keyword">await</span> async2();    <span class="built_in">console</span>.log(<span class="string">&#x27;async1 end&#x27;</span>)&#125;<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>)</span>&#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;async2&#x27;</span>)&#125;<span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>);async1();<span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>)<span class="comment">// è¾“å‡ºé¡ºåºï¼šscript start-&gt;async1 start-&gt;async2-&gt;script end-&gt;async1 endå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>async å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ° await å°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°è§¦å‘çš„å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚å¯ä»¥ç†è§£ä¸ºï¼Œæ˜¯è®©å‡ºäº†çº¿ç¨‹ï¼Œè·³å‡ºäº† async å‡½æ•°ä½“ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">func1</span>(<span class="params"></span>) </span>&#123;    <span class="keyword">return</span> <span class="number">1</span>&#125;<span class="built_in">console</span>.log(func1())å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/40194bdc07024b78b6da8bb43d84a7d8~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp" alt="img"> func1çš„è¿è¡Œç»“æœå…¶å®å°±æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ã€‚å› æ­¤ä¹Ÿå¯ä»¥ä½¿ç”¨thenæ¥å¤„ç†åç»­é€»è¾‘ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func1().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;    <span class="built_in">console</span>.log(res);  <span class="comment">// 30&#125;)å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>awaitçš„å«ä¹‰ä¸ºç­‰å¾…ï¼Œä¹Ÿå°±æ˜¯ async å‡½æ•°éœ€è¦ç­‰å¾…awaitåçš„å‡½æ•°æ‰§è¡Œå®Œæˆå¹¶ä¸”æœ‰äº†è¿”å›ç»“æœï¼ˆPromiseå¯¹è±¡ï¼‰ä¹‹åï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚awaité€šè¿‡è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡æ¥å®ç°åŒæ­¥çš„æ•ˆæœã€‚</p><h3 id="3-å¯¹Promiseçš„ç†è§£"><a href="#3-å¯¹Promiseçš„ç†è§£" class="headerlink" title="3. å¯¹Promiseçš„ç†è§£"></a>3. å¯¹Promiseçš„ç†è§£</h3><p>Promiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ï¼Œä»–çš„å‡ºç°å¤§å¤§æ”¹å–„äº†å¼‚æ­¥ç¼–ç¨‹çš„å›°å¢ƒï¼Œé¿å…äº†åœ°ç‹±å›è°ƒï¼Œå®ƒæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆå›è°ƒå‡½æ•°å’Œäº‹ä»¶æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚</p><p>æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚</p><p>ï¼ˆ1ï¼‰Promiseçš„å®ä¾‹æœ‰<strong>ä¸‰ä¸ªçŠ¶æ€</strong>:</p><ul><li>Pendingï¼ˆè¿›è¡Œä¸­ï¼‰</li><li>Resolvedï¼ˆå·²å®Œæˆï¼‰</li><li>Rejectedï¼ˆå·²æ‹’ç»ï¼‰</li></ul><p>å½“æŠŠä¸€ä»¶äº‹æƒ…äº¤ç»™promiseæ—¶ï¼Œå®ƒçš„çŠ¶æ€å°±æ˜¯Pendingï¼Œä»»åŠ¡å®Œæˆäº†çŠ¶æ€å°±å˜æˆäº†Resolvedã€æ²¡æœ‰å®Œæˆå¤±è´¥äº†å°±å˜æˆäº†Rejectedã€‚</p><p>ï¼ˆ2ï¼‰Promiseçš„å®ä¾‹æœ‰<strong>ä¸¤ä¸ªè¿‡ç¨‹</strong>ï¼š</p><ul><li>pending -&gt; fulfilled : Resolvedï¼ˆå·²å®Œæˆï¼‰</li><li>pending -&gt; rejectedï¼šRejectedï¼ˆå·²æ‹’ç»ï¼‰</li></ul><p>æ³¨æ„ï¼šä¸€æ—¦ä»è¿›è¡ŒçŠ¶æ€å˜æˆä¸ºå…¶ä»–çŠ¶æ€å°±æ°¸è¿œä¸èƒ½æ›´æ”¹çŠ¶æ€äº†ã€‚</p><p><strong>Promiseçš„ç‰¹ç‚¹ï¼š</strong></p><ul><li>å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚promiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼Œ<code>pending</code>ï¼ˆè¿›è¡Œä¸­ï¼‰ã€<code>fulfilled</code>ï¼ˆå·²æˆåŠŸï¼‰ã€<code>rejected</code>ï¼ˆå·²å¤±è´¥ï¼‰ã€‚åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ï¼Œè¿™ä¹Ÿæ˜¯promiseè¿™ä¸ªåå­—çš„ç”±æ¥â€”â€”â€œ<strong>æ‰¿è¯º</strong>â€ï¼›</li><li>ä¸€æ—¦çŠ¶æ€æ”¹å˜å°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚promiseå¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»<code>pending</code>å˜ä¸º<code>fulfilled</code>ï¼Œä»<code>pending</code>å˜ä¸º<code>rejected</code>ã€‚è¿™æ—¶å°±ç§°ä¸º<code>resolved</code>ï¼ˆå·²å®šå‹ï¼‰ã€‚å¦‚æœæ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹promiseå¯¹è±¡æ·»åŠ å›è°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—åˆ°è¿™ä¸ªç»“æœã€‚è¿™ä¸äº‹ä»¶ï¼ˆeventï¼‰å®Œå…¨ä¸åŒï¼Œäº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼šå¦‚æœä½ é”™è¿‡äº†å®ƒï¼Œå†å»ç›‘å¬æ˜¯å¾—ä¸åˆ°ç»“æœçš„ã€‚</li></ul><p><strong>Promiseçš„ç¼ºç‚¹ï¼š</strong></p><ul><li>æ— æ³•å–æ¶ˆPromiseï¼Œä¸€æ—¦æ–°å»ºå®ƒå°±ä¼šç«‹å³æ‰§è¡Œï¼Œæ— æ³•ä¸­é€”å–æ¶ˆã€‚</li><li>å¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼ŒPromiseå†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸ä¼šååº”åˆ°å¤–éƒ¨ã€‚</li><li>å½“å¤„äºpendingçŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µï¼ˆåˆšåˆšå¼€å§‹è¿˜æ˜¯å³å°†å®Œæˆï¼‰ã€‚</li></ul><p><strong>æ€»ç»“ï¼š</strong> Promise å¯¹è±¡æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæœ€æ—©ç”±ç¤¾åŒºæå‡ºã€‚Promise æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ª Promise å®ä¾‹ã€‚ä¸€ä¸ª Promise å®ä¾‹æœ‰ä¸‰ç§çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯pendingã€resolved å’Œ rejectedï¼Œåˆ†åˆ«ä»£è¡¨äº†è¿›è¡Œä¸­ã€å·²æˆåŠŸå’Œå·²å¤±è´¥ã€‚å®ä¾‹çš„çŠ¶æ€åªèƒ½ç”± pending è½¬å˜ resolved æˆ–è€…rejected çŠ¶æ€ï¼Œå¹¶ä¸”çŠ¶æ€ä¸€ç»æ”¹å˜ï¼Œå°±å‡å›ºäº†ï¼Œæ— æ³•å†è¢«æ”¹å˜äº†ã€‚</p><p>çŠ¶æ€çš„æ”¹å˜æ˜¯é€šè¿‡ resolve() å’Œ reject() å‡½æ•°æ¥å®ç°çš„ï¼Œå¯ä»¥åœ¨å¼‚æ­¥æ“ä½œç»“æŸåè°ƒç”¨è¿™ä¸¤ä¸ªå‡½æ•°æ”¹å˜ Promise å®ä¾‹çš„çŠ¶æ€ï¼Œå®ƒçš„åŸå‹ä¸Šå®šä¹‰äº†ä¸€ä¸ª then æ–¹æ³•ï¼Œä½¿ç”¨è¿™ä¸ª then æ–¹æ³•å¯ä»¥ä¸ºä¸¤ä¸ªçŠ¶æ€çš„æ”¹å˜æ³¨å†Œå›è°ƒå‡½æ•°ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°å±äºå¾®ä»»åŠ¡ï¼Œä¼šåœ¨æœ¬è½®äº‹ä»¶å¾ªç¯çš„æœ«å°¾æ‰§è¡Œã€‚</p><p><strong>æ³¨æ„ï¼š</strong> åœ¨æ„é€  <code>Promise</code> çš„æ—¶å€™ï¼Œæ„é€ å‡½æ•°å†…éƒ¨çš„ä»£ç æ˜¯ç«‹å³æ‰§è¡Œçš„</p><h3 id="4-Promiseçš„åŸºæœ¬ç”¨æ³•"><a href="#4-Promiseçš„åŸºæœ¬ç”¨æ³•" class="headerlink" title="4. Promiseçš„åŸºæœ¬ç”¨æ³•"></a>4. Promiseçš„åŸºæœ¬ç”¨æ³•</h3><h4 id="ï¼ˆ1ï¼‰åˆ›å»ºPromiseå¯¹è±¡"><a href="#ï¼ˆ1ï¼‰åˆ›å»ºPromiseå¯¹è±¡" class="headerlink" title="ï¼ˆ1ï¼‰åˆ›å»ºPromiseå¯¹è±¡"></a>ï¼ˆ1ï¼‰åˆ›å»ºPromiseå¯¹è±¡</h4><p>Promiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼špendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€fulfilledï¼ˆå·²æˆåŠŸï¼‰å’Œrejectedï¼ˆå·²å¤±è´¥ï¼‰ã€‚</p><p>Promiseæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯<code>resolve</code>å’Œ<code>reject</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;  <span class="comment">// ... some code  if (/* å¼‚æ­¥æ“ä½œæˆåŠŸ */)&#123;    resolve(value);  &#125; else &#123;    reject(error);  &#125;&#125;);å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p><strong>ä¸€èˆ¬æƒ…å†µä¸‹éƒ½ä¼šä½¿ç”¨</strong><code>new Promise()</code><strong>æ¥åˆ›å»ºpromiseå¯¹è±¡ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨</strong><code>promise.resolve</code><strong>å’Œ</strong><code>promise.reject</code><strong>è¿™ä¸¤ä¸ªæ–¹æ³•ï¼š</strong></p><ul><li><strong>Promise.resolve</strong></li></ul><p><code>Promise.resolve(value)</code>çš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œå¯ä»¥å¯¹è¿”å›å€¼è¿›è¡Œ.thenè°ƒç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve(<span class="number">11</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;  <span class="built_in">console</span>.log(value); <span class="comment">// æ‰“å°å‡º11&#125;);å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p><code>resolve(11)</code>ä»£ç ä¸­ï¼Œä¼šè®©promiseå¯¹è±¡è¿›å…¥ç¡®å®š(<code>resolve</code>çŠ¶æ€)ï¼Œå¹¶å°†å‚æ•°<code>11</code>ä¼ é€’ç»™åé¢çš„<code>then</code>æ‰€æŒ‡å®šçš„<code>onFulfilled</code> å‡½æ•°ï¼›</p><p>åˆ›å»ºpromiseå¯¹è±¡å¯ä»¥ä½¿ç”¨<code>new Promise</code>çš„å½¢å¼åˆ›å»ºå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>Promise.resolve(value)</code>çš„å½¢å¼åˆ›å»ºpromiseå¯¹è±¡ï¼›</p><ul><li><strong>Promise.reject</strong></li></ul><p><code>Promise.reject</code> ä¹Ÿæ˜¯<code>new Promise</code>çš„å¿«æ·å½¢å¼ï¼Œä¹Ÿåˆ›å»ºä¸€ä¸ªpromiseå¯¹è±¡ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.reject(<span class="keyword">new</span> <span class="built_in">Error</span>(â€œæˆ‘é”™äº†ï¼Œè¯·åŸè°…ä¿ºï¼ï¼â€));å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å°±æ˜¯ä¸‹é¢çš„ä»£ç new Promiseçš„ç®€å•å½¢å¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;   reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;æˆ‘é”™äº†ï¼&quot;</span>));&#125;);å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä½¿ç”¨resolveæ–¹æ³•å’Œrejectæ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testPromise</span>(<span class="params">ready</span>) </span>&#123;  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;    <span class="keyword">if</span>(ready) &#123;      resolve(<span class="string">&quot;hello world&quot;</span>);    &#125;<span class="keyword">else</span> &#123;      reject(<span class="string">&quot;No thanks&quot;</span>);    &#125;  &#125;);&#125;;<span class="comment">// æ–¹æ³•è°ƒç”¨testPromise(true).then(function(msg)&#123;  console.log(msg);&#125;,function(error)&#123;  console.log(error);&#125;);å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç çš„å«ä¹‰æ˜¯ç»™<code>testPromise</code>æ–¹æ³•ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œå¦‚æœä¸º<code>true</code>çš„è¯ï¼Œé‚£ä¹ˆè°ƒç”¨promiseå¯¹è±¡ä¸­çš„<code>resolve()</code>æ–¹æ³•ï¼Œå¹¶ä¸”æŠŠå…¶ä¸­çš„å‚æ•°ä¼ é€’ç»™åé¢çš„<code>then</code>ç¬¬ä¸€ä¸ªå‡½æ•°å†…ï¼Œå› æ­¤æ‰“å°å‡º â€œ<code>hello world</code>â€, å¦‚æœä¸º<code>false</code>çš„è¯ï¼Œä¼šè°ƒç”¨promiseå¯¹è±¡ä¸­çš„<code>reject()</code>æ–¹æ³•ï¼Œåˆ™ä¼šè¿›å…¥<code>then</code>çš„ç¬¬äºŒä¸ªå‡½æ•°å†…ï¼Œä¼šæ‰“å°<code>No thanks</code>ï¼›</p><h4 id="ï¼ˆ2ï¼‰Promiseæ–¹æ³•"><a href="#ï¼ˆ2ï¼‰Promiseæ–¹æ³•" class="headerlink" title="ï¼ˆ2ï¼‰Promiseæ–¹æ³•"></a>ï¼ˆ2ï¼‰Promiseæ–¹æ³•</h4><p>Promiseæœ‰äº”ä¸ªå¸¸ç”¨çš„æ–¹æ³•ï¼šthen()ã€catch()ã€all()ã€race()ã€finallyã€‚ä¸‹é¢å°±æ¥çœ‹ä¸€ä¸‹è¿™äº›æ–¹æ³•ã€‚</p><ol><li><strong>then()</strong></li></ol><p>å½“Promiseæ‰§è¡Œçš„å†…å®¹ç¬¦åˆæˆåŠŸæ¡ä»¶æ—¶ï¼Œè°ƒç”¨<code>resolve</code>å‡½æ•°ï¼Œå¤±è´¥å°±è°ƒç”¨<code>reject</code>å‡½æ•°ã€‚Promiseåˆ›å»ºå®Œäº†ï¼Œé‚£è¯¥å¦‚ä½•è°ƒç”¨å‘¢ï¼Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">promise.then(function(value) &#123;  // success&#125;, function(error) &#123;  // failure&#125;);å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><code>then</code>æ–¹æ³•å¯ä»¥æ¥å—ä¸¤ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°æ˜¯Promiseå¯¹è±¡çš„çŠ¶æ€å˜ä¸º<code>resolved</code>æ—¶è°ƒç”¨ï¼Œç¬¬äºŒä¸ªå›è°ƒå‡½æ•°æ˜¯Promiseå¯¹è±¡çš„çŠ¶æ€å˜ä¸º<code>rejected</code>æ—¶è°ƒç”¨ã€‚å…¶ä¸­ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥çœç•¥ã€‚ <code>then</code>æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ï¼ˆä¸æ˜¯åŸæ¥é‚£ä¸ªPromiseå®ä¾‹ï¼‰ã€‚å› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ï¼Œå³<code>then</code>æ–¹æ³•åé¢å†è°ƒç”¨å¦ä¸€ä¸ªthenæ–¹æ³•ã€‚</p><p>å½“è¦å†™æœ‰é¡ºåºçš„å¼‚æ­¥äº‹ä»¶æ—¶ï¼Œéœ€è¦ä¸²è¡Œæ—¶ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;    ajax(<span class="string">&#x27;first&#x27;</span>).success(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;        resolve(res);    &#125;)&#125;)promise.then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resovle,reject</span>)=&gt;</span>&#123;        ajax(<span class="string">&#x27;second&#x27;</span>).success(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;            resolve(res)        &#125;)    &#125;)&#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resovle,reject</span>)=&gt;</span>&#123;        ajax(<span class="string">&#x27;second&#x27;</span>).success(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;            resolve(res)        &#125;)    &#125;)&#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;    &#125;)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>é‚£å½“è¦å†™çš„äº‹ä»¶æ²¡æœ‰é¡ºåºæˆ–è€…å…³ç³»æ—¶ï¼Œè¿˜å¦‚ä½•å†™å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨<code>all</code> æ–¹æ³•æ¥è§£å†³ã€‚</p><p><strong>2. catch()</strong></p><p>Promiseå¯¹è±¡é™¤äº†æœ‰thenæ–¹æ³•ï¼Œè¿˜æœ‰ä¸€ä¸ªcatchæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç›¸å½“äº<code>then</code>æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼ŒæŒ‡å‘<code>reject</code>çš„å›è°ƒå‡½æ•°ã€‚ä¸è¿‡<code>catch</code>æ–¹æ³•è¿˜æœ‰ä¸€ä¸ªä½œç”¨ï¼Œå°±æ˜¯åœ¨æ‰§è¡Œ<code>resolve</code>å›è°ƒå‡½æ•°æ—¶ï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œä¸ä¼šåœæ­¢è¿è¡Œï¼Œè€Œæ˜¯è¿›å…¥<code>catch</code>æ–¹æ³•ä¸­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p.then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;     <span class="built_in">console</span>.log(<span class="string">&#x27;resolved&#x27;</span>,data);&#125;,<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;     <span class="built_in">console</span>.log(<span class="string">&#x27;rejected&#x27;</span>,err);     &#125;); p.then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;resolved&#x27;</span>,data);&#125;).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;rejected&#x27;</span>,err);&#125;);å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><strong>3. all()</strong></p><p><code>all</code>æ–¹æ³•å¯ä»¥å®Œæˆå¹¶è¡Œä»»åŠ¡ï¼Œ å®ƒæ¥æ”¶ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ª<code>promise</code>å¯¹è±¡ã€‚å½“æ•°ç»„ä¸­æ‰€æœ‰çš„<code>promise</code>çš„çŠ¶æ€éƒ½è¾¾åˆ°<code>resolved</code>çš„æ—¶å€™ï¼Œ<code>all</code>æ–¹æ³•çš„çŠ¶æ€å°±ä¼šå˜æˆ<code>resolved</code>ï¼Œå¦‚æœæœ‰ä¸€ä¸ªçŠ¶æ€å˜æˆäº†<code>rejected</code>ï¼Œé‚£ä¹ˆ<code>all</code>æ–¹æ³•çš„çŠ¶æ€å°±ä¼šå˜æˆ<code>rejected</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascriptlet promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;       resolve(<span class="number">1</span>);&#125;,<span class="number">2000</span>)&#125;);<span class="keyword">let</span> promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;       resolve(<span class="number">2</span>);&#125;,<span class="number">1000</span>)&#125;);<span class="keyword">let</span> promise3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;       resolve(<span class="number">3</span>);&#125;,<span class="number">3000</span>)&#125;);<span class="built_in">Promise</span>.all([promise1,promise2,promise3]).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;    <span class="built_in">console</span>.log(res);    <span class="comment">//ç»“æœä¸ºï¼š[1,2,3] &#125;)å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>è°ƒç”¨<code>all</code>æ–¹æ³•æ—¶çš„ç»“æœæˆåŠŸçš„æ—¶å€™æ˜¯å›è°ƒå‡½æ•°çš„å‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„æŒ‰é¡ºåºä¿å­˜ç€æ¯ä¸€ä¸ªpromiseå¯¹è±¡<code>resolve</code>æ‰§è¡Œæ—¶çš„å€¼ã€‚</p><p><strong>ï¼ˆ4ï¼‰race()</strong></p><p><code>race</code>æ–¹æ³•å’Œ<code>all</code>ä¸€æ ·ï¼Œæ¥å—çš„å‚æ•°æ˜¯ä¸€ä¸ªæ¯é¡¹éƒ½æ˜¯<code>promise</code>çš„æ•°ç»„ï¼Œä½†æ˜¯ä¸<code>all</code>ä¸åŒçš„æ˜¯ï¼Œå½“æœ€å…ˆæ‰§è¡Œå®Œçš„äº‹ä»¶æ‰§è¡Œå®Œä¹‹åï¼Œå°±ç›´æ¥è¿”å›è¯¥<code>promise</code>å¯¹è±¡çš„å€¼ã€‚å¦‚æœç¬¬ä¸€ä¸ª<code>promise</code>å¯¹è±¡çŠ¶æ€å˜æˆ<code>resolved</code>ï¼Œé‚£è‡ªèº«çš„çŠ¶æ€å˜æˆäº†<code>resolved</code>ï¼›åä¹‹ç¬¬ä¸€ä¸ª<code>promise</code>å˜æˆ<code>rejected</code>ï¼Œé‚£è‡ªèº«çŠ¶æ€å°±ä¼šå˜æˆ<code>rejected</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;       reject(<span class="number">1</span>);&#125;,<span class="number">2000</span>)&#125;);<span class="keyword">let</span> promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;       resolve(<span class="number">2</span>);&#125;,<span class="number">1000</span>)&#125;);<span class="keyword">let</span> promise3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;       resolve(<span class="number">3</span>);&#125;,<span class="number">3000</span>)&#125;);<span class="built_in">Promise</span>.race([promise1,promise2,promise3]).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;<span class="built_in">console</span>.log(res);<span class="comment">//ç»“æœï¼š2&#125;,rej=&gt;&#123;    console.log(rej)&#125;;)å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆ<code>race</code>æ–¹æ³•æœ‰ä»€ä¹ˆå®é™…ä½œç”¨å‘¢ï¼Ÿå½“è¦åšä¸€ä»¶äº‹ï¼Œè¶…è¿‡å¤šé•¿æ—¶é—´å°±ä¸åšäº†ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•æ¥è§£å†³ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.race([promise1,timeOutPromise(<span class="number">5000</span>)]).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;&#125;)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><strong>5. finally()</strong></p><p><code>finally</code>æ–¹æ³•ç”¨äºæŒ‡å®šä¸ç®¡ Promise å¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œã€‚è¯¥æ–¹æ³•æ˜¯ ES2018 å¼•å…¥æ ‡å‡†çš„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">promise.then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;Â·Â·Â·&#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;Â·Â·Â·&#125;).finally(<span class="function">() =&gt;</span> &#123;Â·Â·Â·&#125;);å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œä¸ç®¡<code>promise</code>æœ€åçš„çŠ¶æ€ï¼Œåœ¨æ‰§è¡Œå®Œ<code>then</code>æˆ–<code>catch</code>æŒ‡å®šçš„å›è°ƒå‡½æ•°ä»¥åï¼Œéƒ½ä¼šæ‰§è¡Œ<code>finally</code>æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼ŒæœåŠ¡å™¨ä½¿ç”¨ Promise å¤„ç†è¯·æ±‚ï¼Œç„¶åä½¿ç”¨<code>finally</code>æ–¹æ³•å…³æ‰æœåŠ¡å™¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server.listen(port)  .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;    <span class="comment">// ...  &#125;)  .finally(server.stop);å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p><code>finally</code>æ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œè¿™æ„å‘³ç€æ²¡æœ‰åŠæ³•çŸ¥é“ï¼Œå‰é¢çš„ Promise çŠ¶æ€åˆ°åº•æ˜¯<code>fulfilled</code>è¿˜æ˜¯<code>rejected</code>ã€‚è¿™è¡¨æ˜ï¼Œ<code>finally</code>æ–¹æ³•é‡Œé¢çš„æ“ä½œï¼Œåº”è¯¥æ˜¯ä¸çŠ¶æ€æ— å…³çš„ï¼Œä¸ä¾èµ–äº Promise çš„æ‰§è¡Œç»“æœã€‚<code>finally</code>æœ¬è´¨ä¸Šæ˜¯<code>then</code>æ–¹æ³•çš„ç‰¹ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">promise.finally(<span class="function">() =&gt;</span> &#123;  <span class="comment">// è¯­å¥&#125;);// ç­‰åŒäºpromise.then(  result =&gt; &#123;    // è¯­å¥    return result;  &#125;,  error =&gt; &#123;    // è¯­å¥    throw error;  &#125;);å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœä¸ä½¿ç”¨<code>finally</code>æ–¹æ³•ï¼ŒåŒæ ·çš„è¯­å¥éœ€è¦ä¸ºæˆåŠŸå’Œå¤±è´¥ä¸¤ç§æƒ…å†µå„å†™ä¸€æ¬¡ã€‚æœ‰äº†<code>finally</code>æ–¹æ³•ï¼Œåˆ™åªéœ€è¦å†™ä¸€æ¬¡ã€‚</p><h3 id="5-Promiseè§£å†³äº†ä»€ä¹ˆé—®é¢˜"><a href="#5-Promiseè§£å†³äº†ä»€ä¹ˆé—®é¢˜" class="headerlink" title="5. Promiseè§£å†³äº†ä»€ä¹ˆé—®é¢˜"></a>5. Promiseè§£å†³äº†ä»€ä¹ˆé—®é¢˜</h3><p>åœ¨å·¥ä½œä¸­ç»å¸¸ä¼šç¢°åˆ°è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼Œæ¯”å¦‚æˆ‘ä½¿ç”¨ajaxå‘ä¸€ä¸ªAè¯·æ±‚åï¼ŒæˆåŠŸåæ‹¿åˆ°æ•°æ®ï¼Œéœ€è¦æŠŠæ•°æ®ä¼ ç»™Bè¯·æ±‚ï¼›é‚£ä¹ˆéœ€è¦å¦‚ä¸‹ç¼–å†™ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)fs.readFile(<span class="string">&#x27;./a.txt&#x27;</span>,<span class="string">&#x27;utf8&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;  fs.readFile(data,<span class="string">&#x27;utf8&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;    fs.readFile(data,<span class="string">&#x27;utf8&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;      <span class="built_in">console</span>.log(data)    &#125;)  &#125;)&#125;)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç æœ‰å¦‚ä¸‹ç¼ºç‚¹ï¼š</p><ul><li>åä¸€ä¸ªè¯·æ±‚éœ€è¦ä¾èµ–äºå‰ä¸€ä¸ªè¯·æ±‚æˆåŠŸåï¼Œå°†æ•°æ®å¾€ä¸‹ä¼ é€’ï¼Œä¼šå¯¼è‡´å¤šä¸ªajaxè¯·æ±‚åµŒå¥—çš„æƒ…å†µï¼Œä»£ç ä¸å¤Ÿç›´è§‚ã€‚</li><li>å¦‚æœå‰åä¸¤ä¸ªè¯·æ±‚ä¸éœ€è¦ä¼ é€’å‚æ•°çš„æƒ…å†µä¸‹ï¼Œé‚£ä¹ˆåä¸€ä¸ªè¯·æ±‚ä¹Ÿéœ€è¦å‰ä¸€ä¸ªè¯·æ±‚æˆåŠŸåå†æ‰§è¡Œä¸‹ä¸€æ­¥æ“ä½œï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œé‚£ä¹ˆä¹Ÿéœ€è¦å¦‚ä¸Šç¼–å†™ä»£ç ï¼Œå¯¼è‡´ä»£ç ä¸å¤Ÿç›´è§‚ã€‚</li></ul><p><code>Promise</code>å‡ºç°ä¹‹åï¼Œä»£ç å˜æˆè¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)<span class="function"><span class="keyword">function</span> <span class="title">read</span>(<span class="params">url</span>)</span>&#123;  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;    fs.readFile(url,<span class="string">&#x27;utf8&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">error,data</span>)</span>&#123;      error &amp;&amp; reject(error)      resolve(data)    &#125;)  &#125;)&#125;read(<span class="string">&#x27;./a.txt&#x27;</span>).then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;  <span class="keyword">return</span> read(data) &#125;).then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;  <span class="keyword">return</span> read(data)  &#125;).then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;  <span class="built_in">console</span>.log(data)&#125;)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·ä»£ç çœ‹èµ·äº†å°±ç®€æ´äº†å¾ˆå¤šï¼Œè§£å†³äº†åœ°ç‹±å›è°ƒçš„é—®é¢˜ã€‚</p><h3 id="6-Promise-allå’ŒPromise-raceçš„åŒºåˆ«çš„ä½¿ç”¨åœºæ™¯"><a href="#6-Promise-allå’ŒPromise-raceçš„åŒºåˆ«çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="6. Promise.allå’ŒPromise.raceçš„åŒºåˆ«çš„ä½¿ç”¨åœºæ™¯"></a>6. Promise.allå’ŒPromise.raceçš„åŒºåˆ«çš„ä½¿ç”¨åœºæ™¯</h3><p><strong>ï¼ˆ1ï¼‰Promise.all</strong> <code>Promise.all</code>å¯ä»¥å°†å¤šä¸ª<code>Promise</code>å®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚åŒæ—¶ï¼ŒæˆåŠŸå’Œå¤±è´¥çš„è¿”å›å€¼æ˜¯ä¸åŒçš„ï¼ŒæˆåŠŸçš„æ—¶å€™è¿”å›çš„æ˜¯<strong>ä¸€ä¸ªç»“æœæ•°ç»„</strong>ï¼Œè€Œå¤±è´¥çš„æ—¶å€™åˆ™è¿”å›<strong>æœ€å…ˆè¢«rejectå¤±è´¥çŠ¶æ€çš„å€¼</strong>ã€‚</p><p>Promise.allä¸­ä¼ å…¥çš„æ˜¯æ•°ç»„ï¼Œè¿”å›çš„ä¹Ÿæ˜¯æ˜¯æ•°ç»„ï¼Œå¹¶ä¸”ä¼šå°†è¿›è¡Œæ˜ å°„ï¼Œä¼ å…¥çš„promiseå¯¹è±¡è¿”å›çš„å€¼æ˜¯æŒ‰ç…§é¡ºåºåœ¨æ•°ç»„ä¸­æ’åˆ—çš„ï¼Œä½†æ˜¯æ³¨æ„çš„æ˜¯ä»–ä»¬æ‰§è¡Œçš„é¡ºåºå¹¶ä¸æ˜¯æŒ‰ç…§é¡ºåºçš„ï¼Œé™¤éå¯è¿­ä»£å¯¹è±¡ä¸ºç©ºã€‚</p><p>éœ€è¦æ³¨æ„ï¼ŒPromise.allè·å¾—çš„æˆåŠŸç»“æœçš„æ•°ç»„é‡Œé¢çš„æ•°æ®é¡ºåºå’ŒPromise.allæ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºæ˜¯ä¸€è‡´çš„ï¼Œè¿™æ ·å½“é‡åˆ°å‘é€å¤šä¸ªè¯·æ±‚å¹¶æ ¹æ®è¯·æ±‚é¡ºåºè·å–å’Œä½¿ç”¨æ•°æ®çš„åœºæ™¯ï¼Œå°±å¯ä»¥ä½¿ç”¨Promise.allæ¥è§£å†³ã€‚</p><p><strong>ï¼ˆ2ï¼‰Promise.race</strong></p><p>é¡¾åæ€ä¹‰ï¼ŒPromse.raceå°±æ˜¯èµ›è·‘çš„æ„æ€ï¼Œæ„æ€å°±æ˜¯è¯´ï¼ŒPromise.race([p1, p2, p3])é‡Œé¢å“ªä¸ªç»“æœè·å¾—çš„å¿«ï¼Œå°±è¿”å›é‚£ä¸ªç»“æœï¼Œä¸ç®¡ç»“æœæœ¬èº«æ˜¯æˆåŠŸçŠ¶æ€è¿˜æ˜¯å¤±è´¥çŠ¶æ€ã€‚å½“è¦åšä¸€ä»¶äº‹ï¼Œè¶…è¿‡å¤šé•¿æ—¶é—´å°±ä¸åšäº†ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•æ¥è§£å†³ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.race([promise1,timeOutPromise(<span class="number">5000</span>)]).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;&#125;)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="7-å¯¹async-await-çš„ç†è§£"><a href="#7-å¯¹async-await-çš„ç†è§£" class="headerlink" title="7.  å¯¹async/await çš„ç†è§£"></a>7.  å¯¹async/await çš„ç†è§£</h3><p>async/awaitå…¶å®æ˜¯<code>Generator</code> çš„è¯­æ³•ç³–ï¼Œå®ƒèƒ½å®ç°çš„æ•ˆæœéƒ½èƒ½ç”¨thené“¾æ¥å®ç°ï¼Œå®ƒæ˜¯ä¸ºä¼˜åŒ–thené“¾è€Œå¼€å‘å‡ºæ¥çš„ã€‚ä»å­—é¢ä¸Šæ¥çœ‹ï¼Œasyncæ˜¯â€œå¼‚æ­¥â€çš„ç®€å†™ï¼Œawaitåˆ™ä¸ºç­‰å¾…ï¼Œæ‰€ä»¥å¾ˆå¥½ç†è§£async ç”¨äºç”³æ˜ä¸€ä¸ª function æ˜¯å¼‚æ­¥çš„ï¼Œè€Œ await ç”¨äºç­‰å¾…ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•æ‰§è¡Œå®Œæˆã€‚å½“ç„¶è¯­æ³•ä¸Šå¼ºåˆ¶è§„å®šawaitåªèƒ½å‡ºç°åœ¨asnycå‡½æ•°ä¸­ï¼Œå…ˆæ¥çœ‹çœ‹asyncå‡½æ•°è¿”å›äº†ä»€ä¹ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">testAsy</span>(<span class="params"></span>)</span>&#123;   <span class="keyword">return</span> <span class="string">&#x27;hello world&#x27;</span>;&#125;<span class="keyword">let</span> result = testAsy(); <span class="built_in">console</span>.log(result)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221934780.webp" alt="img"></p><p>æ‰€ä»¥ï¼Œasync å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚async å‡½æ•°ï¼ˆåŒ…å«å‡½æ•°è¯­å¥ã€å‡½æ•°è¡¨è¾¾å¼ã€Lambdaè¡¨è¾¾å¼ï¼‰ä¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¦‚æœåœ¨å‡½æ•°ä¸­ <code>return</code> ä¸€ä¸ªç›´æ¥é‡ï¼Œasync ä¼šæŠŠè¿™ä¸ªç›´æ¥é‡é€šè¿‡ <code>Promise.resolve()</code> å°è£…æˆ Promise å¯¹è±¡ã€‚</p><p>async å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨æœ€å¤–å±‚ä¸èƒ½ç”¨ await è·å–å…¶è¿”å›å€¼çš„æƒ…å†µä¸‹ï¼Œå½“ç„¶åº”è¯¥ç”¨åŸæ¥çš„æ–¹å¼ï¼š<code>then()</code> é“¾æ¥å¤„ç†è¿™ä¸ª Promise å¯¹è±¡ï¼Œå°±åƒè¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">testAsy</span>(<span class="params"></span>)</span>&#123;   <span class="keyword">return</span> <span class="string">&#x27;hello world&#x27;</span>&#125;<span class="keyword">let</span> result = testAsy() <span class="built_in">console</span>.log(result)result.then(<span class="function"><span class="params">v</span>=&gt;</span>&#123;    <span class="built_in">console</span>.log(v)   <span class="comment">// hello world&#125;)å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>é‚£å¦‚æœ async å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œåˆè¯¥å¦‚ä½•ï¼Ÿå¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œå®ƒä¼šè¿”å› <code>Promise.resolve(undefined)</code>ã€‚</p><p>è”æƒ³ä¸€ä¸‹ Promise çš„ç‰¹ç‚¹â€”â€”æ— ç­‰å¾…ï¼Œæ‰€ä»¥åœ¨æ²¡æœ‰ <code>await</code> çš„æƒ…å†µä¸‹æ‰§è¡Œ async å‡½æ•°ï¼Œå®ƒä¼šç«‹å³æ‰§è¡Œï¼Œè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¹¶ä¸”ï¼Œç»ä¸ä¼šé˜»å¡åé¢çš„è¯­å¥ã€‚è¿™å’Œæ™®é€šè¿”å› Promise å¯¹è±¡çš„å‡½æ•°å¹¶æ— äºŒè‡´ã€‚</p><p><strong>æ³¨æ„ï¼š</strong><code>Promise.resolve(x)</code> å¯ä»¥çœ‹ä½œæ˜¯ <code>new Promise(resolve =&gt; resolve(x))</code> çš„ç®€å†™ï¼Œå¯ä»¥ç”¨äºå¿«é€Ÿå°è£…å­—é¢é‡å¯¹è±¡æˆ–å…¶ä»–å¯¹è±¡ï¼Œå°†å…¶å°è£…æˆ Promise å®ä¾‹ã€‚</p><h3 id="8-await-åˆ°åº•åœ¨ç­‰å•¥ï¼Ÿ"><a href="#8-await-åˆ°åº•åœ¨ç­‰å•¥ï¼Ÿ" class="headerlink" title="8. await åˆ°åº•åœ¨ç­‰å•¥ï¼Ÿ"></a>8. await åˆ°åº•åœ¨ç­‰å•¥ï¼Ÿ</h3><p><strong>await åœ¨ç­‰å¾…ä»€ä¹ˆå‘¢ï¼Ÿ</strong> ä¸€èˆ¬æ¥è¯´ï¼Œéƒ½è®¤ä¸º await æ˜¯åœ¨ç­‰å¾…ä¸€ä¸ª async å‡½æ•°å®Œæˆã€‚ä¸è¿‡æŒ‰è¯­æ³•è¯´æ˜ï¼Œawait ç­‰å¾…çš„æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„è®¡ç®—ç»“æœæ˜¯ Promise å¯¹è±¡æˆ–è€…å…¶å®ƒå€¼ï¼ˆæ¢å¥è¯è¯´ï¼Œå°±æ˜¯æ²¡æœ‰ç‰¹æ®Šé™å®šï¼‰ã€‚</p><p>å› ä¸º async å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œæ‰€ä»¥ await å¯ä»¥ç”¨äºç­‰å¾…ä¸€ä¸ª async å‡½æ•°çš„è¿”å›å€¼â€”â€”è¿™ä¹Ÿå¯ä»¥è¯´æ˜¯ await åœ¨ç­‰ async å‡½æ•°ï¼Œä½†è¦æ¸…æ¥šï¼Œå®ƒç­‰çš„å®é™…æ˜¯ä¸€ä¸ªè¿”å›å€¼ã€‚æ³¨æ„åˆ° await ä¸ä»…ä»…ç”¨äºç­‰ Promise å¯¹è±¡ï¼Œå®ƒå¯ä»¥ç­‰ä»»æ„è¡¨è¾¾å¼çš„ç»“æœï¼Œæ‰€ä»¥ï¼Œawait åé¢å®é™…æ˜¯å¯ä»¥æ¥æ™®é€šå‡½æ•°è°ƒç”¨æˆ–è€…ç›´æ¥é‡çš„ã€‚æ‰€ä»¥ä¸‹é¢è¿™ä¸ªç¤ºä¾‹å®Œå…¨å¯ä»¥æ­£ç¡®è¿è¡Œï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSomething</span>(<span class="params"></span>) </span>&#123;    <span class="keyword">return</span> <span class="string">&quot;something&quot;</span>;&#125;<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">testAsync</span>(<span class="params"></span>) </span>&#123;    <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(<span class="string">&quot;hello async&quot;</span>);&#125;<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;    <span class="keyword">const</span> v1 = <span class="keyword">await</span> getSomething();    <span class="keyword">const</span> v2 = <span class="keyword">await</span> testAsync();    <span class="built_in">console</span>.log(v1, v2);&#125;test();å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœå–å†³äºå®ƒç­‰çš„æ˜¯ä»€ä¹ˆã€‚</p><ul><li>å¦‚æœå®ƒç­‰åˆ°çš„ä¸æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œé‚£ await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœå°±æ˜¯å®ƒç­‰åˆ°çš„ä¸œè¥¿ã€‚</li><li>å¦‚æœå®ƒç­‰åˆ°çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œawait å°±å¿™èµ·æ¥äº†ï¼Œå®ƒä¼šé˜»å¡åé¢çš„ä»£ç ï¼Œç­‰ç€ Promise å¯¹è±¡ resolveï¼Œç„¶åå¾—åˆ° resolve çš„å€¼ï¼Œä½œä¸º await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœã€‚</li></ul><p>æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testAsy</span>(<span class="params">x</span>)</span>&#123;   <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>&#123;<span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;       resolve(x);     &#125;, <span class="number">3000</span>)    &#125;   )&#125;<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">testAwt</span>(<span class="params"></span>)</span>&#123;      <span class="keyword">let</span> result =  <span class="keyword">await</span> testAsy(<span class="string">&#x27;hello world&#x27;</span>);  <span class="built_in">console</span>.log(result);    <span class="comment">// 3ç§’é’Ÿä¹‹åå‡ºç°hello world  console.log(&#x27;cuger&#x27;)   // 3ç§’é’Ÿä¹‹åå‡ºç°cug&#125;testAwt();console.log(&#x27;cug&#x27;)  //ç«‹å³è¾“å‡ºcugå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>è¿™å°±æ˜¯ await å¿…é¡»ç”¨åœ¨ async å‡½æ•°ä¸­çš„åŸå› ã€‚async å‡½æ•°è°ƒç”¨ä¸ä¼šé€ æˆé˜»å¡ï¼Œå®ƒå†…éƒ¨æ‰€æœ‰çš„é˜»å¡éƒ½è¢«å°è£…åœ¨ä¸€ä¸ª Promise å¯¹è±¡ä¸­å¼‚æ­¥æ‰§è¡Œã€‚awaitæš‚åœå½“å‰asyncçš„æ‰§è¡Œï¼Œæ‰€ä»¥â€™cugâ€™â€™æœ€å…ˆè¾“å‡ºï¼Œhello worldâ€™å’Œâ€˜cugerâ€™æ˜¯3ç§’é’ŸååŒæ—¶å‡ºç°çš„ã€‚</p><h3 id="9-async-awaitçš„ä¼˜åŠ¿"><a href="#9-async-awaitçš„ä¼˜åŠ¿" class="headerlink" title="9.  async/awaitçš„ä¼˜åŠ¿"></a>9.  async/awaitçš„ä¼˜åŠ¿</h3><p>å•ä¸€çš„ Promise é“¾å¹¶ä¸èƒ½å‘ç° async/await çš„ä¼˜åŠ¿ï¼Œä½†æ˜¯ï¼Œå¦‚æœéœ€è¦å¤„ç†ç”±å¤šä¸ª Promise ç»„æˆçš„ then é“¾çš„æ—¶å€™ï¼Œä¼˜åŠ¿å°±èƒ½ä½“ç°å‡ºæ¥äº†ï¼ˆå¾ˆæœ‰æ„æ€ï¼ŒPromise é€šè¿‡ then é“¾æ¥è§£å†³å¤šå±‚å›è°ƒçš„é—®é¢˜ï¼Œç°åœ¨åˆç”¨ async/await æ¥è¿›ä¸€æ­¥ä¼˜åŒ–å®ƒï¼‰ã€‚</p><p>å‡è®¾ä¸€ä¸ªä¸šåŠ¡ï¼Œåˆ†å¤šä¸ªæ­¥éª¤å®Œæˆï¼Œæ¯ä¸ªæ­¥éª¤éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œè€Œä¸”ä¾èµ–äºä¸Šä¸€ä¸ªæ­¥éª¤çš„ç»“æœã€‚ä»ç„¶ç”¨ <code>setTimeout</code> æ¥æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** * ä¼ å…¥å‚æ•° nï¼Œè¡¨ç¤ºè¿™ä¸ªå‡½æ•°æ‰§è¡Œçš„æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ * æ‰§è¡Œçš„ç»“æœæ˜¯ n + 200ï¼Œè¿™ä¸ªå€¼å°†ç”¨äºä¸‹ä¸€æ­¥éª¤ */</span><span class="function"><span class="keyword">function</span> <span class="title">takeLongTime</span>(<span class="params">n</span>) </span>&#123;    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> resolve(n + <span class="number">200</span>), n);    &#125;);&#125;<span class="function"><span class="keyword">function</span> <span class="title">step1</span>(<span class="params">n</span>) </span>&#123;    <span class="built_in">console</span>.log(<span class="string">`step1 with <span class="subst">$&#123;n&#125;</span>`</span>);    <span class="keyword">return</span> takeLongTime(n);&#125;<span class="function"><span class="keyword">function</span> <span class="title">step2</span>(<span class="params">n</span>) </span>&#123;    <span class="built_in">console</span>.log(<span class="string">`step2 with <span class="subst">$&#123;n&#125;</span>`</span>);    <span class="keyword">return</span> takeLongTime(n);&#125;<span class="function"><span class="keyword">function</span> <span class="title">step3</span>(<span class="params">n</span>) </span>&#123;    <span class="built_in">console</span>.log(<span class="string">`step3 with <span class="subst">$&#123;n&#125;</span>`</span>);    <span class="keyword">return</span> takeLongTime(n);&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç°åœ¨ç”¨ Promise æ–¹å¼æ¥å®ç°è¿™ä¸‰ä¸ªæ­¥éª¤çš„å¤„ç†ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doIt</span>(<span class="params"></span>) </span>&#123;    <span class="built_in">console</span>.time(<span class="string">&quot;doIt&quot;</span>);    <span class="keyword">const</span> time1 = <span class="number">300</span>;    step1(time1)        .then(<span class="function"><span class="params">time2</span> =&gt;</span> step2(time2))        .then(<span class="function"><span class="params">time3</span> =&gt;</span> step3(time3))        .then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;            <span class="built_in">console</span>.log(<span class="string">`result is <span class="subst">$&#123;result&#125;</span>`</span>);            <span class="built_in">console</span>.timeEnd(<span class="string">&quot;doIt&quot;</span>);        &#125;);&#125;doIt();<span class="comment">// c:\var\test&gt;node --harmony_async_await .// step1 with 300// step2 with 500// step3 with 700// result is 900// doIt: 1507.251mså¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœ <code>result</code> æ˜¯ <code>step3()</code> çš„å‚æ•° <code>700 + 200</code> = <code>900</code>ã€‚<code>doIt()</code> é¡ºåºæ‰§è¡Œäº†ä¸‰ä¸ªæ­¥éª¤ï¼Œä¸€å…±ç”¨äº† <code>300 + 500 + 700 = 1500</code> æ¯«ç§’ï¼Œå’Œ <code>console.time()/console.timeEnd()</code> è®¡ç®—çš„ç»“æœä¸€è‡´ã€‚</p><p>å¦‚æœç”¨ async/await æ¥å®ç°å‘¢ï¼Œä¼šæ˜¯è¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">doIt</span>(<span class="params"></span>) </span>&#123;    <span class="built_in">console</span>.time(<span class="string">&quot;doIt&quot;</span>);    <span class="keyword">const</span> time1 = <span class="number">300</span>;    <span class="keyword">const</span> time2 = <span class="keyword">await</span> step1(time1);    <span class="keyword">const</span> time3 = <span class="keyword">await</span> step2(time2);    <span class="keyword">const</span> result = <span class="keyword">await</span> step3(time3);    <span class="built_in">console</span>.log(<span class="string">`result is <span class="subst">$&#123;result&#125;</span>`</span>);    <span class="built_in">console</span>.timeEnd(<span class="string">&quot;doIt&quot;</span>);&#125;doIt();å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç»“æœå’Œä¹‹å‰çš„ Promise å®ç°æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯è¿™ä¸ªä»£ç çœ‹èµ·æ¥æ˜¯ä¸æ˜¯æ¸…æ™°å¾—å¤šï¼Œå‡ ä¹è·ŸåŒæ­¥ä»£ç ä¸€æ ·</p><h3 id="10-async-awaitå¯¹æ¯”Promiseçš„ä¼˜åŠ¿"><a href="#10-async-awaitå¯¹æ¯”Promiseçš„ä¼˜åŠ¿" class="headerlink" title="10. async/awaitå¯¹æ¯”Promiseçš„ä¼˜åŠ¿"></a>10. async/awaitå¯¹æ¯”Promiseçš„ä¼˜åŠ¿</h3><ul><li>ä»£ç è¯»èµ·æ¥æ›´åŠ åŒæ­¥ï¼ŒPromiseè™½ç„¶æ‘†è„±äº†å›è°ƒåœ°ç‹±ï¼Œä½†æ˜¯thençš„é“¾å¼è°ƒâ½¤ä¹Ÿä¼šå¸¦æ¥é¢å¤–çš„é˜…è¯»è´Ÿæ‹…</li><li>Promiseä¼ é€’ä¸­é—´å€¼â¾®å¸¸éº»çƒ¦ï¼Œâ½½async/awaitâ¼ä¹æ˜¯åŒæ­¥çš„å†™æ³•ï¼Œâ¾®å¸¸ä¼˜é›…</li><li>é”™è¯¯å¤„ç†å‹å¥½ï¼Œasync/awaitå¯ä»¥â½¤æˆç†Ÿçš„try/catchï¼ŒPromiseçš„é”™è¯¯æ•è·â¾®å¸¸å†—ä½™</li><li>è°ƒè¯•å‹å¥½ï¼ŒPromiseçš„è°ƒè¯•å¾ˆå·®ï¼Œç”±äºæ²¡æœ‰ä»£ç å—ï¼Œä½ ä¸èƒ½åœ¨â¼€ä¸ªè¿”å›è¡¨è¾¾å¼çš„ç®­å¤´å‡½æ•°ä¸­è®¾ç½®æ–­ç‚¹ï¼Œå¦‚æœä½ åœ¨â¼€ä¸ª.thenä»£ç å—ä¸­ä½¿â½¤è°ƒè¯•å™¨çš„æ­¥è¿›(step-over)åŠŸèƒ½ï¼Œè°ƒè¯•å™¨å¹¶ä¸ä¼šè¿›â¼Šåç»­çš„.thenä»£ç å—ï¼Œå› ä¸ºè°ƒè¯•å™¨åªèƒ½è·Ÿè¸ªåŒæ­¥ä»£ç çš„æ¯â¼€æ­¥ã€‚</li></ul><h3 id="11-async-await-å¦‚ä½•æ•è·å¼‚å¸¸"><a href="#11-async-await-å¦‚ä½•æ•è·å¼‚å¸¸" class="headerlink" title="11. async/await å¦‚ä½•æ•è·å¼‚å¸¸"></a>11. async/await å¦‚ä½•æ•è·å¼‚å¸¸</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;    <span class="keyword">try</span>&#123;        <span class="keyword">let</span> a = <span class="keyword">await</span> <span class="built_in">Promise</span>.reject(<span class="string">&#x27;error&#x27;</span>)    &#125;<span class="keyword">catch</span>(error)&#123;        <span class="built_in">console</span>.log(error)    &#125;&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="12-å¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«ï¼Ÿ"><a href="#12-å¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="12. å¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«ï¼Ÿ"></a>12. å¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«ï¼Ÿ</h3><ul><li>å¹¶å‘æ˜¯å®è§‚æ¦‚å¿µï¼Œæˆ‘åˆ†åˆ«æœ‰ä»»åŠ¡ A å’Œä»»åŠ¡ Bï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…é€šè¿‡ä»»åŠ¡é—´çš„åˆ‡æ¢å®Œæˆäº†è¿™ä¸¤ä¸ªä»»åŠ¡ï¼Œè¿™ç§æƒ…å†µå°±å¯ä»¥ç§°ä¹‹ä¸ºå¹¶å‘ã€‚</li><li>å¹¶è¡Œæ˜¯å¾®è§‚æ¦‚å¿µï¼Œå‡è®¾ CPU ä¸­å­˜åœ¨ä¸¤ä¸ªæ ¸å¿ƒï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥åŒæ—¶å®Œæˆä»»åŠ¡ Aã€Bã€‚åŒæ—¶å®Œæˆå¤šä¸ªä»»åŠ¡çš„æƒ…å†µå°±å¯ä»¥ç§°ä¹‹ä¸ºå¹¶è¡Œã€‚</li></ul><h3 id="13-ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿå›è°ƒå‡½æ•°æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿå¦‚ä½•è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ï¼Ÿ"><a href="#13-ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿå›è°ƒå‡½æ•°æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿå¦‚ä½•è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ï¼Ÿ" class="headerlink" title="13. ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿå›è°ƒå‡½æ•°æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿå¦‚ä½•è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ï¼Ÿ"></a>13. ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿå›è°ƒå‡½æ•°æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿå¦‚ä½•è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ï¼Ÿ</h3><p>ä»¥ä¸‹ä»£ç å°±æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°çš„ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ajax(url, <span class="function">() =&gt;</span> &#123;    <span class="comment">// å¤„ç†é€»è¾‘&#125;)å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>å›è°ƒå‡½æ•°æœ‰ä¸€ä¸ªè‡´å‘½çš„å¼±ç‚¹ï¼Œå°±æ˜¯å®¹æ˜“å†™å‡ºå›è°ƒåœ°ç‹±ï¼ˆCallback hellï¼‰ã€‚å‡è®¾å¤šä¸ªè¯·æ±‚å­˜åœ¨ä¾èµ–æ€§ï¼Œå¯èƒ½ä¼šæœ‰å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ajax(url, <span class="function">() =&gt;</span> &#123;    <span class="comment">// å¤„ç†é€»è¾‘    ajax(url1, () =&gt; &#123;        // å¤„ç†é€»è¾‘        ajax(url2, () =&gt; &#123;            // å¤„ç†é€»è¾‘        &#125;)    &#125;)&#125;)å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç çœ‹èµ·æ¥ä¸åˆ©äºé˜…è¯»å’Œç»´æŠ¤ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥æŠŠå‡½æ•°åˆ†å¼€æ¥å†™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">firstAjax</span>(<span class="params"></span>) </span>&#123;  ajax(url1, <span class="function">() =&gt;</span> &#123;    <span class="comment">// å¤„ç†é€»è¾‘    secondAjax()  &#125;)&#125;function secondAjax() &#123;  ajax(url2, () =&gt; &#123;    // å¤„ç†é€»è¾‘  &#125;)&#125;ajax(url, () =&gt; &#123;  // å¤„ç†é€»è¾‘  firstAjax()&#125;)å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šçš„ä»£ç è™½ç„¶çœ‹ä¸Šå»åˆ©äºé˜…è¯»äº†ï¼Œä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰è§£å†³æ ¹æœ¬é—®é¢˜ã€‚å›è°ƒåœ°ç‹±çš„æ ¹æœ¬é—®é¢˜å°±æ˜¯ï¼š</p><ol><li>åµŒå¥—å‡½æ•°å­˜åœ¨è€¦åˆæ€§ï¼Œä¸€æ—¦æœ‰æ‰€æ”¹åŠ¨ï¼Œå°±ä¼šç‰µä¸€å‘è€ŒåŠ¨å…¨èº«</li><li>åµŒå¥—å‡½æ•°ä¸€å¤šï¼Œå°±å¾ˆéš¾å¤„ç†é”™è¯¯</li></ol><p>å½“ç„¶ï¼Œå›è°ƒå‡½æ•°è¿˜å­˜åœ¨ç€åˆ«çš„å‡ ä¸ªç¼ºç‚¹ï¼Œæ¯”å¦‚ä¸èƒ½ä½¿ç”¨ <code>try catch</code> æ•è·é”™è¯¯ï¼Œä¸èƒ½ç›´æ¥ <code>return</code>ã€‚</p><h3 id="14-setTimeoutã€setIntervalã€requestAnimationFrame-å„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"><a href="#14-setTimeoutã€setIntervalã€requestAnimationFrame-å„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ" class="headerlink" title="14. setTimeoutã€setIntervalã€requestAnimationFrame å„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"></a>14. setTimeoutã€setIntervalã€requestAnimationFrame å„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</h3><p>å¼‚æ­¥ç¼–ç¨‹å½“ç„¶å°‘ä¸äº†å®šæ—¶å™¨äº†ï¼Œå¸¸è§çš„å®šæ—¶å™¨å‡½æ•°æœ‰ <code>setTimeout</code>ã€<code>setInterval</code>ã€<code>requestAnimationFrame</code>ã€‚æœ€å¸¸ç”¨çš„æ˜¯<code>setTimeout</code>ï¼Œå¾ˆå¤šäººè®¤ä¸º <code>setTimeout</code> æ˜¯å»¶æ—¶å¤šä¹…ï¼Œé‚£å°±åº”è¯¥æ˜¯å¤šä¹…åæ‰§è¡Œã€‚</p><p>å…¶å®è¿™ä¸ªè§‚ç‚¹æ˜¯é”™è¯¯çš„ï¼Œå› ä¸º JS æ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„ï¼Œå¦‚æœå‰é¢çš„ä»£ç å½±å“äº†æ€§èƒ½ï¼Œå°±ä¼šå¯¼è‡´ <code>setTimeout</code> ä¸ä¼šæŒ‰æœŸæ‰§è¡Œã€‚å½“ç„¶äº†ï¼Œå¯ä»¥é€šè¿‡ä»£ç å»ä¿®æ­£ <code>setTimeout</code>ï¼Œä»è€Œä½¿å®šæ—¶å™¨ç›¸å¯¹å‡†ç¡®ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> period = <span class="number">60</span> * <span class="number">1000</span> * <span class="number">60</span> * 2<span class="keyword">let</span> startTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()<span class="keyword">let</span> count = 0<span class="keyword">let</span> end = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() + periodlet interval = 1000<span class="keyword">let</span> currentInterval = intervalfunction <span class="function"><span class="title">loop</span>(<span class="params"></span>)</span> &#123;  count++  <span class="comment">// ä»£ç æ‰§è¡Œæ‰€æ¶ˆè€—çš„æ—¶é—´  let offset = new Date().getTime() - (startTime + count * interval);  let diff = end - new Date().getTime()  let h = Math.floor(diff / (60 * 1000 * 60))  let hdiff = diff % (60 * 1000 * 60)  let m = Math.floor(hdiff / (60 * 1000))  let mdiff = hdiff % (60 * 1000)  let s = mdiff / (1000)  let sCeil = Math.ceil(s)  let sFloor = Math.floor(s)  // å¾—åˆ°ä¸‹ä¸€æ¬¡å¾ªç¯æ‰€æ¶ˆè€—çš„æ—¶é—´  currentInterval = interval - offset   console.log(&#x27;æ—¶ï¼š&#x27;+h, &#x27;åˆ†ï¼š&#x27;+m, &#x27;æ¯«ç§’ï¼š&#x27;+s, &#x27;ç§’å‘ä¸Šå–æ•´ï¼š&#x27;+sCeil, &#x27;ä»£ç æ‰§è¡Œæ—¶é—´ï¼š&#x27;+offset, &#x27;ä¸‹æ¬¡å¾ªç¯é—´éš”&#x27;+currentInterval)   setTimeout(loop, currentInterval)&#125;setTimeout(loop, currentInterval)å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥çœ‹ <code>setInterval</code>ï¼Œå…¶å®è¿™ä¸ªå‡½æ•°ä½œç”¨å’Œ <code>setTimeout</code> åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯è¯¥å‡½æ•°æ˜¯æ¯éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°ã€‚</p><p>é€šå¸¸æ¥è¯´ä¸å»ºè®®ä½¿ç”¨ <code>setInterval</code>ã€‚ç¬¬ä¸€ï¼Œå®ƒå’Œ <code>setTimeout</code> ä¸€æ ·ï¼Œä¸èƒ½ä¿è¯åœ¨é¢„æœŸçš„æ—¶é—´æ‰§è¡Œä»»åŠ¡ã€‚ç¬¬äºŒï¼Œå®ƒå­˜åœ¨æ‰§è¡Œç´¯ç§¯çš„é—®é¢˜ï¼Œè¯·çœ‹ä»¥ä¸‹ä¼ªä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>) </span>&#123;  <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;    <span class="built_in">console</span>.log(<span class="number">2</span>)  &#125;,<span class="number">1000</span>)  sleep(<span class="number">2000</span>)&#125;demo()å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œå¦‚æœå®šæ—¶å™¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°äº†è€—æ—¶æ“ä½œï¼Œå¤šä¸ªå›è°ƒå‡½æ•°ä¼šåœ¨è€—æ—¶æ“ä½œç»“æŸä»¥ååŒæ—¶æ‰§è¡Œï¼Œè¿™æ ·å¯èƒ½å°±ä¼šå¸¦æ¥æ€§èƒ½ä¸Šçš„é—®é¢˜ã€‚</p><p>å¦‚æœæœ‰å¾ªç¯å®šæ—¶å™¨çš„éœ€æ±‚ï¼Œå…¶å®å®Œå…¨å¯ä»¥é€šè¿‡ <code>requestAnimationFrame</code> æ¥å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setInterval</span>(<span class="params">callback, interval</span>) </span>&#123;  <span class="keyword">let</span> timer  <span class="keyword">const</span> now = <span class="built_in">Date</span>.now  <span class="keyword">let</span> startTime = now()  <span class="keyword">let</span> endTime = startTime  <span class="keyword">const</span> loop = <span class="function">() =&gt;</span> &#123;    timer = <span class="built_in">window</span>.requestAnimationFrame(loop)    endTime = now()    <span class="keyword">if</span> (endTime - startTime &gt;= interval) &#123;      startTime = endTime = now()      callback(timer)    &#125;  &#125;  timer = <span class="built_in">window</span>.requestAnimationFrame(loop)  <span class="keyword">return</span> timer&#125;<span class="keyword">let</span> a = 0<span class="built_in">setInterval</span>(<span class="function"><span class="params">timer</span> =&gt;</span> &#123;  <span class="built_in">console</span>.log(<span class="number">1</span>)  a++  <span class="keyword">if</span> (a === <span class="number">3</span>) cancelAnimationFrame(timer)&#125;, <span class="number">1000</span>)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>é¦–å…ˆ <code>requestAnimationFrame</code> è‡ªå¸¦å‡½æ•°èŠ‚æµåŠŸèƒ½ï¼ŒåŸºæœ¬å¯ä»¥ä¿è¯åœ¨ 16.6 æ¯«ç§’å†…åªæ‰§è¡Œä¸€æ¬¡ï¼ˆä¸æ‰å¸§çš„æƒ…å†µä¸‹ï¼‰ï¼Œå¹¶ä¸”è¯¥å‡½æ•°çš„å»¶æ—¶æ•ˆæœæ˜¯ç²¾ç¡®çš„ï¼Œæ²¡æœ‰å…¶ä»–å®šæ—¶å™¨æ—¶é—´ä¸å‡†çš„é—®é¢˜ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡è¯¥å‡½æ•°æ¥å®ç° <code>setTimeout</code>ã€‚</p><h2 id="å…«ã€é¢å‘å¯¹è±¡"><a href="#å…«ã€é¢å‘å¯¹è±¡" class="headerlink" title="å…«ã€é¢å‘å¯¹è±¡"></a>å…«ã€é¢å‘å¯¹è±¡</h2><h3 id="1-å¯¹è±¡åˆ›å»ºçš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"><a href="#1-å¯¹è±¡åˆ›å»ºçš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="1. å¯¹è±¡åˆ›å»ºçš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"></a>1. å¯¹è±¡åˆ›å»ºçš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h3><p>ä¸€èˆ¬ä½¿ç”¨å­—é¢é‡çš„å½¢å¼ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼Œä½†æ˜¯è¿™ç§åˆ›å»ºæ–¹å¼å¯¹äºåˆ›å»ºå¤§é‡ç›¸ä¼¼å¯¹è±¡çš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿå¤§é‡çš„é‡å¤ä»£ç ã€‚ä½† jså’Œä¸€èˆ¬çš„é¢å‘å¯¹è±¡çš„è¯­è¨€ä¸åŒï¼Œåœ¨ ES6 ä¹‹å‰å®ƒæ²¡æœ‰ç±»çš„æ¦‚å¿µã€‚ä½†æ˜¯å¯ä»¥ä½¿ç”¨å‡½æ•°æ¥è¿›è¡Œæ¨¡æ‹Ÿï¼Œä»è€Œäº§ç”Ÿå‡ºå¯å¤ç”¨çš„å¯¹è±¡åˆ›å»ºæ–¹å¼ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><p>ï¼ˆ1ï¼‰ç¬¬ä¸€ç§æ˜¯å·¥å‚æ¨¡å¼ï¼Œå·¥å‚æ¨¡å¼çš„ä¸»è¦å·¥ä½œåŸç†æ˜¯ç”¨å‡½æ•°æ¥å°è£…åˆ›å»ºå¯¹è±¡çš„ç»†èŠ‚ï¼Œä»è€Œé€šè¿‡è°ƒç”¨å‡½æ•°æ¥è¾¾åˆ°å¤ç”¨çš„ç›®çš„ã€‚ä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜å°±æ˜¯åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡æ— æ³•å’ŒæŸä¸ªç±»å‹è”ç³»èµ·æ¥ï¼Œå®ƒåªæ˜¯ç®€å•çš„å°è£…äº†å¤ç”¨ä»£ç ï¼Œè€Œæ²¡æœ‰å»ºç«‹èµ·å¯¹è±¡å’Œç±»å‹é—´çš„å…³ç³»ã€‚</p><p>ï¼ˆ2ï¼‰ç¬¬äºŒç§æ˜¯æ„é€ å‡½æ•°æ¨¡å¼ã€‚js ä¸­æ¯ä¸€ä¸ªå‡½æ•°éƒ½å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°ï¼Œåªè¦ä¸€ä¸ªå‡½æ•°æ˜¯é€šè¿‡ new æ¥è°ƒç”¨çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŠŠå®ƒç§°ä¸ºæ„é€ å‡½æ•°ã€‚æ‰§è¡Œæ„é€ å‡½æ•°é¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå°†å¯¹è±¡çš„åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„ prototype å±æ€§ï¼Œç„¶åå°†æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ this æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œæœ€åå†æ‰§è¡Œæ•´ä¸ªå‡½æ•°ï¼Œå¦‚æœè¿”å›å€¼ä¸æ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›æ–°å»ºçš„å¯¹è±¡ã€‚å› ä¸º this çš„å€¼æŒ‡å‘äº†æ–°å»ºçš„å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ this ç»™å¯¹è±¡èµ‹å€¼ã€‚æ„é€ å‡½æ•°æ¨¡å¼ç›¸å¯¹äºå·¥å‚æ¨¡å¼çš„ä¼˜ç‚¹æ˜¯ï¼Œæ‰€åˆ›å»ºçš„å¯¹è±¡å’Œæ„é€ å‡½æ•°å»ºç«‹èµ·äº†è”ç³»ï¼Œå› æ­¤å¯ä»¥é€šè¿‡åŸå‹æ¥è¯†åˆ«å¯¹è±¡çš„ç±»å‹ã€‚ä½†æ˜¯æ„é€ å‡½æ•°å­˜åœ¨ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯ï¼Œé€ æˆäº†ä¸å¿…è¦çš„å‡½æ•°å¯¹è±¡çš„åˆ›å»ºï¼Œå› ä¸ºåœ¨ js ä¸­å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤å¦‚æœå¯¹è±¡å±æ€§ä¸­å¦‚æœåŒ…å«å‡½æ•°çš„è¯ï¼Œé‚£ä¹ˆæ¯æ¬¡éƒ½ä¼šæ–°å»ºä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œæµªè´¹äº†ä¸å¿…è¦çš„å†…å­˜ç©ºé—´ï¼Œå› ä¸ºå‡½æ•°æ˜¯æ‰€æœ‰çš„å®ä¾‹éƒ½å¯ä»¥é€šç”¨çš„ã€‚</p><p>ï¼ˆ3ï¼‰ç¬¬ä¸‰ç§æ¨¡å¼æ˜¯åŸå‹æ¨¡å¼ï¼Œå› ä¸ºæ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒåŒ…å«äº†é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºçš„æ‰€æœ‰å®ä¾‹éƒ½èƒ½å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚å› æ­¤å¯ä»¥ä½¿ç”¨åŸå‹å¯¹è±¡æ¥æ·»åŠ å…¬ç”¨å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œå®ç°ä»£ç çš„å¤ç”¨ã€‚è¿™ç§æ–¹å¼ç›¸å¯¹äºæ„é€ å‡½æ•°æ¨¡å¼æ¥è¯´ï¼Œè§£å†³äº†å‡½æ•°å¯¹è±¡çš„å¤ç”¨é—®é¢˜ã€‚ä½†æ˜¯è¿™ç§æ¨¡å¼ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¸€ä¸ªæ˜¯æ²¡æœ‰åŠæ³•é€šè¿‡ä¼ å…¥å‚æ•°æ¥åˆå§‹åŒ–å€¼ï¼Œå¦ä¸€ä¸ªæ˜¯å¦‚æœå­˜åœ¨ä¸€ä¸ªå¼•ç”¨ç±»å‹å¦‚ Array è¿™æ ·çš„å€¼ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„å®ä¾‹å°†å…±äº«ä¸€ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªå®ä¾‹å¯¹å¼•ç”¨ç±»å‹å€¼çš„æ”¹å˜ä¼šå½±å“æ‰€æœ‰çš„å®ä¾‹ã€‚</p><p>ï¼ˆ4ï¼‰ç¬¬å››ç§æ¨¡å¼æ˜¯ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼ï¼Œè¿™æ˜¯åˆ›å»ºè‡ªå®šä¹‰ç±»å‹çš„æœ€å¸¸è§æ–¹å¼ã€‚å› ä¸ºæ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼åˆ†å¼€ä½¿ç”¨éƒ½å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå› æ­¤å¯ä»¥ç»„åˆä½¿ç”¨è¿™ä¸¤ç§æ¨¡å¼ï¼Œé€šè¿‡æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–å¯¹è±¡çš„å±æ€§ï¼Œé€šè¿‡åŸå‹å¯¹è±¡æ¥å®ç°å‡½æ•°æ–¹æ³•çš„å¤ç”¨ã€‚è¿™ç§æ–¹æ³•å¾ˆå¥½çš„è§£å†³äº†ä¸¤ç§æ¨¡å¼å•ç‹¬ä½¿ç”¨æ—¶çš„ç¼ºç‚¹ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ä¸è¶³çš„å°±æ˜¯ï¼Œå› ä¸ºä½¿ç”¨äº†ä¸¤ç§ä¸åŒçš„æ¨¡å¼ï¼Œæ‰€ä»¥å¯¹äºä»£ç çš„å°è£…æ€§ä¸å¤Ÿå¥½ã€‚</p><p>ï¼ˆ5ï¼‰ç¬¬äº”ç§æ¨¡å¼æ˜¯åŠ¨æ€åŸå‹æ¨¡å¼ï¼Œè¿™ä¸€ç§æ¨¡å¼å°†åŸå‹æ–¹æ³•èµ‹å€¼çš„åˆ›å»ºè¿‡ç¨‹ç§»åŠ¨åˆ°äº†æ„é€ å‡½æ•°çš„å†…éƒ¨ï¼Œé€šè¿‡å¯¹å±æ€§æ˜¯å¦å­˜åœ¨çš„åˆ¤æ–­ï¼Œå¯ä»¥å®ç°ä»…åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°æ—¶å¯¹åŸå‹å¯¹è±¡èµ‹å€¼ä¸€æ¬¡çš„æ•ˆæœã€‚è¿™ä¸€ç§æ–¹å¼å¾ˆå¥½åœ°å¯¹ä¸Šé¢çš„æ··åˆæ¨¡å¼è¿›è¡Œäº†å°è£…ã€‚</p><p>ï¼ˆ6ï¼‰ç¬¬å…­ç§æ¨¡å¼æ˜¯å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼ï¼Œè¿™ä¸€ç§æ¨¡å¼å’Œå·¥å‚æ¨¡å¼çš„å®ç°åŸºæœ¬ç›¸åŒï¼Œæˆ‘å¯¹è¿™ä¸ªæ¨¡å¼çš„ç†è§£æ˜¯ï¼Œå®ƒä¸»è¦æ˜¯åŸºäºä¸€ä¸ªå·²æœ‰çš„ç±»å‹ï¼Œåœ¨å®ä¾‹åŒ–æ—¶å¯¹å®ä¾‹åŒ–çš„å¯¹è±¡è¿›è¡Œæ‰©å±•ã€‚è¿™æ ·æ—¢ä¸ç”¨ä¿®æ”¹åŸæ¥çš„æ„é€ å‡½æ•°ï¼Œä¹Ÿè¾¾åˆ°äº†æ‰©å±•å¯¹è±¡çš„ç›®çš„ã€‚å®ƒçš„ä¸€ä¸ªç¼ºç‚¹å’Œå·¥å‚æ¨¡å¼ä¸€æ ·ï¼Œæ— æ³•å®ç°å¯¹è±¡çš„è¯†åˆ«ã€‚</p><h3 id="2-å¯¹è±¡ç»§æ‰¿çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"><a href="#2-å¯¹è±¡ç»§æ‰¿çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="2. å¯¹è±¡ç»§æ‰¿çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"></a>2. å¯¹è±¡ç»§æ‰¿çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h3><p>ï¼ˆ1ï¼‰ç¬¬ä¸€ç§æ˜¯ä»¥åŸå‹é“¾çš„æ–¹å¼æ¥å®ç°ç»§æ‰¿ï¼Œä½†æ˜¯è¿™ç§å®ç°æ–¹å¼å­˜åœ¨çš„ç¼ºç‚¹æ˜¯ï¼Œåœ¨åŒ…å«æœ‰å¼•ç”¨ç±»å‹çš„æ•°æ®æ—¶ï¼Œä¼šè¢«æ‰€æœ‰çš„å®ä¾‹å¯¹è±¡æ‰€å…±äº«ï¼Œå®¹æ˜“é€ æˆä¿®æ”¹çš„æ··ä¹±ã€‚è¿˜æœ‰å°±æ˜¯åœ¨åˆ›å»ºå­ç±»å‹çš„æ—¶å€™ä¸èƒ½å‘è¶…ç±»å‹ä¼ é€’å‚æ•°ã€‚</p><p>ï¼ˆ2ï¼‰ç¬¬äºŒç§æ–¹å¼æ˜¯ä½¿ç”¨å€Ÿç”¨æ„é€ å‡½æ•°çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼æ˜¯é€šè¿‡åœ¨å­ç±»å‹çš„å‡½æ•°ä¸­è°ƒç”¨è¶…ç±»å‹çš„æ„é€ å‡½æ•°æ¥å®ç°çš„ï¼Œè¿™ä¸€ç§æ–¹æ³•è§£å†³äº†ä¸èƒ½å‘è¶…ç±»å‹ä¼ é€’å‚æ•°çš„ç¼ºç‚¹ï¼Œä½†æ˜¯å®ƒå­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯æ— æ³•å®ç°å‡½æ•°æ–¹æ³•çš„å¤ç”¨ï¼Œå¹¶ä¸”è¶…ç±»å‹åŸå‹å®šä¹‰çš„æ–¹æ³•å­ç±»å‹ä¹Ÿæ²¡æœ‰åŠæ³•è®¿é—®åˆ°ã€‚</p><p>ï¼ˆ3ï¼‰ç¬¬ä¸‰ç§æ–¹å¼æ˜¯ç»„åˆç»§æ‰¿ï¼Œç»„åˆç»§æ‰¿æ˜¯å°†åŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°ç»„åˆèµ·æ¥ä½¿ç”¨çš„ä¸€ç§æ–¹å¼ã€‚é€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°çš„æ–¹å¼æ¥å®ç°ç±»å‹çš„å±æ€§çš„ç»§æ‰¿ï¼Œé€šè¿‡å°†å­ç±»å‹çš„åŸå‹è®¾ç½®ä¸ºè¶…ç±»å‹çš„å®ä¾‹æ¥å®ç°æ–¹æ³•çš„ç»§æ‰¿ã€‚è¿™ç§æ–¹å¼è§£å†³äº†ä¸Šé¢çš„ä¸¤ç§æ¨¡å¼å•ç‹¬ä½¿ç”¨æ—¶çš„é—®é¢˜ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬æ˜¯ä»¥è¶…ç±»å‹çš„å®ä¾‹æ¥ä½œä¸ºå­ç±»å‹çš„åŸå‹ï¼Œæ‰€ä»¥è°ƒç”¨äº†ä¸¤æ¬¡è¶…ç±»çš„æ„é€ å‡½æ•°ï¼Œé€ æˆäº†å­ç±»å‹çš„åŸå‹ä¸­å¤šäº†å¾ˆå¤šä¸å¿…è¦çš„å±æ€§ã€‚</p><p>ï¼ˆ4ï¼‰ç¬¬å››ç§æ–¹å¼æ˜¯åŸå‹å¼ç»§æ‰¿ï¼ŒåŸå‹å¼ç»§æ‰¿çš„ä¸»è¦æ€è·¯å°±æ˜¯åŸºäºå·²æœ‰çš„å¯¹è±¡æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œå®ç°çš„åŸç†æ˜¯ï¼Œå‘å‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åè¿”å›ä¸€ä¸ªä»¥è¿™ä¸ªå¯¹è±¡ä¸ºåŸå‹çš„å¯¹è±¡ã€‚è¿™ç§ç»§æ‰¿çš„æ€è·¯ä¸»è¦ä¸æ˜¯ä¸ºäº†å®ç°åˆ›é€ ä¸€ç§æ–°çš„ç±»å‹ï¼Œåªæ˜¯å¯¹æŸä¸ªå¯¹è±¡å®ç°ä¸€ç§ç®€å•ç»§æ‰¿ï¼ŒES5 ä¸­å®šä¹‰çš„ Object.create() æ–¹æ³•å°±æ˜¯åŸå‹å¼ç»§æ‰¿çš„å®ç°ã€‚ç¼ºç‚¹ä¸åŸå‹é“¾æ–¹å¼ç›¸åŒã€‚</p><p>ï¼ˆ5ï¼‰ç¬¬äº”ç§æ–¹å¼æ˜¯å¯„ç”Ÿå¼ç»§æ‰¿ï¼Œå¯„ç”Ÿå¼ç»§æ‰¿çš„æ€è·¯æ˜¯åˆ›å»ºä¸€ä¸ªç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œé€šè¿‡ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå¤åˆ¶ä¸€ä¸ªå¯¹è±¡çš„å‰¯æœ¬ï¼Œç„¶åå¯¹è±¡è¿›è¡Œæ‰©å±•ï¼Œæœ€åè¿”å›è¿™ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªæ‰©å±•çš„è¿‡ç¨‹å°±å¯ä»¥ç†è§£æ˜¯ä¸€ç§ç»§æ‰¿ã€‚è¿™ç§ç»§æ‰¿çš„ä¼˜ç‚¹å°±æ˜¯å¯¹ä¸€ä¸ªç®€å•å¯¹è±¡å®ç°ç»§æ‰¿ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡ä¸æ˜¯è‡ªå®šä¹‰ç±»å‹æ—¶ã€‚ç¼ºç‚¹æ˜¯æ²¡æœ‰åŠæ³•å®ç°å‡½æ•°çš„å¤ç”¨ã€‚</p><p>ï¼ˆ6ï¼‰ç¬¬å…­ç§æ–¹å¼æ˜¯å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿ï¼Œç»„åˆç»§æ‰¿çš„ç¼ºç‚¹å°±æ˜¯ä½¿ç”¨è¶…ç±»å‹çš„å®ä¾‹åšä¸ºå­ç±»å‹çš„åŸå‹ï¼Œå¯¼è‡´æ·»åŠ äº†ä¸å¿…è¦çš„åŸå‹å±æ€§ã€‚å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿çš„æ–¹å¼æ˜¯ä½¿ç”¨è¶…ç±»å‹çš„åŸå‹çš„å‰¯æœ¬æ¥ä½œä¸ºå­ç±»å‹çš„åŸå‹ï¼Œè¿™æ ·å°±é¿å…äº†åˆ›å»ºä¸å¿…è¦çš„å±æ€§ã€‚</p><h2 id="ä¹ã€åƒåœ¾å›æ”¶ä¸å†…å­˜æ³„æ¼"><a href="#ä¹ã€åƒåœ¾å›æ”¶ä¸å†…å­˜æ³„æ¼" class="headerlink" title="ä¹ã€åƒåœ¾å›æ”¶ä¸å†…å­˜æ³„æ¼"></a>ä¹ã€åƒåœ¾å›æ”¶ä¸å†…å­˜æ³„æ¼</h2><h3 id="1-æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#1-æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="1. æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶"></a>1. æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶</h3><h4 id="ï¼ˆ1ï¼‰åƒåœ¾å›æ”¶çš„æ¦‚å¿µ"><a href="#ï¼ˆ1ï¼‰åƒåœ¾å›æ”¶çš„æ¦‚å¿µ" class="headerlink" title="ï¼ˆ1ï¼‰åƒåœ¾å›æ”¶çš„æ¦‚å¿µ"></a>ï¼ˆ1ï¼‰åƒåœ¾å›æ”¶çš„æ¦‚å¿µ</h4><p><strong>åƒåœ¾å›æ”¶</strong>ï¼šJavaScriptä»£ç è¿è¡Œæ—¶ï¼Œéœ€è¦åˆ†é…å†…å­˜ç©ºé—´æ¥å‚¨å­˜å˜é‡å’Œå€¼ã€‚å½“å˜é‡ä¸åœ¨å‚ä¸è¿è¡Œæ—¶ï¼Œå°±éœ€è¦ç³»ç»Ÿæ”¶å›è¢«å ç”¨çš„å†…å­˜ç©ºé—´ï¼Œè¿™å°±æ˜¯åƒåœ¾å›æ”¶ã€‚</p><p><strong>å›æ”¶æœºåˆ¶</strong>ï¼š</p><ul><li>Javascript å…·æœ‰è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä¼šå®šæœŸå¯¹é‚£äº›ä¸å†ä½¿ç”¨çš„å˜é‡ã€å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜è¿›è¡Œé‡Šæ”¾ï¼ŒåŸç†å°±æ˜¯æ‰¾åˆ°ä¸å†ä½¿ç”¨çš„å˜é‡ï¼Œç„¶åé‡Šæ”¾æ‰å…¶å ç”¨çš„å†…å­˜ã€‚</li><li>JavaScriptä¸­å­˜åœ¨ä¸¤ç§å˜é‡ï¼šå±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡ã€‚å…¨å±€å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¼šæŒç»­è¦é¡µé¢å¸è½½ï¼›è€Œå±€éƒ¨å˜é‡å£°æ˜åœ¨å‡½æ•°ä¸­ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸä»å‡½æ•°æ‰§è¡Œå¼€å§‹ï¼Œç›´åˆ°å‡½æ•°æ‰§è¡Œç»“æŸï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå±€éƒ¨å˜é‡ä¼šåœ¨å †æˆ–æ ˆä¸­å­˜å‚¨å®ƒä»¬çš„å€¼ï¼Œå½“å‡½æ•°æ‰§è¡Œç»“æŸåï¼Œè¿™äº›å±€éƒ¨å˜é‡ä¸å†è¢«ä½¿ç”¨ï¼Œå®ƒä»¬æ‰€å æœ‰çš„ç©ºé—´å°±ä¼šè¢«é‡Šæ”¾ã€‚</li><li>ä¸è¿‡ï¼Œå½“å±€éƒ¨å˜é‡è¢«å¤–éƒ¨å‡½æ•°ä½¿ç”¨æ—¶ï¼Œå…¶ä¸­ä¸€ç§æƒ…å†µå°±æ˜¯é—­åŒ…ï¼Œåœ¨å‡½æ•°æ‰§è¡Œç»“æŸåï¼Œå‡½æ•°å¤–éƒ¨çš„å˜é‡ä¾ç„¶æŒ‡å‘å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡ï¼Œæ­¤æ—¶å±€éƒ¨å˜é‡ä¾ç„¶åœ¨è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸ä¼šå›æ”¶ã€‚</li></ul><h4 id="ï¼ˆ2ï¼‰åƒåœ¾å›æ”¶çš„æ–¹å¼"><a href="#ï¼ˆ2ï¼‰åƒåœ¾å›æ”¶çš„æ–¹å¼" class="headerlink" title="ï¼ˆ2ï¼‰åƒåœ¾å›æ”¶çš„æ–¹å¼"></a>ï¼ˆ2ï¼‰åƒåœ¾å›æ”¶çš„æ–¹å¼</h4><p>æµè§ˆå™¨é€šå¸¸ä½¿ç”¨çš„åƒåœ¾å›æ”¶æ–¹æ³•æœ‰ä¸¤ç§ï¼šæ ‡è®°æ¸…é™¤ï¼Œå¼•ç”¨è®¡æ•°ã€‚ <strong>1ï¼‰æ ‡è®°æ¸…é™¤</strong></p><ul><li>æ ‡è®°æ¸…é™¤æ˜¯æµè§ˆå™¨å¸¸è§çš„åƒåœ¾å›æ”¶æ–¹å¼ï¼Œå½“å˜é‡è¿›å…¥æ‰§è¡Œç¯å¢ƒæ—¶ï¼Œå°±æ ‡è®°è¿™ä¸ªå˜é‡â€œè¿›å…¥ç¯å¢ƒâ€ï¼Œè¢«æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€çš„å˜é‡æ˜¯ä¸èƒ½è¢«å›æ”¶çš„ï¼Œå› ä¸ºä»–ä»¬æ­£åœ¨è¢«ä½¿ç”¨ã€‚å½“å˜é‡ç¦»å¼€ç¯å¢ƒæ—¶ï¼Œå°±ä¼šè¢«æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ï¼Œè¢«æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€çš„å˜é‡ä¼šè¢«å†…å­˜é‡Šæ”¾ã€‚</li><li>åƒåœ¾æ”¶é›†å™¨åœ¨è¿è¡Œçš„æ—¶å€™ä¼šç»™å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æ‰€æœ‰å˜é‡éƒ½åŠ ä¸Šæ ‡è®°ã€‚ç„¶åï¼Œå®ƒä¼šå»æ‰ç¯å¢ƒä¸­çš„å˜é‡ä»¥åŠè¢«ç¯å¢ƒä¸­çš„å˜é‡å¼•ç”¨çš„æ ‡è®°ã€‚è€Œåœ¨æ­¤ä¹‹åå†è¢«åŠ ä¸Šæ ‡è®°çš„å˜é‡å°†è¢«è§†ä¸ºå‡†å¤‡åˆ é™¤çš„å˜é‡ï¼ŒåŸå› æ˜¯ç¯å¢ƒä¸­çš„å˜é‡å·²ç»æ— æ³•è®¿é—®åˆ°è¿™äº›å˜é‡äº†ã€‚æœ€åã€‚åƒåœ¾æ”¶é›†å™¨å®Œæˆå†…å­˜æ¸…é™¤å·¥ä½œï¼Œé”€æ¯é‚£äº›å¸¦æ ‡è®°çš„å€¼ï¼Œå¹¶å›æ”¶ä»–ä»¬æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚</li></ul><p><strong>2ï¼‰å¼•ç”¨è®¡æ•°</strong></p><ul><li>å¦å¤–ä¸€ç§åƒåœ¾å›æ”¶æœºåˆ¶å°±æ˜¯å¼•ç”¨è®¡æ•°ï¼Œè¿™ä¸ªç”¨çš„ç›¸å¯¹è¾ƒå°‘ã€‚å¼•ç”¨è®¡æ•°å°±æ˜¯è·Ÿè¸ªè®°å½•æ¯ä¸ªå€¼è¢«å¼•ç”¨çš„æ¬¡æ•°ã€‚å½“å£°æ˜äº†ä¸€ä¸ªå˜é‡å¹¶å°†ä¸€ä¸ªå¼•ç”¨ç±»å‹èµ‹å€¼ç»™è¯¥å˜é‡æ—¶ï¼Œåˆ™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å°±æ˜¯1ã€‚ç›¸åï¼Œå¦‚æœåŒ…å«å¯¹è¿™ä¸ªå€¼å¼•ç”¨çš„å˜é‡åˆå–å¾—äº†å¦å¤–ä¸€ä¸ªå€¼ï¼Œåˆ™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å°±å‡1ã€‚å½“è¿™ä¸ªå¼•ç”¨æ¬¡æ•°å˜ä¸º0æ—¶ï¼Œè¯´æ˜è¿™ä¸ªå˜é‡å·²ç»æ²¡æœ‰ä»·å€¼ï¼Œå› æ­¤ï¼Œåœ¨åœ¨æœºå›æ”¶æœŸä¸‹æ¬¡å†è¿è¡Œæ—¶ï¼Œè¿™ä¸ªå˜é‡æ‰€å æœ‰çš„å†…å­˜ç©ºé—´å°±ä¼šè¢«é‡Šæ”¾å‡ºæ¥ã€‚</li><li>è¿™ç§æ–¹æ³•ä¼šå¼•èµ·<strong>å¾ªç¯å¼•ç”¨</strong>çš„é—®é¢˜ï¼šä¾‹å¦‚ï¼š<code> obj1</code>å’Œ<code>obj2</code>é€šè¿‡å±æ€§è¿›è¡Œç›¸äº’å¼•ç”¨ï¼Œä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ¬¡æ•°éƒ½æ˜¯2ã€‚å½“ä½¿ç”¨å¾ªç¯è®¡æ•°æ—¶ï¼Œç”±äºå‡½æ•°æ‰§è¡Œå®Œåï¼Œä¸¤ä¸ªå¯¹è±¡éƒ½ç¦»å¼€ä½œç”¨åŸŸï¼Œå‡½æ•°æ‰§è¡Œç»“æŸï¼Œ<code>obj1</code>å’Œ<code>obj2</code>è¿˜å°†ä¼šç»§ç»­å­˜åœ¨ï¼Œå› æ­¤å®ƒä»¬çš„å¼•ç”¨æ¬¡æ•°æ°¸è¿œä¸ä¼šæ˜¯0ï¼Œå°±ä¼šå¼•èµ·å¾ªç¯å¼•ç”¨ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> obj1 = &#123;&#125;;</span><br><span class="line">    <span class="keyword">let</span> obj2 = &#123;&#125;;</span><br><span class="line">    obj1.a = obj2; <span class="comment">// obj1 å¼•ç”¨ obj2</span></span><br><span class="line">    obj2.a = obj1; <span class="comment">// obj2 å¼•ç”¨ obj1</span></span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µä¸‹ï¼Œå°±è¦æ‰‹åŠ¨é‡Šæ”¾å˜é‡å ç”¨çš„å†…å­˜ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">obj1.a =  <span class="literal">null</span></span><br><span class="line"> obj2.a =  <span class="literal">null</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ3ï¼‰å‡å°‘åƒåœ¾å›æ”¶"><a href="#ï¼ˆ3ï¼‰å‡å°‘åƒåœ¾å›æ”¶" class="headerlink" title="ï¼ˆ3ï¼‰å‡å°‘åƒåœ¾å›æ”¶"></a>ï¼ˆ3ï¼‰å‡å°‘åƒåœ¾å›æ”¶</h4><p>è™½ç„¶æµè§ˆå™¨å¯ä»¥è¿›è¡Œåƒåœ¾è‡ªåŠ¨å›æ”¶ï¼Œä½†æ˜¯å½“ä»£ç æ¯”è¾ƒå¤æ‚æ—¶ï¼Œåƒåœ¾å›æ”¶æ‰€å¸¦æ¥çš„ä»£ä»·æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥åº”è¯¥å°½é‡å‡å°‘åƒåœ¾å›æ”¶ã€‚</p><ul><li><strong>å¯¹æ•°ç»„è¿›è¡Œä¼˜åŒ–ï¼š</strong> åœ¨æ¸…ç©ºä¸€ä¸ªæ•°ç»„æ—¶ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ç»™å…¶èµ‹å€¼ä¸º[ ]ï¼Œä½†æ˜¯ä¸æ­¤åŒæ—¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡ï¼Œå¯ä»¥å°†æ•°ç»„çš„é•¿åº¦è®¾ç½®ä¸º0ï¼Œä»¥æ­¤æ¥è¾¾åˆ°æ¸…ç©ºæ•°ç»„çš„ç›®çš„ã€‚</li><li><strong>å¯¹</strong><code>object</code><strong>è¿›è¡Œä¼˜åŒ–ï¼š</strong> å¯¹è±¡å°½é‡å¤ç”¨ï¼Œå¯¹äºä¸å†ä½¿ç”¨çš„å¯¹è±¡ï¼Œå°±å°†å…¶è®¾ç½®ä¸ºnullï¼Œå°½å¿«è¢«å›æ”¶ã€‚</li><li><strong>å¯¹å‡½æ•°è¿›è¡Œä¼˜åŒ–ï¼š</strong> åœ¨å¾ªç¯ä¸­çš„å‡½æ•°è¡¨è¾¾å¼ï¼Œå¦‚æœå¯ä»¥å¤ç”¨ï¼Œå°½é‡æ”¾åœ¨å‡½æ•°çš„å¤–é¢ã€‚</li></ul><h3 id="2-å“ªäº›æƒ…å†µä¼šå¯¼è‡´å†…å­˜æ³„æ¼"><a href="#2-å“ªäº›æƒ…å†µä¼šå¯¼è‡´å†…å­˜æ³„æ¼" class="headerlink" title="2. å“ªäº›æƒ…å†µä¼šå¯¼è‡´å†…å­˜æ³„æ¼"></a>2. å“ªäº›æƒ…å†µä¼šå¯¼è‡´å†…å­˜æ³„æ¼</h3><p>ä»¥ä¸‹å››ç§æƒ…å†µä¼šé€ æˆå†…å­˜çš„æ³„æ¼ï¼š</p><ul><li><strong>æ„å¤–çš„å…¨å±€å˜é‡ï¼š</strong> ç”±äºä½¿ç”¨æœªå£°æ˜çš„å˜é‡ï¼Œè€Œæ„å¤–çš„åˆ›å»ºäº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè€Œä½¿è¿™ä¸ªå˜é‡ä¸€ç›´ç•™åœ¨å†…å­˜ä¸­æ— æ³•è¢«å›æ”¶ã€‚</li><li><strong>è¢«é—å¿˜çš„è®¡æ—¶å™¨æˆ–å›è°ƒå‡½æ•°ï¼š</strong> è®¾ç½®äº† setInterval å®šæ—¶å™¨ï¼Œè€Œå¿˜è®°å–æ¶ˆå®ƒï¼Œå¦‚æœå¾ªç¯å‡½æ•°æœ‰å¯¹å¤–éƒ¨å˜é‡çš„å¼•ç”¨çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡ä¼šè¢«ä¸€ç›´ç•™åœ¨å†…å­˜ä¸­ï¼Œè€Œæ— æ³•è¢«å›æ”¶ã€‚</li><li><strong>è„±ç¦» DOM çš„å¼•ç”¨ï¼š</strong> è·å–ä¸€ä¸ª DOM å…ƒç´ çš„å¼•ç”¨ï¼Œè€Œåé¢è¿™ä¸ªå…ƒç´ è¢«åˆ é™¤ï¼Œç”±äºä¸€ç›´ä¿ç•™äº†å¯¹è¿™ä¸ªå…ƒç´ çš„å¼•ç”¨ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ— æ³•è¢«å›æ”¶ã€‚</li><li><strong>é—­åŒ…ï¼š</strong> ä¸åˆç†çš„ä½¿ç”¨é—­åŒ…ï¼Œä»è€Œå¯¼è‡´æŸäº›å˜é‡ä¸€ç›´è¢«ç•™åœ¨å†…å­˜å½“ä¸­ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cssé¢è¯•é¢˜æ•´ç†</title>
      <link href="/2022/03/22/css%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/"/>
      <url>/2022/03/22/css%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€CSSåŸºç¡€"><a href="#ä¸€ã€CSSåŸºç¡€" class="headerlink" title="ä¸€ã€CSSåŸºç¡€"></a>ä¸€ã€CSSåŸºç¡€</h2><h3 id="1-CSSé€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§"><a href="#1-CSSé€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§" class="headerlink" title="1. CSSé€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§"></a>1. CSSé€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§</h3><table><thead><tr><th><strong>é€‰æ‹©å™¨</strong></th><th><strong>æ ¼å¼</strong></th><th><strong>ä¼˜å…ˆçº§æƒé‡</strong></th></tr></thead><tbody><tr><td>idé€‰æ‹©å™¨</td><td>#id</td><td>100</td></tr><tr><td>ç±»é€‰æ‹©å™¨</td><td>#classname</td><td>10</td></tr><tr><td>å±æ€§é€‰æ‹©å™¨</td><td>a[ref=â€œeeeâ€]</td><td>10</td></tr><tr><td>ä¼ªç±»é€‰æ‹©å™¨</td><td>li:last-child</td><td>10</td></tr><tr><td>æ ‡ç­¾é€‰æ‹©å™¨</td><td>div</td><td>1</td></tr><tr><td>ä¼ªå…ƒç´ é€‰æ‹©å™¨</td><td>li:after</td><td>1</td></tr><tr><td>ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨</td><td>h1+p</td><td>0</td></tr><tr><td>å­é€‰æ‹©å™¨</td><td>ul&gt;li</td><td>0</td></tr><tr><td>åä»£é€‰æ‹©å™¨</td><td>li a</td><td>0</td></tr><tr><td>é€šé…ç¬¦é€‰æ‹©å™¨</td><td>*</td><td>0</td></tr></tbody></table><p>å¯¹äºé€‰æ‹©å™¨çš„<strong>ä¼˜å…ˆçº§</strong>ï¼š</p><ul><li>æ ‡ç­¾é€‰æ‹©å™¨ã€ä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼š1</li><li>ç±»é€‰æ‹©å™¨ã€ä¼ªç±»é€‰æ‹©å™¨ã€å±æ€§é€‰æ‹©å™¨ï¼š10</li><li>id é€‰æ‹©å™¨ï¼š100</li><li>å†…è”æ ·å¼ï¼š1000</li></ul><p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p><ul><li>!importantå£°æ˜çš„æ ·å¼çš„ä¼˜å…ˆçº§æœ€é«˜ï¼›</li><li>å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œåˆ™æœ€åå‡ºç°çš„æ ·å¼ç”Ÿæ•ˆï¼›</li><li>ç»§æ‰¿å¾—åˆ°çš„æ ·å¼çš„ä¼˜å…ˆçº§æœ€ä½ï¼›</li><li>é€šç”¨é€‰æ‹©å™¨ï¼ˆ*ï¼‰ã€å­é€‰æ‹©å™¨ï¼ˆ&gt;ï¼‰å’Œç›¸é‚»åŒèƒé€‰æ‹©å™¨ï¼ˆ+ï¼‰å¹¶ä¸åœ¨è¿™å››ä¸ªç­‰çº§ä¸­ï¼Œæ‰€ä»¥å®ƒä»¬çš„æƒå€¼éƒ½ä¸º 0 ï¼›</li><li>æ ·å¼è¡¨çš„æ¥æºä¸åŒæ—¶ï¼Œä¼˜å…ˆçº§é¡ºåºä¸ºï¼šå†…è”æ ·å¼ &gt; å†…éƒ¨æ ·å¼ &gt; å¤–éƒ¨æ ·å¼ &gt; æµè§ˆå™¨ç”¨æˆ·è‡ªå®šä¹‰æ ·å¼ &gt; æµè§ˆå™¨é»˜è®¤æ ·å¼ã€‚</li></ul><h3 id="2-CSSä¸­å¯ç»§æ‰¿ä¸ä¸å¯ç»§æ‰¿å±æ€§æœ‰å“ªäº›"><a href="#2-CSSä¸­å¯ç»§æ‰¿ä¸ä¸å¯ç»§æ‰¿å±æ€§æœ‰å“ªäº›" class="headerlink" title="2. CSSä¸­å¯ç»§æ‰¿ä¸ä¸å¯ç»§æ‰¿å±æ€§æœ‰å“ªäº›"></a>2. CSSä¸­å¯ç»§æ‰¿ä¸ä¸å¯ç»§æ‰¿å±æ€§æœ‰å“ªäº›</h3><p><strong>ä¸€ã€æ— ç»§æ‰¿æ€§çš„å±æ€§</strong></p><ol><li><strong>display</strong>ï¼šè§„å®šå…ƒç´ åº”è¯¥ç”Ÿæˆçš„æ¡†çš„ç±»å‹</li><li><strong>æ–‡æœ¬å±æ€§</strong>ï¼š</li></ol><ul><li>vertical-alignï¼šå‚ç›´æ–‡æœ¬å¯¹é½</li><li>text-decorationï¼šè§„å®šæ·»åŠ åˆ°æ–‡æœ¬çš„è£…é¥°</li><li>text-shadowï¼šæ–‡æœ¬é˜´å½±æ•ˆæœ</li><li>white-spaceï¼šç©ºç™½ç¬¦çš„å¤„ç†</li><li>unicode-bidiï¼šè®¾ç½®æ–‡æœ¬çš„æ–¹å‘</li></ul><ol><li><strong>ç›’å­æ¨¡å‹çš„å±æ€§</strong>ï¼šwidthã€heightã€marginã€borderã€padding</li><li><strong>èƒŒæ™¯å±æ€§</strong>ï¼šbackgroundã€background-colorã€background-imageã€background-repeatã€background-positionã€background-attachment</li><li><strong>å®šä½å±æ€§</strong>ï¼šfloatã€clearã€positionã€topã€rightã€bottomã€leftã€min-widthã€min-heightã€max-widthã€max-heightã€overflowã€clipã€z-index</li><li><strong>ç”Ÿæˆå†…å®¹å±æ€§</strong>ï¼šcontentã€counter-resetã€counter-increment</li><li><strong>è½®å»“æ ·å¼å±æ€§</strong>ï¼šoutline-styleã€outline-widthã€outline-colorã€outline</li><li><strong>é¡µé¢æ ·å¼å±æ€§</strong>ï¼šsizeã€page-break-beforeã€page-break-after</li><li><strong>å£°éŸ³æ ·å¼å±æ€§</strong>ï¼špause-beforeã€pause-afterã€pauseã€cue-beforeã€cue-afterã€cueã€play-during</li></ol><p><strong>äºŒã€æœ‰ç»§æ‰¿æ€§çš„å±æ€§</strong></p><ol><li><strong>å­—ä½“ç³»åˆ—å±æ€§</strong></li></ol><ul><li>font-familyï¼šå­—ä½“ç³»åˆ—</li><li>font-weightï¼šå­—ä½“çš„ç²—ç»†</li><li>font-sizeï¼šå­—ä½“çš„å¤§å°</li><li>font-styleï¼šå­—ä½“çš„é£æ ¼</li></ul><ol><li><strong>æ–‡æœ¬ç³»åˆ—å±æ€§</strong></li></ol><ul><li>text-indentï¼šæ–‡æœ¬ç¼©è¿›</li><li>text-alignï¼šæ–‡æœ¬æ°´å¹³å¯¹é½</li><li>line-heightï¼šè¡Œé«˜</li><li>word-spacingï¼šå•è¯ä¹‹é—´çš„é—´è·</li><li>letter-spacingï¼šä¸­æ–‡æˆ–è€…å­—æ¯ä¹‹é—´çš„é—´è·</li><li>text-transformï¼šæ§åˆ¶æ–‡æœ¬å¤§å°å†™ï¼ˆå°±æ˜¯uppercaseã€lowercaseã€capitalizeè¿™ä¸‰ä¸ªï¼‰</li><li>colorï¼šæ–‡æœ¬é¢œè‰²</li></ul><ol><li><strong>å…ƒç´ å¯è§æ€§</strong></li></ol><ul><li>visibilityï¼šæ§åˆ¶å…ƒç´ æ˜¾ç¤ºéšè—</li></ul><ol><li><strong>åˆ—è¡¨å¸ƒå±€å±æ€§</strong></li></ol><ul><li>list-styleï¼šåˆ—è¡¨é£æ ¼ï¼ŒåŒ…æ‹¬list-style-typeã€list-style-imageç­‰</li></ul><ol><li><strong>å…‰æ ‡å±æ€§</strong></li></ol><ul><li>cursorï¼šå…‰æ ‡æ˜¾ç¤ºä¸ºä½•ç§å½¢æ€</li></ul><h3 id="3-displayçš„å±æ€§å€¼åŠå…¶ä½œç”¨"><a href="#3-displayçš„å±æ€§å€¼åŠå…¶ä½œç”¨" class="headerlink" title="3. displayçš„å±æ€§å€¼åŠå…¶ä½œç”¨"></a>3. displayçš„å±æ€§å€¼åŠå…¶ä½œç”¨</h3><table><thead><tr><th><strong>å±æ€§å€¼</strong></th><th><strong>ä½œç”¨</strong></th></tr></thead><tbody><tr><td>none</td><td>å…ƒç´ ä¸æ˜¾ç¤ºï¼Œå¹¶ä¸”ä¼šä»æ–‡æ¡£æµä¸­ç§»é™¤ã€‚</td></tr><tr><td>block</td><td>å—ç±»å‹ã€‚é»˜è®¤å®½åº¦ä¸ºçˆ¶å…ƒç´ å®½åº¦ï¼Œå¯è®¾ç½®å®½é«˜ï¼Œæ¢è¡Œæ˜¾ç¤ºã€‚</td></tr><tr><td>inline</td><td>è¡Œå†…å…ƒç´ ç±»å‹ã€‚é»˜è®¤å®½åº¦ä¸ºå†…å®¹å®½åº¦ï¼Œä¸å¯è®¾ç½®å®½é«˜ï¼ŒåŒè¡Œæ˜¾ç¤ºã€‚</td></tr><tr><td>inline-block</td><td>é»˜è®¤å®½åº¦ä¸ºå†…å®¹å®½åº¦ï¼Œå¯ä»¥è®¾ç½®å®½é«˜ï¼ŒåŒè¡Œæ˜¾ç¤ºã€‚</td></tr><tr><td>list-item</td><td>åƒå—ç±»å‹å…ƒç´ ä¸€æ ·æ˜¾ç¤ºï¼Œå¹¶æ·»åŠ æ ·å¼åˆ—è¡¨æ ‡è®°ã€‚</td></tr><tr><td>table</td><td>æ­¤å…ƒç´ ä¼šä½œä¸ºå—çº§è¡¨æ ¼æ¥æ˜¾ç¤ºã€‚</td></tr><tr><td>inherit</td><td>è§„å®šåº”è¯¥ä»çˆ¶å…ƒç´ ç»§æ‰¿displayå±æ€§çš„å€¼ã€‚</td></tr></tbody></table><h3 id="4-displayçš„blockã€inlineå’Œinline-blockçš„åŒºåˆ«"><a href="#4-displayçš„blockã€inlineå’Œinline-blockçš„åŒºåˆ«" class="headerlink" title="4. displayçš„blockã€inlineå’Œinline-blockçš„åŒºåˆ«"></a>4. displayçš„blockã€inlineå’Œinline-blockçš„åŒºåˆ«</h3><p>ï¼ˆ1ï¼‰<strong>blockï¼š</strong> ä¼šç‹¬å ä¸€è¡Œï¼Œå¤šä¸ªå…ƒç´ ä¼šå¦èµ·ä¸€è¡Œï¼Œå¯ä»¥è®¾ç½®widthã€heightã€marginå’Œpaddingå±æ€§ï¼›</p><p>ï¼ˆ2ï¼‰<strong>inlineï¼š</strong> å…ƒç´ ä¸ä¼šç‹¬å ä¸€è¡Œï¼Œè®¾ç½®widthã€heightå±æ€§æ— æ•ˆã€‚ä½†å¯ä»¥è®¾ç½®æ°´å¹³æ–¹å‘çš„marginå’Œpaddingå±æ€§ï¼Œä¸èƒ½è®¾ç½®å‚ç›´æ–¹å‘çš„paddingå’Œmarginï¼›</p><p>ï¼ˆ3ï¼‰<strong>inline-blockï¼š</strong> å°†å¯¹è±¡è®¾ç½®ä¸ºinlineå¯¹è±¡ï¼Œä½†å¯¹è±¡çš„å†…å®¹ä½œä¸ºblockå¯¹è±¡å‘ˆç°ï¼Œä¹‹åçš„å†…è”å¯¹è±¡ä¼šè¢«æ’åˆ—åœ¨åŒä¸€è¡Œå†…ã€‚</p><p>å¯¹äºè¡Œå†…å…ƒç´ å’Œå—çº§å…ƒç´ ï¼Œå…¶ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><p><strong>ï¼ˆ1ï¼‰è¡Œå†…å…ƒç´ </strong></p><ul><li>è®¾ç½®å®½é«˜æ— æ•ˆï¼›</li><li>å¯ä»¥è®¾ç½®æ°´å¹³æ–¹å‘çš„marginå’Œpaddingå±æ€§ï¼Œä¸èƒ½è®¾ç½®å‚ç›´æ–¹å‘çš„paddingå’Œmarginï¼›</li><li>ä¸ä¼šè‡ªåŠ¨æ¢è¡Œï¼›</li></ul><p><strong>ï¼ˆ2ï¼‰å—çº§å…ƒç´ </strong></p><ul><li>å¯ä»¥è®¾ç½®å®½é«˜ï¼›</li><li>è®¾ç½®marginå’Œpaddingéƒ½æœ‰æ•ˆï¼›</li><li>å¯ä»¥è‡ªåŠ¨æ¢è¡Œï¼›</li><li>å¤šä¸ªå—çŠ¶ï¼Œé»˜è®¤æ’åˆ—ä»ä¸Šåˆ°ä¸‹ã€‚</li></ul><h3 id="5-éšè—å…ƒç´ çš„æ–¹æ³•æœ‰å“ªäº›"><a href="#5-éšè—å…ƒç´ çš„æ–¹æ³•æœ‰å“ªäº›" class="headerlink" title="5. éšè—å…ƒç´ çš„æ–¹æ³•æœ‰å“ªäº›"></a>5. éšè—å…ƒç´ çš„æ–¹æ³•æœ‰å“ªäº›</h3><ul><li><strong>display: none</strong>ï¼šæ¸²æŸ“æ ‘ä¸ä¼šåŒ…å«è¯¥æ¸²æŸ“å¯¹è±¡ï¼Œå› æ­¤è¯¥å…ƒç´ ä¸ä¼šåœ¨é¡µé¢ä¸­å æ®ä½ç½®ï¼Œä¹Ÿä¸ä¼šå“åº”ç»‘å®šçš„ç›‘å¬äº‹ä»¶ã€‚</li><li><strong>visibility: hidden</strong>ï¼šå…ƒç´ åœ¨é¡µé¢ä¸­ä»å æ®ç©ºé—´ï¼Œä½†æ˜¯ä¸ä¼šå“åº”ç»‘å®šçš„ç›‘å¬äº‹ä»¶ã€‚</li><li><strong>opacity: 0</strong>ï¼šå°†å…ƒç´ çš„é€æ˜åº¦è®¾ç½®ä¸º 0ï¼Œä»¥æ­¤æ¥å®ç°å…ƒç´ çš„éšè—ã€‚å…ƒç´ åœ¨é¡µé¢ä¸­ä»ç„¶å æ®ç©ºé—´ï¼Œå¹¶ä¸”èƒ½å¤Ÿå“åº”å…ƒç´ ç»‘å®šçš„ç›‘å¬äº‹ä»¶ã€‚</li><li><strong>position: absolute</strong>ï¼šé€šè¿‡ä½¿ç”¨ç»å¯¹å®šä½å°†å…ƒç´ ç§»é™¤å¯è§†åŒºåŸŸå†…ï¼Œä»¥æ­¤æ¥å®ç°å…ƒç´ çš„éšè—ã€‚</li><li><strong>z-index: è´Ÿå€¼</strong>ï¼šæ¥ä½¿å…¶ä»–å…ƒç´ é®ç›–ä½è¯¥å…ƒç´ ï¼Œä»¥æ­¤æ¥å®ç°éšè—ã€‚</li><li><strong>clip/clip-path</strong> ï¼šä½¿ç”¨å…ƒç´ è£å‰ªçš„æ–¹æ³•æ¥å®ç°å…ƒç´ çš„éšè—ï¼Œè¿™ç§æ–¹æ³•ä¸‹ï¼Œå…ƒç´ ä»åœ¨é¡µé¢ä¸­å æ®ä½ç½®ï¼Œä½†æ˜¯ä¸ä¼šå“åº”ç»‘å®šçš„ç›‘å¬äº‹ä»¶ã€‚</li><li>**transform: scale(0,0)**ï¼šå°†å…ƒç´ ç¼©æ”¾ä¸º 0ï¼Œæ¥å®ç°å…ƒç´ çš„éšè—ã€‚è¿™ç§æ–¹æ³•ä¸‹ï¼Œå…ƒç´ ä»åœ¨é¡µé¢ä¸­å æ®ä½ç½®ï¼Œä½†æ˜¯ä¸ä¼šå“åº”ç»‘å®šçš„ç›‘å¬äº‹ä»¶ã€‚</li></ul><h3 id="6-linkå’Œ-importçš„åŒºåˆ«"><a href="#6-linkå’Œ-importçš„åŒºåˆ«" class="headerlink" title="6. linkå’Œ@importçš„åŒºåˆ«"></a>6. linkå’Œ@importçš„åŒºåˆ«</h3><p>ä¸¤è€…éƒ½æ˜¯å¤–éƒ¨å¼•ç”¨CSSçš„æ–¹å¼ï¼Œå®ƒä»¬çš„åŒºåˆ«å¦‚ä¸‹ï¼š</p><ul><li>linkæ˜¯XHTMLæ ‡ç­¾ï¼Œé™¤äº†åŠ è½½CSSå¤–ï¼Œè¿˜å¯ä»¥å®šä¹‰RSSç­‰å…¶ä»–äº‹åŠ¡ï¼›@importå±äºCSSèŒƒç•´ï¼Œåªèƒ½åŠ è½½CSSã€‚</li><li>linkå¼•ç”¨CSSæ—¶ï¼Œåœ¨é¡µé¢è½½å…¥æ—¶åŒæ—¶åŠ è½½ï¼›@importéœ€è¦é¡µé¢ç½‘é¡µå®Œå…¨è½½å…¥ä»¥ååŠ è½½ã€‚</li><li>linkæ˜¯XHTMLæ ‡ç­¾ï¼Œæ— å…¼å®¹é—®é¢˜ï¼›@importæ˜¯åœ¨CSS2.1æå‡ºçš„ï¼Œä½ç‰ˆæœ¬çš„æµè§ˆå™¨ä¸æ”¯æŒã€‚</li><li>linkæ”¯æŒä½¿ç”¨Javascriptæ§åˆ¶DOMå»æ”¹å˜æ ·å¼ï¼›è€Œ@importä¸æ”¯æŒã€‚</li></ul><h3 id="7-transitionå’Œanimationçš„åŒºåˆ«"><a href="#7-transitionå’Œanimationçš„åŒºåˆ«" class="headerlink" title="7. transitionå’Œanimationçš„åŒºåˆ«"></a>7. transitionå’Œanimationçš„åŒºåˆ«</h3><ul><li><strong>transitionæ˜¯è¿‡åº¦å±æ€§</strong>ï¼Œå¼ºè°ƒè¿‡åº¦ï¼Œå®ƒçš„å®ç°éœ€è¦è§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼ˆæ¯”å¦‚é¼ æ ‡ç§»åŠ¨ä¸Šå»ï¼Œç„¦ç‚¹ï¼Œç‚¹å‡»ç­‰ï¼‰æ‰æ‰§è¡ŒåŠ¨ç”»ã€‚å®ƒç±»ä¼¼äºflashçš„è¡¥é—´åŠ¨ç”»ï¼Œè®¾ç½®ä¸€ä¸ªå¼€å§‹å…³é”®å¸§ï¼Œä¸€ä¸ªç»“æŸå…³é”®å¸§ã€‚</li><li><strong>animationæ˜¯åŠ¨ç”»å±æ€§</strong>ï¼Œå®ƒçš„å®ç°ä¸éœ€è¦è§¦å‘äº‹ä»¶ï¼Œè®¾å®šå¥½æ—¶é—´ä¹‹åå¯ä»¥è‡ªå·±æ‰§è¡Œï¼Œä¸”å¯ä»¥å¾ªç¯ä¸€ä¸ªåŠ¨ç”»ã€‚å®ƒä¹Ÿç±»ä¼¼äºflashçš„è¡¥é—´åŠ¨ç”»ï¼Œä½†æ˜¯å®ƒå¯ä»¥è®¾ç½®å¤šä¸ªå…³é”®å¸§ï¼ˆç”¨@keyframeå®šä¹‰ï¼‰å®ŒæˆåŠ¨ç”»ã€‚</li></ul><h3 id="8-display-noneä¸visibility-hiddençš„åŒºåˆ«"><a href="#8-display-noneä¸visibility-hiddençš„åŒºåˆ«" class="headerlink" title="8. display:noneä¸visibility:hiddençš„åŒºåˆ«"></a>8. display:noneä¸visibility:hiddençš„åŒºåˆ«</h3><p>è¿™ä¸¤ä¸ªå±æ€§éƒ½æ˜¯è®©å…ƒç´ éšè—ï¼Œä¸å¯è§ã€‚<strong>ä¸¤è€…åŒºåˆ«å¦‚ä¸‹ï¼š</strong></p><p>ï¼ˆ1ï¼‰<strong>åœ¨æ¸²æŸ“æ ‘ä¸­</strong></p><ul><li><code>display:none</code>ä¼šè®©å…ƒç´ å®Œå…¨ä»æ¸²æŸ“æ ‘ä¸­æ¶ˆå¤±ï¼Œæ¸²æŸ“æ—¶ä¸ä¼šå æ®ä»»ä½•ç©ºé—´ï¼›</li><li><code>visibility:hidden</code>ä¸ä¼šè®©å…ƒç´ ä»æ¸²æŸ“æ ‘ä¸­æ¶ˆå¤±ï¼Œæ¸²æŸ“çš„å…ƒç´ è¿˜ä¼šå æ®ç›¸åº”çš„ç©ºé—´ï¼Œåªæ˜¯å†…å®¹ä¸å¯è§ã€‚</li></ul><p>ï¼ˆ2ï¼‰<strong>æ˜¯å¦æ˜¯ç»§æ‰¿å±æ€§</strong></p><ul><li><code>display:none</code>æ˜¯éç»§æ‰¿å±æ€§ï¼Œå­å­™èŠ‚ç‚¹ä¼šéšç€çˆ¶èŠ‚ç‚¹ä»æ¸²æŸ“æ ‘æ¶ˆå¤±ï¼Œé€šè¿‡ä¿®æ”¹å­å­™èŠ‚ç‚¹çš„å±æ€§ä¹Ÿæ— æ³•æ˜¾ç¤ºï¼›</li><li><code>visibility:hidden</code>æ˜¯ç»§æ‰¿å±æ€§ï¼Œå­å­™èŠ‚ç‚¹æ¶ˆå¤±æ˜¯ç”±äºç»§æ‰¿äº†<code>hidden</code>ï¼Œé€šè¿‡è®¾ç½®<code>visibility:visible</code>å¯ä»¥è®©å­å­™èŠ‚ç‚¹æ˜¾ç¤ºï¼›</li></ul><p>ï¼ˆ3ï¼‰ä¿®æ”¹å¸¸è§„æ–‡æ¡£æµä¸­å…ƒç´ çš„ <code>display</code> é€šå¸¸ä¼šé€ æˆæ–‡æ¡£çš„é‡æ’ï¼Œä½†æ˜¯ä¿®æ”¹<code>visibility</code>å±æ€§åªä¼šé€ æˆæœ¬å…ƒç´ çš„é‡ç»˜ï¼›</p><p>ï¼ˆ4ï¼‰å¦‚æœä½¿ç”¨è¯»å±å™¨ï¼Œè®¾ç½®ä¸º<code>display:none</code>çš„å†…å®¹ä¸ä¼šè¢«è¯»å–ï¼Œè®¾ç½®ä¸º<code>visibility:hidden</code>çš„å†…å®¹ä¼šè¢«è¯»å–ã€‚</p><h3 id="9-ä¼ªå…ƒç´ å’Œä¼ªç±»çš„åŒºåˆ«å’Œä½œç”¨ï¼Ÿ"><a href="#9-ä¼ªå…ƒç´ å’Œä¼ªç±»çš„åŒºåˆ«å’Œä½œç”¨ï¼Ÿ" class="headerlink" title="9. ä¼ªå…ƒç´ å’Œä¼ªç±»çš„åŒºåˆ«å’Œä½œç”¨ï¼Ÿ"></a>9. <strong>ä¼ªå…ƒç´ å’Œä¼ªç±»çš„åŒºåˆ«å’Œä½œç”¨ï¼Ÿ</strong></h3><ul><li>ä¼ªå…ƒç´ ï¼šåœ¨å†…å®¹å…ƒç´ çš„å‰åæ’å…¥é¢å¤–çš„å…ƒç´ æˆ–æ ·å¼ï¼Œä½†æ˜¯è¿™äº›å…ƒç´ å®é™…ä¸Šå¹¶ä¸åœ¨æ–‡æ¡£ä¸­ç”Ÿæˆã€‚å®ƒä»¬åªåœ¨å¤–éƒ¨æ˜¾ç¤ºå¯è§ï¼Œä½†ä¸ä¼šåœ¨æ–‡æ¡£çš„æºä»£ç ä¸­æ‰¾åˆ°å®ƒä»¬ï¼Œå› æ­¤ï¼Œç§°ä¸ºâ€œä¼ªâ€å…ƒç´ ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::before</span> &#123;<span class="attribute">content</span>:<span class="string">&quot;ç¬¬ä¸€ç« ï¼š&quot;</span>;&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::after</span> &#123;<span class="attribute">content</span>:<span class="string">&quot;Hot!&quot;</span>;&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::first-line</span> &#123;<span class="attribute">background</span>:red;&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::first-letter</span> &#123;<span class="attribute">font-size</span>:<span class="number">30px</span>;&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>ä¼ªç±»ï¼šå°†ç‰¹æ®Šçš„æ•ˆæœæ·»åŠ åˆ°ç‰¹å®šé€‰æ‹©å™¨ä¸Šã€‚å®ƒæ˜¯å·²æœ‰å…ƒç´ ä¸Šæ·»åŠ ç±»åˆ«çš„ï¼Œä¸ä¼šäº§ç”Ÿæ–°çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;<span class="attribute">color</span>: <span class="number">#FF00FF</span>&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-child &#123;<span class="attribute">color</span>: red&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><strong>æ€»ç»“ï¼š</strong> ä¼ªç±»æ˜¯é€šè¿‡åœ¨å…ƒç´ é€‰æ‹©å™¨ä¸ŠåŠ â¼Šä¼ªç±»æ”¹å˜å…ƒç´ çŠ¶æ€ï¼Œâ½½ä¼ªå…ƒç´ é€šè¿‡å¯¹å…ƒç´ çš„æ“ä½œè¿›â¾å¯¹å…ƒç´ çš„æ”¹å˜ã€‚</p><h3 id="10-å¯¹requestAnimationframeçš„ç†è§£"><a href="#10-å¯¹requestAnimationframeçš„ç†è§£" class="headerlink" title="10. å¯¹requestAnimationframeçš„ç†è§£"></a>10. å¯¹requestAnimationframeçš„ç†è§£</h3><p>å®ç°åŠ¨ç”»æ•ˆæœçš„æ–¹æ³•æ¯”è¾ƒå¤šï¼ŒJavascript ä¸­å¯ä»¥é€šè¿‡å®šæ—¶å™¨ setTimeout æ¥å®ç°ï¼ŒCSS3 ä¸­å¯ä»¥ä½¿ç”¨ transition å’Œ animation æ¥å®ç°ï¼ŒHTML5 ä¸­çš„ canvas ä¹Ÿå¯ä»¥å®ç°ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒHTML5 æä¾›ä¸€ä¸ªä¸“é—¨ç”¨äºè¯·æ±‚åŠ¨ç”»çš„APIï¼Œé‚£å°±æ˜¯ requestAnimationFrameï¼Œé¡¾åæ€ä¹‰å°±æ˜¯<strong>è¯·æ±‚åŠ¨ç”»å¸§</strong>ã€‚</p><p>MDNå¯¹è¯¥æ–¹æ³•çš„æè¿°ï¼š</p><blockquote><p>window.requestAnimationFrame() å‘Šè¯‰æµè§ˆå™¨â€”â€”ä½ å¸Œæœ›æ‰§è¡Œä¸€ä¸ªåŠ¨ç”»ï¼Œå¹¶ä¸”è¦æ±‚æµè§ˆå™¨åœ¨ä¸‹æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æŒ‡å®šçš„å›è°ƒå‡½æ•°æ›´æ–°åŠ¨ç”»ã€‚è¯¥æ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å›è°ƒå‡½æ•°ä¼šåœ¨æµè§ˆå™¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰æ‰§è¡Œã€‚</p></blockquote><p><strong>è¯­æ³•ï¼š</strong> <code>window.requestAnimationFrame(callback);</code>  å…¶ä¸­ï¼Œcallbackæ˜¯<strong>ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰æ›´æ–°åŠ¨ç”»å¸§æ‰€è°ƒç”¨çš„å‡½æ•°</strong>(å³ä¸Šé¢æ‰€è¯´çš„å›è°ƒå‡½æ•°)ã€‚è¯¥å›è°ƒå‡½æ•°ä¼šè¢«ä¼ å…¥DOMHighResTimeStampå‚æ•°ï¼Œå®ƒè¡¨ç¤ºrequestAnimationFrame() å¼€å§‹å»æ‰§è¡Œå›è°ƒå‡½æ•°çš„æ—¶åˆ»ã€‚è¯¥æ–¹æ³•å±äº<strong>å®ä»»åŠ¡</strong>ï¼Œæ‰€ä»¥ä¼šåœ¨æ‰§è¡Œå®Œå¾®ä»»åŠ¡ä¹‹åå†å»æ‰§è¡Œã€‚</p><p><strong>å–æ¶ˆåŠ¨ç”»ï¼š</strong> ä½¿ç”¨cancelAnimationFrame()æ¥å–æ¶ˆæ‰§è¡ŒåŠ¨ç”»ï¼Œè¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°â€”â€”requestAnimationFrameé»˜è®¤è¿”å›çš„idï¼Œåªéœ€è¦ä¼ å…¥è¿™ä¸ªidå°±å¯ä»¥å–æ¶ˆåŠ¨ç”»äº†ã€‚</p><p><strong>ä¼˜åŠ¿ï¼š</strong></p><ul><li><strong>CPUèŠ‚èƒ½</strong>ï¼šä½¿ç”¨SetTinterval å®ç°çš„åŠ¨ç”»ï¼Œå½“é¡µé¢è¢«éšè—æˆ–æœ€å°åŒ–æ—¶ï¼ŒSetTinterval ä»ç„¶åœ¨åå°æ‰§è¡ŒåŠ¨ç”»ä»»åŠ¡ï¼Œç”±äºæ­¤æ—¶é¡µé¢å¤„äºä¸å¯è§æˆ–ä¸å¯ç”¨çŠ¶æ€ï¼Œåˆ·æ–°åŠ¨ç”»æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå®Œå…¨æ˜¯æµªè´¹CPUèµ„æºã€‚è€ŒRequestAnimationFrameåˆ™å®Œå…¨ä¸åŒï¼Œå½“é¡µé¢å¤„ç†æœªæ¿€æ´»çš„çŠ¶æ€ä¸‹ï¼Œè¯¥é¡µé¢çš„å±å¹•åˆ·æ–°ä»»åŠ¡ä¹Ÿä¼šè¢«ç³»ç»Ÿæš‚åœï¼Œå› æ­¤è·Ÿç€ç³»ç»Ÿèµ°çš„RequestAnimationFrameä¹Ÿä¼šåœæ­¢æ¸²æŸ“ï¼Œå½“é¡µé¢è¢«æ¿€æ´»æ—¶ï¼ŒåŠ¨ç”»å°±ä»ä¸Šæ¬¡åœç•™çš„åœ°æ–¹ç»§ç»­æ‰§è¡Œï¼Œæœ‰æ•ˆèŠ‚çœäº†CPUå¼€é”€ã€‚</li><li><strong>å‡½æ•°èŠ‚æµ</strong>ï¼šåœ¨é«˜é¢‘ç‡äº‹ä»¶( resize, scroll ç­‰)ä¸­ï¼Œä¸ºäº†é˜²æ­¢åœ¨ä¸€ä¸ªåˆ·æ–°é—´éš”å†…å‘ç”Ÿå¤šæ¬¡å‡½æ•°æ‰§è¡Œï¼ŒRequestAnimationFrameå¯ä¿è¯æ¯ä¸ªåˆ·æ–°é—´éš”å†…ï¼Œå‡½æ•°åªè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œè¿™æ ·æ—¢èƒ½ä¿è¯æµç•…æ€§ï¼Œä¹Ÿèƒ½æ›´å¥½çš„èŠ‚çœå‡½æ•°æ‰§è¡Œçš„å¼€é”€ï¼Œä¸€ä¸ªåˆ·æ–°é—´éš”å†…å‡½æ•°æ‰§è¡Œå¤šæ¬¡æ—¶æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºå¤šæ•°æ˜¾ç¤ºå™¨æ¯16.7msåˆ·æ–°ä¸€æ¬¡ï¼Œå¤šæ¬¡ç»˜åˆ¶å¹¶ä¸ä¼šåœ¨å±å¹•ä¸Šä½“ç°å‡ºæ¥ã€‚</li><li><strong>å‡å°‘DOMæ“ä½œ</strong>ï¼šrequestAnimationFrame ä¼šæŠŠæ¯ä¸€å¸§ä¸­çš„æ‰€æœ‰DOMæ“ä½œé›†ä¸­èµ·æ¥ï¼Œåœ¨ä¸€æ¬¡é‡ç»˜æˆ–å›æµä¸­å°±å®Œæˆï¼Œå¹¶ä¸”é‡ç»˜æˆ–å›æµçš„æ—¶é—´é—´éš”ç´§ç´§è·Ÿéšæµè§ˆå™¨çš„åˆ·æ–°é¢‘ç‡ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªé¢‘ç‡ä¸ºæ¯ç§’60å¸§ã€‚</li></ul><p><strong>setTimeoutæ‰§è¡ŒåŠ¨ç”»çš„ç¼ºç‚¹</strong>ï¼šå®ƒé€šè¿‡è®¾å®šé—´éš”æ—¶é—´æ¥ä¸æ–­æ”¹å˜å›¾åƒä½ç½®ï¼Œè¾¾åˆ°åŠ¨ç”»æ•ˆæœã€‚ä½†æ˜¯å®¹æ˜“å‡ºç°å¡é¡¿ã€æŠ–åŠ¨çš„ç°è±¡ï¼›åŸå› æ˜¯ï¼š</p><ul><li>settimeoutä»»åŠ¡è¢«æ”¾å…¥å¼‚æ­¥é˜Ÿåˆ—ï¼Œåªæœ‰å½“ä¸»çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®Œåæ‰ä¼šæ‰§è¡Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œå› æ­¤å®é™…æ‰§è¡Œæ—¶é—´æ€»æ˜¯æ¯”è®¾å®šæ—¶é—´è¦æ™šï¼›</li><li>settimeoutçš„å›ºå®šæ—¶é—´é—´éš”ä¸ä¸€å®šä¸å±å¹•åˆ·æ–°é—´éš”æ—¶é—´ç›¸åŒï¼Œä¼šå¼•èµ·ä¸¢å¸§ã€‚</li></ul><h3 id="11-å¯¹ç›’æ¨¡å‹çš„ç†è§£"><a href="#11-å¯¹ç›’æ¨¡å‹çš„ç†è§£" class="headerlink" title="11. å¯¹ç›’æ¨¡å‹çš„ç†è§£"></a>11. å¯¹ç›’æ¨¡å‹çš„ç†è§£</h3><p>CSS3ä¸­çš„ç›’æ¨¡å‹æœ‰ä»¥ä¸‹ä¸¤ç§ï¼šæ ‡å‡†ç›’å­æ¨¡å‹ã€IEç›’å­æ¨¡å‹ <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221922521.webp" alt="img"> <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221922252.webp" alt="img"> ç›’æ¨¡å‹éƒ½æ˜¯ç”±å››ä¸ªéƒ¨åˆ†ç»„æˆçš„ï¼Œåˆ†åˆ«æ˜¯marginã€borderã€paddingå’Œcontentã€‚</p><p>æ ‡å‡†ç›’æ¨¡å‹å’ŒIEç›’æ¨¡å‹çš„åŒºåˆ«åœ¨äºè®¾ç½®widthå’Œheightæ—¶ï¼Œæ‰€å¯¹åº”çš„èŒƒå›´ä¸åŒï¼š</p><ul><li>æ ‡å‡†ç›’æ¨¡å‹çš„widthå’Œheightå±æ€§çš„èŒƒå›´åªåŒ…å«äº†contentï¼Œ</li><li>IEç›’æ¨¡å‹çš„widthå’Œheightå±æ€§çš„èŒƒå›´åŒ…å«äº†borderã€paddingå’Œcontentã€‚</li></ul><p>å¯ä»¥é€šè¿‡ä¿®æ”¹å…ƒç´ çš„box-sizingå±æ€§æ¥æ”¹å˜å…ƒç´ çš„ç›’æ¨¡å‹ï¼š</p><ul><li><code>box-sizeing: content-box</code>è¡¨ç¤ºæ ‡å‡†ç›’æ¨¡å‹ï¼ˆé»˜è®¤å€¼ï¼‰</li><li><code>box-sizeing: border-box</code>è¡¨ç¤ºIEç›’æ¨¡å‹ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹ï¼‰</li></ul><h3 id="12-ä¸ºä»€ä¹ˆæœ‰æ—¶å€™â½¤translateæ¥æ”¹å˜ä½ç½®â½½ä¸æ˜¯å®šä½ï¼Ÿ"><a href="#12-ä¸ºä»€ä¹ˆæœ‰æ—¶å€™â½¤translateæ¥æ”¹å˜ä½ç½®â½½ä¸æ˜¯å®šä½ï¼Ÿ" class="headerlink" title="12. ä¸ºä»€ä¹ˆæœ‰æ—¶å€™â½¤translateæ¥æ”¹å˜ä½ç½®â½½ä¸æ˜¯å®šä½ï¼Ÿ"></a>12. ä¸ºä»€ä¹ˆæœ‰æ—¶å€™â½¤<strong>translate</strong>æ¥æ”¹å˜ä½ç½®â½½ä¸æ˜¯å®šä½ï¼Ÿ</h3><p>translate æ˜¯ transform å±æ€§çš„â¼€ä¸ªå€¼ã€‚æ”¹å˜transformæˆ–opacityä¸ä¼šè§¦å‘æµè§ˆå™¨é‡æ–°å¸ƒå±€ï¼ˆreflowï¼‰æˆ–é‡ç»˜ï¼ˆrepaintï¼‰ï¼Œåªä¼šè§¦å‘å¤åˆï¼ˆcompositionsï¼‰ã€‚â½½æ”¹å˜ç»å¯¹å®šä½ä¼šè§¦å‘é‡æ–°å¸ƒå±€ï¼Œè¿›â½½è§¦å‘é‡ç»˜å’Œå¤åˆã€‚transformä½¿æµè§ˆå™¨ä¸ºå…ƒç´ åˆ›å»ºâ¼€ä¸ª GPU å›¾å±‚ï¼Œä½†æ”¹å˜ç»å¯¹å®šä½ä¼šä½¿â½¤åˆ° CPUã€‚ å› æ­¤translate()æ›´â¾¼æ•ˆï¼Œå¯ä»¥ç¼©çŸ­å¹³æ»‘åŠ¨ç”»çš„ç»˜åˆ¶æ—¶é—´ã€‚ â½½translateæ”¹å˜ä½ç½®æ—¶ï¼Œå…ƒç´ ä¾ç„¶ä¼šå æ®å…¶åŸå§‹ç©ºé—´ï¼Œç»å¯¹å®šä½å°±ä¸ä¼šå‘â½£è¿™ç§æƒ…å†µã€‚</p><h3 id="13-li-ä¸-li-ä¹‹é—´æœ‰çœ‹ä¸è§çš„ç©ºç™½é—´éš”æ˜¯ä»€ä¹ˆåŸå› å¼•èµ·çš„ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"><a href="#13-li-ä¸-li-ä¹‹é—´æœ‰çœ‹ä¸è§çš„ç©ºç™½é—´éš”æ˜¯ä»€ä¹ˆåŸå› å¼•èµ·çš„ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ" class="headerlink" title="13. li ä¸ li ä¹‹é—´æœ‰çœ‹ä¸è§çš„ç©ºç™½é—´éš”æ˜¯ä»€ä¹ˆåŸå› å¼•èµ·çš„ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"></a>13. li ä¸ li ä¹‹é—´æœ‰çœ‹ä¸è§çš„ç©ºç™½é—´éš”æ˜¯ä»€ä¹ˆåŸå› å¼•èµ·çš„ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</h3><p>æµè§ˆå™¨ä¼šæŠŠinlineå†…è”å…ƒç´ é—´çš„ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€æ¢è¡Œã€Tabç­‰ï¼‰æ¸²æŸ“æˆä¸€ä¸ªç©ºæ ¼ã€‚ä¸ºäº†ç¾è§‚ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ª<code>&lt;li&gt;</code>æ”¾åœ¨ä¸€è¡Œï¼Œè¿™å¯¼è‡´<code>&lt;li&gt;</code>æ¢è¡Œåäº§ç”Ÿæ¢è¡Œå­—ç¬¦ï¼Œå®ƒå˜æˆä¸€ä¸ªç©ºæ ¼ï¼Œå ç”¨äº†ä¸€ä¸ªå­—ç¬¦çš„å®½åº¦ã€‚</p><p><strong>è§£å†³åŠæ³•ï¼š</strong></p><p>ï¼ˆ1ï¼‰ä¸º<code>&lt;li&gt;</code>è®¾ç½®float:leftã€‚ä¸è¶³ï¼šæœ‰äº›å®¹å™¨æ˜¯ä¸èƒ½è®¾ç½®æµ®åŠ¨ï¼Œå¦‚å·¦å³åˆ‡æ¢çš„ç„¦ç‚¹å›¾ç­‰ã€‚</p><p>ï¼ˆ2ï¼‰å°†æ‰€æœ‰<code>&lt;li&gt;</code>å†™åœ¨åŒä¸€è¡Œã€‚ä¸è¶³ï¼šä»£ç ä¸ç¾è§‚ã€‚</p><p>ï¼ˆ3ï¼‰å°†<code>&lt;ul&gt;</code>å†…çš„å­—ç¬¦å°ºå¯¸ç›´æ¥è®¾ä¸º0ï¼Œå³font-size:0ã€‚ä¸è¶³ï¼š<code>&lt;ul&gt;</code>ä¸­çš„å…¶ä»–å­—ç¬¦å°ºå¯¸ä¹Ÿè¢«è®¾ä¸º0ï¼Œéœ€è¦é¢å¤–é‡æ–°è®¾å®šå…¶ä»–å­—ç¬¦å°ºå¯¸ï¼Œä¸”åœ¨Safariæµè§ˆå™¨ä¾ç„¶ä¼šå‡ºç°ç©ºç™½é—´éš”ã€‚</p><p>ï¼ˆ4ï¼‰æ¶ˆé™¤<code>&lt;ul&gt;</code>çš„å­—ç¬¦é—´éš”letter-spacing:-8pxï¼Œä¸è¶³ï¼šè¿™ä¹Ÿè®¾ç½®äº†<code>&lt;li&gt;</code>å†…çš„å­—ç¬¦é—´éš”ï¼Œå› æ­¤éœ€è¦å°†<code>&lt;li&gt;</code>å†…çš„å­—ç¬¦é—´éš”è®¾ä¸ºé»˜è®¤letter-spacing:normalã€‚</p><h3 id="14-CSS3ä¸­æœ‰å“ªäº›æ–°ç‰¹æ€§"><a href="#14-CSS3ä¸­æœ‰å“ªäº›æ–°ç‰¹æ€§" class="headerlink" title="14. CSS3ä¸­æœ‰å“ªäº›æ–°ç‰¹æ€§"></a>14. CSS3ä¸­æœ‰å“ªäº›æ–°ç‰¹æ€§</h3><ul><li>æ–°å¢å„ç§CSSé€‰æ‹©å™¨ ï¼ˆ: not(.input)ï¼šæ‰€æœ‰ class ä¸æ˜¯â€œinputâ€çš„èŠ‚ç‚¹ï¼‰</li><li>åœ†è§’ ï¼ˆborder-radius:8pxï¼‰</li><li>å¤šåˆ—å¸ƒå±€ ï¼ˆmulti-column layoutï¼‰</li><li>é˜´å½±å’Œåå°„ ï¼ˆShadoweflectï¼‰</li><li>æ–‡å­—ç‰¹æ•ˆ ï¼ˆtext-shadowï¼‰</li><li>æ–‡å­—æ¸²æŸ“ ï¼ˆText-decorationï¼‰</li><li>çº¿æ€§æ¸å˜ ï¼ˆgradientï¼‰</li><li>æ—‹è½¬ ï¼ˆtransformï¼‰</li><li>å¢åŠ äº†æ—‹è½¬,ç¼©æ”¾,å®šä½,å€¾æ–œ,åŠ¨ç”»,å¤šèƒŒæ™¯</li></ul><h3 id="15-æ›¿æ¢å…ƒç´ çš„æ¦‚å¿µåŠè®¡ç®—è§„åˆ™"><a href="#15-æ›¿æ¢å…ƒç´ çš„æ¦‚å¿µåŠè®¡ç®—è§„åˆ™" class="headerlink" title="15. æ›¿æ¢å…ƒç´ çš„æ¦‚å¿µåŠè®¡ç®—è§„åˆ™"></a>15. æ›¿æ¢å…ƒç´ çš„æ¦‚å¿µåŠè®¡ç®—è§„åˆ™</h3><p>é€šè¿‡ä¿®æ”¹æŸä¸ªå±æ€§å€¼å‘ˆç°çš„å†…å®¹å°±å¯ä»¥è¢«æ›¿æ¢çš„å…ƒç´ å°±ç§°ä¸ºâ€œæ›¿æ¢å…ƒç´ â€ã€‚</p><p>æ›¿æ¢å…ƒç´ é™¤äº†å†…å®¹å¯æ›¿æ¢è¿™ä¸€ç‰¹æ€§ä»¥å¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li><strong>å†…å®¹çš„å¤–è§‚ä¸å—é¡µé¢ä¸Šçš„CSSçš„å½±å“</strong>ï¼šç”¨ä¸“ä¸šçš„è¯è®²å°±æ˜¯åœ¨æ ·å¼è¡¨ç°åœ¨CSSä½œç”¨åŸŸä¹‹å¤–ã€‚å¦‚ä½•æ›´æ”¹æ›¿æ¢å…ƒç´ æœ¬èº«çš„å¤–è§‚éœ€è¦ç±»ä¼¼appearanceå±æ€§ï¼Œæˆ–è€…æµè§ˆå™¨è‡ªèº«æš´éœ²çš„ä¸€äº›æ ·å¼æ¥å£ã€‚</li><li><strong>æœ‰è‡ªå·±çš„å°ºå¯¸</strong>ï¼šåœ¨Webä¸­ï¼Œå¾ˆå¤šæ›¿æ¢å…ƒç´ åœ¨æ²¡æœ‰æ˜ç¡®å°ºå¯¸è®¾å®šçš„æƒ…å†µä¸‹ï¼Œå…¶é»˜è®¤çš„å°ºå¯¸ï¼ˆä¸åŒ…æ‹¬è¾¹æ¡†ï¼‰æ˜¯300åƒç´ Ã—150åƒç´ ï¼Œå¦‚</li><li><strong>åœ¨å¾ˆå¤šCSSå±æ€§ä¸Šæœ‰è‡ªå·±çš„ä¸€å¥—è¡¨ç°è§„åˆ™</strong>ï¼šæ¯”è¾ƒå…·æœ‰ä»£è¡¨æ€§çš„å°±æ˜¯vertical-alignå±æ€§ï¼Œå¯¹äºæ›¿æ¢å…ƒç´ å’Œéæ›¿æ¢å…ƒç´ ï¼Œvertical-alignå±æ€§å€¼çš„è§£é‡Šæ˜¯ä¸ä¸€æ ·çš„ã€‚æ¯”æ–¹è¯´vertical-alignçš„é»˜è®¤å€¼çš„baselineï¼Œå¾ˆç®€å•çš„å±æ€§å€¼ï¼ŒåŸºçº¿ä¹‹æ„ï¼Œè¢«å®šä¹‰ä¸ºå­—ç¬¦xçš„ä¸‹è¾¹ç¼˜ï¼Œè€Œæ›¿æ¢å…ƒç´ çš„åŸºçº¿å´è¢«ç¡¬ç”Ÿç”Ÿå®šä¹‰æˆäº†å…ƒç´ çš„ä¸‹è¾¹ç¼˜ã€‚</li><li><strong>æ‰€æœ‰çš„æ›¿æ¢å…ƒç´ éƒ½æ˜¯å†…è”æ°´å¹³å…ƒç´ </strong>ï¼šä¹Ÿå°±æ˜¯æ›¿æ¢å…ƒç´ å’Œæ›¿æ¢å…ƒç´ ã€æ›¿æ¢å…ƒç´ å’Œæ–‡å­—éƒ½æ˜¯å¯ä»¥åœ¨ä¸€è¡Œæ˜¾ç¤ºçš„ã€‚ä½†æ˜¯ï¼Œæ›¿æ¢å…ƒç´ é»˜è®¤çš„displayå€¼å´æ˜¯ä¸ä¸€æ ·çš„ï¼Œæœ‰çš„æ˜¯inlineï¼Œæœ‰çš„æ˜¯inline-blockã€‚</li></ul><p>æ›¿æ¢å…ƒç´ çš„å°ºå¯¸ä»å†…è€Œå¤–åˆ†ä¸ºä¸‰ç±»ï¼š</p><ul><li><strong>å›ºæœ‰å°ºå¯¸ï¼š</strong> æŒ‡çš„æ˜¯æ›¿æ¢å†…å®¹åŸæœ¬çš„å°ºå¯¸ã€‚ä¾‹å¦‚ï¼Œå›¾ç‰‡ã€è§†é¢‘ä½œä¸ºä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶å­˜åœ¨çš„æ—¶å€™ï¼Œéƒ½æ˜¯æœ‰ç€è‡ªå·±çš„å®½åº¦å’Œé«˜åº¦çš„ã€‚</li><li><strong>HTMLå°ºå¯¸ï¼š</strong> åªèƒ½é€šè¿‡HTMLåŸç”Ÿå±æ€§æ”¹å˜ï¼Œè¿™äº›HTMLåŸç”Ÿå±æ€§åŒ…æ‹¬çš„widthå’Œheightå±æ€§ã€çš„sizeå±æ€§ã€‚</li><li><strong>CSSå°ºå¯¸ï¼š</strong> ç‰¹æŒ‡å¯ä»¥é€šè¿‡CSSçš„widthå’Œheightæˆ–è€…max-width/min-widthå’Œmax-height/min-heightè®¾ç½®çš„å°ºå¯¸ï¼Œå¯¹åº”ç›’å°ºå¯¸ä¸­çš„content boxã€‚</li></ul><p>è¿™ä¸‰å±‚ç»“æ„çš„è®¡ç®—è§„åˆ™å…·ä½“å¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰å¦‚æœæ²¡æœ‰CSSå°ºå¯¸å’ŒHTMLå°ºå¯¸ï¼Œåˆ™ä½¿ç”¨å›ºæœ‰å°ºå¯¸ä½œä¸ºæœ€ç»ˆçš„å®½é«˜ã€‚ ï¼ˆ2ï¼‰å¦‚æœæ²¡æœ‰CSSå°ºå¯¸ï¼Œåˆ™ä½¿ç”¨HTMLå°ºå¯¸ä½œä¸ºæœ€ç»ˆçš„å®½é«˜ã€‚ ï¼ˆ3ï¼‰å¦‚æœæœ‰CSSå°ºå¯¸ï¼Œåˆ™æœ€ç»ˆå°ºå¯¸ç”±CSSå±æ€§å†³å®šã€‚ ï¼ˆ4ï¼‰å¦‚æœâ€œå›ºæœ‰å°ºå¯¸â€å«æœ‰å›ºæœ‰çš„å®½é«˜æ¯”ä¾‹ï¼ŒåŒæ—¶ä»…è®¾ç½®äº†å®½åº¦æˆ–ä»…è®¾ç½®äº†é«˜åº¦ï¼Œåˆ™å…ƒç´ ä¾ç„¶æŒ‰ç…§å›ºæœ‰çš„å®½é«˜æ¯”ä¾‹æ˜¾ç¤ºã€‚ ï¼ˆ5ï¼‰å¦‚æœä¸Šé¢çš„æ¡ä»¶éƒ½ä¸ç¬¦åˆï¼Œåˆ™æœ€ç»ˆå®½åº¦è¡¨ç°ä¸º300åƒç´ ï¼Œé«˜åº¦ä¸º150åƒç´ ã€‚ ï¼ˆ6ï¼‰å†…è”æ›¿æ¢å…ƒç´ å’Œå—çº§æ›¿æ¢å…ƒç´ ä½¿ç”¨ä¸Šé¢åŒä¸€å¥—å°ºå¯¸è®¡ç®—è§„åˆ™ã€‚</p><h3 id="16-å¸¸è§çš„å›¾ç‰‡æ ¼å¼åŠä½¿ç”¨åœºæ™¯"><a href="#16-å¸¸è§çš„å›¾ç‰‡æ ¼å¼åŠä½¿ç”¨åœºæ™¯" class="headerlink" title="16. å¸¸è§çš„å›¾ç‰‡æ ¼å¼åŠä½¿ç”¨åœºæ™¯"></a>16. å¸¸è§çš„å›¾ç‰‡æ ¼å¼åŠä½¿ç”¨åœºæ™¯</h3><p>ï¼ˆ1ï¼‰<strong>BMP</strong>ï¼Œæ˜¯æ— æŸçš„ã€æ—¢æ”¯æŒç´¢å¼•è‰²ä¹Ÿæ”¯æŒç›´æ¥è‰²çš„ç‚¹é˜µå›¾ã€‚è¿™ç§å›¾ç‰‡æ ¼å¼å‡ ä¹æ²¡æœ‰å¯¹æ•°æ®è¿›è¡Œå‹ç¼©ï¼Œæ‰€ä»¥BMPæ ¼å¼çš„å›¾ç‰‡é€šå¸¸æ˜¯è¾ƒå¤§çš„æ–‡ä»¶ã€‚</p><p>ï¼ˆ2ï¼‰<strong>GIF</strong>æ˜¯æ— æŸçš„ã€é‡‡ç”¨ç´¢å¼•è‰²çš„ç‚¹é˜µå›¾ã€‚é‡‡ç”¨LZWå‹ç¼©ç®—æ³•è¿›è¡Œç¼–ç ã€‚æ–‡ä»¶å°ï¼Œæ˜¯GIFæ ¼å¼çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶ï¼ŒGIFæ ¼å¼è¿˜å…·æœ‰æ”¯æŒåŠ¨ç”»ä»¥åŠé€æ˜çš„ä¼˜ç‚¹ã€‚ä½†æ˜¯GIFæ ¼å¼ä»…æ”¯æŒ8bitçš„ç´¢å¼•è‰²ï¼Œæ‰€ä»¥GIFæ ¼å¼é€‚ç”¨äºå¯¹è‰²å½©è¦æ±‚ä¸é«˜åŒæ—¶éœ€è¦æ–‡ä»¶ä½“ç§¯è¾ƒå°çš„åœºæ™¯ã€‚</p><p>ï¼ˆ3ï¼‰<strong>JPEG</strong>æ˜¯æœ‰æŸçš„ã€é‡‡ç”¨ç›´æ¥è‰²çš„ç‚¹é˜µå›¾ã€‚JPEGçš„å›¾ç‰‡çš„ä¼˜ç‚¹æ˜¯é‡‡ç”¨äº†ç›´æ¥è‰²ï¼Œå¾—ç›Šäºæ›´ä¸°å¯Œçš„è‰²å½©ï¼ŒJPEGéå¸¸é€‚åˆç”¨æ¥å­˜å‚¨ç…§ç‰‡ï¼Œä¸GIFç›¸æ¯”ï¼ŒJPEGä¸é€‚åˆç”¨æ¥å­˜å‚¨ä¼ä¸šLogoã€çº¿æ¡†ç±»çš„å›¾ã€‚å› ä¸ºæœ‰æŸå‹ç¼©ä¼šå¯¼è‡´å›¾ç‰‡æ¨¡ç³Šï¼Œè€Œç›´æ¥è‰²çš„é€‰ç”¨ï¼Œåˆä¼šå¯¼è‡´å›¾ç‰‡æ–‡ä»¶è¾ƒGIFæ›´å¤§ã€‚</p><p>ï¼ˆ4ï¼‰<strong>PNG-8</strong>æ˜¯æ— æŸçš„ã€ä½¿ç”¨ç´¢å¼•è‰²çš„ç‚¹é˜µå›¾ã€‚PNGæ˜¯ä¸€ç§æ¯”è¾ƒæ–°çš„å›¾ç‰‡æ ¼å¼ï¼ŒPNG-8æ˜¯éå¸¸å¥½çš„GIFæ ¼å¼æ›¿ä»£è€…ï¼Œåœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œåº”è¯¥å°½å¯èƒ½çš„ä½¿ç”¨PNG-8è€Œä¸æ˜¯GIFï¼Œå› ä¸ºåœ¨ç›¸åŒçš„å›¾ç‰‡æ•ˆæœä¸‹ï¼ŒPNG-8å…·æœ‰æ›´å°çš„æ–‡ä»¶ä½“ç§¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒPNG-8è¿˜æ”¯æŒé€æ˜åº¦çš„è°ƒèŠ‚ï¼Œè€ŒGIFå¹¶ä¸æ”¯æŒã€‚é™¤ééœ€è¦åŠ¨ç”»çš„æ”¯æŒï¼Œå¦åˆ™æ²¡æœ‰ç†ç”±ä½¿ç”¨GIFè€Œä¸æ˜¯PNG-8ã€‚</p><p>ï¼ˆ5ï¼‰<strong>PNG-24</strong>æ˜¯æ— æŸçš„ã€ä½¿ç”¨ç›´æ¥è‰²çš„ç‚¹é˜µå›¾ã€‚PNG-24çš„ä¼˜ç‚¹åœ¨äºå®ƒå‹ç¼©äº†å›¾ç‰‡çš„æ•°æ®ï¼Œä½¿å¾—åŒæ ·æ•ˆæœçš„å›¾ç‰‡ï¼ŒPNG-24æ ¼å¼çš„æ–‡ä»¶å¤§å°è¦æ¯”BMPå°å¾—å¤šã€‚å½“ç„¶ï¼ŒPNG24çš„å›¾ç‰‡è¿˜æ˜¯è¦æ¯”JPEGã€GIFã€PNG-8å¤§å¾—å¤šã€‚</p><p>ï¼ˆ6ï¼‰<strong>SVG</strong>æ˜¯æ— æŸçš„çŸ¢é‡å›¾ã€‚SVGæ˜¯çŸ¢é‡å›¾æ„å‘³ç€SVGå›¾ç‰‡ç”±ç›´çº¿å’Œæ›²çº¿ä»¥åŠç»˜åˆ¶å®ƒä»¬çš„æ–¹æ³•ç»„æˆã€‚å½“æ”¾å¤§SVGå›¾ç‰‡æ—¶ï¼Œçœ‹åˆ°çš„è¿˜æ˜¯çº¿å’Œæ›²çº¿ï¼Œè€Œä¸ä¼šå‡ºç°åƒç´ ç‚¹ã€‚SVGå›¾ç‰‡åœ¨æ”¾å¤§æ—¶ï¼Œä¸ä¼šå¤±çœŸï¼Œæ‰€ä»¥å®ƒé€‚åˆç”¨æ¥ç»˜åˆ¶Logoã€Iconç­‰ã€‚</p><p>ï¼ˆ7ï¼‰<strong>WebP</strong>æ˜¯è°·æ­Œå¼€å‘çš„ä¸€ç§æ–°å›¾ç‰‡æ ¼å¼ï¼ŒWebPæ˜¯åŒæ—¶æ”¯æŒæœ‰æŸå’Œæ— æŸå‹ç¼©çš„ã€ä½¿ç”¨ç›´æ¥è‰²çš„ç‚¹é˜µå›¾ã€‚ä»åå­—å°±å¯ä»¥çœ‹å‡ºæ¥å®ƒæ˜¯ä¸ºWebè€Œç”Ÿçš„ï¼Œä»€ä¹ˆå«ä¸ºWebè€Œç”Ÿå‘¢ï¼Ÿå°±æ˜¯è¯´ç›¸åŒè´¨é‡çš„å›¾ç‰‡ï¼ŒWebPå…·æœ‰æ›´å°çš„æ–‡ä»¶ä½“ç§¯ã€‚ç°åœ¨ç½‘ç«™ä¸Šå……æ»¡äº†å¤§é‡çš„å›¾ç‰‡ï¼Œå¦‚æœèƒ½å¤Ÿé™ä½æ¯ä¸€ä¸ªå›¾ç‰‡çš„æ–‡ä»¶å¤§å°ï¼Œé‚£ä¹ˆå°†å¤§å¤§å‡å°‘æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®ä¼ è¾“é‡ï¼Œè¿›è€Œé™ä½è®¿é—®å»¶è¿Ÿï¼Œæå‡è®¿é—®ä½“éªŒã€‚ç›®å‰åªæœ‰Chromeæµè§ˆå™¨å’ŒOperaæµè§ˆå™¨æ”¯æŒWebPæ ¼å¼ï¼Œå…¼å®¹æ€§ä¸å¤ªå¥½ã€‚</p><ul><li>åœ¨æ— æŸå‹ç¼©çš„æƒ…å†µä¸‹ï¼Œç›¸åŒè´¨é‡çš„WebPå›¾ç‰‡ï¼Œæ–‡ä»¶å¤§å°è¦æ¯”PNGå°26%ï¼›</li><li>åœ¨æœ‰æŸå‹ç¼©çš„æƒ…å†µä¸‹ï¼Œå…·æœ‰ç›¸åŒå›¾ç‰‡ç²¾åº¦çš„WebPå›¾ç‰‡ï¼Œæ–‡ä»¶å¤§å°è¦æ¯”JPEGå°25%~34%ï¼›</li><li>WebPå›¾ç‰‡æ ¼å¼æ”¯æŒå›¾ç‰‡é€æ˜åº¦ï¼Œä¸€ä¸ªæ— æŸå‹ç¼©çš„WebPå›¾ç‰‡ï¼Œå¦‚æœè¦æ”¯æŒé€æ˜åº¦åªéœ€è¦22%çš„æ ¼å¤–æ–‡ä»¶å¤§å°ã€‚</li></ul><h3 id="17-å¯¹-CSSSprites-çš„ç†è§£"><a href="#17-å¯¹-CSSSprites-çš„ç†è§£" class="headerlink" title="17. å¯¹ CSSSprites çš„ç†è§£"></a>17. å¯¹ CSSSprites çš„ç†è§£</h3><p>CSSSpritesï¼ˆç²¾çµå›¾ï¼‰ï¼Œå°†ä¸€ä¸ªé¡µé¢æ¶‰åŠåˆ°çš„æ‰€æœ‰å›¾ç‰‡éƒ½åŒ…å«åˆ°ä¸€å¼ å¤§å›¾ä¸­å»ï¼Œç„¶ååˆ©ç”¨CSSçš„ background-imageï¼Œbackground-repeatï¼Œbackground-positionå±æ€§çš„ç»„åˆè¿›è¡ŒèƒŒæ™¯å®šä½ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>åˆ©ç”¨<code>CSS Sprites</code>èƒ½å¾ˆå¥½åœ°å‡å°‘ç½‘é¡µçš„httpè¯·æ±‚ï¼Œä»è€Œå¤§å¤§æé«˜äº†é¡µé¢çš„æ€§èƒ½ï¼Œè¿™æ˜¯<code>CSS Sprites</code>æœ€å¤§çš„ä¼˜ç‚¹ï¼›</li><li><code>CSS Sprites</code>èƒ½å‡å°‘å›¾ç‰‡çš„å­—èŠ‚ï¼ŒæŠŠ3å¼ å›¾ç‰‡åˆå¹¶æˆ1å¼ å›¾ç‰‡çš„å­—èŠ‚æ€»æ˜¯å°äºè¿™3å¼ å›¾ç‰‡çš„å­—èŠ‚æ€»å’Œã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>åœ¨å›¾ç‰‡åˆå¹¶æ—¶ï¼Œè¦æŠŠå¤šå¼ å›¾ç‰‡æœ‰åºçš„ã€åˆç†çš„åˆå¹¶æˆä¸€å¼ å›¾ç‰‡ï¼Œè¿˜è¦ç•™å¥½è¶³å¤Ÿçš„ç©ºé—´ï¼Œé˜²æ­¢æ¿å—å†…å‡ºç°ä¸å¿…è¦çš„èƒŒæ™¯ã€‚åœ¨å®½å±åŠé«˜åˆ†è¾¨ç‡ä¸‹çš„è‡ªé€‚åº”é¡µé¢ï¼Œå¦‚æœèƒŒæ™¯ä¸å¤Ÿå®½ï¼Œå¾ˆå®¹æ˜“å‡ºç°èƒŒæ™¯æ–­è£‚ï¼›</li><li><code>CSSSprites</code>åœ¨å¼€å‘çš„æ—¶å€™ç›¸å¯¹æ¥è¯´æœ‰ç‚¹éº»çƒ¦ï¼Œéœ€è¦å€ŸåŠ©<code>photoshop</code>æˆ–å…¶ä»–å·¥å…·æ¥å¯¹æ¯ä¸ªèƒŒæ™¯å•å…ƒæµ‹é‡å…¶å‡†ç¡®çš„ä½ç½®ã€‚</li><li>ç»´æŠ¤æ–¹é¢ï¼š<code>CSS Sprites</code>åœ¨ç»´æŠ¤çš„æ—¶å€™æ¯”è¾ƒéº»çƒ¦ï¼Œé¡µé¢èƒŒæ™¯æœ‰å°‘è®¸æ”¹åŠ¨æ—¶ï¼Œå°±è¦æ”¹è¿™å¼ åˆå¹¶çš„å›¾ç‰‡ï¼Œæ— éœ€æ”¹çš„åœ°æ–¹å°½é‡ä¸è¦åŠ¨ï¼Œè¿™æ ·é¿å…æ”¹åŠ¨æ›´å¤šçš„<code>CSS</code>ï¼Œå¦‚æœåœ¨åŸæ¥çš„åœ°æ–¹æ”¾ä¸ä¸‹ï¼Œåˆåªèƒ½ï¼ˆæœ€å¥½ï¼‰å¾€ä¸‹åŠ å›¾ç‰‡ï¼Œè¿™æ ·å›¾ç‰‡çš„å­—èŠ‚å°±å¢åŠ äº†ï¼Œè¿˜è¦æ”¹åŠ¨<code>CSS</code>ã€‚</li></ul><h3 id="18-ä»€ä¹ˆæ˜¯ç‰©ç†åƒç´ ï¼Œé€»è¾‘åƒç´ å’Œåƒç´ å¯†åº¦ï¼Œä¸ºä»€ä¹ˆåœ¨ç§»åŠ¨ç«¯å¼€å‘æ—¶éœ€è¦ç”¨åˆ°-3x-2xè¿™ç§å›¾ç‰‡ï¼Ÿ"><a href="#18-ä»€ä¹ˆæ˜¯ç‰©ç†åƒç´ ï¼Œé€»è¾‘åƒç´ å’Œåƒç´ å¯†åº¦ï¼Œä¸ºä»€ä¹ˆåœ¨ç§»åŠ¨ç«¯å¼€å‘æ—¶éœ€è¦ç”¨åˆ°-3x-2xè¿™ç§å›¾ç‰‡ï¼Ÿ" class="headerlink" title="18. ä»€ä¹ˆæ˜¯ç‰©ç†åƒç´ ï¼Œé€»è¾‘åƒç´ å’Œåƒç´ å¯†åº¦ï¼Œä¸ºä»€ä¹ˆåœ¨ç§»åŠ¨ç«¯å¼€å‘æ—¶éœ€è¦ç”¨åˆ°@3x, @2xè¿™ç§å›¾ç‰‡ï¼Ÿ"></a>18. ä»€ä¹ˆæ˜¯ç‰©ç†åƒç´ ï¼Œé€»è¾‘åƒç´ å’Œåƒç´ å¯†åº¦ï¼Œä¸ºä»€ä¹ˆåœ¨ç§»åŠ¨ç«¯å¼€å‘æ—¶éœ€è¦ç”¨åˆ°@3x, @2xè¿™ç§å›¾ç‰‡ï¼Ÿ</h3><p>ä»¥ iPhone XS ä¸ºä¾‹ï¼Œå½“å†™ CSS ä»£ç æ—¶ï¼Œé’ˆå¯¹äºå•ä½ pxï¼Œå…¶å®½åº¦ä¸º 414px &amp; 896pxï¼Œä¹Ÿå°±æ˜¯è¯´å½“èµ‹äºˆä¸€ä¸ª DIVå…ƒç´ å®½åº¦ä¸º 414pxï¼Œè¿™ä¸ª DIV å°±ä¼šå¡«æ»¡æ‰‹æœºçš„å®½åº¦ï¼›</p><p>è€Œå¦‚æœæœ‰ä¸€æŠŠå°ºå­æ¥å®é™…æµ‹é‡è¿™éƒ¨æ‰‹æœºçš„ç‰©ç†åƒç´ ï¼Œå®é™…ä¸º 1242*2688 ç‰©ç†åƒç´ ï¼›ç»è¿‡è®¡ç®—å¯çŸ¥ï¼Œ1242/414=3ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å•è¾¹ä¸Šï¼Œä¸€ä¸ªé€»è¾‘åƒç´ =3ä¸ªç‰©ç†åƒç´ ï¼Œå°±è¯´è¿™ä¸ªå±å¹•çš„åƒç´ å¯†åº¦ä¸º 3ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„ 3 å€å±ã€‚</p><p>å¯¹äºå›¾ç‰‡æ¥è¯´ï¼Œä¸ºäº†ä¿è¯å…¶ä¸å¤±çœŸï¼Œ1 ä¸ªå›¾ç‰‡åƒç´ è‡³å°‘è¦å¯¹åº”ä¸€ä¸ªç‰©ç†åƒç´ ï¼Œå‡å¦‚åŸå§‹å›¾ç‰‡æ˜¯ 500300 åƒç´ ï¼Œé‚£ä¹ˆåœ¨ 3 å€å±ä¸Šå°±è¦æ”¾ä¸€ä¸ª 1500900 åƒç´ çš„å›¾ç‰‡æ‰èƒ½ä¿è¯ 1 ä¸ªç‰©ç†åƒç´ è‡³å°‘å¯¹åº”ä¸€ä¸ªå›¾ç‰‡åƒç´ ï¼Œæ‰èƒ½ä¸å¤±çœŸã€‚ <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221922062.webp" alt="img"> å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹æ‰€æœ‰å±å¹•ï¼Œéƒ½åªæä¾›æœ€é«˜æ¸…å›¾ç‰‡ã€‚è™½ç„¶ä½å¯†åº¦å±å¹•ç”¨ä¸åˆ°é‚£ä¹ˆå¤šå›¾ç‰‡åƒç´ ï¼Œè€Œä¸”ä¼šå› ä¸ºä¸‹è½½å¤šä½™çš„åƒç´ é€ æˆå¸¦å®½æµªè´¹å’Œä¸‹è½½å»¶è¿Ÿï¼Œä½†ä»ç»“æœä¸Šè¯´èƒ½ä¿è¯å›¾ç‰‡åœ¨æ‰€æœ‰å±å¹•ä¸Šéƒ½ä¸ä¼šå¤±çœŸã€‚</p><p>è¿˜å¯ä»¥ä½¿ç”¨ CSS åª’ä½“æŸ¥è¯¢æ¥åˆ¤æ–­ä¸åŒçš„åƒç´ å¯†åº¦ï¼Œä»è€Œé€‰æ‹©ä¸åŒçš„å›¾ç‰‡:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">my-image &#123; <span class="attr">background</span>: (low.png); &#125;</span><br><span class="line">@media only screen and (min-device-pixel-ratio: <span class="number">1.5</span>) &#123;</span><br><span class="line">  #my-image &#123; <span class="attr">background</span>: (high.png); &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="19-margin-å’Œ-padding-çš„ä½¿ç”¨åœºæ™¯"><a href="#19-margin-å’Œ-padding-çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="19. margin å’Œ padding çš„ä½¿ç”¨åœºæ™¯"></a>19. <strong>margin å’Œ padding çš„ä½¿ç”¨åœºæ™¯</strong></h3><ul><li>éœ€è¦åœ¨borderå¤–ä¾§æ·»åŠ ç©ºç™½ï¼Œä¸”ç©ºç™½å¤„ä¸éœ€è¦èƒŒæ™¯ï¼ˆè‰²ï¼‰æ—¶ï¼Œä½¿ç”¨ marginï¼›</li><li>éœ€è¦åœ¨borderå†…æµ‹æ·»åŠ ç©ºç™½ï¼Œä¸”ç©ºç™½å¤„éœ€è¦èƒŒæ™¯ï¼ˆè‰²ï¼‰æ—¶ï¼Œä½¿ç”¨ paddingã€‚</li></ul><h3 id="20-å¯¹line-height-çš„ç†è§£åŠå…¶èµ‹å€¼æ–¹å¼"><a href="#20-å¯¹line-height-çš„ç†è§£åŠå…¶èµ‹å€¼æ–¹å¼" class="headerlink" title="20. å¯¹line-height çš„ç†è§£åŠå…¶èµ‹å€¼æ–¹å¼"></a>20. å¯¹<strong>line-height çš„ç†è§£åŠå…¶èµ‹å€¼æ–¹å¼</strong></h3><p><strong>ï¼ˆ1ï¼‰line-heightçš„æ¦‚å¿µï¼š</strong></p><ul><li>line-height æŒ‡ä¸€è¡Œæ–‡æœ¬çš„é«˜åº¦ï¼ŒåŒ…å«äº†å­—é—´è·ï¼Œå®é™…ä¸Šæ˜¯ä¸‹ä¸€è¡ŒåŸºçº¿åˆ°ä¸Šä¸€è¡ŒåŸºçº¿è·ç¦»ï¼›</li><li>å¦‚æœä¸€ä¸ªæ ‡ç­¾æ²¡æœ‰å®šä¹‰ height å±æ€§ï¼Œé‚£ä¹ˆå…¶æœ€ç»ˆè¡¨ç°çš„é«˜åº¦ç”± line-height å†³å®šï¼›</li><li>ä¸€ä¸ªå®¹å™¨æ²¡æœ‰è®¾ç½®é«˜åº¦ï¼Œé‚£ä¹ˆæ’‘å¼€å®¹å™¨é«˜åº¦çš„æ˜¯ line-heightï¼Œè€Œä¸æ˜¯å®¹å™¨å†…çš„æ–‡æœ¬å†…å®¹ï¼›</li><li>æŠŠ line-height å€¼è®¾ç½®ä¸º height ä¸€æ ·å¤§å°çš„å€¼å¯ä»¥å®ç°å•è¡Œæ–‡å­—çš„å‚ç›´å±…ä¸­ï¼›</li><li>line-height å’Œ height éƒ½èƒ½æ’‘å¼€ä¸€ä¸ªé«˜åº¦ï¼›</li></ul><p><strong>ï¼ˆ2ï¼‰line-height çš„èµ‹å€¼æ–¹å¼ï¼š</strong></p><ul><li>å¸¦å•ä½ï¼špx æ˜¯å›ºå®šå€¼ï¼Œè€Œ em ä¼šå‚è€ƒçˆ¶å…ƒç´  font-size å€¼è®¡ç®—è‡ªèº«çš„è¡Œé«˜</li><li>çº¯æ•°å­—ï¼šä¼šæŠŠæ¯”ä¾‹ä¼ é€’ç»™åä»£ã€‚ä¾‹å¦‚ï¼Œçˆ¶çº§è¡Œé«˜ä¸º 1.5ï¼Œå­å…ƒç´ å­—ä½“ä¸º 18pxï¼Œåˆ™å­å…ƒç´ è¡Œé«˜ä¸º 1.5 * 18 = 27px</li><li>ç™¾åˆ†æ¯”ï¼šå°†è®¡ç®—åçš„å€¼ä¼ é€’ç»™åä»£</li></ul><h3 id="21-CSS-ä¼˜åŒ–å’Œæé«˜æ€§èƒ½çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ"><a href="#21-CSS-ä¼˜åŒ–å’Œæé«˜æ€§èƒ½çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="21. CSS ä¼˜åŒ–å’Œæé«˜æ€§èƒ½çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ"></a>21. CSS ä¼˜åŒ–å’Œæé«˜æ€§èƒ½çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</h3><p><strong>åŠ è½½æ€§èƒ½ï¼š</strong></p><p>ï¼ˆ1ï¼‰csså‹ç¼©ï¼šå°†å†™å¥½çš„cssè¿›è¡Œæ‰“åŒ…å‹ç¼©ï¼Œå¯ä»¥å‡å°æ–‡ä»¶ä½“ç§¯ã€‚</p><p>ï¼ˆ2ï¼‰csså•ä¸€æ ·å¼ï¼šå½“éœ€è¦ä¸‹è¾¹è·å’Œå·¦è¾¹è·çš„æ—¶å€™ï¼Œå¾ˆå¤šæ—¶å€™ä¼šé€‰æ‹©ä½¿ç”¨ margin:top 0 bottom 0ï¼›ä½†margin-bottom:bottom;margin-left:left;æ‰§è¡Œæ•ˆç‡ä¼šæ›´é«˜ã€‚</p><p>ï¼ˆ3ï¼‰å‡å°‘ä½¿ç”¨@importï¼Œå»ºè®®ä½¿ç”¨linkï¼Œå› ä¸ºåè€…åœ¨é¡µé¢åŠ è½½æ—¶ä¸€èµ·åŠ è½½ï¼Œå‰è€…æ˜¯ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆä¹‹åå†è¿›è¡ŒåŠ è½½ã€‚</p><p><strong>é€‰æ‹©å™¨æ€§èƒ½ï¼š</strong></p><p>ï¼ˆ1ï¼‰å…³é”®é€‰æ‹©å™¨ï¼ˆkey selectorï¼‰ã€‚é€‰æ‹©å™¨çš„æœ€åé¢çš„éƒ¨åˆ†ä¸ºå…³é”®é€‰æ‹©å™¨ï¼ˆå³ç”¨æ¥åŒ¹é…ç›®æ ‡å…ƒç´ çš„éƒ¨åˆ†ï¼‰ã€‚CSSé€‰æ‹©ç¬¦æ˜¯ä»å³åˆ°å·¦è¿›è¡ŒåŒ¹é…çš„ã€‚å½“ä½¿ç”¨åä»£é€‰æ‹©å™¨çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šéå†æ‰€æœ‰å­å…ƒç´ æ¥ç¡®å®šæ˜¯å¦æ˜¯æŒ‡å®šçš„å…ƒç´ ç­‰ç­‰ï¼›</p><p>ï¼ˆ2ï¼‰å¦‚æœè§„åˆ™æ‹¥æœ‰IDé€‰æ‹©å™¨ä½œä¸ºå…¶å…³é”®é€‰æ‹©å™¨ï¼Œåˆ™ä¸è¦ä¸ºè§„åˆ™å¢åŠ æ ‡ç­¾ã€‚è¿‡æ»¤æ‰æ— å…³çš„è§„åˆ™ï¼ˆè¿™æ ·æ ·å¼ç³»ç»Ÿå°±ä¸ä¼šæµªè´¹æ—¶é—´å»åŒ¹é…å®ƒä»¬äº†ï¼‰ã€‚</p><p>ï¼ˆ3ï¼‰é¿å…ä½¿ç”¨é€šé…è§„åˆ™ï¼Œå¦‚*{}è®¡ç®—æ¬¡æ•°æƒŠäººï¼Œåªå¯¹éœ€è¦ç”¨åˆ°çš„å…ƒç´ è¿›è¡Œé€‰æ‹©ã€‚</p><p>ï¼ˆ4ï¼‰å°½é‡å°‘çš„å»å¯¹æ ‡ç­¾è¿›è¡Œé€‰æ‹©ï¼Œè€Œæ˜¯ç”¨classã€‚</p><p>ï¼ˆ5ï¼‰å°½é‡å°‘çš„å»ä½¿ç”¨åä»£é€‰æ‹©å™¨ï¼Œé™ä½é€‰æ‹©å™¨çš„æƒé‡å€¼ã€‚åä»£é€‰æ‹©å™¨çš„å¼€é”€æ˜¯æœ€é«˜çš„ï¼Œå°½é‡å°†é€‰æ‹©å™¨çš„æ·±åº¦é™åˆ°æœ€ä½ï¼Œæœ€é«˜ä¸è¦è¶…è¿‡ä¸‰å±‚ï¼Œæ›´å¤šçš„ä½¿ç”¨ç±»æ¥å…³è”æ¯ä¸€ä¸ªæ ‡ç­¾å…ƒç´ ã€‚</p><p>ï¼ˆ6ï¼‰äº†è§£å“ªäº›å±æ€§æ˜¯å¯ä»¥é€šè¿‡ç»§æ‰¿è€Œæ¥çš„ï¼Œç„¶åé¿å…å¯¹è¿™äº›å±æ€§é‡å¤æŒ‡å®šè§„åˆ™ã€‚</p><p><strong>æ¸²æŸ“æ€§èƒ½ï¼š</strong></p><p>ï¼ˆ1ï¼‰æ…é‡ä½¿ç”¨é«˜æ€§èƒ½å±æ€§ï¼šæµ®åŠ¨ã€å®šä½ã€‚</p><p>ï¼ˆ2ï¼‰å°½é‡å‡å°‘é¡µé¢é‡æ’ã€é‡ç»˜ã€‚</p><p>ï¼ˆ3ï¼‰å»é™¤ç©ºè§„åˆ™ï¼šï½›ï½ã€‚ç©ºè§„åˆ™çš„äº§ç”ŸåŸå› ä¸€èˆ¬æ¥è¯´æ˜¯ä¸ºäº†é¢„ç•™æ ·å¼ã€‚å»é™¤è¿™äº›ç©ºè§„åˆ™æ— ç–‘èƒ½å‡å°‘cssæ–‡æ¡£ä½“ç§¯ã€‚</p><p>ï¼ˆ4ï¼‰å±æ€§å€¼ä¸º0æ—¶ï¼Œä¸åŠ å•ä½ã€‚</p><p>ï¼ˆ5ï¼‰å±æ€§å€¼ä¸ºæµ®åŠ¨å°æ•°0.**ï¼Œå¯ä»¥çœç•¥å°æ•°ç‚¹ä¹‹å‰çš„0ã€‚</p><p>ï¼ˆ6ï¼‰æ ‡å‡†åŒ–å„ç§æµè§ˆå™¨å‰ç¼€ï¼šå¸¦æµè§ˆå™¨å‰ç¼€çš„åœ¨å‰ã€‚æ ‡å‡†å±æ€§åœ¨åã€‚</p><p>ï¼ˆ7ï¼‰ä¸ä½¿ç”¨@importå‰ç¼€ï¼Œå®ƒä¼šå½±å“cssçš„åŠ è½½é€Ÿåº¦ã€‚</p><p>ï¼ˆ8ï¼‰é€‰æ‹©å™¨ä¼˜åŒ–åµŒå¥—ï¼Œå°½é‡é¿å…å±‚çº§è¿‡æ·±ã€‚</p><p>ï¼ˆ9ï¼‰cssé›ªç¢§å›¾ï¼ŒåŒä¸€é¡µé¢ç›¸è¿‘éƒ¨åˆ†çš„å°å›¾æ ‡ï¼Œæ–¹ä¾¿ä½¿ç”¨ï¼Œå‡å°‘é¡µé¢çš„è¯·æ±‚æ¬¡æ•°ï¼Œä½†æ˜¯åŒæ—¶å›¾ç‰‡æœ¬èº«ä¼šå˜å¤§ï¼Œä½¿ç”¨æ—¶ï¼Œä¼˜åŠ£è€ƒè™‘æ¸…æ¥šï¼Œå†ä½¿ç”¨ã€‚</p><p>ï¼ˆ10ï¼‰æ­£ç¡®ä½¿ç”¨displayçš„å±æ€§ï¼Œç”±äºdisplayçš„ä½œç”¨ï¼ŒæŸäº›æ ·å¼ç»„åˆä¼šæ— æ•ˆï¼Œå¾’å¢æ ·å¼ä½“ç§¯çš„åŒæ—¶ä¹Ÿå½±å“è§£ææ€§èƒ½ã€‚</p><p>ï¼ˆ11ï¼‰ä¸æ»¥ç”¨webå­—ä½“ã€‚å¯¹äºä¸­æ–‡ç½‘ç«™æ¥è¯´WebFontså¯èƒ½å¾ˆé™Œç”Ÿï¼Œå›½å¤–å´å¾ˆæµè¡Œã€‚web fontsé€šå¸¸ä½“ç§¯åºå¤§ï¼Œè€Œä¸”ä¸€äº›æµè§ˆå™¨åœ¨ä¸‹è½½web fontsæ—¶ä¼šé˜»å¡é¡µé¢æ¸²æŸ“æŸä¼¤æ€§èƒ½ã€‚</p><p><strong>å¯ç»´æŠ¤æ€§ã€å¥å£®æ€§ï¼š</strong></p><p>ï¼ˆ1ï¼‰å°†å…·æœ‰ç›¸åŒå±æ€§çš„æ ·å¼æŠ½ç¦»å‡ºæ¥ï¼Œæ•´åˆå¹¶é€šè¿‡classåœ¨é¡µé¢ä¸­è¿›è¡Œä½¿ç”¨ï¼Œæé«˜cssçš„å¯ç»´æŠ¤æ€§ã€‚</p><p>ï¼ˆ2ï¼‰æ ·å¼ä¸å†…å®¹åˆ†ç¦»ï¼šå°†cssä»£ç å®šä¹‰åˆ°å¤–éƒ¨cssä¸­ã€‚</p><h3 id="22-CSSé¢„å¤„ç†å™¨-åå¤„ç†å™¨æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒä»¬ï¼Ÿ"><a href="#22-CSSé¢„å¤„ç†å™¨-åå¤„ç†å™¨æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒä»¬ï¼Ÿ" class="headerlink" title="22. CSSé¢„å¤„ç†å™¨/åå¤„ç†å™¨æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒä»¬ï¼Ÿ"></a>22. CSSé¢„å¤„ç†å™¨/åå¤„ç†å™¨æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒä»¬ï¼Ÿ</h3><p><strong>é¢„å¤„ç†å™¨ï¼Œ</strong> å¦‚ï¼š<code>less</code>ï¼Œ<code>sass</code>ï¼Œ<code>stylus</code>ï¼Œç”¨æ¥é¢„ç¼–è¯‘<code>sass</code>æˆ–è€…<code>less</code>ï¼Œå¢åŠ äº†<code>css</code>ä»£ç çš„å¤ç”¨æ€§ã€‚å±‚çº§ï¼Œ<code>mixin</code>ï¼Œ å˜é‡ï¼Œå¾ªç¯ï¼Œ å‡½æ•°ç­‰å¯¹ç¼–å†™ä»¥åŠå¼€å‘UIç»„ä»¶éƒ½æä¸ºæ–¹ä¾¿ã€‚</p><p><strong>åå¤„ç†å™¨ï¼Œ</strong> å¦‚ï¼š <code>postCss</code>ï¼Œé€šå¸¸æ˜¯åœ¨å®Œæˆçš„æ ·å¼è¡¨ä¸­æ ¹æ®<code>css</code>è§„èŒƒå¤„ç†<code>css</code>ï¼Œè®©å…¶æ›´åŠ æœ‰æ•ˆã€‚ç›®å‰æœ€å¸¸åšçš„æ˜¯ç»™<code>css</code>å±æ€§æ·»åŠ æµè§ˆå™¨ç§æœ‰å‰ç¼€ï¼Œå®ç°è·¨æµè§ˆå™¨å…¼å®¹æ€§çš„é—®é¢˜ã€‚</p><p><code>css</code>é¢„å¤„ç†å™¨ä¸º<code>css</code>å¢åŠ ä¸€äº›ç¼–ç¨‹ç‰¹æ€§ï¼Œæ— éœ€è€ƒè™‘æµè§ˆå™¨çš„å…¼å®¹é—®é¢˜ï¼Œå¯ä»¥åœ¨<code>CSS</code>ä¸­ä½¿ç”¨å˜é‡ï¼Œç®€å•çš„é€»è¾‘ç¨‹åºï¼Œå‡½æ•°ç­‰åœ¨ç¼–ç¨‹è¯­è¨€ä¸­çš„ä¸€äº›åŸºæœ¬çš„æ€§èƒ½ï¼Œå¯ä»¥è®©<code>css</code>æ›´åŠ çš„ç®€æ´ï¼Œå¢åŠ é€‚åº”æ€§ä»¥åŠå¯è¯»æ€§ï¼Œå¯ç»´æŠ¤æ€§ç­‰ã€‚</p><p>å…¶å®ƒ<code>css</code>é¢„å¤„ç†å™¨è¯­è¨€ï¼š<code>Sassï¼ˆScssï¼‰</code>, <code>Less</code>, <code>Stylus</code>, <code>Turbine</code>, <code>Swithch css</code>, <code>CSS Cacheer</code>, <code>DT Css</code>ã€‚</p><p>ä½¿ç”¨åŸå› ï¼š</p><ul><li>ç»“æ„æ¸…æ™°ï¼Œ ä¾¿äºæ‰©å±•</li><li>å¯ä»¥å¾ˆæ–¹ä¾¿çš„å±è”½æµè§ˆå™¨ç§æœ‰è¯­æ³•çš„å·®å¼‚</li><li>å¯ä»¥è½»æ¾å®ç°å¤šé‡ç»§æ‰¿</li><li>å®Œç¾çš„å…¼å®¹äº†<code>CSS</code>ä»£ç ï¼Œå¯ä»¥åº”ç”¨åˆ°è€é¡¹ç›®ä¸­</li></ul><h3 id="23-before-å’Œ-after-çš„åŒå†’å·å’Œå•å†’å·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#23-before-å’Œ-after-çš„åŒå†’å·å’Œå•å†’å·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="23. ::before å’Œ :after çš„åŒå†’å·å’Œå•å†’å·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>23. ::before å’Œ :after çš„åŒå†’å·å’Œå•å†’å·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>ï¼ˆ1ï¼‰å†’å·(<code>:</code>)ç”¨äº<code>CSS3</code>ä¼ªç±»ï¼ŒåŒå†’å·(<code>::</code>)ç”¨äº<code>CSS3</code>ä¼ªå…ƒç´ ã€‚ ï¼ˆ2ï¼‰<code>::before</code>å°±æ˜¯ä»¥ä¸€ä¸ªå­å…ƒç´ çš„å­˜åœ¨ï¼Œå®šä¹‰åœ¨å…ƒç´ ä¸»ä½“å†…å®¹ä¹‹å‰çš„ä¸€ä¸ªä¼ªå…ƒç´ ã€‚å¹¶ä¸å­˜åœ¨äº<code>dom</code>ä¹‹ä¸­ï¼Œåªå­˜åœ¨åœ¨é¡µé¢ä¹‹ä¸­ã€‚</p><p><strong>æ³¨æ„ï¼š</strong> <code>:before </code>å’Œ <code>:after</code> è¿™ä¸¤ä¸ªä¼ªå…ƒç´ ï¼Œæ˜¯åœ¨<code>CSS2.1</code>é‡Œæ–°å‡ºç°çš„ã€‚èµ·åˆï¼Œä¼ªå…ƒç´ çš„å‰ç¼€ä½¿ç”¨çš„æ˜¯å•å†’å·è¯­æ³•ï¼Œä½†éšç€<code>Web</code>çš„è¿›åŒ–ï¼Œåœ¨<code>CSS3</code>çš„è§„èŒƒé‡Œï¼Œä¼ªå…ƒç´ çš„è¯­æ³•è¢«ä¿®æ”¹æˆä½¿ç”¨åŒå†’å·ï¼Œæˆä¸º<code>::before</code>ã€<code>::after</code>ã€‚</p><h3 id="24-display-inline-block-ä»€ä¹ˆæ—¶å€™ä¼šæ˜¾ç¤ºé—´éš™ï¼Ÿ"><a href="#24-display-inline-block-ä»€ä¹ˆæ—¶å€™ä¼šæ˜¾ç¤ºé—´éš™ï¼Ÿ" class="headerlink" title="24. display:inline-block ä»€ä¹ˆæ—¶å€™ä¼šæ˜¾ç¤ºé—´éš™ï¼Ÿ"></a>24. display:inline-block ä»€ä¹ˆæ—¶å€™ä¼šæ˜¾ç¤ºé—´éš™ï¼Ÿ</h3><ul><li>æœ‰ç©ºæ ¼æ—¶ä¼šæœ‰é—´éš™ï¼Œå¯ä»¥åˆ é™¤ç©ºæ ¼è§£å†³ï¼›</li><li><code>margin</code>æ­£å€¼æ—¶ï¼Œå¯ä»¥è®©<code>margin</code>ä½¿ç”¨è´Ÿå€¼è§£å†³ï¼›</li><li>ä½¿ç”¨<code>font-size</code>æ—¶ï¼Œå¯é€šè¿‡è®¾ç½®<code>font-size:0</code>ã€<code>letter-spacing</code>ã€<code>word-spacing</code>è§£å†³ï¼›</li></ul><h3 id="25-å•è¡Œã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºéšè—"><a href="#25-å•è¡Œã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºéšè—" class="headerlink" title="25. å•è¡Œã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºéšè—"></a>25. å•è¡Œã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºéšè—</h3><ul><li>å•è¡Œæ–‡æœ¬æº¢å‡º</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">overflow</span>: hidden;            // æº¢å‡ºéšè—</span><br><span class="line"><span class="attribute">text-overflow</span>: ellipsis;      // æº¢å‡ºç”¨çœç•¥å·æ˜¾ç¤º</span><br><span class="line"><span class="attribute">white-space</span>: nowrap;         // è§„å®šæ®µè½ä¸­çš„æ–‡æœ¬ä¸è¿›è¡Œæ¢è¡Œ</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>å¤šè¡Œæ–‡æœ¬æº¢å‡º</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">overflow</span>: hidden;            // æº¢å‡ºéšè—</span><br><span class="line"><span class="attribute">text-overflow</span>: ellipsis;     // æº¢å‡ºç”¨çœç•¥å·æ˜¾ç¤º</span><br><span class="line"><span class="attribute">display</span>:-webkit-box;         // ä½œä¸ºå¼¹æ€§ä¼¸ç¼©ç›’å­æ¨¡å‹æ˜¾ç¤ºã€‚</span><br><span class="line">-webkit-box-orient:vertical; // è®¾ç½®ä¼¸ç¼©ç›’å­çš„å­å…ƒç´ æ’åˆ—æ–¹å¼ï¼šä»ä¸Šåˆ°ä¸‹å‚ç›´æ’åˆ—</span><br><span class="line">-webkit-line-clamp:<span class="number">3</span>;        // æ˜¾ç¤ºçš„è¡Œæ•°</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šç”±äºä¸Šé¢çš„ä¸‰ä¸ªå±æ€§éƒ½æ˜¯ CSS3 çš„å±æ€§ï¼Œæ²¡æœ‰æµè§ˆå™¨å¯ä»¥å…¼å®¹ï¼Œæ‰€ä»¥è¦åœ¨å‰é¢åŠ ä¸€ä¸ª<code>-webkit-</code> æ¥å…¼å®¹ä¸€éƒ¨åˆ†æµè§ˆå™¨ã€‚</p><h3 id="26-Sassã€Less-æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨ä»–ä»¬ï¼Ÿ"><a href="#26-Sassã€Less-æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨ä»–ä»¬ï¼Ÿ" class="headerlink" title="26. Sassã€Less æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨ä»–ä»¬ï¼Ÿ"></a>26. Sassã€Less æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨ä»–ä»¬ï¼Ÿ</h3><p>ä»–ä»¬éƒ½æ˜¯ CSS é¢„å¤„ç†å™¨ï¼Œæ˜¯ CSS ä¸Šçš„ä¸€ç§æŠ½è±¡å±‚ã€‚ä»–ä»¬æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•/è¯­è¨€ç¼–è¯‘æˆ CSSã€‚ ä¾‹å¦‚ Less æ˜¯ä¸€ç§åŠ¨æ€æ ·å¼è¯­è¨€ï¼Œå°† CSS èµ‹äºˆäº†åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ï¼Œå¦‚å˜é‡ï¼Œç»§æ‰¿ï¼Œè¿ç®—ï¼Œ å‡½æ•°ï¼ŒLESS æ—¢å¯ä»¥åœ¨å®¢æˆ·ç«¯ä¸Šè¿è¡Œ (æ”¯æŒ IE 6+, Webkit, Firefox)ï¼Œä¹Ÿå¯ä»¥åœ¨æœåŠ¡ç«¯è¿è¡Œ (å€ŸåŠ© Node.js)ã€‚</p><p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒä»¬ï¼Ÿ</strong></p><ul><li>ç»“æ„æ¸…æ™°ï¼Œä¾¿äºæ‰©å±•ã€‚ å¯ä»¥æ–¹ä¾¿åœ°å±è”½æµè§ˆå™¨ç§æœ‰è¯­æ³•å·®å¼‚ã€‚å°è£…å¯¹æµè§ˆå™¨è¯­æ³•å·®å¼‚çš„é‡å¤å¤„ç†ï¼Œ å‡å°‘æ— æ„ä¹‰çš„æœºæ¢°åŠ³åŠ¨ã€‚</li><li>å¯ä»¥è½»æ¾å®ç°å¤šé‡ç»§æ‰¿ã€‚ å®Œå…¨å…¼å®¹ CSS ä»£ç ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åº”ç”¨åˆ°è€é¡¹ç›®ä¸­ã€‚LESS åªæ˜¯åœ¨ CSS è¯­æ³•ä¸Šåšäº†æ‰©å±•ï¼Œæ‰€ä»¥è€çš„ CSS ä»£ç ä¹Ÿå¯ä»¥ä¸ LESS ä»£ç ä¸€åŒç¼–è¯‘ã€‚</li></ul><h3 id="27-å¯¹åª’ä½“æŸ¥è¯¢çš„ç†è§£ï¼Ÿ"><a href="#27-å¯¹åª’ä½“æŸ¥è¯¢çš„ç†è§£ï¼Ÿ" class="headerlink" title="27. å¯¹åª’ä½“æŸ¥è¯¢çš„ç†è§£ï¼Ÿ"></a>27. å¯¹åª’ä½“æŸ¥è¯¢çš„ç†è§£ï¼Ÿ</h3><p>åª’ä½“æŸ¥è¯¢ç”±â¼€ä¸ªå¯é€‰çš„åª’ä½“ç±»å‹å’Œé›¶ä¸ªæˆ–å¤šä¸ªä½¿â½¤åª’ä½“åŠŸèƒ½çš„é™åˆ¶äº†æ ·å¼è¡¨èŒƒå›´çš„è¡¨è¾¾å¼ç»„æˆï¼Œä¾‹å¦‚å®½åº¦ã€â¾¼åº¦å’Œé¢œâ¾Šã€‚åª’ä½“æŸ¥è¯¢ï¼Œæ·»åŠ â¾ƒCSS3ï¼Œå…è®¸å†…å®¹çš„å‘ˆç°é’ˆå¯¹â¼€ä¸ªç‰¹å®šèŒƒå›´çš„è¾“å‡ºè®¾å¤‡â½½è¿›â¾è£å‰ªï¼Œâ½½ä¸å¿…æ”¹å˜å†…å®¹æœ¬èº«ï¼Œé€‚åˆwebâ½¹â»šåº”å¯¹ä¸åŒå‹å·çš„è®¾å¤‡â½½åšå‡ºå¯¹åº”çš„å“åº”é€‚é…ã€‚</p><p>åª’ä½“æŸ¥è¯¢åŒ…å«â¼€ä¸ªå¯é€‰çš„åª’ä½“ç±»å‹å’Œæ»¡â¾œCSS3è§„èŒƒçš„æ¡ä»¶ä¸‹ï¼ŒåŒ…å«é›¶ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ï¼Œè¿™äº›è¡¨è¾¾å¼æè¿°äº†åª’ä½“ç‰¹å¾ï¼Œæœ€ç»ˆä¼šè¢«è§£æä¸ºtrueæˆ–falseã€‚å¦‚æœåª’ä½“æŸ¥è¯¢ä¸­æŒ‡å®šçš„åª’ä½“ç±»å‹åŒ¹é…å±•ç¤ºâ½‚æ¡£æ‰€ä½¿â½¤çš„è®¾å¤‡ç±»å‹ï¼Œå¹¶ä¸”æ‰€æœ‰çš„è¡¨è¾¾å¼çš„å€¼éƒ½æ˜¯trueï¼Œé‚£ä¹ˆè¯¥åª’ä½“æŸ¥è¯¢çš„ç»“æœä¸ºtrueã€‚é‚£ä¹ˆåª’ä½“æŸ¥è¯¢å†…çš„æ ·å¼å°†ä¼šâ½£æ•ˆã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- linkå…ƒç´ ä¸­çš„CSSåª’ä½“æŸ¥è¯¢ --&gt; </span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">media</span>=<span class="string">&quot;(max-width: 800px)&quot;</span> <span class="attr">href</span>=<span class="string">&quot;example.css&quot;</span> /&gt;</span></span> </span><br><span class="line">&lt;!-- æ ·å¼è¡¨ä¸­çš„CSSåª’ä½“æŸ¥è¯¢ --&gt; </span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"> </span></span></span><br><span class="line"><span class="css"><span class="xml"><span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">600px</span>) &#123; </span></span></span><br><span class="line"><span class="css"><span class="xml">  <span class="selector-class">.facet_sidebar</span> &#123; </span></span></span><br><span class="line"><span class="css"><span class="xml">    <span class="attribute">display</span>: none; </span></span></span><br><span class="line"><span class="css"><span class="xml">  &#125; </span></span></span><br><span class="line"><span class="css"><span class="xml">&#125;</span></span></span><br><span class="line"><span class="css"><span class="xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç®€å•æ¥è¯´ï¼Œä½¿ç”¨ @media æŸ¥è¯¢ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒçš„åª’ä½“ç±»å‹å®šä¹‰ä¸åŒçš„æ ·å¼ã€‚@media å¯ä»¥é’ˆå¯¹ä¸åŒçš„å±å¹•å°ºå¯¸è®¾ç½®ä¸åŒçš„æ ·å¼ï¼Œç‰¹åˆ«æ˜¯éœ€è¦è®¾ç½®è®¾è®¡å“åº”å¼çš„é¡µé¢ï¼Œ@media æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚å½“é‡ç½®æµè§ˆå™¨å¤§å°çš„è¿‡ç¨‹ä¸­ï¼Œé¡µé¢ä¹Ÿä¼šæ ¹æ®æµè§ˆå™¨çš„å®½åº¦å’Œé«˜åº¦é‡æ–°æ¸²æŸ“é¡µé¢ã€‚</p><h3 id="28-å¯¹-CSS-å·¥ç¨‹åŒ–çš„ç†è§£"><a href="#28-å¯¹-CSS-å·¥ç¨‹åŒ–çš„ç†è§£" class="headerlink" title="28. å¯¹ CSS å·¥ç¨‹åŒ–çš„ç†è§£"></a>28. å¯¹ CSS å·¥ç¨‹åŒ–çš„ç†è§£</h3><p>CSS å·¥ç¨‹åŒ–æ˜¯ä¸ºäº†è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</p><ol><li><strong>å®è§‚è®¾è®¡</strong>ï¼šCSS ä»£ç å¦‚ä½•ç»„ç»‡ã€å¦‚ä½•æ‹†åˆ†ã€æ¨¡å—ç»“æ„æ€æ ·è®¾è®¡ï¼Ÿ</li><li><strong>ç¼–ç ä¼˜åŒ–</strong>ï¼šæ€æ ·å†™å‡ºæ›´å¥½çš„ CSSï¼Ÿ</li><li><strong>æ„å»º</strong>ï¼šå¦‚ä½•å¤„ç†æˆ‘çš„ CSSï¼Œæ‰èƒ½è®©å®ƒçš„æ‰“åŒ…ç»“æœæœ€ä¼˜ï¼Ÿ</li><li><strong>å¯ç»´æŠ¤æ€§</strong>ï¼šä»£ç å†™å®Œäº†ï¼Œå¦‚ä½•æœ€å°åŒ–å®ƒåç»­çš„å˜æ›´æˆæœ¬ï¼Ÿå¦‚ä½•ç¡®ä¿ä»»ä½•ä¸€ä¸ªåŒäº‹éƒ½èƒ½è½»æ¾æ¥æ‰‹ï¼Ÿ</li></ol><p>ä»¥ä¸‹ä¸‰ä¸ªæ–¹å‘éƒ½æ˜¯æ—¶ä¸‹æ¯”è¾ƒæµè¡Œçš„ã€æ™®é€‚æ€§éå¸¸å¥½çš„ CSS å·¥ç¨‹åŒ–å®è·µï¼š</p><ul><li>é¢„å¤„ç†å™¨ï¼šLessã€ Sass ç­‰ï¼›</li><li>é‡è¦çš„å·¥ç¨‹åŒ–æ’ä»¶ï¼š PostCssï¼›</li><li>Webpack loader ç­‰ ã€‚</li></ul><p>åŸºäºè¿™ä¸‰ä¸ªæ–¹å‘ï¼Œå¯ä»¥è¡ç”Ÿå‡ºä¸€äº›å…·æœ‰å…¸å‹æ„ä¹‰çš„å­é—®é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬é€ä¸ªæ¥çœ‹ï¼š</p><p><strong>ï¼ˆ1ï¼‰é¢„å¤„ç†å™¨ï¼šä¸ºä»€ä¹ˆè¦ç”¨é¢„å¤„ç†å™¨ï¼Ÿå®ƒçš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</strong></p><p>é¢„å¤„ç†å™¨ï¼Œå…¶å®å°±æ˜¯ CSS ä¸–ç•Œçš„â€œè½®å­â€ã€‚é¢„å¤„ç†å™¨æ”¯æŒæˆ‘ä»¬å†™ä¸€ç§ç±»ä¼¼ CSSã€ä½†å®é™…å¹¶ä¸æ˜¯ CSS çš„è¯­è¨€ï¼Œç„¶åæŠŠå®ƒç¼–è¯‘æˆ CSS ä»£ç ï¼š <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221922321.webp" alt="img"> é‚£ä¸ºä»€ä¹ˆå†™ CSS ä»£ç å†™å¾—å¥½å¥½çš„ï¼Œååè¦è½¬å»å†™â€œç±» CSSâ€å‘¢ï¼Ÿè¿™å°±å’Œæœ¬æ¥ç”¨ JS ä¹Ÿå¯ä»¥å®ç°æ‰€æœ‰åŠŸèƒ½ï¼Œä½†æœ€åå´å†™ React çš„ jsx æˆ–è€… Vue çš„æ¨¡æ¿è¯­æ³•ä¸€æ ·â€”â€”ä¸ºäº†çˆ½ï¼è¦æƒ³çŸ¥é“æœ‰äº†é¢„å¤„ç†å™¨æœ‰å¤šçˆ½ï¼Œé¦–å…ˆè¦çŸ¥é“çš„æ˜¯ä¼ ç»Ÿ CSS æœ‰å¤šä¸çˆ½ã€‚éšç€å‰ç«¯ä¸šåŠ¡å¤æ‚åº¦çš„æé«˜ï¼Œå‰ç«¯å·¥ç¨‹ä¸­å¯¹ CSS æå‡ºäº†ä»¥ä¸‹çš„è¯‰æ±‚ï¼š</p><ol><li>å®è§‚è®¾è®¡ä¸Šï¼šæˆ‘ä»¬å¸Œæœ›èƒ½ä¼˜åŒ– CSS æ–‡ä»¶çš„ç›®å½•ç»“æ„ï¼Œå¯¹ç°æœ‰çš„ CSS æ–‡ä»¶å®ç°å¤ç”¨ï¼›</li><li>ç¼–ç ä¼˜åŒ–ä¸Šï¼šæˆ‘ä»¬å¸Œæœ›èƒ½å†™å‡ºç»“æ„æ¸…æ™°ã€ç®€æ˜æ˜“æ‡‚çš„ CSSï¼Œéœ€è¦å®ƒå…·æœ‰ä¸€ç›®äº†ç„¶çš„åµŒå¥—å±‚çº§å…³ç³»ï¼Œè€Œä¸æ˜¯æ— å·®åˆ«çš„ä¸€é“ºåˆ°åº•å†™æ³•ï¼›æˆ‘ä»¬å¸Œæœ›å®ƒå…·æœ‰å˜é‡ç‰¹å¾ã€è®¡ç®—èƒ½åŠ›ã€å¾ªç¯èƒ½åŠ›ç­‰ç­‰æ›´å¼ºçš„å¯ç¼–ç¨‹æ€§ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥å°‘å†™ä¸€äº›æ— ç”¨çš„ä»£ç ï¼›</li><li>å¯ç»´æŠ¤æ€§ä¸Šï¼šæ›´å¼ºçš„å¯ç¼–ç¨‹æ€§æ„å‘³ç€æ›´ä¼˜è´¨çš„ä»£ç ç»“æ„ï¼Œå®ç°å¤ç”¨æ„å‘³ç€æ›´ç®€å•çš„ç›®å½•ç»“æ„å’Œæ›´å¼ºçš„æ‹“å±•èƒ½åŠ›ï¼Œè¿™ä¸¤ç‚¹å¦‚æœèƒ½åšåˆ°ï¼Œè‡ªç„¶ä¼šå¸¦æ¥æ›´å¼ºçš„å¯ç»´æŠ¤æ€§ã€‚</li></ol><p>è¿™ä¸‰ç‚¹æ˜¯ä¼ ç»Ÿ CSS æ‰€åšä¸åˆ°çš„ï¼Œä¹Ÿæ­£æ˜¯é¢„å¤„ç†å™¨æ‰€è§£å†³æ‰çš„é—®é¢˜ã€‚é¢„å¤„ç†å™¨æ™®éä¼šå…·å¤‡è¿™æ ·çš„ç‰¹æ€§ï¼š</p><ul><li>åµŒå¥—ä»£ç çš„èƒ½åŠ›ï¼Œé€šè¿‡åµŒå¥—æ¥åæ˜ ä¸åŒ css å±æ€§ä¹‹é—´çš„å±‚çº§å…³ç³» ï¼›</li><li>æ”¯æŒå®šä¹‰ css å˜é‡ï¼›</li><li>æä¾›è®¡ç®—å‡½æ•°ï¼›</li><li>å…è®¸å¯¹ä»£ç ç‰‡æ®µè¿›è¡Œ extend å’Œ mixinï¼›</li><li>æ”¯æŒå¾ªç¯è¯­å¥çš„ä½¿ç”¨ï¼›</li><li>æ”¯æŒå°† CSS æ–‡ä»¶æ¨¡å—åŒ–ï¼Œå®ç°å¤ç”¨ã€‚</li></ul><p><strong>ï¼ˆ2ï¼‰PostCssï¼šPostCss æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿæˆ‘ä»¬åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä¼šä½¿ç”¨ PostCssï¼Ÿ</strong></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221921579.webp" alt="img"> å®ƒå’Œé¢„å¤„ç†å™¨çš„ä¸åŒå°±åœ¨äºï¼Œé¢„å¤„ç†å™¨å¤„ç†çš„æ˜¯ ç±»CSSï¼Œè€Œ PostCss å¤„ç†çš„å°±æ˜¯ CSS æœ¬èº«ã€‚Babel å¯ä»¥å°†é«˜ç‰ˆæœ¬çš„ JS ä»£ç è½¬æ¢ä¸ºä½ç‰ˆæœ¬çš„ JS ä»£ç ã€‚PostCss åšçš„æ˜¯ç±»ä¼¼çš„äº‹æƒ…ï¼šå®ƒå¯ä»¥ç¼–è¯‘å°šæœªè¢«æµè§ˆå™¨å¹¿æ³›æ”¯æŒçš„å…ˆè¿›çš„ CSS è¯­æ³•ï¼Œè¿˜å¯ä»¥è‡ªåŠ¨ä¸ºä¸€äº›éœ€è¦é¢å¤–å…¼å®¹çš„è¯­æ³•å¢åŠ å‰ç¼€ã€‚æ›´å¼ºçš„æ˜¯ï¼Œç”±äº PostCss æœ‰ç€å¼ºå¤§çš„æ’ä»¶æœºåˆ¶ï¼Œæ”¯æŒå„ç§å„æ ·çš„æ‰©å±•ï¼Œæå¤§åœ°å¼ºåŒ–äº† CSS çš„èƒ½åŠ›ã€‚</p><p>PostCss åœ¨ä¸šåŠ¡ä¸­çš„ä½¿ç”¨åœºæ™¯éå¸¸å¤šï¼š</p><ul><li>æé«˜ CSS ä»£ç çš„å¯è¯»æ€§ï¼šPostCss å…¶å®å¯ä»¥åšç±»ä¼¼é¢„å¤„ç†å™¨èƒ½åšçš„å·¥ä½œï¼›</li><li>å½“æˆ‘ä»¬çš„ CSS ä»£ç éœ€è¦é€‚é…ä½ç‰ˆæœ¬æµè§ˆå™¨æ—¶ï¼ŒPostCss çš„ <a href="https://link.juejin.cn/?target=https://github.com/postcss/autoprefixer">Autoprefixer</a> æ’ä»¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å¢åŠ æµè§ˆå™¨å‰ç¼€ï¼›</li><li>å…è®¸æˆ‘ä»¬ç¼–å†™é¢å‘æœªæ¥çš„ CSSï¼šPostCss èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ç¼–è¯‘ CSS next ä»£ç ï¼›</li></ul><p><strong>ï¼ˆ3ï¼‰Webpack èƒ½å¤„ç† CSS å—ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ</strong> Webpack èƒ½å¤„ç† CSS å—ï¼š</p><ul><li><strong>Webpack åœ¨è£¸å¥”çš„çŠ¶æ€ä¸‹ï¼Œæ˜¯ä¸èƒ½å¤„ç† CSS çš„</strong>ï¼ŒWebpack æœ¬èº«æ˜¯ä¸€ä¸ªé¢å‘ JavaScript ä¸”åªèƒ½å¤„ç† JavaScript ä»£ç çš„æ¨¡å—åŒ–æ‰“åŒ…å·¥å…·ï¼›</li><li>Webpack åœ¨ loader çš„è¾…åŠ©ä¸‹ï¼Œæ˜¯å¯ä»¥å¤„ç† CSS çš„ã€‚</li></ul><p>å¦‚ä½•ç”¨ Webpack å®ç°å¯¹ CSS çš„å¤„ç†ï¼š</p><ul><li>Webpack ä¸­æ“ä½œ CSS éœ€è¦ä½¿ç”¨çš„ä¸¤ä¸ªå…³é”®çš„ loaderï¼šcss-loader å’Œ style-loader</li><li>æ³¨æ„ï¼Œç­”å‡ºâ€œç”¨ä»€ä¹ˆâ€æœ‰æ—¶å€™å¯èƒ½è¿˜ä¸å¤Ÿï¼Œé¢è¯•å®˜ä¼šæ€€ç–‘ä½ æ˜¯ä¸æ˜¯åœ¨èƒŒç­”æ¡ˆï¼Œæ‰€ä»¥ä½ è¿˜éœ€è¦äº†è§£æ¯ä¸ª loader éƒ½åšäº†ä»€ä¹ˆäº‹æƒ…ï¼š<ul><li>css-loaderï¼šå¯¼å…¥ CSS æ¨¡å—ï¼Œå¯¹ CSS ä»£ç è¿›è¡Œç¼–è¯‘å¤„ç†ï¼›</li><li>style-loaderï¼šåˆ›å»ºstyleæ ‡ç­¾ï¼ŒæŠŠ CSS å†…å®¹å†™å…¥æ ‡ç­¾ã€‚</li></ul></li></ul><p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œ<strong>css-loader çš„æ‰§è¡Œé¡ºåºä¸€å®šè¦å®‰æ’åœ¨ style-loader çš„å‰é¢</strong>ã€‚å› ä¸ºåªæœ‰å®Œæˆäº†ç¼–è¯‘è¿‡ç¨‹ï¼Œæ‰å¯ä»¥å¯¹ css ä»£ç è¿›è¡Œæ’å…¥ï¼›è‹¥æå‰æ’å…¥äº†æœªç¼–è¯‘çš„ä»£ç ï¼Œé‚£ä¹ˆ webpack æ˜¯æ— æ³•ç†è§£è¿™å¨ä¸œè¥¿çš„ï¼Œå®ƒä¼šæ— æƒ…æŠ¥é”™ã€‚</p><h3 id="29-å¦‚ä½•åˆ¤æ–­å…ƒç´ æ˜¯å¦åˆ°è¾¾å¯è§†åŒºåŸŸ"><a href="#29-å¦‚ä½•åˆ¤æ–­å…ƒç´ æ˜¯å¦åˆ°è¾¾å¯è§†åŒºåŸŸ" class="headerlink" title="29. å¦‚ä½•åˆ¤æ–­å…ƒç´ æ˜¯å¦åˆ°è¾¾å¯è§†åŒºåŸŸ"></a>29. å¦‚ä½•åˆ¤æ–­å…ƒç´ æ˜¯å¦åˆ°è¾¾å¯è§†åŒºåŸŸ</h3><p>ä»¥å›¾ç‰‡æ˜¾ç¤ºä¸ºä¾‹ï¼š</p><ul><li><code>window.innerHeight</code> æ˜¯æµè§ˆå™¨å¯è§†åŒºçš„é«˜åº¦ï¼›</li><li><code>document.body.scrollTop || document.documentElement.scrollTop</code> æ˜¯æµè§ˆå™¨æ»šåŠ¨çš„è¿‡çš„è·ç¦»ï¼›</li><li><code>imgs.offsetTop</code> æ˜¯å…ƒç´ é¡¶éƒ¨è·ç¦»æ–‡æ¡£é¡¶éƒ¨çš„é«˜åº¦ï¼ˆåŒ…æ‹¬æ»šåŠ¨æ¡çš„è·ç¦»ï¼‰ï¼›</li><li>å†…å®¹è¾¾åˆ°æ˜¾ç¤ºåŒºåŸŸçš„ï¼š<code>img.offsetTop &lt; window.innerHeight + document.body.scrollTop;</code></li></ul><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221922007.webp" alt="img"></p><h3 id="30-z-indexå±æ€§åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¤±æ•ˆ"><a href="#30-z-indexå±æ€§åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¤±æ•ˆ" class="headerlink" title="30. z-indexå±æ€§åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¤±æ•ˆ"></a>30. z-indexå±æ€§åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¤±æ•ˆ</h3><p>é€šå¸¸ z-index çš„ä½¿ç”¨æ˜¯åœ¨æœ‰ä¸¤ä¸ªé‡å çš„æ ‡ç­¾ï¼Œåœ¨ä¸€å®šçš„æƒ…å†µä¸‹æ§åˆ¶å…¶ä¸­ä¸€ä¸ªåœ¨å¦ä¸€ä¸ªçš„ä¸Šæ–¹æˆ–è€…ä¸‹æ–¹å‡ºç°ã€‚z-indexå€¼è¶Šå¤§å°±è¶Šæ˜¯åœ¨ä¸Šå±‚ã€‚z-indexå…ƒç´ çš„positionå±æ€§éœ€è¦æ˜¯relativeï¼Œabsoluteæˆ–æ˜¯fixedã€‚</p><p>z-indexå±æ€§åœ¨ä¸‹åˆ—æƒ…å†µä¸‹ä¼šå¤±æ•ˆï¼š</p><ul><li>çˆ¶å…ƒç´ positionä¸ºrelativeæ—¶ï¼Œå­å…ƒç´ çš„z-indexå¤±æ•ˆã€‚è§£å†³ï¼šçˆ¶å…ƒç´ positionæ”¹ä¸ºabsoluteæˆ–staticï¼›</li><li>å…ƒç´ æ²¡æœ‰è®¾ç½®positionå±æ€§ä¸ºéstaticå±æ€§ã€‚è§£å†³ï¼šè®¾ç½®è¯¥å…ƒç´ çš„positionå±æ€§ä¸ºrelativeï¼Œabsoluteæˆ–æ˜¯fixedä¸­çš„ä¸€ç§ï¼›</li><li>å…ƒç´ åœ¨è®¾ç½®z-indexçš„åŒæ—¶è¿˜è®¾ç½®äº†floatæµ®åŠ¨ã€‚è§£å†³ï¼šfloatå»é™¤ï¼Œæ”¹ä¸ºdisplayï¼šinline-blockï¼›</li></ul><h3 id="31-CSS3ä¸­çš„transformæœ‰å“ªäº›å±æ€§"><a href="#31-CSS3ä¸­çš„transformæœ‰å“ªäº›å±æ€§" class="headerlink" title="31. CSS3ä¸­çš„transformæœ‰å“ªäº›å±æ€§"></a>31. CSS3ä¸­çš„transformæœ‰å“ªäº›å±æ€§</h3><h2 id="äºŒã€é¡µé¢å¸ƒå±€"><a href="#äºŒã€é¡µé¢å¸ƒå±€" class="headerlink" title="äºŒã€é¡µé¢å¸ƒå±€"></a>äºŒã€é¡µé¢å¸ƒå±€</h2><h3 id="1-å¸¸è§çš„CSSå¸ƒå±€å•ä½"><a href="#1-å¸¸è§çš„CSSå¸ƒå±€å•ä½" class="headerlink" title="1. å¸¸è§çš„CSSå¸ƒå±€å•ä½"></a>1. å¸¸è§çš„CSSå¸ƒå±€å•ä½</h3><p>å¸¸ç”¨çš„å¸ƒå±€å•ä½åŒ…æ‹¬åƒç´ ï¼ˆ<code>px</code>ï¼‰ï¼Œç™¾åˆ†æ¯”ï¼ˆ<code>%</code>ï¼‰ï¼Œ<code>em</code>ï¼Œ<code>rem</code>ï¼Œ<code>vw/vh</code>ã€‚</p><p><strong>ï¼ˆ1ï¼‰åƒç´ </strong>ï¼ˆ<code>px</code>ï¼‰æ˜¯é¡µé¢å¸ƒå±€çš„åŸºç¡€ï¼Œä¸€ä¸ªåƒç´ è¡¨ç¤ºç»ˆç«¯ï¼ˆç”µè„‘ã€æ‰‹æœºã€å¹³æ¿ç­‰ï¼‰å±å¹•æ‰€èƒ½æ˜¾ç¤ºçš„æœ€å°çš„åŒºåŸŸï¼Œåƒç´ åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šCSSåƒç´ å’Œç‰©ç†åƒç´ ï¼š</p><ul><li><strong>CSSåƒç´ </strong>ï¼šä¸ºwebå¼€å‘è€…æä¾›ï¼Œåœ¨CSSä¸­ä½¿ç”¨çš„ä¸€ä¸ªæŠ½è±¡å•ä½ï¼›</li><li><strong>ç‰©ç†åƒç´ </strong>ï¼šåªä¸è®¾å¤‡çš„ç¡¬ä»¶å¯†åº¦æœ‰å…³ï¼Œä»»ä½•è®¾å¤‡çš„ç‰©ç†åƒç´ éƒ½æ˜¯å›ºå®šçš„ã€‚</li></ul><p><strong>ï¼ˆ2ï¼‰ç™¾åˆ†æ¯”</strong>ï¼ˆ<code>%</code>ï¼‰ï¼Œå½“æµè§ˆå™¨çš„å®½åº¦æˆ–è€…é«˜åº¦å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé€šè¿‡ç™¾åˆ†æ¯”å•ä½å¯ä»¥ä½¿å¾—æµè§ˆå™¨ä¸­çš„ç»„ä»¶çš„å®½å’Œé«˜éšç€æµè§ˆå™¨çš„å˜åŒ–è€Œå˜åŒ–ï¼Œä»è€Œå®ç°å“åº”å¼çš„æ•ˆæœã€‚ä¸€èˆ¬è®¤ä¸ºå­å…ƒç´ çš„ç™¾åˆ†æ¯”ç›¸å¯¹äºç›´æ¥çˆ¶å…ƒç´ ã€‚</p><p><strong>ï¼ˆ3ï¼‰emå’Œrem</strong>ç›¸å¯¹äºpxæ›´å…·çµæ´»æ€§ï¼Œå®ƒä»¬éƒ½æ˜¯ç›¸å¯¹é•¿åº¦å•ä½ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ï¼š<strong>emç›¸å¯¹äºçˆ¶å…ƒç´ ï¼Œremç›¸å¯¹äºæ ¹å…ƒç´ ã€‚</strong></p><ul><li><strong>emï¼š</strong> æ–‡æœ¬ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚æœå½“å‰è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸(é»˜è®¤16px)ã€‚(ç›¸å¯¹çˆ¶å…ƒç´ çš„å­—ä½“å¤§å°å€æ•°)ã€‚</li><li><strong>remï¼š</strong> remæ˜¯CSS3æ–°å¢çš„ä¸€ä¸ªç›¸å¯¹å•ä½ï¼Œç›¸å¯¹äºæ ¹å…ƒç´ ï¼ˆhtmlå…ƒç´ ï¼‰çš„font-sizeçš„å€æ•°ã€‚<strong>ä½œç”¨</strong>ï¼šåˆ©ç”¨remå¯ä»¥å®ç°ç®€å•çš„å“åº”å¼å¸ƒå±€ï¼Œå¯ä»¥åˆ©ç”¨htmlå…ƒç´ ä¸­å­—ä½“çš„å¤§å°ä¸å±å¹•é—´çš„æ¯”å€¼æ¥è®¾ç½®font-sizeçš„å€¼ï¼Œä»¥æ­¤å®ç°å½“å±å¹•åˆ†è¾¨ç‡å˜åŒ–æ—¶è®©å…ƒç´ ä¹Ÿéšä¹‹å˜åŒ–ã€‚</li></ul><p><strong>ï¼ˆ4ï¼‰vw/vh</strong>æ˜¯ä¸è§†å›¾çª—å£æœ‰å…³çš„å•ä½ï¼Œvwè¡¨ç¤ºç›¸å¯¹äºè§†å›¾çª—å£çš„å®½åº¦ï¼Œvhè¡¨ç¤ºç›¸å¯¹äºè§†å›¾çª—å£é«˜åº¦ï¼Œé™¤äº†vwå’Œvhå¤–ï¼Œè¿˜æœ‰vminå’Œvmaxä¸¤ä¸ªç›¸å…³çš„å•ä½ã€‚</p><ul><li>vwï¼šç›¸å¯¹äºè§†çª—çš„å®½åº¦ï¼Œè§†çª—å®½åº¦æ˜¯100vwï¼›</li><li>vhï¼šç›¸å¯¹äºè§†çª—çš„é«˜åº¦ï¼Œè§†çª—é«˜åº¦æ˜¯100vhï¼›</li><li>vminï¼švwå’Œvhä¸­çš„è¾ƒå°å€¼ï¼›</li><li>vmaxï¼švwå’Œvhä¸­çš„è¾ƒå¤§å€¼ï¼›</li></ul><p><strong>vw/vh</strong> å’Œç™¾åˆ†æ¯”å¾ˆç±»ä¼¼ï¼Œä¸¤è€…çš„åŒºåˆ«ï¼š</p><ul><li>ç™¾åˆ†æ¯”ï¼ˆ<code>%</code>ï¼‰ï¼šå¤§éƒ¨åˆ†ç›¸å¯¹äºç¥–å…ˆå…ƒç´ ï¼Œä¹Ÿæœ‰ç›¸å¯¹äºè‡ªèº«çš„æƒ…å†µæ¯”å¦‚ï¼ˆborder-radiusã€translateç­‰)</li><li>vw/vmï¼šç›¸å¯¹äºè§†çª—çš„å°ºå¯¸</li></ul><h3 id="2-pxã€emã€remçš„åŒºåˆ«åŠä½¿ç”¨åœºæ™¯"><a href="#2-pxã€emã€remçš„åŒºåˆ«åŠä½¿ç”¨åœºæ™¯" class="headerlink" title="2. pxã€emã€remçš„åŒºåˆ«åŠä½¿ç”¨åœºæ™¯"></a>2. pxã€emã€remçš„åŒºåˆ«åŠä½¿ç”¨åœºæ™¯</h3><p><strong>ä¸‰è€…çš„åŒºåˆ«ï¼š</strong></p><ul><li>pxæ˜¯å›ºå®šçš„åƒç´ ï¼Œä¸€æ—¦è®¾ç½®äº†å°±æ— æ³•å› ä¸ºé€‚åº”é¡µé¢å¤§å°è€Œæ”¹å˜ã€‚</li><li>emå’Œremç›¸å¯¹äºpxæ›´å…·æœ‰çµæ´»æ€§ï¼Œä»–ä»¬æ˜¯ç›¸å¯¹é•¿åº¦å•ä½ï¼Œå…¶é•¿åº¦ä¸æ˜¯å›ºå®šçš„ï¼Œæ›´é€‚ç”¨äºå“åº”å¼å¸ƒå±€ã€‚</li><li>emæ˜¯ç›¸å¯¹äºå…¶çˆ¶å…ƒç´ æ¥è®¾ç½®å­—ä½“å¤§å°ï¼Œè¿™æ ·å°±ä¼šå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œè¿›è¡Œä»»ä½•å…ƒç´ è®¾ç½®ï¼Œéƒ½æœ‰å¯èƒ½éœ€è¦çŸ¥é“ä»–çˆ¶å…ƒç´ çš„å¤§å°ã€‚è€Œremæ˜¯ç›¸å¯¹äºæ ¹å…ƒç´ ï¼Œè¿™æ ·å°±æ„å‘³ç€ï¼Œåªéœ€è¦åœ¨æ ¹å…ƒç´ ç¡®å®šä¸€ä¸ªå‚è€ƒå€¼ã€‚</li></ul><p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong></p><ul><li>å¯¹äºåªéœ€è¦é€‚é…å°‘éƒ¨åˆ†ç§»åŠ¨è®¾å¤‡ï¼Œä¸”åˆ†è¾¨ç‡å¯¹é¡µé¢å½±å“ä¸å¤§çš„ï¼Œä½¿ç”¨pxå³å¯ ã€‚</li><li>å¯¹äºéœ€è¦é€‚é…å„ç§ç§»åŠ¨è®¾å¤‡ï¼Œä½¿ç”¨remï¼Œä¾‹å¦‚éœ€è¦é€‚é…iPhoneå’ŒiPadç­‰åˆ†è¾¨ç‡å·®åˆ«æ¯”è¾ƒæŒºå¤§çš„è®¾å¤‡ã€‚</li></ul><h3 id="3-ä¸¤æ å¸ƒå±€çš„å®ç°"><a href="#3-ä¸¤æ å¸ƒå±€çš„å®ç°" class="headerlink" title="3. ä¸¤æ å¸ƒå±€çš„å®ç°"></a>3. ä¸¤æ å¸ƒå±€çš„å®ç°</h3><p>ä¸€èˆ¬ä¸¤æ å¸ƒå±€æŒ‡çš„æ˜¯<strong>å·¦è¾¹ä¸€æ å®½åº¦å›ºå®šï¼Œå³è¾¹ä¸€æ å®½åº¦è‡ªé€‚åº”</strong>ï¼Œä¸¤æ å¸ƒå±€çš„å…·ä½“å®ç°ï¼š</p><ul><li>åˆ©ç”¨æµ®åŠ¨ï¼Œå°†å·¦è¾¹å…ƒç´ å®½åº¦è®¾ç½®ä¸º200pxï¼Œå¹¶ä¸”è®¾ç½®å‘å·¦æµ®åŠ¨ã€‚å°†å³è¾¹å…ƒç´ çš„margin-leftè®¾ç½®ä¸º200pxï¼Œå®½åº¦è®¾ç½®ä¸ºautoï¼ˆé»˜è®¤ä¸ºautoï¼Œæ’‘æ»¡æ•´ä¸ªçˆ¶å…ƒç´ ï¼‰ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: tomato;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: auto;</span><br><span class="line">  <span class="attribute">background</span>: gold;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>åˆ©ç”¨æµ®åŠ¨ï¼Œå·¦ä¾§å…ƒç´ è®¾ç½®å›ºå®šå¤§å°ï¼Œå¹¶å·¦æµ®åŠ¨ï¼Œå³ä¾§å…ƒç´ è®¾ç½®overflow: hidden; è¿™æ ·å³è¾¹å°±è§¦å‘äº†BFCï¼ŒBFCçš„åŒºåŸŸä¸ä¼šä¸æµ®åŠ¨å…ƒç´ å‘ç”Ÿé‡å ï¼Œæ‰€ä»¥ä¸¤ä¾§å°±ä¸ä¼šå‘ç”Ÿé‡å ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">     <span class="attribute">background</span>: red;</span><br><span class="line">     <span class="attribute">float</span>: left;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="selector-class">.right</span>&#123;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">     <span class="attribute">background</span>: blue;</span><br><span class="line">     <span class="attribute">overflow</span>: hidden;</span><br><span class="line"> &#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>åˆ©ç”¨flexå¸ƒå±€ï¼Œå°†å·¦è¾¹å…ƒç´ è®¾ç½®ä¸ºå›ºå®šå®½åº¦200pxï¼Œå°†å³è¾¹çš„å…ƒç´ è®¾ç½®ä¸ºflex:1ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: tomato;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">background</span>: gold;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>åˆ©ç”¨ç»å¯¹å®šä½ï¼Œå°†çˆ¶çº§å…ƒç´ è®¾ç½®ä¸ºç›¸å¯¹å®šä½ã€‚å·¦è¾¹å…ƒç´ è®¾ç½®ä¸ºabsoluteå®šä½ï¼Œå¹¶ä¸”å®½åº¦è®¾ç½®ä¸º200pxã€‚å°†å³è¾¹å…ƒç´ çš„margin-leftçš„å€¼è®¾ç½®ä¸º200pxã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: tomato;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: gold;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>åˆ©ç”¨ç»å¯¹å®šä½ï¼Œå°†çˆ¶çº§å…ƒç´ è®¾ç½®ä¸ºç›¸å¯¹å®šä½ã€‚å·¦è¾¹å…ƒç´ å®½åº¦è®¾ç½®ä¸º200pxï¼Œå³è¾¹å…ƒç´ è®¾ç½®ä¸ºç»å¯¹å®šä½ï¼Œå·¦è¾¹å®šä½ä¸º200pxï¼Œå…¶ä½™æ–¹å‘å®šä½ä¸º0ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: tomato;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: gold;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="4-ä¸‰æ å¸ƒå±€çš„å®ç°"><a href="#4-ä¸‰æ å¸ƒå±€çš„å®ç°" class="headerlink" title="4. ä¸‰æ å¸ƒå±€çš„å®ç°"></a>4. ä¸‰æ å¸ƒå±€çš„å®ç°</h3><p>ä¸‰æ å¸ƒå±€ä¸€èˆ¬æŒ‡çš„æ˜¯é¡µé¢ä¸­ä¸€å…±æœ‰ä¸‰æ ï¼Œ<strong>å·¦å³ä¸¤æ å®½åº¦å›ºå®šï¼Œä¸­é—´è‡ªé€‚åº”çš„å¸ƒå±€</strong>ï¼Œä¸‰æ å¸ƒå±€çš„å…·ä½“å®ç°ï¼š</p><ul><li>åˆ©ç”¨<strong>ç»å¯¹å®šä½</strong>ï¼Œå·¦å³ä¸¤æ è®¾ç½®ä¸ºç»å¯¹å®šä½ï¼Œä¸­é—´è®¾ç½®å¯¹åº”æ–¹å‘å¤§å°çš„marginçš„å€¼ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: tomato;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: gold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: lightgreen;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>åˆ©ç”¨flexå¸ƒå±€ï¼Œå·¦å³ä¸¤æ è®¾ç½®å›ºå®šå¤§å°ï¼Œä¸­é—´ä¸€æ è®¾ç½®ä¸ºflex:1ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: tomato;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: gold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">background</span>: lightgreen;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>åˆ©ç”¨æµ®åŠ¨ï¼Œå·¦å³ä¸¤æ è®¾ç½®å›ºå®šå¤§å°ï¼Œå¹¶è®¾ç½®å¯¹åº”æ–¹å‘çš„æµ®åŠ¨ã€‚ä¸­é—´ä¸€æ è®¾ç½®å·¦å³ä¸¤ä¸ªæ–¹å‘çš„marginå€¼ï¼Œæ³¨æ„è¿™ç§æ–¹å¼<strong>ï¼Œä¸­é—´ä¸€æ å¿…é¡»æ”¾åˆ°æœ€åï¼š</strong></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: tomato;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: gold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: lightgreen;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>åœ£æ¯å¸ƒå±€ï¼Œåˆ©ç”¨æµ®åŠ¨å’Œè´Ÿè¾¹è·æ¥å®ç°ã€‚çˆ¶çº§å…ƒç´ è®¾ç½®å·¦å³çš„ paddingï¼Œä¸‰åˆ—å‡è®¾ç½®å‘å·¦æµ®åŠ¨ï¼Œä¸­é—´ä¸€åˆ—æ”¾åœ¨æœ€å‰é¢ï¼Œå®½åº¦è®¾ç½®ä¸ºçˆ¶çº§å…ƒç´ çš„å®½åº¦ï¼Œå› æ­¤åé¢ä¸¤åˆ—éƒ½è¢«æŒ¤åˆ°äº†ä¸‹ä¸€è¡Œï¼Œé€šè¿‡è®¾ç½® margin è´Ÿå€¼å°†å…¶ç§»åŠ¨åˆ°ä¸Šä¸€è¡Œï¼Œå†åˆ©ç”¨ç›¸å¯¹å®šä½ï¼Œå®šä½åˆ°ä¸¤è¾¹ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">100px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: tomato;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">200px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">200px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: gold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: lightgreen;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>åŒé£ç¿¼å¸ƒå±€ï¼ŒåŒé£ç¿¼å¸ƒå±€ç›¸å¯¹äºåœ£æ¯å¸ƒå±€æ¥è¯´ï¼Œå·¦å³ä½ç½®çš„ä¿ç•™æ˜¯é€šè¿‡ä¸­é—´åˆ—çš„ margin å€¼æ¥å®ç°çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡çˆ¶å…ƒç´ çš„ padding æ¥å®ç°çš„ã€‚æœ¬è´¨ä¸Šæ¥è¯´ï¼Œä¹Ÿæ˜¯é€šè¿‡æµ®åŠ¨å’Œå¤–è¾¹è·è´Ÿå€¼æ¥å®ç°çš„ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: tomato;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">200px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: gold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: lightgreen;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="5-æ°´å¹³å‚ç›´å±…ä¸­çš„å®ç°"><a href="#5-æ°´å¹³å‚ç›´å±…ä¸­çš„å®ç°" class="headerlink" title="5. æ°´å¹³å‚ç›´å±…ä¸­çš„å®ç°"></a>5. æ°´å¹³å‚ç›´å±…ä¸­çš„å®ç°</h3><ul><li>åˆ©ç”¨ç»å¯¹å®šä½ï¼Œå…ˆå°†å…ƒç´ çš„å·¦ä¸Šè§’é€šè¿‡top:50%å’Œleft:50%å®šä½åˆ°é¡µé¢çš„ä¸­å¿ƒï¼Œç„¶åå†é€šè¿‡translateæ¥è°ƒæ•´å…ƒç´ çš„ä¸­å¿ƒç‚¹åˆ°é¡µé¢çš„ä¸­å¿ƒã€‚è¯¥æ–¹æ³•éœ€è¦<strong>è€ƒè™‘æµè§ˆå™¨å…¼å®¹é—®é¢˜ã€‚</strong></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;    <span class="attribute">position</span>: relative;&#125; <span class="selector-class">.child</span> &#123;    <span class="attribute">position</span>: absolute;    <span class="attribute">left</span>: <span class="number">50%</span>;    <span class="attribute">top</span>: <span class="number">50%</span>;    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>åˆ©ç”¨ç»å¯¹å®šä½ï¼Œè®¾ç½®å››ä¸ªæ–¹å‘çš„å€¼éƒ½ä¸º0ï¼Œå¹¶å°†marginè®¾ç½®ä¸ºautoï¼Œç”±äºå®½é«˜å›ºå®šï¼Œå› æ­¤å¯¹åº”æ–¹å‘å®ç°å¹³åˆ†ï¼Œå¯ä»¥å®ç°æ°´å¹³å’Œå‚ç›´æ–¹å‘ä¸Šçš„å±…ä¸­ã€‚è¯¥æ–¹æ³•é€‚ç”¨äº<strong>ç›’å­æœ‰å®½é«˜</strong>çš„æƒ…å†µï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.child</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>åˆ©ç”¨ç»å¯¹å®šä½ï¼Œå…ˆå°†å…ƒç´ çš„å·¦ä¸Šè§’é€šè¿‡top:50%å’Œleft:50%å®šä½åˆ°é¡µé¢çš„ä¸­å¿ƒï¼Œç„¶åå†é€šè¿‡marginè´Ÿå€¼æ¥è°ƒæ•´å…ƒç´ çš„ä¸­å¿ƒç‚¹åˆ°é¡µé¢çš„ä¸­å¿ƒã€‚è¯¥æ–¹æ³•é€‚ç”¨äº<strong>ç›’å­å®½é«˜å·²çŸ¥</strong>çš„æƒ…å†µ</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.child</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">50px</span>;     <span class="comment">/* è‡ªèº« height çš„ä¸€åŠ */</span></span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">50px</span>;    <span class="comment">/* è‡ªèº« width çš„ä¸€åŠ */</span></span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨flexå¸ƒå±€ï¼Œé€šè¿‡align-items:centerå’Œjustify-content:centerè®¾ç½®å®¹å™¨çš„å‚ç›´å’Œæ°´å¹³æ–¹å‘ä¸Šä¸ºå±…ä¸­å¯¹é½ï¼Œç„¶åå®ƒçš„å­å…ƒç´ ä¹Ÿå¯ä»¥å®ç°å‚ç›´å’Œæ°´å¹³çš„å±…ä¸­ã€‚è¯¥æ–¹æ³•è¦<strong>è€ƒè™‘å…¼å®¹çš„é—®é¢˜</strong>ï¼Œè¯¥æ–¹æ³•åœ¨ç§»åŠ¨ç«¯ç”¨çš„è¾ƒå¤šï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>:center;</span><br><span class="line">    <span class="attribute">align-items</span>:center;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="6-å¦‚ä½•æ ¹æ®è®¾è®¡ç¨¿è¿›è¡Œç§»åŠ¨ç«¯é€‚é…ï¼Ÿ"><a href="#6-å¦‚ä½•æ ¹æ®è®¾è®¡ç¨¿è¿›è¡Œç§»åŠ¨ç«¯é€‚é…ï¼Ÿ" class="headerlink" title="6. å¦‚ä½•æ ¹æ®è®¾è®¡ç¨¿è¿›è¡Œç§»åŠ¨ç«¯é€‚é…ï¼Ÿ"></a>6. å¦‚ä½•æ ¹æ®è®¾è®¡ç¨¿è¿›è¡Œç§»åŠ¨ç«¯é€‚é…ï¼Ÿ</h3><p>ç§»åŠ¨ç«¯é€‚é…ä¸»è¦æœ‰ä¸¤ä¸ªç»´åº¦ï¼š</p><ul><li><strong>é€‚é…ä¸åŒåƒç´ å¯†åº¦ï¼Œ</strong> é’ˆå¯¹ä¸åŒçš„åƒç´ å¯†åº¦ï¼Œä½¿ç”¨ CSS åª’ä½“æŸ¥è¯¢ï¼Œé€‰æ‹©ä¸åŒç²¾åº¦çš„å›¾ç‰‡ï¼Œä»¥ä¿è¯å›¾ç‰‡ä¸ä¼šå¤±çœŸï¼›</li><li><strong>é€‚é…ä¸åŒå±å¹•å¤§å°ï¼Œ</strong> ç”±äºä¸åŒçš„å±å¹•æœ‰ç€ä¸åŒçš„é€»è¾‘åƒç´ å¤§å°ï¼Œæ‰€ä»¥å¦‚æœç›´æ¥ä½¿ç”¨ px ä½œä¸ºå¼€å‘å•ä½ï¼Œä¼šä½¿å¾—å¼€å‘çš„é¡µé¢åœ¨æŸä¸€æ¬¾æ‰‹æœºä¸Šå¯ä»¥å‡†ç¡®æ˜¾ç¤ºï¼Œä½†æ˜¯åœ¨å¦ä¸€æ¬¾æ‰‹æœºä¸Šå°±ä¼šå¤±çœŸã€‚ä¸ºäº†é€‚é…ä¸åŒå±å¹•çš„å¤§å°ï¼Œåº”æŒ‰ç…§æ¯”ä¾‹æ¥è¿˜åŸè®¾è®¡ç¨¿çš„å†…å®¹ã€‚</li></ul><p>ä¸ºäº†èƒ½è®©é¡µé¢çš„å°ºå¯¸è‡ªé€‚åº”ï¼Œå¯ä»¥ä½¿ç”¨ remï¼Œemï¼Œvwï¼Œvh ç­‰ç›¸å¯¹å•ä½ã€‚</p><h3 id="7-å¯¹Flexå¸ƒå±€çš„ç†è§£åŠå…¶ä½¿ç”¨åœºæ™¯"><a href="#7-å¯¹Flexå¸ƒå±€çš„ç†è§£åŠå…¶ä½¿ç”¨åœºæ™¯" class="headerlink" title="7. å¯¹Flexå¸ƒå±€çš„ç†è§£åŠå…¶ä½¿ç”¨åœºæ™¯"></a>7. å¯¹Flexå¸ƒå±€çš„ç†è§£åŠå…¶ä½¿ç”¨åœºæ™¯</h3><p>Flexæ˜¯FlexibleBoxçš„ç¼©å†™ï¼Œæ„ä¸ºâ€å¼¹æ€§å¸ƒå±€â€ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚ä»»ä½•ä¸€ä¸ªå®¹å™¨éƒ½å¯ä»¥æŒ‡å®šä¸ºFlexå¸ƒå±€ã€‚è¡Œå†…å…ƒç´ ä¹Ÿå¯ä»¥ä½¿ç”¨Flexå¸ƒå±€ã€‚æ³¨æ„ï¼Œè®¾ä¸ºFlexå¸ƒå±€ä»¥åï¼Œ<strong>å­å…ƒç´ çš„floatã€clearå’Œvertical-alignå±æ€§å°†å¤±æ•ˆ</strong>ã€‚é‡‡ç”¨Flexå¸ƒå±€çš„å…ƒç´ ï¼Œç§°ä¸ºFlexå®¹å™¨ï¼ˆflex containerï¼‰ï¼Œç®€ç§°â€å®¹å™¨â€ã€‚å®ƒçš„æ‰€æœ‰å­å…ƒç´ è‡ªåŠ¨æˆä¸ºå®¹å™¨æˆå‘˜ï¼Œç§°ä¸ºFlexé¡¹ç›®ï¼ˆflex itemï¼‰ï¼Œç®€ç§°â€é¡¹ç›®â€ã€‚å®¹å™¨é»˜è®¤å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´ï¼ˆmain axisï¼‰å’Œå‚ç›´çš„äº¤å‰è½´ï¼ˆcross axisï¼‰ï¼Œé¡¹ç›®é»˜è®¤æ²¿æ°´å¹³ä¸»è½´æ’åˆ—ã€‚</p><p>ä»¥ä¸‹6ä¸ªå±æ€§è®¾ç½®åœ¨<strong>å®¹å™¨ä¸Š</strong>ï¼š</p><ul><li>flex-directionå±æ€§å†³å®šä¸»è½´çš„æ–¹å‘ï¼ˆå³é¡¹ç›®çš„æ’åˆ—æ–¹å‘ï¼‰ã€‚</li><li>flex-wrapå±æ€§å®šä¹‰ï¼Œå¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œã€‚</li><li>flex-flowå±æ€§æ˜¯flex-directionå±æ€§å’Œflex-wrapå±æ€§çš„ç®€å†™å½¢å¼ï¼Œé»˜è®¤å€¼ä¸ºrow nowrapã€‚</li><li>justify-contentå±æ€§å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼ã€‚</li><li>align-itemså±æ€§å®šä¹‰é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½ã€‚</li><li>align-contentå±æ€§å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ã€‚å¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨ã€‚</li></ul><p>ä»¥ä¸‹6ä¸ªå±æ€§è®¾ç½®åœ¨<strong>é¡¹ç›®ä¸Š</strong>ï¼š</p><ul><li>orderå±æ€§å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0ã€‚</li><li>flex-growå±æ€§å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ã€‚</li><li>flex-shrinkå±æ€§å®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°ã€‚</li><li>flex-basiså±æ€§å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ã€‚æµè§ˆå™¨æ ¹æ®è¿™ä¸ªå±æ€§ï¼Œè®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å¤šä½™ç©ºé—´ã€‚å®ƒçš„é»˜è®¤å€¼ä¸ºautoï¼Œå³é¡¹ç›®çš„æœ¬æ¥å¤§å°ã€‚</li><li>flexå±æ€§æ˜¯flex-growï¼Œflex-shrinkå’Œflex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0 1 autoã€‚</li><li>align-selfå±æ€§å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-itemså±æ€§ã€‚é»˜è®¤å€¼ä¸ºautoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemså±æ€§ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäºstretchã€‚</li></ul><p><strong>ç®€å•æ¥è¯´ï¼š</strong> flexå¸ƒå±€æ˜¯CSS3æ–°å¢çš„ä¸€ç§å¸ƒå±€æ–¹å¼ï¼Œå¯ä»¥é€šè¿‡å°†ä¸€ä¸ªå…ƒç´ çš„displayå±æ€§å€¼è®¾ç½®ä¸ºflexä»è€Œä½¿å®ƒæˆä¸ºä¸€ä¸ªflexå®¹å™¨ï¼Œå®ƒçš„æ‰€æœ‰å­å…ƒç´ éƒ½ä¼šæˆä¸ºå®ƒçš„é¡¹ç›®ã€‚ä¸€ä¸ªå®¹å™¨é»˜è®¤æœ‰ä¸¤æ¡è½´ï¼šä¸€ä¸ªæ˜¯æ°´å¹³çš„ä¸»è½´ï¼Œä¸€ä¸ªæ˜¯ä¸ä¸»è½´å‚ç›´çš„äº¤å‰è½´ã€‚å¯ä»¥ä½¿ç”¨flex-directionæ¥æŒ‡å®šä¸»è½´çš„æ–¹å‘ã€‚å¯ä»¥ä½¿ç”¨justify-contentæ¥æŒ‡å®šå…ƒç´ åœ¨ä¸»è½´ä¸Šçš„æ’åˆ—æ–¹å¼ï¼Œä½¿ç”¨align-itemsæ¥æŒ‡å®šå…ƒç´ åœ¨äº¤å‰è½´ä¸Šçš„æ’åˆ—æ–¹å¼ã€‚è¿˜å¯ä»¥ä½¿ç”¨flex-wrapæ¥è§„å®šå½“ä¸€è¡Œæ’åˆ—ä¸ä¸‹æ—¶çš„æ¢è¡Œæ–¹å¼ã€‚å¯¹äºå®¹å™¨ä¸­çš„é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨orderå±æ€§æ¥æŒ‡å®šé¡¹ç›®çš„æ’åˆ—é¡ºåºï¼Œè¿˜å¯ä»¥ä½¿ç”¨flex-growæ¥æŒ‡å®šå½“æ’åˆ—ç©ºé—´æœ‰å‰©ä½™çš„æ—¶å€™ï¼Œé¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œè¿˜å¯ä»¥ä½¿ç”¨flex-shrinkæ¥æŒ‡å®šå½“æ’åˆ—ç©ºé—´ä¸è¶³æ—¶ï¼Œé¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ã€‚</p><h3 id="8-å“åº”å¼è®¾è®¡çš„æ¦‚å¿µåŠåŸºæœ¬åŸç†"><a href="#8-å“åº”å¼è®¾è®¡çš„æ¦‚å¿µåŠåŸºæœ¬åŸç†" class="headerlink" title="8. å“åº”å¼è®¾è®¡çš„æ¦‚å¿µåŠåŸºæœ¬åŸç†"></a>8. å“åº”å¼è®¾è®¡çš„æ¦‚å¿µåŠåŸºæœ¬åŸç†</h3><p>å“åº”å¼ç½‘ç«™è®¾è®¡<code>ï¼ˆResponsive Web design</code>ï¼‰æ˜¯ä¸€ä¸ªç½‘ç«™èƒ½å¤Ÿå…¼å®¹å¤šä¸ªç»ˆç«¯ï¼Œè€Œä¸æ˜¯ä¸ºæ¯ä¸€ä¸ªç»ˆç«¯åšä¸€ä¸ªç‰¹å®šçš„ç‰ˆæœ¬ã€‚</p><p>å…³äºåŸç†ï¼š åŸºæœ¬åŸç†æ˜¯é€šè¿‡åª’ä½“æŸ¥è¯¢<code>ï¼ˆ@mediaï¼‰</code>æŸ¥è¯¢æ£€æµ‹ä¸åŒçš„è®¾å¤‡å±å¹•å°ºå¯¸åšå¤„ç†ã€‚ å…³äºå…¼å®¹ï¼š é¡µé¢å¤´éƒ¨å¿…é¡»æœ‰mateå£°æ˜çš„<code>viewport</code>ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;â€™viewportâ€™&quot;</span> <span class="attr">content</span>=<span class="string">&quot;â€width=device-width,&quot;</span> <span class="attr">initial-scale</span>=<span class="string">&quot;1.&quot;</span> <span class="attr">maximum-scale</span>=<span class="string">&quot;1,user-scalable=noâ€&quot;</span>/&gt;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€å®šä½ä¸æµ®åŠ¨"><a href="#ä¸‰ã€å®šä½ä¸æµ®åŠ¨" class="headerlink" title="ä¸‰ã€å®šä½ä¸æµ®åŠ¨"></a>ä¸‰ã€å®šä½ä¸æµ®åŠ¨</h2><h3 id="1-ä¸ºä»€ä¹ˆéœ€è¦æ¸…é™¤æµ®åŠ¨ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æ–¹å¼"><a href="#1-ä¸ºä»€ä¹ˆéœ€è¦æ¸…é™¤æµ®åŠ¨ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æ–¹å¼" class="headerlink" title="1. ä¸ºä»€ä¹ˆéœ€è¦æ¸…é™¤æµ®åŠ¨ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æ–¹å¼"></a>1. ä¸ºä»€ä¹ˆéœ€è¦æ¸…é™¤æµ®åŠ¨ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æ–¹å¼</h3><p><strong>æµ®åŠ¨çš„å®šä¹‰ï¼š</strong> éIEæµè§ˆå™¨ä¸‹ï¼Œå®¹å™¨ä¸è®¾é«˜åº¦ä¸”å­å…ƒç´ æµ®åŠ¨æ—¶ï¼Œå®¹å™¨é«˜åº¦ä¸èƒ½è¢«å†…å®¹æ’‘å¼€ã€‚ æ­¤æ—¶ï¼Œå†…å®¹ä¼šæº¢å‡ºåˆ°å®¹å™¨å¤–é¢è€Œå½±å“å¸ƒå±€ã€‚è¿™ç§ç°è±¡è¢«ç§°ä¸ºæµ®åŠ¨ï¼ˆæº¢å‡ºï¼‰ã€‚</p><p><strong>æµ®åŠ¨çš„å·¥ä½œåŸç†ï¼š</strong></p><ul><li>æµ®åŠ¨å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œä¸å æ®ç©ºé—´ï¼ˆå¼•èµ·â€œé«˜åº¦å¡Œé™·â€ç°è±¡ï¼‰</li><li>æµ®åŠ¨å…ƒç´ ç¢°åˆ°åŒ…å«å®ƒçš„è¾¹æ¡†æˆ–è€…å…¶ä»–æµ®åŠ¨å…ƒç´ çš„è¾¹æ¡†åœç•™</li></ul><p>æµ®åŠ¨å…ƒç´ å¯ä»¥å·¦å³ç§»åŠ¨ï¼Œç›´åˆ°é‡åˆ°å¦ä¸€ä¸ªæµ®åŠ¨å…ƒç´ æˆ–è€…é‡åˆ°å®ƒå¤–è¾¹ç¼˜çš„åŒ…å«æ¡†ã€‚æµ®åŠ¨æ¡†ä¸å±äºæ–‡æ¡£æµä¸­çš„æ™®é€šæµï¼Œå½“å…ƒç´ æµ®åŠ¨ä¹‹åï¼Œä¸ä¼šå½±å“å—çº§å…ƒç´ çš„å¸ƒå±€ï¼Œåªä¼šå½±å“å†…è”å…ƒç´ å¸ƒå±€ã€‚æ­¤æ—¶æ–‡æ¡£æµä¸­çš„æ™®é€šæµå°±ä¼šè¡¨ç°å¾—è¯¥æµ®åŠ¨æ¡†ä¸å­˜åœ¨ä¸€æ ·çš„å¸ƒå±€æ¨¡å¼ã€‚å½“åŒ…å«æ¡†çš„é«˜åº¦å°äºæµ®åŠ¨æ¡†çš„æ—¶å€™ï¼Œæ­¤æ—¶å°±ä¼šå‡ºç°â€œé«˜åº¦å¡Œé™·â€ã€‚</p><p><strong>æµ®åŠ¨å…ƒç´ å¼•èµ·çš„é—®é¢˜ï¼Ÿ</strong></p><ul><li>çˆ¶å…ƒç´ çš„é«˜åº¦æ— æ³•è¢«æ’‘å¼€ï¼Œå½±å“ä¸çˆ¶å…ƒç´ åŒçº§çš„å…ƒç´ </li><li>ä¸æµ®åŠ¨å…ƒç´ åŒçº§çš„éæµ®åŠ¨å…ƒç´ ä¼šè·Ÿéšå…¶å</li><li>è‹¥æµ®åŠ¨çš„å…ƒç´ ä¸æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™è¯¥å…ƒç´ ä¹‹å‰çš„å…ƒç´ ä¹Ÿè¦æµ®åŠ¨ï¼Œå¦åˆ™ä¼šå½±å“é¡µé¢çš„æ˜¾ç¤ºç»“æ„</li></ul><p><strong>æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼å¦‚ä¸‹ï¼š</strong></p><ul><li>ç»™çˆ¶çº§divå®šä¹‰<code>height</code>å±æ€§</li><li>æœ€åä¸€ä¸ªæµ®åŠ¨å…ƒç´ ä¹‹åæ·»åŠ ä¸€ä¸ªç©ºçš„divæ ‡ç­¾ï¼Œå¹¶æ·»åŠ <code>clear:both</code>æ ·å¼</li><li>åŒ…å«æµ®åŠ¨å…ƒç´ çš„çˆ¶çº§æ ‡ç­¾æ·»åŠ <code>overflow:hidden</code>æˆ–è€…<code>overflow:auto</code></li><li>ä½¿ç”¨ :after ä¼ªå…ƒç´ ã€‚ç”±äºIE6-7ä¸æ”¯æŒ :afterï¼Œä½¿ç”¨ zoom:1 è§¦å‘ hasLayout**</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span>:after&#123;</span><br><span class="line">    content: <span class="string">&quot;\200B&quot;</span>;</span><br><span class="line">    <span class="attribute">display</span>: table; </span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.clearfix</span>&#123;</span><br><span class="line">    *zoom: <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="2-ä½¿ç”¨-clear-å±æ€§æ¸…é™¤æµ®åŠ¨çš„åŸç†ï¼Ÿ"><a href="#2-ä½¿ç”¨-clear-å±æ€§æ¸…é™¤æµ®åŠ¨çš„åŸç†ï¼Ÿ" class="headerlink" title="2. ä½¿ç”¨ clear å±æ€§æ¸…é™¤æµ®åŠ¨çš„åŸç†ï¼Ÿ"></a>2. ä½¿ç”¨ clear å±æ€§æ¸…é™¤æµ®åŠ¨çš„åŸç†ï¼Ÿ</h3><p>ä½¿ç”¨clearå±æ€§æ¸…é™¤æµ®åŠ¨ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">clear</span>:none|left|right|both</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœå•çœ‹å­—é¢æ„æ€ï¼Œclear:left æ˜¯â€œæ¸…é™¤å·¦æµ®åŠ¨â€ï¼Œclear:right æ˜¯â€œæ¸…é™¤å³æµ®åŠ¨â€ï¼Œå®é™…ä¸Šï¼Œè¿™ç§è§£é‡Šæ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºæµ®åŠ¨ä¸€ç›´è¿˜åœ¨ï¼Œå¹¶æ²¡æœ‰æ¸…é™¤ã€‚</p><p>å®˜æ–¹å¯¹clearå±æ€§è§£é‡Šï¼šâ€œ<strong>å…ƒç´ ç›’å­çš„è¾¹ä¸èƒ½å’Œå‰é¢çš„æµ®åŠ¨å…ƒç´ ç›¸é‚»</strong>â€ï¼Œå¯¹å…ƒç´ è®¾ç½®clearå±æ€§æ˜¯ä¸ºäº†é¿å…æµ®åŠ¨å…ƒç´ å¯¹è¯¥å…ƒç´ çš„å½±å“ï¼Œè€Œä¸æ˜¯æ¸…é™¤æ‰æµ®åŠ¨ã€‚</p><p>è¿˜éœ€è¦æ³¨æ„ clear å±æ€§æŒ‡çš„æ˜¯å…ƒç´ ç›’å­çš„è¾¹ä¸èƒ½å’Œå‰é¢çš„æµ®åŠ¨å…ƒç´ ç›¸é‚»ï¼Œæ³¨æ„è¿™é‡Œâ€œ<strong>å‰é¢çš„</strong>â€3ä¸ªå­—ï¼Œä¹Ÿå°±æ˜¯clearå±æ€§å¯¹â€œåé¢çš„â€æµ®åŠ¨å…ƒç´ æ˜¯ä¸é—»ä¸é—®çš„ã€‚è€ƒè™‘åˆ°floatå±æ€§è¦ä¹ˆæ˜¯leftï¼Œè¦ä¹ˆæ˜¯rightï¼Œä¸å¯èƒ½åŒæ—¶å­˜åœ¨ï¼ŒåŒæ—¶ç”±äºclearå±æ€§å¯¹â€œåé¢çš„â€æµ®åŠ¨å…ƒç´ ä¸é—»ä¸é—®ï¼Œå› æ­¤ï¼Œå½“clear:leftæœ‰æ•ˆçš„æ—¶å€™ï¼Œclear:rightå¿…å®šæ— æ•ˆï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶clear:leftç­‰åŒäºè®¾ç½®clear:bothï¼›åŒæ ·åœ°ï¼Œclear:rightå¦‚æœæœ‰æ•ˆä¹Ÿæ˜¯ç­‰åŒäºè®¾ç½®clear:bothã€‚ç”±æ­¤å¯è§ï¼Œclear:leftå’Œclear:rightè¿™ä¸¤ä¸ªå£°æ˜å°±æ²¡æœ‰ä»»ä½•ä½¿ç”¨çš„ä»·å€¼ï¼Œè‡³å°‘åœ¨CSSä¸–ç•Œä¸­æ˜¯å¦‚æ­¤ï¼Œç›´æ¥ä½¿ç”¨clear:bothå§ã€‚</p><p>ä¸€èˆ¬ä½¿ç”¨ä¼ªå…ƒç´ çš„æ–¹å¼æ¸…é™¤æµ®åŠ¨ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clear</span><span class="selector-pseudo">::after</span>&#123;  <span class="attribute">content</span>:<span class="string">&#x27;&#x27;</span>;  <span class="attribute">display</span>: block;   <span class="attribute">clear</span>:both;&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>clearå±æ€§åªæœ‰å—çº§å…ƒç´ æ‰æœ‰æ•ˆçš„ï¼Œè€Œ::afterç­‰ä¼ªå…ƒç´ é»˜è®¤éƒ½æ˜¯å†…è”æ°´å¹³ï¼Œè¿™å°±æ˜¯å€ŸåŠ©ä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨å½±å“æ—¶éœ€è¦è®¾ç½®displayå±æ€§å€¼çš„åŸå› ã€‚</p><h3 id="3-å¯¹BFCçš„ç†è§£ï¼Œå¦‚ä½•åˆ›å»ºBFC"><a href="#3-å¯¹BFCçš„ç†è§£ï¼Œå¦‚ä½•åˆ›å»ºBFC" class="headerlink" title="3. å¯¹BFCçš„ç†è§£ï¼Œå¦‚ä½•åˆ›å»ºBFC"></a>3. å¯¹BFCçš„ç†è§£ï¼Œå¦‚ä½•åˆ›å»ºBFC</h3><p>å…ˆæ¥çœ‹ä¸¤ä¸ªç›¸å…³çš„æ¦‚å¿µï¼š</p><ul><li>Box: Box æ˜¯ CSS å¸ƒå±€çš„å¯¹è±¡å’ŒåŸºæœ¬å•ä½ï¼Œâ¼€ä¸ªâ»šâ¾¯æ˜¯ç”±å¾ˆå¤šä¸ª Box ç»„æˆçš„ï¼Œè¿™ä¸ªBoxå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„ç›’æ¨¡å‹ã€‚</li><li>Formatting contextï¼šå—çº§ä¸Šä¸‹â½‚æ ¼å¼åŒ–ï¼Œå®ƒæ˜¯â»šâ¾¯ä¸­çš„â¼€å—æ¸²æŸ“åŒºåŸŸï¼Œå¹¶ä¸”æœ‰â¼€å¥—æ¸²æŸ“è§„åˆ™ï¼Œå®ƒå†³å®šäº†å…¶â¼¦å…ƒç´ å°†å¦‚ä½•å®šä½ï¼Œä»¥åŠå’Œå…¶ä»–å…ƒç´ çš„å…³ç³»å’Œç›¸äº’ä½œâ½¤ã€‚</li></ul><p>å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ˆBlock Formatting Contextï¼ŒBFCï¼‰æ˜¯Webé¡µé¢çš„å¯è§†åŒ–CSSæ¸²æŸ“çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯å¸ƒå±€è¿‡ç¨‹ä¸­ç”Ÿæˆå—çº§ç›’å­çš„åŒºåŸŸï¼Œä¹Ÿæ˜¯æµ®åŠ¨å…ƒç´ ä¸å…¶ä»–å…ƒç´ çš„äº¤äº’é™å®šåŒºåŸŸã€‚</p><p>é€šä¿—æ¥è®²ï¼šBFCæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¸ƒå±€ç¯å¢ƒï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå®¹å™¨ï¼Œåœ¨è¿™ä¸ªå®¹å™¨ä¸­æŒ‰ç…§ä¸€å®šè§„åˆ™è¿›è¡Œç‰©å“æ‘†æ”¾ï¼Œå¹¶ä¸”ä¸ä¼šå½±å“å…¶å®ƒç¯å¢ƒä¸­çš„ç‰©å“ã€‚å¦‚æœä¸€ä¸ªå…ƒç´ ç¬¦åˆè§¦å‘BFCçš„æ¡ä»¶ï¼Œåˆ™BFCä¸­çš„å…ƒç´ å¸ƒå±€ä¸å—å¤–éƒ¨å½±å“ã€‚</p><p><strong>åˆ›å»ºBFCçš„æ¡ä»¶ï¼š</strong></p><ul><li>æ ¹å…ƒç´ ï¼šbodyï¼›</li><li>å…ƒç´ è®¾ç½®æµ®åŠ¨ï¼šfloat é™¤ none ä»¥å¤–çš„å€¼ï¼›</li><li>å…ƒç´ è®¾ç½®ç»å¯¹å®šä½ï¼šposition (absoluteã€fixed)ï¼›</li><li>display å€¼ä¸ºï¼šinline-blockã€table-cellã€table-captionã€flexç­‰ï¼›</li><li>overflow å€¼ä¸ºï¼šhiddenã€autoã€scrollï¼›</li></ul><p><strong>BFCçš„ç‰¹ç‚¹ï¼š</strong></p><ul><li>å‚ç›´æ–¹å‘ä¸Šï¼Œè‡ªä¸Šè€Œä¸‹æ’åˆ—ï¼Œå’Œæ–‡æ¡£æµçš„æ’åˆ—æ–¹å¼ä¸€è‡´ã€‚</li><li>åœ¨BFCä¸­ä¸Šä¸‹ç›¸é‚»çš„ä¸¤ä¸ªå®¹å™¨çš„marginä¼šé‡å </li><li>è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œéœ€è¦è®¡ç®—æµ®åŠ¨å…ƒç´ çš„é«˜åº¦</li><li>BFCåŒºåŸŸä¸ä¼šä¸æµ®åŠ¨çš„å®¹å™¨å‘ç”Ÿé‡å </li><li>BFCæ˜¯ç‹¬ç«‹çš„å®¹å™¨ï¼Œå®¹å™¨å†…éƒ¨å…ƒç´ ä¸ä¼šå½±å“å¤–éƒ¨å…ƒç´ </li><li>æ¯ä¸ªå…ƒç´ çš„å·¦marginå€¼å’Œå®¹å™¨çš„å·¦borderç›¸æ¥è§¦</li></ul><p><strong>BFCçš„ä½œç”¨ï¼š</strong></p><ul><li><strong>è§£å†³marginçš„é‡å é—®é¢˜</strong>ï¼šç”±äºBFCæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åŒºåŸŸï¼Œå†…éƒ¨çš„å…ƒç´ å’Œå¤–éƒ¨çš„å…ƒç´ äº’ä¸å½±å“ï¼Œå°†ä¸¤ä¸ªå…ƒç´ å˜ä¸ºä¸¤ä¸ªBFCï¼Œå°±è§£å†³äº†marginé‡å çš„é—®é¢˜ã€‚</li><li><strong>è§£å†³é«˜åº¦å¡Œé™·çš„é—®é¢˜</strong>ï¼šåœ¨å¯¹å­å…ƒç´ è®¾ç½®æµ®åŠ¨åï¼Œçˆ¶å…ƒç´ ä¼šå‘ç”Ÿé«˜åº¦å¡Œé™·ï¼Œä¹Ÿå°±æ˜¯çˆ¶å…ƒç´ çš„é«˜åº¦å˜ä¸º0ã€‚è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦æŠŠçˆ¶å…ƒç´ å˜æˆä¸€ä¸ªBFCã€‚å¸¸ç”¨çš„åŠæ³•æ˜¯ç»™çˆ¶å…ƒç´ è®¾ç½®<code>overflow:hidden</code>ã€‚</li><li><strong>åˆ›å»ºè‡ªé€‚åº”ä¸¤æ å¸ƒå±€</strong>ï¼šå¯ä»¥ç”¨æ¥åˆ›å»ºè‡ªé€‚åº”ä¸¤æ å¸ƒå±€ï¼šå·¦è¾¹çš„å®½åº¦å›ºå®šï¼Œå³è¾¹çš„å®½åº¦è‡ªé€‚åº”ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">     <span class="attribute">background</span>: red;</span><br><span class="line">     <span class="attribute">float</span>: left;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="selector-class">.right</span>&#123;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">     <span class="attribute">background</span>: blue;</span><br><span class="line">     <span class="attribute">overflow</span>: hidden;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;<span class="attribute">left</span>&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;<span class="attribute">right</span>&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å·¦ä¾§è®¾ç½®<code>float:left</code>ï¼Œå³ä¾§è®¾ç½®<code>overflow: hidden</code>ã€‚è¿™æ ·å³è¾¹å°±è§¦å‘äº†BFCï¼ŒBFCçš„åŒºåŸŸä¸ä¼šä¸æµ®åŠ¨å…ƒç´ å‘ç”Ÿé‡å ï¼Œæ‰€ä»¥ä¸¤ä¾§å°±ä¸ä¼šå‘ç”Ÿé‡å ï¼Œå®ç°äº†è‡ªé€‚åº”ä¸¤æ å¸ƒå±€ã€‚</p><h3 id="4-ä»€ä¹ˆæ˜¯marginé‡å é—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"><a href="#4-ä»€ä¹ˆæ˜¯marginé‡å é—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ" class="headerlink" title="4. ä»€ä¹ˆæ˜¯marginé‡å é—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"></a>4. ä»€ä¹ˆæ˜¯marginé‡å é—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong> ä¸¤ä¸ªå—çº§å…ƒç´ çš„ä¸Šå¤–è¾¹è·å’Œä¸‹å¤–è¾¹è·å¯èƒ½ä¼šåˆå¹¶ï¼ˆæŠ˜å ï¼‰ä¸ºä¸€ä¸ªå¤–è¾¹è·ï¼Œå…¶å¤§å°ä¼šå–å…¶ä¸­å¤–è¾¹è·å€¼å¤§çš„é‚£ä¸ªï¼Œè¿™ç§è¡Œä¸ºå°±æ˜¯å¤–è¾¹è·æŠ˜å ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>æµ®åŠ¨çš„å…ƒç´ å’Œç»å¯¹å®šä½</strong>è¿™ç§è„±ç¦»æ–‡æ¡£æµçš„å…ƒç´ çš„å¤–è¾¹è·ä¸ä¼šæŠ˜å ã€‚é‡å åªä¼šå‡ºç°åœ¨<strong>å‚ç›´æ–¹å‘</strong>ã€‚</p><p><strong>è®¡ç®—åŸåˆ™ï¼š</strong> æŠ˜å åˆå¹¶åå¤–è¾¹è·çš„è®¡ç®—åŸåˆ™å¦‚ä¸‹ï¼š</p><ul><li>å¦‚æœä¸¤è€…éƒ½æ˜¯æ­£æ•°ï¼Œé‚£ä¹ˆå°±å»æœ€å¤§è€…</li><li>å¦‚æœæ˜¯ä¸€æ­£ä¸€è´Ÿï¼Œå°±ä¼šæ­£å€¼å‡å»è´Ÿå€¼çš„ç»å¯¹å€¼</li><li>ä¸¤ä¸ªéƒ½æ˜¯è´Ÿå€¼æ—¶ï¼Œç”¨0å‡å»ä¸¤ä¸ªä¸­ç»å¯¹å€¼å¤§çš„é‚£ä¸ª</li></ul><p><strong>è§£å†³åŠæ³•ï¼š</strong> å¯¹äºæŠ˜å çš„æƒ…å†µï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼š<strong>å…„å¼Ÿä¹‹é—´é‡å </strong>å’Œ<strong>çˆ¶å­ä¹‹é—´é‡å </strong> ï¼ˆ1ï¼‰å…„å¼Ÿä¹‹é—´é‡å </p><ul><li>åº•éƒ¨å…ƒç´ å˜ä¸ºè¡Œå†…ç›’å­ï¼š<code>display: inline-block</code></li><li>åº•éƒ¨å…ƒç´ è®¾ç½®æµ®åŠ¨ï¼š<code>float</code></li><li>åº•éƒ¨å…ƒç´ çš„positionçš„å€¼ä¸º<code>absolute/fixed</code></li></ul><p>ï¼ˆ2ï¼‰çˆ¶å­ä¹‹é—´é‡å </p><ul><li>çˆ¶å…ƒç´ åŠ å…¥ï¼š<code>overflow: hidden</code></li><li>çˆ¶å…ƒç´ æ·»åŠ é€æ˜è¾¹æ¡†ï¼š<code>border:1px solid transparent</code></li><li>å­å…ƒç´ å˜ä¸ºè¡Œå†…ç›’å­ï¼š<code>display: inline-block</code></li><li>å­å…ƒç´ åŠ å…¥æµ®åŠ¨å±æ€§æˆ–å®šä½</li></ul><h3 id="5-å…ƒç´ çš„å±‚å é¡ºåº"><a href="#5-å…ƒç´ çš„å±‚å é¡ºåº" class="headerlink" title="5. å…ƒç´ çš„å±‚å é¡ºåº"></a>5. å…ƒç´ çš„å±‚å é¡ºåº</h3><p>å±‚å é¡ºåºï¼Œè‹±æ–‡ç§°ä½œ stacking orderï¼Œè¡¨ç¤ºå…ƒç´ å‘ç”Ÿå±‚å æ—¶æœ‰ç€ç‰¹å®šçš„å‚ç›´æ˜¾ç¤ºé¡ºåºã€‚ä¸‹é¢æ˜¯ç›’æ¨¡å‹çš„å±‚å è§„åˆ™ï¼š <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221922320.webp" alt="img"> å¯¹äºä¸Šå›¾ï¼Œç”±ä¸Šåˆ°ä¸‹åˆ†åˆ«æ˜¯ï¼š ï¼ˆ1ï¼‰èƒŒæ™¯å’Œè¾¹æ¡†ï¼šå»ºç«‹å½“å‰å±‚å ä¸Šä¸‹æ–‡å…ƒç´ çš„èƒŒæ™¯å’Œè¾¹æ¡†ã€‚ ï¼ˆ2ï¼‰è´Ÿçš„z-indexï¼šå½“å‰å±‚å ä¸Šä¸‹æ–‡ä¸­ï¼Œz-indexå±æ€§å€¼ä¸ºè´Ÿçš„å…ƒç´ ã€‚ ï¼ˆ3ï¼‰å—çº§ç›’ï¼šæ–‡æ¡£æµå†…éè¡Œå†…çº§éå®šä½åä»£å…ƒç´ ã€‚ ï¼ˆ4ï¼‰æµ®åŠ¨ç›’ï¼šéå®šä½æµ®åŠ¨å…ƒç´ ã€‚ ï¼ˆ5ï¼‰è¡Œå†…ç›’ï¼šæ–‡æ¡£æµå†…è¡Œå†…çº§éå®šä½åä»£å…ƒç´ ã€‚ ï¼ˆ6ï¼‰z-index:0ï¼šå±‚å çº§æ•°ä¸º0çš„å®šä½å…ƒç´ ã€‚ ï¼ˆ7)æ­£z-indexï¼šz-indexå±æ€§å€¼ä¸ºæ­£çš„å®šä½å…ƒç´ ã€‚</p><p><strong>æ³¨æ„:</strong> å½“å®šä½å…ƒç´ z-index:autoï¼Œç”Ÿæˆç›’åœ¨å½“å‰å±‚å ä¸Šä¸‹æ–‡ä¸­çš„å±‚çº§ä¸º 0ï¼Œä¸ä¼šå»ºç«‹æ–°çš„å±‚å ä¸Šä¸‹æ–‡ï¼Œé™¤éæ˜¯æ ¹å…ƒç´ ã€‚</p><h3 id="6-positionçš„å±æ€§æœ‰å“ªäº›ï¼ŒåŒºåˆ«æ˜¯ä»€ä¹ˆ"><a href="#6-positionçš„å±æ€§æœ‰å“ªäº›ï¼ŒåŒºåˆ«æ˜¯ä»€ä¹ˆ" class="headerlink" title="6. positionçš„å±æ€§æœ‰å“ªäº›ï¼ŒåŒºåˆ«æ˜¯ä»€ä¹ˆ"></a>6. positionçš„å±æ€§æœ‰å“ªäº›ï¼ŒåŒºåˆ«æ˜¯ä»€ä¹ˆ</h3><p>positionæœ‰ä»¥ä¸‹å±æ€§å€¼ï¼š</p><table><thead><tr><th>å±æ€§å€¼</th><th>æ¦‚è¿°</th></tr></thead><tbody><tr><td>absolute</td><td>ç”Ÿæˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºstaticå®šä½ä»¥å¤–çš„ä¸€ä¸ªçˆ¶å…ƒç´ è¿›è¡Œå®šä½ã€‚å…ƒç´ çš„ä½ç½®é€šè¿‡leftã€topã€rightã€bottomå±æ€§è¿›è¡Œè§„å®šã€‚</td></tr><tr><td>relative</td><td>ç”Ÿæˆç›¸å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºå…¶åŸæ¥çš„ä½ç½®è¿›è¡Œå®šä½ã€‚å…ƒç´ çš„ä½ç½®é€šè¿‡leftã€topã€rightã€bottomå±æ€§è¿›è¡Œè§„å®šã€‚</td></tr><tr><td>fixed</td><td>ç”Ÿæˆç»å¯¹å®šä½çš„å…ƒç´ ï¼ŒæŒ‡å®šå…ƒç´ ç›¸å¯¹äºå±å¹•è§†â¼ï¼ˆviewportï¼‰çš„ä½ç½®æ¥æŒ‡å®šå…ƒç´ ä½ç½®ã€‚å…ƒç´ çš„ä½ç½®åœ¨å±å¹•æ»šåŠ¨æ—¶ä¸ä¼šæ”¹å˜ï¼Œâ½å¦‚å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®â¼€èˆ¬éƒ½æ˜¯â½¤æ­¤å®šä½â½…å¼ã€‚</td></tr><tr><td>static</td><td>é»˜è®¤å€¼ï¼Œæ²¡æœ‰å®šä½ï¼Œå…ƒç´ å‡ºç°åœ¨æ­£å¸¸çš„æ–‡æ¡£æµä¸­ï¼Œä¼šå¿½ç•¥ top, bottom, left, right æˆ–è€… z-index å£°æ˜ï¼Œå—çº§å…ƒç´ ä»ä¸Šå¾€ä¸‹çºµå‘æ’å¸ƒï¼Œâ¾çº§å…ƒç´ ä»å·¦å‘å³æ’åˆ—ã€‚</td></tr><tr><td>inherit</td><td>è§„å®šä»çˆ¶å…ƒç´ ç»§æ‰¿positionå±æ€§çš„å€¼</td></tr></tbody></table><p>å‰é¢ä¸‰è€…çš„å®šä½æ–¹å¼å¦‚ä¸‹ï¼š</p><ul><li><strong>relativeï¼š</strong> å…ƒç´ çš„å®šä½æ°¸è¿œæ˜¯ç›¸å¯¹äºå…ƒç´ è‡ªèº«ä½ç½®çš„ï¼Œå’Œå…¶ä»–å…ƒç´ æ²¡å…³ç³»ï¼Œä¹Ÿä¸ä¼šå½±å“å…¶ä»–å…ƒç´ ã€‚</li></ul><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221921935.webp" alt="img"></p><ul><li><strong>fixedï¼š</strong> å…ƒç´ çš„å®šä½æ˜¯ç›¸å¯¹äº window ï¼ˆæˆ–è€… iframeï¼‰è¾¹ç•Œçš„ï¼Œå’Œå…¶ä»–å…ƒç´ æ²¡æœ‰å…³ç³»ã€‚ä½†æ˜¯å®ƒå…·æœ‰ç ´åæ€§ï¼Œä¼šå¯¼è‡´å…¶ä»–å…ƒç´ ä½ç½®çš„å˜åŒ–ã€‚</li></ul><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221922602.webp" alt="img"></p><ul><li><strong>absoluteï¼š</strong> å…ƒç´ çš„å®šä½ç›¸å¯¹äºå‰ä¸¤è€…è¦å¤æ‚è®¸å¤šã€‚å¦‚æœä¸º absolute è®¾ç½®äº† topã€leftï¼Œæµè§ˆå™¨ä¼šæ ¹æ®ä»€ä¹ˆå»ç¡®å®šå®ƒçš„çºµå‘å’Œæ¨ªå‘çš„åç§»é‡å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æµè§ˆå™¨ä¼šé€’å½’æŸ¥æ‰¾è¯¥å…ƒç´ çš„æ‰€æœ‰çˆ¶å…ƒç´ ï¼Œå¦‚æœæ‰¾åˆ°ä¸€ä¸ªè®¾ç½®äº†<code>position:relative/absolute/fixed</code>çš„å…ƒç´ ï¼Œå°±ä»¥è¯¥å…ƒç´ ä¸ºåŸºå‡†å®šä½ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œå°±ä»¥æµè§ˆå™¨è¾¹ç•Œå®šä½ã€‚å¦‚ä¸‹ä¸¤ä¸ªå›¾æ‰€ç¤ºï¼š</li></ul><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221922208.webp" alt="img"> <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221922865.webp" alt="img"></p><h3 id="7-displayã€floatã€positionçš„å…³ç³»"><a href="#7-displayã€floatã€positionçš„å…³ç³»" class="headerlink" title="7. displayã€floatã€positionçš„å…³ç³»"></a>7. <strong>displayã€floatã€positionçš„å…³ç³»</strong></h3><p>ï¼ˆ1ï¼‰é¦–å…ˆåˆ¤æ–­displayå±æ€§æ˜¯å¦ä¸ºnoneï¼Œå¦‚æœä¸ºnoneï¼Œåˆ™positionå’Œfloatå±æ€§çš„å€¼ä¸å½±å“å…ƒç´ æœ€åçš„è¡¨ç°ã€‚</p><p>ï¼ˆ2ï¼‰ç„¶ååˆ¤æ–­positionçš„å€¼æ˜¯å¦ä¸ºabsoluteæˆ–è€…fixedï¼Œå¦‚æœæ˜¯ï¼Œåˆ™floatå±æ€§å¤±æ•ˆï¼Œå¹¶ä¸”displayçš„å€¼åº”è¯¥è¢«è®¾ç½®ä¸ºtableæˆ–è€…blockï¼Œå…·ä½“è½¬æ¢éœ€è¦çœ‹åˆå§‹è½¬æ¢å€¼ã€‚</p><p>ï¼ˆ3ï¼‰å¦‚æœpositionçš„å€¼ä¸ä¸ºabsoluteæˆ–è€…fixedï¼Œåˆ™åˆ¤æ–­floatå±æ€§çš„å€¼æ˜¯å¦ä¸ºnoneï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™displayçš„å€¼åˆ™æŒ‰ä¸Šé¢çš„è§„åˆ™è½¬æ¢ã€‚æ³¨æ„ï¼Œå¦‚æœpositionçš„å€¼ä¸ºrelativeå¹¶ä¸”floatå±æ€§çš„å€¼å­˜åœ¨ï¼Œåˆ™relativeç›¸å¯¹äºæµ®åŠ¨åçš„æœ€ç»ˆä½ç½®å®šä½ã€‚</p><p>ï¼ˆ4ï¼‰å¦‚æœfloatçš„å€¼ä¸ºnoneï¼Œåˆ™åˆ¤æ–­å…ƒç´ æ˜¯å¦ä¸ºæ ¹å…ƒç´ ï¼Œå¦‚æœæ˜¯æ ¹å…ƒç´ åˆ™displayå±æ€§æŒ‰ç…§ä¸Šé¢çš„è§„åˆ™è½¬æ¢ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™ä¿æŒæŒ‡å®šçš„displayå±æ€§å€¼ä¸å˜ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œå¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ä¸€ä¸ªç±»ä¼¼ä¼˜å…ˆçº§çš„æœºåˆ¶ï¼Œâ€position:absoluteâ€å’Œâ€position:fixedâ€ä¼˜å…ˆçº§æœ€é«˜ï¼Œæœ‰å®ƒå­˜åœ¨çš„æ—¶å€™ï¼Œæµ®åŠ¨ä¸èµ·ä½œç”¨ï¼Œâ€™displayâ€™çš„å€¼ä¹Ÿéœ€è¦è°ƒæ•´ï¼›å…¶æ¬¡ï¼Œå…ƒç´ çš„â€™floatâ€™ç‰¹æ€§çš„å€¼ä¸æ˜¯â€noneâ€çš„æ—¶å€™æˆ–è€…å®ƒæ˜¯æ ¹å…ƒç´ çš„æ—¶å€™ï¼Œè°ƒæ•´â€™displayâ€™çš„å€¼ï¼›æœ€åï¼Œéæ ¹å…ƒç´ ï¼Œå¹¶ä¸”éæµ®åŠ¨å…ƒç´ ï¼Œå¹¶ä¸”éç»å¯¹å®šä½çš„å…ƒç´ ï¼Œâ€™displayâ€™ç‰¹æ€§å€¼åŒè®¾ç½®å€¼ã€‚</p><h3 id="8-absoluteä¸fixedå…±åŒç‚¹ä¸ä¸åŒç‚¹"><a href="#8-absoluteä¸fixedå…±åŒç‚¹ä¸ä¸åŒç‚¹" class="headerlink" title="8. absoluteä¸fixedå…±åŒç‚¹ä¸ä¸åŒç‚¹"></a>8. absoluteä¸fixedå…±åŒç‚¹ä¸ä¸åŒç‚¹</h3><p><strong>å…±åŒç‚¹ï¼š</strong></p><ul><li>æ”¹å˜è¡Œå†…å…ƒç´ çš„å‘ˆç°æ–¹å¼ï¼Œå°†displayç½®ä¸ºinline-block </li><li>ä½¿å…ƒç´ è„±ç¦»æ™®é€šæ–‡æ¡£æµï¼Œä¸å†å æ®æ–‡æ¡£ç‰©ç†ç©ºé—´</li><li>è¦†ç›–éå®šä½æ–‡æ¡£å…ƒç´ </li></ul><p><strong>ä¸åŒç‚¹ï¼š</strong></p><ul><li>abuseluteä¸fixedçš„æ ¹å…ƒç´ ä¸åŒï¼Œabuseluteçš„æ ¹å…ƒç´ å¯ä»¥è®¾ç½®ï¼Œfixedæ ¹å…ƒç´ æ˜¯æµè§ˆå™¨ã€‚</li><li>åœ¨æœ‰æ»šåŠ¨æ¡çš„é¡µé¢ä¸­ï¼Œabsoluteä¼šè·Ÿç€çˆ¶å…ƒç´ è¿›è¡Œç§»åŠ¨ï¼Œfixedå›ºå®šåœ¨é¡µé¢çš„å…·ä½“ä½ç½®ã€‚</li></ul><h3 id="9-å¯¹-sticky-å®šä½çš„ç†è§£"><a href="#9-å¯¹-sticky-å®šä½çš„ç†è§£" class="headerlink" title="9. å¯¹ sticky å®šä½çš„ç†è§£"></a>9. å¯¹ sticky å®šä½çš„ç†è§£</h3><p>sticky è‹±æ–‡å­—é¢æ„æ€æ˜¯ç²˜è´´ï¼Œæ‰€ä»¥å¯ä»¥æŠŠå®ƒç§°ä¹‹ä¸ºç²˜æ€§å®šä½ã€‚è¯­æ³•ï¼š<strong>position: sticky;</strong> åŸºäºç”¨æˆ·çš„æ»šåŠ¨ä½ç½®æ¥å®šä½ã€‚</p><p>ç²˜æ€§å®šä½çš„å…ƒç´ æ˜¯ä¾èµ–äºç”¨æˆ·çš„æ»šåŠ¨ï¼Œåœ¨ <strong>position:relative</strong> ä¸ <strong>position:fixed</strong> å®šä½ä¹‹é—´åˆ‡æ¢ã€‚å®ƒçš„è¡Œä¸ºå°±åƒ <strong>position:relative;</strong> è€Œå½“é¡µé¢æ»šåŠ¨è¶…å‡ºç›®æ ‡åŒºåŸŸæ—¶ï¼Œå®ƒçš„è¡¨ç°å°±åƒ **position:fixed;**ï¼Œå®ƒä¼šå›ºå®šåœ¨ç›®æ ‡ä½ç½®ã€‚å…ƒç´ å®šä½è¡¨ç°ä¸ºåœ¨è·¨è¶Šç‰¹å®šé˜ˆå€¼å‰ä¸ºç›¸å¯¹å®šä½ï¼Œä¹‹åä¸ºå›ºå®šå®šä½ã€‚è¿™ä¸ªç‰¹å®šé˜ˆå€¼æŒ‡çš„æ˜¯ top, right, bottom æˆ– left ä¹‹ä¸€ï¼Œæ¢è¨€ä¹‹ï¼ŒæŒ‡å®š top, right, bottom æˆ– left å››ä¸ªé˜ˆå€¼å…¶ä¸­ä¹‹ä¸€ï¼Œæ‰å¯ä½¿ç²˜æ€§å®šä½ç”Ÿæ•ˆã€‚å¦åˆ™å…¶è¡Œä¸ºä¸ç›¸å¯¹å®šä½ç›¸åŒã€‚</p><h2 id="å››ã€åœºæ™¯åº”ç”¨"><a href="#å››ã€åœºæ™¯åº”ç”¨" class="headerlink" title="å››ã€åœºæ™¯åº”ç”¨"></a>å››ã€åœºæ™¯åº”ç”¨</h2><h3 id="1-å®ç°ä¸€ä¸ªä¸‰è§’å½¢"><a href="#1-å®ç°ä¸€ä¸ªä¸‰è§’å½¢" class="headerlink" title="1. å®ç°ä¸€ä¸ªä¸‰è§’å½¢"></a>1. å®ç°ä¸€ä¸ªä¸‰è§’å½¢</h3><p>CSSç»˜åˆ¶ä¸‰è§’å½¢ä¸»è¦ç”¨åˆ°çš„æ˜¯borderå±æ€§ï¼Œä¹Ÿå°±æ˜¯è¾¹æ¡†ã€‚</p><p>å¹³æ—¶åœ¨ç»™ç›’å­è®¾ç½®è¾¹æ¡†æ—¶ï¼Œå¾€å¾€éƒ½è®¾ç½®å¾ˆçª„ï¼Œå°±å¯èƒ½è¯¯ä»¥ä¸ºè¾¹æ¡†æ˜¯ç”±çŸ©å½¢ç»„æˆçš„ã€‚å®é™…ä¸Šï¼Œborderå±æ€§æ˜¯å³ä¸‰è§’å½¢ç»„æˆçš„ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">100px</span> solid;</span><br><span class="line">    <span class="attribute">border-color</span>: orange blue red green;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å°†å…ƒç´ çš„é•¿å®½éƒ½è®¾ç½®ä¸º0ï¼Œæ˜¾ç¤ºå‡ºæ¥çš„æ•ˆæœæ˜¯è¿™æ ·çš„ï¼š <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221921284.webp" alt="img"> æ‰€ä»¥å¯ä»¥æ ¹æ®borderè¿™ä¸ªç‰¹æ€§æ¥ç»˜åˆ¶ä¸‰è§’å½¢ï¼š <strong>ï¼ˆ1)ä¸‰è§’1</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;    <span class="attribute">width</span>: <span class="number">0</span>;    <span class="attribute">height</span>: <span class="number">0</span>;    <span class="attribute">border-top</span>: <span class="number">50px</span> solid red;    <span class="attribute">border-right</span>: <span class="number">50px</span> solid transparent;    <span class="attribute">border-left</span>: <span class="number">50px</span> solid transparent;&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221921643.webp" alt="img"> <strong>ï¼ˆ2)ä¸‰è§’2</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">50px</span> solid red;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">50px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">50px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221921447.webp" alt="img"> <strong>ï¼ˆ3)ä¸‰è§’3</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">50px</span> solid red;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">50px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">50px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221921993.webp" alt="img"> <strong>ï¼ˆ4)ä¸‰è§’4</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">50px</span> solid red;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">50px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">50px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221921400.webp" alt="img"> <strong>ï¼ˆ5)ä¸‰è§’5</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">100px</span> solid red;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">100px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221921065.webp" alt="img"> è¿˜æœ‰å¾ˆå¤šï¼Œå°±ä¸ä¸€ä¸€å®ç°äº†ï¼Œæ€»ä½“çš„åŸåˆ™å°±æ˜¯é€šè¿‡ä¸Šä¸‹å·¦å³è¾¹æ¡†æ¥æ§åˆ¶ä¸‰è§’å½¢çš„æ–¹å‘ï¼Œç”¨è¾¹æ¡†çš„å®½åº¦æ¯”æ¥æ§åˆ¶ä¸‰è§’å½¢çš„è§’åº¦ã€‚</p><h3 id="2-å®ç°ä¸€ä¸ªæ‰‡å½¢"><a href="#2-å®ç°ä¸€ä¸ªæ‰‡å½¢" class="headerlink" title="2. å®ç°ä¸€ä¸ªæ‰‡å½¢"></a>2. å®ç°ä¸€ä¸ªæ‰‡å½¢</h3><p>ç”¨CSSå®ç°æ‰‡å½¢çš„æ€è·¯å’Œä¸‰è§’å½¢åŸºæœ¬ä¸€è‡´ï¼Œå°±æ˜¯å¤šäº†ä¸€ä¸ªåœ†è§’çš„æ ·å¼ï¼Œå®ç°ä¸€ä¸ª90Â°çš„æ‰‡å½¢ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">100px</span> solid transparent;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    heigt: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">border-top-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221921625.webp" alt="img"></p><h3 id="3-å®ç°ä¸€ä¸ªå®½é«˜è‡ªé€‚åº”çš„æ­£æ–¹å½¢"><a href="#3-å®ç°ä¸€ä¸ªå®½é«˜è‡ªé€‚åº”çš„æ­£æ–¹å½¢" class="headerlink" title="3. å®ç°ä¸€ä¸ªå®½é«˜è‡ªé€‚åº”çš„æ­£æ–¹å½¢"></a>3. å®ç°ä¸€ä¸ªå®½é«˜è‡ªé€‚åº”çš„æ­£æ–¹å½¢</h3><ul><li>åˆ©ç”¨vwæ¥å®ç°ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.square</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10vw</span>;</span><br><span class="line">  <span class="attribute">background</span>: tomato;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>åˆ©ç”¨å…ƒç´ çš„margin/paddingç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹çˆ¶å…ƒç´ widthçš„æ€§è´¨æ¥å®ç°ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.square</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">background</span>: orange;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>åˆ©ç”¨å­å…ƒç´ çš„margin-topçš„å€¼æ¥å®ç°ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.square</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30%</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.square</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="4-ç”»ä¸€æ¡0-5pxçš„çº¿"><a href="#4-ç”»ä¸€æ¡0-5pxçš„çº¿" class="headerlink" title="4. ç”»ä¸€æ¡0.5pxçš„çº¿"></a>4. ç”»ä¸€æ¡0.5pxçš„çº¿</h3><ul><li><strong>é‡‡ç”¨transform: scale()çš„æ–¹å¼</strong>ï¼Œè¯¥æ–¹æ³•ç”¨æ¥å®šä¹‰å…ƒç´ çš„2D ç¼©æ”¾è½¬æ¢ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>,<span class="number">0.5</span>);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li><strong>é‡‡ç”¨meta viewportçš„æ–¹å¼</strong></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; <span class="attribute">content</span>=&quot;<span class="attribute">width</span>=device-<span class="attribute">width</span>, <span class="attribute">initial</span>-scale=<span class="number">0.5</span>, minimum-scale=<span class="number">0.5</span>, maximum-scale=<span class="number">0.5</span>&quot;/&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±èƒ½ç¼©æ”¾åˆ°åŸæ¥çš„0.5å€ï¼Œå¦‚æœæ˜¯1pxé‚£ä¹ˆå°±ä¼šå˜æˆ0.5pxã€‚viewportåªé’ˆå¯¹äºç§»åŠ¨ç«¯ï¼Œåªåœ¨ç§»åŠ¨ç«¯ä¸Šæ‰èƒ½çœ‹åˆ°æ•ˆæœ</p><h3 id="5-è®¾ç½®å°äº12pxçš„å­—ä½“"><a href="#5-è®¾ç½®å°äº12pxçš„å­—ä½“" class="headerlink" title="5. è®¾ç½®å°äº12pxçš„å­—ä½“"></a>5. è®¾ç½®å°äº12pxçš„å­—ä½“</h3><p>åœ¨è°·æ­Œä¸‹cssè®¾ç½®å­—ä½“å¤§å°ä¸º12pxåŠä»¥ä¸‹æ—¶ï¼Œæ˜¾ç¤ºéƒ½æ˜¯ä¸€æ ·å¤§å°ï¼Œéƒ½æ˜¯é»˜è®¤12pxã€‚</p><p><strong>è§£å†³åŠæ³•ï¼š</strong></p><ul><li>ä½¿ç”¨Webkitçš„å†…æ ¸çš„-webkit-text-size-adjustçš„ç§æœ‰CSSå±æ€§æ¥è§£å†³ï¼Œåªè¦åŠ äº†-webkit-text-size-adjust:none;å­—ä½“å¤§å°å°±ä¸å—é™åˆ¶äº†ã€‚ä½†æ˜¯chromeæ›´æ–°åˆ°27ç‰ˆæœ¬ä¹‹åå°±ä¸å¯ä»¥ç”¨äº†ã€‚æ‰€ä»¥é«˜ç‰ˆæœ¬chromeè°·æ­Œæµè§ˆå™¨å·²ç»ä¸å†æ”¯æŒ-webkit-text-size-adjustæ ·å¼ï¼Œæ‰€ä»¥è¦ä½¿ç”¨æ—¶å€™æ…ç”¨ã€‚</li><li>ä½¿ç”¨css3çš„transformç¼©æ”¾å±æ€§-webkit-transform:scale(0.5); æ³¨æ„-webkit-transform:scale(0.75);æ”¶ç¼©çš„æ˜¯æ•´ä¸ªå…ƒç´ çš„å¤§å°ï¼Œè¿™æ—¶å€™ï¼Œå¦‚æœæ˜¯å†…è”å…ƒç´ ï¼Œå¿…é¡»è¦å°†å†…è”å…ƒç´ è½¬æ¢æˆå—å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨displayï¼šblock/inline-block/â€¦ï¼›</li><li>ä½¿ç”¨å›¾ç‰‡ï¼šå¦‚æœæ˜¯å†…å®¹å›ºå®šä¸å˜æƒ…å†µä¸‹ï¼Œä½¿ç”¨å°†å°äº12pxæ–‡å­—å†…å®¹åˆ‡å‡ºåšå›¾ç‰‡ï¼Œè¿™æ ·ä¸å½±å“å…¼å®¹ä¹Ÿä¸å½±å“ç¾è§‚ã€‚</li></ul><h3 id="6-å¦‚ä½•è§£å†³-1px-é—®é¢˜ï¼Ÿ"><a href="#6-å¦‚ä½•è§£å†³-1px-é—®é¢˜ï¼Ÿ" class="headerlink" title="6. å¦‚ä½•è§£å†³ 1px é—®é¢˜ï¼Ÿ"></a>6. å¦‚ä½•è§£å†³ 1px é—®é¢˜ï¼Ÿ</h3><p>1px é—®é¢˜æŒ‡çš„æ˜¯ï¼šåœ¨ä¸€äº› <code>Retinaå±å¹•</code> çš„æœºå‹ä¸Šï¼Œç§»åŠ¨ç«¯é¡µé¢çš„ 1px ä¼šå˜å¾—å¾ˆç²—ï¼Œå‘ˆç°å‡ºä¸æ­¢ 1px çš„æ•ˆæœã€‚åŸå› å¾ˆç®€å•â€”â€”CSS ä¸­çš„ 1px å¹¶ä¸èƒ½å’Œç§»åŠ¨è®¾å¤‡ä¸Šçš„ 1px åˆ’ç­‰å·ã€‚å®ƒä»¬ä¹‹é—´çš„æ¯”ä¾‹å…³ç³»æœ‰ä¸€ä¸ªä¸“é—¨çš„å±æ€§æ¥æè¿°ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.devicePixelRatio = è®¾å¤‡çš„ç‰©ç†åƒç´  / CSSåƒç´ ã€‚</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ‰“å¼€ Chrome æµè§ˆå™¨ï¼Œå¯åŠ¨ç§»åŠ¨ç«¯è°ƒè¯•æ¨¡å¼ï¼Œåœ¨æ§åˆ¶å°å»è¾“å‡ºè¿™ä¸ª <code>devicePixelRatio</code> çš„å€¼ã€‚è¿™é‡Œé€‰ä¸­ iPhone6/7/8 è¿™ç³»åˆ—çš„æœºå‹ï¼Œè¾“å‡ºçš„ç»“æœå°±æ˜¯2ï¼š <img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203221921167.webp" alt="img"> è¿™å°±æ„å‘³ç€è®¾ç½®çš„ 1px CSS åƒç´ ï¼Œåœ¨è¿™ä¸ªè®¾å¤‡ä¸Šå®é™…ä¼šç”¨ 2 ä¸ªç‰©ç†åƒç´ å•å…ƒæ¥è¿›è¡Œæ¸²æŸ“ï¼Œæ‰€ä»¥å®é™…çœ‹åˆ°çš„ä¸€å®šä¼šæ¯” 1px ç²—ä¸€äº›ã€‚ <strong>è§£å†³1px é—®é¢˜çš„ä¸‰ç§æ€è·¯ï¼š</strong></p><h4 id="æ€è·¯ä¸€ï¼šç›´æ¥å†™-0-5px"><a href="#æ€è·¯ä¸€ï¼šç›´æ¥å†™-0-5px" class="headerlink" title="æ€è·¯ä¸€ï¼šç›´æ¥å†™ 0.5px"></a>æ€è·¯ä¸€ï¼šç›´æ¥å†™ 0.5px</h4><p>å¦‚æœä¹‹å‰ 1px çš„æ ·å¼è¿™æ ·å†™ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#333</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥å…ˆåœ¨ JS ä¸­æ‹¿åˆ° window.devicePixelRatio çš„å€¼ï¼Œç„¶åæŠŠè¿™ä¸ªå€¼é€šè¿‡ JSX æˆ–è€…æ¨¡æ¿è¯­æ³•ç»™åˆ° CSS çš„ data é‡Œï¼Œè¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼ˆè¿™é‡Œç”¨ JSX è¯­æ³•åšç¤ºèŒƒï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;container&quot;</span> data-device=&#123;&#123;<span class="built_in">window</span>.devicePixelRatio&#125;&#125;&gt;&lt;/div&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥åœ¨ CSS ä¸­ç”¨å±æ€§é€‰æ‹©å™¨æ¥å‘½ä¸­ devicePixelRatio ä¸ºæŸä¸€å€¼çš„æƒ…å†µï¼Œæ¯”å¦‚è¯´è¿™é‡Œå°è¯•å‘½ä¸­ devicePixelRatio ä¸º2çš„æƒ…å†µï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#container</span><span class="selector-attr">[data-device=<span class="string">&quot;2&quot;</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>:<span class="number">0.5px</span> solid <span class="number">#333</span></span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç›´æ¥æŠŠ 1px æ”¹æˆ 1/devicePixelRatio åçš„å€¼ï¼Œè¿™æ˜¯ç›®å‰ä¸ºæ­¢æœ€ç®€å•çš„ä¸€ç§æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•çš„ç¼ºé™·åœ¨äºå…¼å®¹æ€§ä¸è¡Œï¼ŒIOS ç³»ç»Ÿéœ€è¦8åŠä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œå®‰å“ç³»ç»Ÿåˆ™ç›´æ¥ä¸å…¼å®¹ã€‚</p><h4 id="æ€è·¯äºŒï¼šä¼ªå…ƒç´ å…ˆæ”¾å¤§åç¼©å°"><a href="#æ€è·¯äºŒï¼šä¼ªå…ƒç´ å…ˆæ”¾å¤§åç¼©å°" class="headerlink" title="æ€è·¯äºŒï¼šä¼ªå…ƒç´ å…ˆæ”¾å¤§åç¼©å°"></a>æ€è·¯äºŒï¼šä¼ªå…ƒç´ å…ˆæ”¾å¤§åç¼©å°</h4><p>è¿™ä¸ªæ–¹æ³•çš„å¯è¡Œæ€§ä¼šæ›´é«˜ï¼Œå…¼å®¹æ€§ä¹Ÿæ›´å¥½ã€‚å”¯ä¸€çš„ç¼ºç‚¹æ˜¯ä»£ç ä¼šå˜å¤šã€‚</p><p>æ€è·¯æ˜¯<strong>å…ˆæ”¾å¤§ã€åç¼©å°ï¼šåœ¨ç›®æ ‡å…ƒç´ çš„åé¢è¿½åŠ ä¸€ä¸ª ::after ä¼ªå…ƒç´ ï¼Œè®©è¿™ä¸ªå…ƒç´ å¸ƒå±€ä¸º absolute ä¹‹åã€æ•´ä¸ªä¼¸å±•å¼€é“ºåœ¨ç›®æ ‡å…ƒç´ ä¸Šï¼Œç„¶åæŠŠå®ƒçš„å®½å’Œé«˜éƒ½è®¾ç½®ä¸ºç›®æ ‡å…ƒç´ çš„ä¸¤å€ï¼Œborderå€¼è®¾ä¸º 1pxã€‚æ¥ç€å€ŸåŠ© CSS åŠ¨ç”»ç‰¹æ•ˆä¸­çš„æ”¾ç¼©èƒ½åŠ›ï¼ŒæŠŠæ•´ä¸ªä¼ªå…ƒç´ ç¼©å°ä¸ºåŸæ¥çš„ 50%ã€‚æ­¤æ—¶ï¼Œä¼ªå…ƒç´ çš„å®½é«˜åˆšå¥½å¯ä»¥å’ŒåŸæœ‰çš„ç›®æ ‡å…ƒç´ å¯¹é½ï¼Œè€Œ border ä¹Ÿç¼©å°ä¸ºäº† 1px çš„äºŒåˆ†ä¹‹ä¸€ï¼Œé—´æ¥åœ°å®ç°äº† 0.5px çš„æ•ˆæœã€‚</strong></p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#container</span><span class="selector-attr">[data-device=<span class="string">&quot;2&quot;</span>]</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#container</span><span class="selector-attr">[data-device=<span class="string">&quot;2&quot;</span>]</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">      <span class="attribute">position</span>:absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">200%</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">200%</span>;</span><br><span class="line">      <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>);</span><br><span class="line">      <span class="attribute">transform-origin</span>: left top;</span><br><span class="line">      <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#333</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="æ€è·¯ä¸‰ï¼šviewport-ç¼©æ”¾æ¥è§£å†³"><a href="#æ€è·¯ä¸‰ï¼šviewport-ç¼©æ”¾æ¥è§£å†³" class="headerlink" title="æ€è·¯ä¸‰ï¼šviewport ç¼©æ”¾æ¥è§£å†³"></a>æ€è·¯ä¸‰ï¼šviewport ç¼©æ”¾æ¥è§£å†³</h4><p>è¿™ä¸ªæ€è·¯å°±æ˜¯å¯¹ meta æ ‡ç­¾é‡Œå‡ ä¸ªå…³é”®å±æ€§ä¸‹æ‰‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no&quot;</span>&gt;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™é‡Œé’ˆå¯¹åƒç´ æ¯”ä¸º2çš„é¡µé¢ï¼ŒæŠŠæ•´ä¸ªé¡µé¢ç¼©æ”¾ä¸ºäº†åŸæ¥çš„1/2å¤§å°ã€‚è¿™æ ·ï¼Œæœ¬æ¥å ç”¨2ä¸ªç‰©ç†åƒç´ çš„ 1px æ ·å¼ï¼Œç°åœ¨å ç”¨çš„å°±æ˜¯æ ‡å‡†çš„ä¸€ä¸ªç‰©ç†åƒç´ ã€‚æ ¹æ®åƒç´ æ¯”çš„ä¸åŒï¼Œè¿™ä¸ªç¼©æ”¾æ¯”ä¾‹å¯ä»¥è¢«è®¡ç®—ä¸ºä¸åŒçš„å€¼ï¼Œç”¨ js ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> scale = <span class="number">1</span> / <span class="built_in">window</span>.devicePixelRatio;</span><br><span class="line"><span class="comment">// è¿™é‡Œ metaEl æŒ‡çš„æ˜¯ meta æ ‡ç­¾å¯¹åº”çš„ Dom</span></span><br><span class="line">metaEl.setAttribute(<span class="string">&#x27;content&#x27;</span>, <span class="string">`width=device-width,user-scalable=no,initial-scale=<span class="subst">$&#123;scale&#125;</span>,maximum-scale=<span class="subst">$&#123;scale&#125;</span>,minimum-scale=<span class="subst">$&#123;scale&#125;</span>`</span>);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·è§£å†³äº†ï¼Œä½†è¿™æ ·åšçš„å‰¯ä½œç”¨ä¹Ÿå¾ˆå¤§ï¼Œæ•´ä¸ªé¡µé¢è¢«ç¼©æ”¾äº†ã€‚è¿™æ—¶ 1px å·²ç»è¢«å¤„ç†æˆç‰©ç†åƒç´ å¤§å°ï¼Œè¿™æ ·çš„å¤§å°åœ¨æ‰‹æœºä¸Šæ˜¾ç¤ºè¾¹æ¡†å¾ˆåˆé€‚ã€‚ä½†æ˜¯ï¼Œä¸€äº›åŸæœ¬ä¸éœ€è¦è¢«ç¼©å°çš„å†…å®¹ï¼Œæ¯”å¦‚æ–‡å­—ã€å›¾ç‰‡ç­‰ï¼Œä¹Ÿè¢«æ— å·®åˆ«ç¼©å°æ‰äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vueé¢è¯•é¢˜æ•´ç†</title>
      <link href="/2022/03/19/vue%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/"/>
      <url>/2022/03/19/vue%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="1ã€è¯´è¯´ä½ å¯¹-SPA-å•é¡µé¢çš„ç†è§£ï¼Œå®ƒçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1ã€è¯´è¯´ä½ å¯¹-SPA-å•é¡µé¢çš„ç†è§£ï¼Œå®ƒçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1ã€è¯´è¯´ä½ å¯¹ SPA å•é¡µé¢çš„ç†è§£ï¼Œå®ƒçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>1ã€è¯´è¯´ä½ å¯¹ SPA å•é¡µé¢çš„ç†è§£ï¼Œå®ƒçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>SPAï¼ˆ single-page application ï¼‰ä»…åœ¨ Web é¡µé¢åˆå§‹åŒ–æ—¶åŠ è½½ç›¸åº”çš„ HTMLã€JavaScript å’Œ CSSã€‚ä¸€æ—¦é¡µé¢åŠ è½½å®Œæˆï¼ŒSPA ä¸ä¼šå› ä¸ºç”¨æˆ·çš„æ“ä½œè€Œè¿›è¡Œé¡µé¢çš„é‡æ–°åŠ è½½æˆ–è·³è½¬ï¼›å–è€Œä»£ä¹‹çš„æ˜¯åˆ©ç”¨è·¯ç”±æœºåˆ¶å®ç° HTML å†…å®¹çš„å˜æ¢ï¼ŒUI ä¸ç”¨æˆ·çš„äº¤äº’ï¼Œé¿å…é¡µé¢çš„é‡æ–°åŠ è½½ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>ç”¨æˆ·ä½“éªŒå¥½ã€å¿«ï¼Œå†…å®¹çš„æ”¹å˜ä¸éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼Œé¿å…äº†ä¸å¿…è¦çš„è·³è½¬å’Œé‡å¤æ¸²æŸ“ï¼›</li><li>åŸºäºä¸Šé¢ä¸€ç‚¹ï¼ŒSPA ç›¸å¯¹å¯¹æœåŠ¡å™¨å‹åŠ›å°ï¼›</li><li>å‰åç«¯èŒè´£åˆ†ç¦»ï¼Œæ¶æ„æ¸…æ™°ï¼Œå‰ç«¯è¿›è¡Œäº¤äº’é€»è¾‘ï¼Œåç«¯è´Ÿè´£æ•°æ®å¤„ç†ï¼›</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>åˆæ¬¡åŠ è½½è€—æ—¶å¤šï¼šä¸ºå®ç°å•é¡µ Web åº”ç”¨åŠŸèƒ½åŠæ˜¾ç¤ºæ•ˆæœï¼Œéœ€è¦åœ¨åŠ è½½é¡µé¢çš„æ—¶å€™å°† JavaScriptã€CSS ç»Ÿä¸€åŠ è½½ï¼Œéƒ¨åˆ†é¡µé¢æŒ‰éœ€åŠ è½½ï¼›</li><li>å‰è¿›åé€€è·¯ç”±ç®¡ç†ï¼šç”±äºå•é¡µåº”ç”¨åœ¨ä¸€ä¸ªé¡µé¢ä¸­æ˜¾ç¤ºæ‰€æœ‰çš„å†…å®¹ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨æµè§ˆå™¨çš„å‰è¿›åé€€åŠŸèƒ½ï¼Œæ‰€æœ‰çš„é¡µé¢åˆ‡æ¢éœ€è¦è‡ªå·±å»ºç«‹å †æ ˆç®¡ç†ï¼›</li><li>SEO éš¾åº¦è¾ƒå¤§ï¼šç”±äºæ‰€æœ‰çš„å†…å®¹éƒ½åœ¨ä¸€ä¸ªé¡µé¢ä¸­åŠ¨æ€æ›¿æ¢æ˜¾ç¤ºï¼Œæ‰€ä»¥åœ¨ SEO ä¸Šå…¶æœ‰ç€å¤©ç„¶çš„å¼±åŠ¿ã€‚</li></ul><h2 id="2ã€v-show-ä¸-v-if-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#2ã€v-show-ä¸-v-if-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="2ã€v-show ä¸ v-if æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>2ã€v-show ä¸ v-if æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p><strong>v-if</strong> æ˜¯<strong>çœŸæ­£</strong>çš„æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒä¼šç¡®ä¿åœ¨åˆ‡æ¢è¿‡ç¨‹ä¸­æ¡ä»¶å—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶é€‚å½“åœ°è¢«é”€æ¯å’Œé‡å»ºï¼›ä¹Ÿæ˜¯<strong>æƒ°æ€§çš„</strong>ï¼šå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ—¶æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšâ€”â€”ç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶ï¼Œæ‰ä¼šå¼€å§‹æ¸²æŸ“æ¡ä»¶å—ã€‚</p><p><strong>v-show</strong> å°±ç®€å•å¾—å¤šâ€”â€”ä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œå…ƒç´ æ€»æ˜¯ä¼šè¢«æ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäº CSS çš„ â€œdisplayâ€ å±æ€§è¿›è¡Œåˆ‡æ¢ã€‚</p><p>æ‰€ä»¥ï¼Œv-if é€‚ç”¨äºåœ¨è¿è¡Œæ—¶å¾ˆå°‘æ”¹å˜æ¡ä»¶ï¼Œä¸éœ€è¦é¢‘ç¹åˆ‡æ¢æ¡ä»¶çš„åœºæ™¯ï¼›v-show åˆ™é€‚ç”¨äºéœ€è¦éå¸¸é¢‘ç¹åˆ‡æ¢æ¡ä»¶çš„åœºæ™¯ã€‚</p><h2 id="3ã€Class-ä¸-Style-å¦‚ä½•åŠ¨æ€ç»‘å®šï¼Ÿ"><a href="#3ã€Class-ä¸-Style-å¦‚ä½•åŠ¨æ€ç»‘å®šï¼Ÿ" class="headerlink" title="3ã€Class ä¸ Style å¦‚ä½•åŠ¨æ€ç»‘å®šï¼Ÿ"></a>3ã€Class ä¸ Style å¦‚ä½•åŠ¨æ€ç»‘å®šï¼Ÿ</h2><p>Class å¯ä»¥é€šè¿‡å¯¹è±¡è¯­æ³•å’Œæ•°ç»„è¯­æ³•è¿›è¡ŒåŠ¨æ€ç»‘å®šï¼š</p><ul><li>å¯¹è±¡è¯­æ³•ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:class=&quot;&#123; active: isActive, &#x27;text-danger&#x27;: hasError &#125;&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">data: &#123;</span><br><span class="line">  isActive: true,</span><br><span class="line">  hasError: false</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>æ•°ç»„è¯­æ³•ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:class=&quot;[isActive ? activeClass : &#x27;&#x27;, errorClass]&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">data: &#123;</span><br><span class="line">  activeClass: &#x27;active&#x27;,</span><br><span class="line">  errorClass: &#x27;text-danger&#x27;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>Style ä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡è¯­æ³•å’Œæ•°ç»„è¯­æ³•è¿›è¡ŒåŠ¨æ€ç»‘å®šï¼š</p><ul><li>å¯¹è±¡è¯­æ³•ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:style=&quot;&#123; color: activeColor, fontSize: fontSize + &#x27;px&#x27; &#125;&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">data: &#123;</span><br><span class="line">  activeColor: &#x27;red&#x27;,</span><br><span class="line">  fontSize: 30</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>æ•°ç»„è¯­æ³•ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:style=&quot;[styleColor, styleSize]&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">data: &#123;</span><br><span class="line">  styleColor: &#123;</span><br><span class="line">     color: &#x27;red&#x27;</span><br><span class="line">   &#125;,</span><br><span class="line">  styleSize:&#123;</span><br><span class="line">     fontSize:&#x27;23px&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="4ã€æ€æ ·ç†è§£-Vue-çš„å•å‘æ•°æ®æµï¼Ÿ"><a href="#4ã€æ€æ ·ç†è§£-Vue-çš„å•å‘æ•°æ®æµï¼Ÿ" class="headerlink" title="4ã€æ€æ ·ç†è§£ Vue çš„å•å‘æ•°æ®æµï¼Ÿ"></a>4ã€æ€æ ·ç†è§£ Vue çš„å•å‘æ•°æ®æµï¼Ÿ</h2><p>æ‰€æœ‰çš„ prop éƒ½ä½¿å¾—å…¶çˆ¶å­ prop ä¹‹é—´å½¢æˆäº†ä¸€ä¸ª<strong>å•å‘ä¸‹è¡Œç»‘å®š</strong>ï¼šçˆ¶çº§ prop çš„æ›´æ–°ä¼šå‘ä¸‹æµåŠ¨åˆ°å­ç»„ä»¶ä¸­ï¼Œä½†æ˜¯åè¿‡æ¥åˆ™ä¸è¡Œã€‚è¿™æ ·ä¼šé˜²æ­¢ä»å­ç»„ä»¶æ„å¤–æ”¹å˜çˆ¶çº§ç»„ä»¶çš„çŠ¶æ€ï¼Œä»è€Œå¯¼è‡´ä½ çš„åº”ç”¨çš„æ•°æ®æµå‘éš¾ä»¥ç†è§£ã€‚</p><p>é¢å¤–çš„ï¼Œæ¯æ¬¡çˆ¶çº§ç»„ä»¶å‘ç”Ÿæ›´æ–°æ—¶ï¼Œå­ç»„ä»¶ä¸­æ‰€æœ‰çš„ prop éƒ½å°†ä¼šåˆ·æ–°ä¸ºæœ€æ–°çš„å€¼ã€‚è¿™æ„å‘³ç€ä½ ä¸åº”è¯¥åœ¨ä¸€ä¸ªå­ç»„ä»¶å†…éƒ¨æ”¹å˜ propã€‚å¦‚æœä½ è¿™æ ·åšäº†ï¼ŒVue ä¼šåœ¨æµè§ˆå™¨çš„æ§åˆ¶å°ä¸­å‘å‡ºè­¦å‘Šã€‚å­ç»„ä»¶æƒ³ä¿®æ”¹æ—¶ï¼Œåªèƒ½é€šè¿‡ $emit æ´¾å‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶æ¥æ”¶åˆ°åï¼Œç”±çˆ¶ç»„ä»¶ä¿®æ”¹ã€‚</p><p>æœ‰ä¸¤ç§å¸¸è§çš„è¯•å›¾æ”¹å˜ä¸€ä¸ª prop çš„æƒ…å½¢ :</p><ul><li><strong>è¿™ä¸ª prop ç”¨æ¥ä¼ é€’ä¸€ä¸ªåˆå§‹å€¼ï¼›è¿™ä¸ªå­ç»„ä»¶æ¥ä¸‹æ¥å¸Œæœ›å°†å…¶ä½œä¸ºä¸€ä¸ªæœ¬åœ°çš„ prop æ•°æ®æ¥ä½¿ç”¨ã€‚</strong> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½å®šä¹‰ä¸€ä¸ªæœ¬åœ°çš„ data å±æ€§å¹¶å°†è¿™ä¸ª prop ç”¨ä½œå…¶åˆå§‹å€¼ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">props: [&#x27;initialCounter&#x27;],</span><br><span class="line">data: function () &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    counter: this.initialCounter</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li><strong>è¿™ä¸ª prop ä»¥ä¸€ç§åŸå§‹çš„å€¼ä¼ å…¥ä¸”éœ€è¦è¿›è¡Œè½¬æ¢ã€‚</strong> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½ä½¿ç”¨è¿™ä¸ª prop çš„å€¼æ¥å®šä¹‰ä¸€ä¸ªè®¡ç®—å±æ€§</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">props: [&#x27;size&#x27;],</span><br><span class="line">computed: &#123;</span><br><span class="line">  normalizedSize: function () &#123;</span><br><span class="line">    return this.size.trim().toLowerCase()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="5ã€computed-å’Œ-watch-çš„åŒºåˆ«å’Œè¿ç”¨çš„åœºæ™¯ï¼Ÿ"><a href="#5ã€computed-å’Œ-watch-çš„åŒºåˆ«å’Œè¿ç”¨çš„åœºæ™¯ï¼Ÿ" class="headerlink" title="5ã€computed å’Œ watch çš„åŒºåˆ«å’Œè¿ç”¨çš„åœºæ™¯ï¼Ÿ"></a>5ã€computed å’Œ watch çš„åŒºåˆ«å’Œè¿ç”¨çš„åœºæ™¯ï¼Ÿ</h2><p><strong>computedï¼š</strong> æ˜¯è®¡ç®—å±æ€§ï¼Œä¾èµ–å…¶å®ƒå±æ€§å€¼ï¼Œå¹¶ä¸” computed çš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰å®ƒä¾èµ–çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜ï¼Œä¸‹ä¸€æ¬¡è·å– computed çš„å€¼æ—¶æ‰ä¼šé‡æ–°è®¡ç®— computed  çš„å€¼ï¼›</p><p><strong>watchï¼š</strong> æ›´å¤šçš„æ˜¯ã€Œè§‚å¯Ÿã€çš„ä½œç”¨ï¼Œç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒ ï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œå›è°ƒè¿›è¡Œåç»­æ“ä½œï¼›</p><p><strong>è¿ç”¨åœºæ™¯ï¼š</strong></p><ul><li>å½“æˆ‘ä»¬éœ€è¦è¿›è¡Œæ•°å€¼è®¡ç®—ï¼Œå¹¶ä¸”ä¾èµ–äºå…¶å®ƒæ•°æ®æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ computedï¼Œå› ä¸ºå¯ä»¥åˆ©ç”¨ computed çš„ç¼“å­˜ç‰¹æ€§ï¼Œé¿å…æ¯æ¬¡è·å–å€¼æ—¶ï¼Œéƒ½è¦é‡æ–°è®¡ç®—ï¼›</li><li>å½“æˆ‘ä»¬éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œåº”è¯¥ä½¿ç”¨ watchï¼Œä½¿ç”¨ watch é€‰é¡¹å…è®¸æˆ‘ä»¬æ‰§è¡Œå¼‚æ­¥æ“ä½œ ( è®¿é—®ä¸€ä¸ª API )ï¼Œé™åˆ¶æˆ‘ä»¬æ‰§è¡Œè¯¥æ“ä½œçš„é¢‘ç‡ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ã€‚è¿™äº›éƒ½æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„ã€‚</li></ul><h2 id="6ã€ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼ŒVue-èƒ½æ£€æµ‹åˆ°å˜åŒ–å—ï¼Ÿ"><a href="#6ã€ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼ŒVue-èƒ½æ£€æµ‹åˆ°å˜åŒ–å—ï¼Ÿ" class="headerlink" title="6ã€ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼ŒVue èƒ½æ£€æµ‹åˆ°å˜åŒ–å—ï¼Ÿ"></a>6ã€ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼ŒVue èƒ½æ£€æµ‹åˆ°å˜åŒ–å—ï¼Ÿ</h2><p>ç”±äº JavaScript çš„é™åˆ¶ï¼ŒVue ä¸èƒ½æ£€æµ‹åˆ°ä»¥ä¸‹æ•°ç»„çš„å˜åŠ¨ï¼š</p><ul><li>å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªæ•°ç»„é¡¹æ—¶ï¼Œä¾‹å¦‚ï¼š<code>vm.items[indexOfItem] = newValue</code></li><li>å½“ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚ï¼š<code>vm.items.length = newLength</code></li></ul><p>ä¸ºäº†è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼ŒVue æä¾›äº†ä»¥ä¸‹æ“ä½œæ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// Vue.set</span><br><span class="line">Vue.set(vm.items, indexOfItem, newValue)</span><br><span class="line">// vm.$setï¼ŒVue.setçš„ä¸€ä¸ªåˆ«å</span><br><span class="line">vm.$set(vm.items, indexOfItem, newValue)</span><br><span class="line">// Array.prototype.splice</span><br><span class="line">vm.items.splice(indexOfItem, 1, newValue)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¸ºäº†è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ï¼ŒVue æä¾›äº†ä»¥ä¸‹æ“ä½œæ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// Array.prototype.splice</span><br><span class="line">vm.items.splice(newLength)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="7ã€è°ˆè°ˆä½ å¯¹-Vue-ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ"><a href="#7ã€è°ˆè°ˆä½ å¯¹-Vue-ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ" class="headerlink" title="7ã€è°ˆè°ˆä½ å¯¹ Vue ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ"></a>7ã€è°ˆè°ˆä½ å¯¹ Vue ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ</h2><p><strong>ï¼ˆ1ï¼‰ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><p>Vue å®ä¾‹æœ‰ä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯ä»å¼€å§‹åˆ›å»ºã€åˆå§‹åŒ–æ•°æ®ã€ç¼–è¯‘æ¨¡ç‰ˆã€æŒ‚è½½ Dom -&gt; æ¸²æŸ“ã€æ›´æ–° -&gt; æ¸²æŸ“ã€å¸è½½ç­‰ä¸€ç³»åˆ—è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°è¿™æ˜¯ Vue çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><p><strong>ï¼ˆ2ï¼‰å„ä¸ªç”Ÿå‘½å‘¨æœŸçš„ä½œç”¨</strong></p><table><thead><tr><th>ç”Ÿå‘½å‘¨æœŸ</th><th>æè¿°</th></tr></thead><tbody><tr><td>beforeCreate</td><td>ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºä¹‹åˆï¼Œç»„ä»¶çš„å±æ€§ç”Ÿæ•ˆä¹‹å‰</td></tr><tr><td>created</td><td>ç»„ä»¶å®ä¾‹å·²ç»å®Œå…¨åˆ›å»ºï¼Œå±æ€§ä¹Ÿç»‘å®šï¼Œä½†çœŸå® dom è¿˜æ²¡æœ‰ç”Ÿæˆï¼Œ$el è¿˜ä¸å¯ç”¨</td></tr><tr><td>beforeMount</td><td>åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨</td></tr><tr><td>mounted</td><td>el è¢«æ–°åˆ›å»ºçš„ vm.$el æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨è¯¥é’©å­</td></tr><tr><td>beforeUpdate</td><td>ç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰</td></tr><tr><td>update</td><td>ç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å</td></tr><tr><td>activited</td><td>keep-alive ä¸“å±ï¼Œç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒç”¨</td></tr><tr><td>deactivated</td><td>keep-alive ä¸“å±ï¼Œç»„ä»¶è¢«é”€æ¯æ—¶è°ƒç”¨</td></tr><tr><td>beforeDestory</td><td>ç»„ä»¶é”€æ¯å‰è°ƒç”¨</td></tr><tr><td>destoryed</td><td>ç»„ä»¶é”€æ¯åè°ƒç”¨</td></tr></tbody></table><p><strong>ï¼ˆ3ï¼‰ç”Ÿå‘½å‘¨æœŸç¤ºæ„å›¾</strong></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191016414.webp" alt="1.png"></p><h2 id="8ã€Vue-çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œé¡ºåºï¼Ÿ"><a href="#8ã€Vue-çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œé¡ºåºï¼Ÿ" class="headerlink" title="8ã€Vue çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œé¡ºåºï¼Ÿ"></a>8ã€Vue çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œé¡ºåºï¼Ÿ</h2><p>Vue çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œé¡ºåºå¯ä»¥å½’ç±»ä¸ºä»¥ä¸‹ 4 éƒ¨åˆ†ï¼š</p><ul><li><p>åŠ è½½æ¸²æŸ“è¿‡ç¨‹</p><p>çˆ¶ beforeCreate -&gt; çˆ¶ created -&gt; çˆ¶ beforeMount -&gt; å­ beforeCreate -&gt; å­ created -&gt; å­ beforeMount -&gt; å­ mounted -&gt; çˆ¶ mounted</p></li><li><p>å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹</p><p>çˆ¶ beforeUpdate -&gt; å­ beforeUpdate -&gt; å­ updated -&gt; çˆ¶ updated</p></li><li><p>çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹</p><p>çˆ¶ beforeUpdate -&gt; çˆ¶ updated</p></li><li><p>é”€æ¯è¿‡ç¨‹</p><p>çˆ¶ beforeDestroy -&gt; å­ beforeDestroy -&gt; å­ destroyed -&gt; çˆ¶ destroyed</p></li></ul><h2 id="9ã€åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚ï¼Ÿ"><a href="#9ã€åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚ï¼Ÿ" class="headerlink" title="9ã€åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚ï¼Ÿ"></a>9ã€åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚ï¼Ÿ</h2><p>å¯ä»¥åœ¨é’©å­å‡½æ•° createdã€beforeMountã€mounted ä¸­è¿›è¡Œè°ƒç”¨ï¼Œå› ä¸ºåœ¨è¿™ä¸‰ä¸ªé’©å­å‡½æ•°ä¸­ï¼Œdata å·²ç»åˆ›å»ºï¼Œå¯ä»¥å°†æœåŠ¡ç«¯ç«¯è¿”å›çš„æ•°æ®è¿›è¡Œèµ‹å€¼ã€‚ä½†æ˜¯æœ¬äººæ¨èåœ¨ created é’©å­å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥è¯·æ±‚ï¼Œå› ä¸ºåœ¨ created é’©å­å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥è¯·æ±‚æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><ul><li>èƒ½æ›´å¿«è·å–åˆ°æœåŠ¡ç«¯æ•°æ®ï¼Œå‡å°‘é¡µé¢ loading æ—¶é—´ï¼›</li><li>ssr ä¸æ”¯æŒ beforeMount ã€mounted é’©å­å‡½æ•°ï¼Œæ‰€ä»¥æ”¾åœ¨ created ä¸­æœ‰åŠ©äºä¸€è‡´æ€§ï¼›</li></ul><h2 id="10ã€åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOMï¼Ÿ"><a href="#10ã€åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOMï¼Ÿ" class="headerlink" title="10ã€åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOMï¼Ÿ"></a>10ã€åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOMï¼Ÿ</h2><p>åœ¨é’©å­å‡½æ•° mounted è¢«è°ƒç”¨å‰ï¼ŒVue å·²ç»å°†ç¼–è¯‘å¥½çš„æ¨¡æ¿æŒ‚è½½åˆ°é¡µé¢ä¸Šï¼Œæ‰€ä»¥åœ¨ mounted ä¸­å¯ä»¥è®¿é—®æ“ä½œ DOMã€‚vue å…·ä½“çš„ç”Ÿå‘½å‘¨æœŸç¤ºæ„å›¾å¯ä»¥å‚è§å¦‚ä¸‹ï¼Œç†è§£äº†æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå„ä¸ªé˜¶æ®µçš„æ“ä½œï¼Œå…³äºç”Ÿå‘½å‘¨æœŸç›¸å…³çš„é¢è¯•é¢˜å°±éš¾ä¸å€’ä½ äº†ã€‚</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191016875.webp" alt="1.png"></p><h2 id="11ã€çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—ï¼Ÿ"><a href="#11ã€çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—ï¼Ÿ" class="headerlink" title="11ã€çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—ï¼Ÿ"></a>11ã€çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—ï¼Ÿ</h2><p>æ¯”å¦‚æœ‰çˆ¶ç»„ä»¶ Parent å’Œå­ç»„ä»¶ Childï¼Œå¦‚æœçˆ¶ç»„ä»¶ç›‘å¬åˆ°å­ç»„ä»¶æŒ‚è½½ mounted å°±åšä¸€äº›é€»è¾‘å¤„ç†ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å†™æ³•å®ç°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// Parent.vue</span><br><span class="line">&lt;Child @mounted=&quot;doSomething&quot;/&gt;</span><br><span class="line">    </span><br><span class="line">// Child.vue</span><br><span class="line">mounted() &#123;</span><br><span class="line">  this.$emit(&quot;mounted&quot;);</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šéœ€è¦æ‰‹åŠ¨é€šè¿‡ $emit è§¦å‘çˆ¶ç»„ä»¶çš„äº‹ä»¶ï¼Œæ›´ç®€å•çš„æ–¹å¼å¯ä»¥åœ¨çˆ¶ç»„ä»¶å¼•ç”¨å­ç»„ä»¶æ—¶é€šè¿‡ @hook æ¥ç›‘å¬å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//  Parent.vue</span><br><span class="line">&lt;Child @hook:mounted=&quot;doSomething&quot; &gt;&lt;/Child&gt;</span><br><span class="line"></span><br><span class="line">doSomething() &#123;</span><br><span class="line">   console.log(&#x27;çˆ¶ç»„ä»¶ç›‘å¬åˆ° mounted é’©å­å‡½æ•° ...&#x27;);</span><br><span class="line">&#125;,</span><br><span class="line">    </span><br><span class="line">//  Child.vue</span><br><span class="line">mounted()&#123;</span><br><span class="line">   console.log(&#x27;å­ç»„ä»¶è§¦å‘ mounted é’©å­å‡½æ•° ...&#x27;);</span><br><span class="line">&#125;,    </span><br><span class="line">    </span><br><span class="line">// ä»¥ä¸Šè¾“å‡ºé¡ºåºä¸ºï¼š</span><br><span class="line">// å­ç»„ä»¶è§¦å‘ mounted é’©å­å‡½æ•° ...</span><br><span class="line">// çˆ¶ç»„ä»¶ç›‘å¬åˆ° mounted é’©å­å‡½æ•° ...     </span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å½“ç„¶ @hook æ–¹æ³•ä¸ä»…ä»…æ˜¯å¯ä»¥ç›‘å¬ mountedï¼Œå…¶å®ƒçš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œä¾‹å¦‚ï¼šcreatedï¼Œupdated ç­‰éƒ½å¯ä»¥ç›‘å¬ã€‚</p><h2 id="12ã€è°ˆè°ˆä½ å¯¹-keep-alive-çš„äº†è§£ï¼Ÿ"><a href="#12ã€è°ˆè°ˆä½ å¯¹-keep-alive-çš„äº†è§£ï¼Ÿ" class="headerlink" title="12ã€è°ˆè°ˆä½ å¯¹ keep-alive çš„äº†è§£ï¼Ÿ"></a>12ã€è°ˆè°ˆä½ å¯¹ keep-alive çš„äº†è§£ï¼Ÿ</h2><p>keep-alive æ˜¯ Vue å†…ç½®çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥ä½¿è¢«åŒ…å«çš„ç»„ä»¶ä¿ç•™çŠ¶æ€ï¼Œé¿å…é‡æ–°æ¸²æŸ“ ï¼Œå…¶æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>ä¸€èˆ¬ç»“åˆè·¯ç”±å’ŒåŠ¨æ€ç»„ä»¶ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºç¼“å­˜ç»„ä»¶ï¼›</li><li>æä¾› include å’Œ exclude å±æ€§ï¼Œä¸¤è€…éƒ½æ”¯æŒå­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼Œ include è¡¨ç¤ºåªæœ‰åç§°åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜ï¼Œexclude è¡¨ç¤ºä»»ä½•åç§°åŒ¹é…çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«ç¼“å­˜ ï¼Œå…¶ä¸­ exclude çš„ä¼˜å…ˆçº§æ¯” include é«˜ï¼›</li><li>å¯¹åº”ä¸¤ä¸ªé’©å­å‡½æ•° activated å’Œ deactivated ï¼Œå½“ç»„ä»¶è¢«æ¿€æ´»æ—¶ï¼Œè§¦å‘é’©å­å‡½æ•° activatedï¼Œå½“ç»„ä»¶è¢«ç§»é™¤æ—¶ï¼Œè§¦å‘é’©å­å‡½æ•° deactivatedã€‚</li></ul><h2 id="13ã€ç»„ä»¶ä¸­-data-ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ"><a href="#13ã€ç»„ä»¶ä¸­-data-ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ" class="headerlink" title="13ã€ç»„ä»¶ä¸­ data ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ"></a>13ã€ç»„ä»¶ä¸­ data ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ</h2><blockquote><p>ä¸ºä»€ä¹ˆç»„ä»¶ä¸­çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç„¶å return ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œ new Vue å®ä¾‹é‡Œï¼Œdata å¯ä»¥ç›´æ¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Ÿ</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// data</span><br><span class="line">data() &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">message: &quot;å­ç»„ä»¶&quot;,</span><br><span class="line">childName:this.name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// new Vue</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#x27;#app&#x27;,</span><br><span class="line">  router,</span><br><span class="line">  template: &#x27;&lt;App/&gt;&#x27;,</span><br><span class="line">  components: &#123;App&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å› ä¸ºç»„ä»¶æ˜¯ç”¨æ¥å¤ç”¨çš„ï¼Œä¸” JS é‡Œå¯¹è±¡æ˜¯å¼•ç”¨å…³ç³»ï¼Œå¦‚æœç»„ä»¶ä¸­ data æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™æ ·ä½œç”¨åŸŸæ²¡æœ‰éš”ç¦»ï¼Œå­ç»„ä»¶ä¸­çš„ data å±æ€§å€¼ä¼šç›¸äº’å½±å“ï¼Œå¦‚æœç»„ä»¶ä¸­ data é€‰é¡¹æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆæ¯ä¸ªå®ä¾‹å¯ä»¥ç»´æŠ¤ä¸€ä»½è¢«è¿”å›å¯¹è±¡çš„ç‹¬ç«‹çš„æ‹·è´ï¼Œç»„ä»¶å®ä¾‹ä¹‹é—´çš„ data å±æ€§å€¼ä¸ä¼šäº’ç›¸å½±å“ï¼›è€Œ new Vue çš„å®ä¾‹ï¼Œæ˜¯ä¸ä¼šè¢«å¤ç”¨çš„ï¼Œå› æ­¤ä¸å­˜åœ¨å¼•ç”¨å¯¹è±¡çš„é—®é¢˜ã€‚</p><h2 id="14ã€v-model-çš„åŸç†ï¼Ÿ"><a href="#14ã€v-model-çš„åŸç†ï¼Ÿ" class="headerlink" title="14ã€v-model çš„åŸç†ï¼Ÿ"></a>14ã€v-model çš„åŸç†ï¼Ÿ</h2><p>æˆ‘ä»¬åœ¨ vue é¡¹ç›®ä¸­ä¸»è¦ä½¿ç”¨ v-model æŒ‡ä»¤åœ¨è¡¨å• inputã€textareaã€select ç­‰å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šï¼Œæˆ‘ä»¬çŸ¥é“ v-model æœ¬è´¨ä¸Šä¸è¿‡æ˜¯è¯­æ³•ç³–ï¼Œv-model åœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¾“å…¥å…ƒç´ ä½¿ç”¨ä¸åŒçš„å±æ€§å¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ï¼š</p><ul><li>text å’Œ textarea å…ƒç´ ä½¿ç”¨ value å±æ€§å’Œ input äº‹ä»¶ï¼›</li><li>checkbox å’Œ radio ä½¿ç”¨ checked å±æ€§å’Œ change äº‹ä»¶ï¼›</li><li>select å­—æ®µå°† value ä½œä¸º prop å¹¶å°† change ä½œä¸ºäº‹ä»¶ã€‚</li></ul><p>ä»¥ input  è¡¨å•å…ƒç´ ä¸ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;input v-model=&#x27;something&#x27;&gt;</span><br><span class="line">    </span><br><span class="line">ç›¸å½“äº</span><br><span class="line"></span><br><span class="line">&lt;input v-bind:value=&quot;something&quot; v-on:input=&quot;something = $event.target.value&quot;&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœåœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­ï¼Œv-model é»˜è®¤ä¼šåˆ©ç”¨åä¸º value çš„ prop å’Œåä¸º input çš„äº‹ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ï¼š</span><br><span class="line">&lt;ModelChild v-model=&quot;message&quot;&gt;&lt;/ModelChild&gt;</span><br><span class="line"></span><br><span class="line">å­ç»„ä»¶ï¼š</span><br><span class="line">&lt;div&gt;&#123;&#123;value&#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">props:&#123;</span><br><span class="line">    value: String</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">  test1()&#123;</span><br><span class="line">     this.$emit(&#x27;input&#x27;, &#x27;å°çº¢&#x27;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="15ã€Vue-ç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ"><a href="#15ã€Vue-ç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ" class="headerlink" title="15ã€Vue ç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ"></a>15ã€Vue ç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ</h2><p>Vue ç»„ä»¶é—´é€šä¿¡æ˜¯é¢è¯•å¸¸è€ƒçš„çŸ¥è¯†ç‚¹ä¹‹ä¸€ï¼Œè¿™é¢˜æœ‰ç‚¹ç±»ä¼¼äºå¼€æ”¾é¢˜ï¼Œä½ å›ç­”å‡ºè¶Šå¤šæ–¹æ³•å½“ç„¶è¶ŠåŠ åˆ†ï¼Œè¡¨æ˜ä½ å¯¹ Vue æŒæ¡çš„è¶Šç†Ÿç»ƒã€‚Vue ç»„ä»¶é—´é€šä¿¡åªè¦æŒ‡ä»¥ä¸‹ 3 ç±»é€šä¿¡ï¼šçˆ¶å­ç»„ä»¶é€šä¿¡ã€éš”ä»£ç»„ä»¶é€šä¿¡ã€å…„å¼Ÿç»„ä»¶é€šä¿¡ï¼Œä¸‹é¢æˆ‘ä»¬åˆ†åˆ«ä»‹ç»æ¯ç§é€šä¿¡æ–¹å¼ä¸”ä¼šè¯´æ˜æ­¤ç§æ–¹æ³•å¯é€‚ç”¨äºå“ªç±»ç»„ä»¶é—´é€šä¿¡ã€‚</p><p><strong>ï¼ˆ1ï¼‰<code>props / $emit</code>  é€‚ç”¨ çˆ¶å­ç»„ä»¶é€šä¿¡</strong></p><p>è¿™ç§æ–¹æ³•æ˜¯ Vue ç»„ä»¶çš„åŸºç¡€ï¼Œç›¸ä¿¡å¤§éƒ¨åˆ†åŒå­¦è€³é—»èƒ½è¯¦ï¼Œæ‰€ä»¥æ­¤å¤„å°±ä¸ä¸¾ä¾‹å±•å¼€ä»‹ç»ã€‚</p><p><strong>ï¼ˆ2ï¼‰<code>ref</code> ä¸ <code>$parent / $children</code> é€‚ç”¨ çˆ¶å­ç»„ä»¶é€šä¿¡</strong></p><ul><li><code>ref</code>ï¼šå¦‚æœåœ¨æ™®é€šçš„ DOM å…ƒç´ ä¸Šä½¿ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯ DOM å…ƒç´ ï¼›å¦‚æœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®ä¾‹</li><li><code>$parent</code> / <code>$children</code>ï¼šè®¿é—®çˆ¶ / å­å®ä¾‹</li></ul><p><strong>ï¼ˆ3ï¼‰<code>EventBus ï¼ˆ$emit / $onï¼‰</code>  é€‚ç”¨äº çˆ¶å­ã€éš”ä»£ã€å…„å¼Ÿç»„ä»¶é€šä¿¡</strong></p><p>è¿™ç§æ–¹æ³•é€šè¿‡ä¸€ä¸ªç©ºçš„ Vue å®ä¾‹ä½œä¸ºä¸­å¤®äº‹ä»¶æ€»çº¿ï¼ˆäº‹ä»¶ä¸­å¿ƒï¼‰ï¼Œç”¨å®ƒæ¥è§¦å‘äº‹ä»¶å’Œç›‘å¬äº‹ä»¶ï¼Œä»è€Œå®ç°ä»»ä½•ç»„ä»¶é—´çš„é€šä¿¡ï¼ŒåŒ…æ‹¬çˆ¶å­ã€éš”ä»£ã€å…„å¼Ÿç»„ä»¶ã€‚</p><p><strong>ï¼ˆ4ï¼‰<code>$attrs</code>/<code>$listeners</code> é€‚ç”¨äº éš”ä»£ç»„ä»¶é€šä¿¡</strong></p><ul><li><code>$attrs</code>ï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸è¢« prop æ‰€è¯†åˆ« (ä¸”è·å–) çš„ç‰¹æ€§ç»‘å®š ( class å’Œ style é™¤å¤– )ã€‚å½“ä¸€ä¸ªç»„ä»¶æ²¡æœ‰å£°æ˜ä»»ä½• prop æ—¶ï¼Œè¿™é‡Œä¼šåŒ…å«æ‰€æœ‰çˆ¶ä½œç”¨åŸŸçš„ç»‘å®š ( class å’Œ style é™¤å¤– )ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ <code>v-bind=&quot;$attrs&quot;</code> ä¼ å…¥å†…éƒ¨ç»„ä»¶ã€‚é€šå¸¸é…åˆ inheritAttrs é€‰é¡¹ä¸€èµ·ä½¿ç”¨ã€‚</li><li><code>$listeners</code>ï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­çš„ (ä¸å« .native ä¿®é¥°å™¨çš„)  v-on äº‹ä»¶ç›‘å¬å™¨ã€‚å®ƒå¯ä»¥é€šè¿‡ <code>v-on=&quot;$listeners&quot;</code> ä¼ å…¥å†…éƒ¨ç»„ä»¶</li></ul><p><strong>ï¼ˆ5ï¼‰<code>provide / inject</code> é€‚ç”¨äº éš”ä»£ç»„ä»¶é€šä¿¡</strong></p><p>ç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡ provider æ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­å­™ç»„ä»¶ä¸­é€šè¿‡ inject æ¥æ³¨å…¥å˜é‡ã€‚ provide / inject API ä¸»è¦è§£å†³äº†è·¨çº§ç»„ä»¶é—´çš„é€šä¿¡é—®é¢˜ï¼Œä¸è¿‡å®ƒçš„ä½¿ç”¨åœºæ™¯ï¼Œä¸»è¦æ˜¯å­ç»„ä»¶è·å–ä¸Šçº§ç»„ä»¶çš„çŠ¶æ€ï¼Œè·¨çº§ç»„ä»¶é—´å»ºç«‹äº†ä¸€ç§ä¸»åŠ¨æä¾›ä¸ä¾èµ–æ³¨å…¥çš„å…³ç³»ã€‚</p><p><strong>ï¼ˆ6ï¼‰Vuex  é€‚ç”¨äº çˆ¶å­ã€éš”ä»£ã€å…„å¼Ÿç»„ä»¶é€šä¿¡</strong></p><p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€œstoreâ€ åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€ ( state )ã€‚</p><ul><li>Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚</li><li>æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤  (commit) mutationã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ã€‚</li></ul><h2 id="16ã€ä½ ä½¿ç”¨è¿‡-Vuex-å—ï¼Ÿ"><a href="#16ã€ä½ ä½¿ç”¨è¿‡-Vuex-å—ï¼Ÿ" class="headerlink" title="16ã€ä½ ä½¿ç”¨è¿‡ Vuex å—ï¼Ÿ"></a>16ã€ä½ ä½¿ç”¨è¿‡ Vuex å—ï¼Ÿ</h2><p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€œstoreâ€ åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€ ( state )ã€‚</p><p>ï¼ˆ1ï¼‰Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚</p><p>ï¼ˆ2ï¼‰æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤ (commit) mutationã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ã€‚</p><p>ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š</p><ul><li>Stateï¼šå®šä¹‰äº†åº”ç”¨çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®é»˜è®¤çš„åˆå§‹çŠ¶æ€ã€‚</li><li>Getterï¼šå…è®¸ç»„ä»¶ä» Store ä¸­è·å–æ•°æ®ï¼ŒmapGetters è¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ã€‚</li><li>Mutationï¼šæ˜¯å”¯ä¸€æ›´æ”¹ store ä¸­çŠ¶æ€çš„æ–¹æ³•ï¼Œä¸”å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°ã€‚</li><li>Actionï¼šç”¨äºæäº¤ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚</li><li>Moduleï¼šå…è®¸å°†å•ä¸€çš„ Store æ‹†åˆ†ä¸ºå¤šä¸ª store ä¸”åŒæ—¶ä¿å­˜åœ¨å•ä¸€çš„çŠ¶æ€æ ‘ä¸­ã€‚</li></ul><h2 id="17ã€ä½¿ç”¨è¿‡-Vue-SSR-å—ï¼Ÿè¯´è¯´-SSRï¼Ÿ"><a href="#17ã€ä½¿ç”¨è¿‡-Vue-SSR-å—ï¼Ÿè¯´è¯´-SSRï¼Ÿ" class="headerlink" title="17ã€ä½¿ç”¨è¿‡ Vue SSR å—ï¼Ÿè¯´è¯´ SSRï¼Ÿ"></a>17ã€ä½¿ç”¨è¿‡ Vue SSR å—ï¼Ÿè¯´è¯´ SSRï¼Ÿ</h2><blockquote><p>Vue.js æ˜¯æ„å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å‡º Vue ç»„ä»¶ï¼Œè¿›è¡Œç”Ÿæˆ DOM å’Œæ“ä½œ DOMã€‚ç„¶è€Œï¼Œä¹Ÿå¯ä»¥å°†åŒä¸€ä¸ªç»„ä»¶æ¸²æŸ“ä¸ºæœåŠ¡ç«¯çš„ HTML å­—ç¬¦ä¸²ï¼Œå°†å®ƒä»¬ç›´æ¥å‘é€åˆ°æµè§ˆå™¨ï¼Œæœ€åå°†è¿™äº›é™æ€æ ‡è®°â€æ¿€æ´»â€ä¸ºå®¢æˆ·ç«¯ä¸Šå®Œå…¨å¯äº¤äº’çš„åº”ç”¨ç¨‹åºã€‚</p><p>å³ï¼šSSRå¤§è‡´çš„æ„æ€å°±æ˜¯vueåœ¨å®¢æˆ·ç«¯å°†æ ‡ç­¾æ¸²æŸ“æˆçš„æ•´ä¸ª html ç‰‡æ®µçš„å·¥ä½œåœ¨æœåŠ¡ç«¯å®Œæˆï¼ŒæœåŠ¡ç«¯å½¢æˆçš„html ç‰‡æ®µç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯è¿™ä¸ªè¿‡ç¨‹å°±å«åšæœåŠ¡ç«¯æ¸²æŸ“ã€‚</p></blockquote><p><strong>æœåŠ¡ç«¯æ¸²æŸ“ SSR çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š</strong></p><p><strong>ï¼ˆ1ï¼‰æœåŠ¡ç«¯æ¸²æŸ“çš„ä¼˜ç‚¹ï¼š</strong></p><ul><li>æ›´å¥½çš„ SEOï¼š å› ä¸º SPA é¡µé¢çš„å†…å®¹æ˜¯é€šè¿‡ Ajax è·å–ï¼Œè€Œæœç´¢å¼•æ“çˆ¬å–å·¥å…·å¹¶ä¸ä¼šç­‰å¾… Ajax å¼‚æ­¥å®Œæˆåå†æŠ“å–é¡µé¢å†…å®¹ï¼Œæ‰€ä»¥åœ¨ SPA ä¸­æ˜¯æŠ“å–ä¸åˆ°é¡µé¢é€šè¿‡ Ajax è·å–åˆ°çš„å†…å®¹ï¼›è€Œ SSR æ˜¯ç›´æ¥ç”±æœåŠ¡ç«¯è¿”å›å·²ç»æ¸²æŸ“å¥½çš„é¡µé¢ï¼ˆæ•°æ®å·²ç»åŒ…å«åœ¨é¡µé¢ä¸­ï¼‰ï¼Œæ‰€ä»¥æœç´¢å¼•æ“çˆ¬å–å·¥å…·å¯ä»¥æŠ“å–æ¸²æŸ“å¥½çš„é¡µé¢ï¼›</li><li>æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ï¼ˆé¦–å±åŠ è½½æ›´å¿«ï¼‰ï¼š SPA ä¼šç­‰å¾…æ‰€æœ‰ Vue ç¼–è¯‘åçš„ js æ–‡ä»¶éƒ½ä¸‹è½½å®Œæˆåï¼Œæ‰å¼€å§‹è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼Œæ–‡ä»¶ä¸‹è½½ç­‰éœ€è¦ä¸€å®šçš„æ—¶é—´ç­‰ï¼Œæ‰€ä»¥é¦–å±æ¸²æŸ“éœ€è¦ä¸€å®šçš„æ—¶é—´ï¼›SSR ç›´æ¥ç”±æœåŠ¡ç«¯æ¸²æŸ“å¥½é¡µé¢ç›´æ¥è¿”å›æ˜¾ç¤ºï¼Œæ— éœ€ç­‰å¾…ä¸‹è½½ js æ–‡ä»¶åŠå†å»æ¸²æŸ“ç­‰ï¼Œæ‰€ä»¥ SSR æœ‰æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ï¼›</li></ul><p><strong>ï¼ˆ2) æœåŠ¡ç«¯æ¸²æŸ“çš„ç¼ºç‚¹ï¼š</strong></p><ul><li>æ›´å¤šçš„å¼€å‘æ¡ä»¶é™åˆ¶ï¼š ä¾‹å¦‚æœåŠ¡ç«¯æ¸²æŸ“åªæ”¯æŒ beforCreate å’Œ created ä¸¤ä¸ªé’©å­å‡½æ•°ï¼Œè¿™ä¼šå¯¼è‡´ä¸€äº›å¤–éƒ¨æ‰©å±•åº“éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œæ‰èƒ½åœ¨æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ç¨‹åºä¸­è¿è¡Œï¼›å¹¶ä¸”ä¸å¯ä»¥éƒ¨ç½²åœ¨ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨ä¸Šçš„å®Œå…¨é™æ€å•é¡µé¢åº”ç”¨ç¨‹åº SPA ä¸åŒï¼ŒæœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ç¨‹åºï¼Œéœ€è¦å¤„äº Node.js server è¿è¡Œç¯å¢ƒï¼›</li><li>æ›´å¤šçš„æœåŠ¡å™¨è´Ÿè½½ï¼šåœ¨ Node.js  ä¸­æ¸²æŸ“å®Œæ•´çš„åº”ç”¨ç¨‹åºï¼Œæ˜¾ç„¶ä¼šæ¯”ä»…ä»…æä¾›é™æ€æ–‡ä»¶çš„  server æ›´åŠ å¤§é‡å ç”¨CPU èµ„æº (CPU-intensive - CPU å¯†é›†)ï¼Œå› æ­¤å¦‚æœä½ é¢„æ–™åœ¨é«˜æµé‡ç¯å¢ƒ ( high traffic ) ä¸‹ä½¿ç”¨ï¼Œè¯·å‡†å¤‡ç›¸åº”çš„æœåŠ¡å™¨è´Ÿè½½ï¼Œå¹¶æ˜æ™ºåœ°é‡‡ç”¨ç¼“å­˜ç­–ç•¥ã€‚</li></ul><p>å¦‚æœæ²¡æœ‰ SSR å¼€å‘ç»éªŒçš„åŒå­¦ï¼Œå¯ä»¥å‚è€ƒæœ¬æ–‡ä½œè€…çš„å¦ä¸€ç¯‡ SSR çš„å®è·µæ–‡ç« <a href="https://juejin.cn/post/6844903824956588040">ã€ŠVue SSR è¸©å‘ä¹‹æ—…ã€‹</a>ï¼Œé‡Œé¢ SSR é¡¹ç›®æ­å»ºä»¥åŠé™„æœ‰é¡¹ç›®æºç ã€‚</p><h2 id="18ã€vue-router-è·¯ç”±æ¨¡å¼æœ‰å‡ ç§ï¼Ÿ"><a href="#18ã€vue-router-è·¯ç”±æ¨¡å¼æœ‰å‡ ç§ï¼Ÿ" class="headerlink" title="18ã€vue-router è·¯ç”±æ¨¡å¼æœ‰å‡ ç§ï¼Ÿ"></a>18ã€vue-router è·¯ç”±æ¨¡å¼æœ‰å‡ ç§ï¼Ÿ</h2><p>vue-router æœ‰ 3 ç§è·¯ç”±æ¨¡å¼ï¼šhashã€historyã€abstractï¼Œå¯¹åº”çš„æºç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">switch (mode) &#123;</span><br><span class="line">  case &#x27;history&#x27;:</span><br><span class="line">this.history = new HTML5History(this, options.base)</span><br><span class="line">break</span><br><span class="line">  case &#x27;hash&#x27;:</span><br><span class="line">this.history = new HashHistory(this, options.base, this.fallback)</span><br><span class="line">break</span><br><span class="line">  case &#x27;abstract&#x27;:</span><br><span class="line">this.history = new AbstractHistory(this, options.base)</span><br><span class="line">break</span><br><span class="line">  default:</span><br><span class="line">if (process.env.NODE_ENV !== &#x27;production&#x27;) &#123;</span><br><span class="line">  assert(false, `invalid mode: $&#123;mode&#125;`)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ3 ç§è·¯ç”±æ¨¡å¼çš„è¯´æ˜å¦‚ä¸‹ï¼š</p><ul><li>hash:  ä½¿ç”¨ URL hash å€¼æ¥ä½œè·¯ç”±ã€‚æ”¯æŒæ‰€æœ‰æµè§ˆå™¨ï¼ŒåŒ…æ‹¬ä¸æ”¯æŒ HTML5 History Api çš„æµè§ˆå™¨ï¼›</li><li>history :  ä¾èµ– HTML5 History API å’ŒæœåŠ¡å™¨é…ç½®ã€‚å…·ä½“å¯ä»¥æŸ¥çœ‹ HTML5 History æ¨¡å¼ï¼›</li><li>abstract :  æ”¯æŒæ‰€æœ‰ JavaScript è¿è¡Œç¯å¢ƒï¼Œå¦‚ Node.js æœåŠ¡å™¨ç«¯ã€‚å¦‚æœå‘ç°æ²¡æœ‰æµè§ˆå™¨çš„ APIï¼Œè·¯ç”±ä¼šè‡ªåŠ¨å¼ºåˆ¶è¿›å…¥è¿™ä¸ªæ¨¡å¼.</li></ul><h2 id="19ã€èƒ½è¯´ä¸‹-vue-router-ä¸­å¸¸ç”¨çš„-hash-å’Œ-history-è·¯ç”±æ¨¡å¼å®ç°åŸç†å—ï¼Ÿ"><a href="#19ã€èƒ½è¯´ä¸‹-vue-router-ä¸­å¸¸ç”¨çš„-hash-å’Œ-history-è·¯ç”±æ¨¡å¼å®ç°åŸç†å—ï¼Ÿ" class="headerlink" title="19ã€èƒ½è¯´ä¸‹ vue-router ä¸­å¸¸ç”¨çš„ hash å’Œ history è·¯ç”±æ¨¡å¼å®ç°åŸç†å—ï¼Ÿ"></a>19ã€èƒ½è¯´ä¸‹ vue-router ä¸­å¸¸ç”¨çš„ hash å’Œ history è·¯ç”±æ¨¡å¼å®ç°åŸç†å—ï¼Ÿ</h2><p><strong>ï¼ˆ1ï¼‰hash æ¨¡å¼çš„å®ç°åŸç†</strong></p><p>æ—©æœŸçš„å‰ç«¯è·¯ç”±çš„å®ç°å°±æ˜¯åŸºäº location.hash æ¥å®ç°çš„ã€‚å…¶å®ç°åŸç†å¾ˆç®€å•ï¼Œlocation.hash çš„å€¼å°±æ˜¯ URL ä¸­ # åé¢çš„å†…å®¹ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªç½‘ç«™ï¼Œå®ƒçš„ location.hash çš„å€¼ä¸º â€˜#searchâ€™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://www.word.com#search</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>hash  è·¯ç”±æ¨¡å¼çš„å®ç°ä¸»è¦æ˜¯åŸºäºä¸‹é¢å‡ ä¸ªç‰¹æ€§ï¼š</p><ul><li>URL ä¸­ hash å€¼åªæ˜¯å®¢æˆ·ç«¯çš„ä¸€ç§çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‘æœåŠ¡å™¨ç«¯å‘å‡ºè¯·æ±‚æ—¶ï¼Œhash éƒ¨åˆ†ä¸ä¼šè¢«å‘é€ï¼›</li><li>hash å€¼çš„æ”¹å˜ï¼Œéƒ½ä¼šåœ¨æµè§ˆå™¨çš„è®¿é—®å†å²ä¸­å¢åŠ ä¸€ä¸ªè®°å½•ã€‚å› æ­¤æˆ‘ä»¬èƒ½é€šè¿‡æµè§ˆå™¨çš„å›é€€ã€å‰è¿›æŒ‰é’®æ§åˆ¶hash çš„åˆ‡æ¢ï¼›</li><li>å¯ä»¥é€šè¿‡ a æ ‡ç­¾ï¼Œå¹¶è®¾ç½® href å±æ€§ï¼Œå½“ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªæ ‡ç­¾åï¼ŒURL çš„ hash å€¼ä¼šå‘ç”Ÿæ”¹å˜ï¼›æˆ–è€…ä½¿ç”¨  JavaScript æ¥å¯¹ loaction.hash è¿›è¡Œèµ‹å€¼ï¼Œæ”¹å˜ URL çš„ hash å€¼ï¼›</li><li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ hashchange äº‹ä»¶æ¥ç›‘å¬ hash å€¼çš„å˜åŒ–ï¼Œä»è€Œå¯¹é¡µé¢è¿›è¡Œè·³è½¬ï¼ˆæ¸²æŸ“ï¼‰ã€‚</li></ul><p><strong>ï¼ˆ2ï¼‰history æ¨¡å¼çš„å®ç°åŸç†</strong></p><p>HTML5 æä¾›äº† History API æ¥å®ç° URL çš„å˜åŒ–ã€‚å…¶ä¸­åšæœ€ä¸»è¦çš„ API æœ‰ä»¥ä¸‹ä¸¤ä¸ªï¼šhistory.pushState() å’Œ history.repalceState()ã€‚è¿™ä¸¤ä¸ª API å¯ä»¥åœ¨ä¸è¿›è¡Œåˆ·æ–°çš„æƒ…å†µä¸‹ï¼Œæ“ä½œæµè§ˆå™¨çš„å†å²çºªå½•ã€‚å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œå‰è€…æ˜¯æ–°å¢ä¸€ä¸ªå†å²è®°å½•ï¼Œåè€…æ˜¯ç›´æ¥æ›¿æ¢å½“å‰çš„å†å²è®°å½•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.history.pushState(null, null, path);</span><br><span class="line">window.history.replaceState(null, null, path);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>history è·¯ç”±æ¨¡å¼çš„å®ç°ä¸»è¦åŸºäºå­˜åœ¨ä¸‹é¢å‡ ä¸ªç‰¹æ€§ï¼š</p><ul><li>pushState å’Œ repalceState ä¸¤ä¸ª API æ¥æ“ä½œå®ç° URL çš„å˜åŒ– ï¼›</li><li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ popstate  äº‹ä»¶æ¥ç›‘å¬ url çš„å˜åŒ–ï¼Œä»è€Œå¯¹é¡µé¢è¿›è¡Œè·³è½¬ï¼ˆæ¸²æŸ“ï¼‰ï¼›</li><li>history.pushState() æˆ– history.replaceState() ä¸ä¼šè§¦å‘ popstate äº‹ä»¶ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è§¦å‘é¡µé¢è·³è½¬ï¼ˆæ¸²æŸ“ï¼‰ã€‚</li></ul><h2 id="20ã€ä»€ä¹ˆæ˜¯-MVVMï¼Ÿ"><a href="#20ã€ä»€ä¹ˆæ˜¯-MVVMï¼Ÿ" class="headerlink" title="20ã€ä»€ä¹ˆæ˜¯ MVVMï¼Ÿ"></a>20ã€ä»€ä¹ˆæ˜¯ MVVMï¼Ÿ</h2><p>Modelâ€“Viewâ€“ViewModel ï¼ˆMVVMï¼‰ æ˜¯ä¸€ä¸ªè½¯ä»¶æ¶æ„è®¾è®¡æ¨¡å¼ï¼Œç”±å¾®è½¯ WPF å’Œ Silverlight çš„æ¶æ„å¸ˆ Ken Cooper å’Œ Ted Peters å¼€å‘ï¼Œæ˜¯ä¸€ç§ç®€åŒ–ç”¨æˆ·ç•Œé¢çš„äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ–¹å¼ã€‚ç”± John Gossmanï¼ˆåŒæ ·ä¹Ÿæ˜¯ WPF å’Œ Silverlight çš„æ¶æ„å¸ˆï¼‰äº2005å¹´åœ¨ä»–çš„åšå®¢ä¸Šå‘è¡¨</p><p>MVVM æºè‡ªäºç»å…¸çš„ Modelâ€“Viewâ€“Controllerï¼ˆMVCï¼‰æ¨¡å¼  ï¼ŒMVVM çš„å‡ºç°ä¿ƒè¿›äº†å‰ç«¯å¼€å‘ä¸åç«¯ä¸šåŠ¡é€»è¾‘çš„åˆ†ç¦»ï¼Œæå¤§åœ°æé«˜äº†å‰ç«¯å¼€å‘æ•ˆç‡ï¼ŒMVVM çš„æ ¸å¿ƒæ˜¯ ViewModel å±‚ï¼Œå®ƒå°±åƒæ˜¯ä¸€ä¸ªä¸­è½¬ç«™ï¼ˆvalue converterï¼‰ï¼Œè´Ÿè´£è½¬æ¢ Model ä¸­çš„æ•°æ®å¯¹è±¡æ¥è®©æ•°æ®å˜å¾—æ›´å®¹æ˜“ç®¡ç†å’Œä½¿ç”¨ï¼Œè¯¥å±‚å‘ä¸Šä¸è§†å›¾å±‚è¿›è¡ŒåŒå‘æ•°æ®ç»‘å®šï¼Œå‘ä¸‹ä¸ Model å±‚é€šè¿‡æ¥å£è¯·æ±‚è¿›è¡Œæ•°æ®äº¤äº’ï¼Œèµ·å‘ˆä¸Šå¯ä¸‹ä½œç”¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191015349.webp" alt="1.png"></p><p>ï¼ˆ1ï¼‰View å±‚</p><p>View æ˜¯è§†å›¾å±‚ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·ç•Œé¢ã€‚å‰ç«¯ä¸»è¦ç”± HTML å’Œ CSS æ¥æ„å»º ã€‚</p><p>ï¼ˆ2ï¼‰Model å±‚</p><p>Model æ˜¯æŒ‡æ•°æ®æ¨¡å‹ï¼Œæ³›æŒ‡åç«¯è¿›è¡Œçš„å„ç§ä¸šåŠ¡é€»è¾‘å¤„ç†å’Œæ•°æ®æ“æ§ï¼Œå¯¹äºå‰ç«¯æ¥è¯´å°±æ˜¯åç«¯æä¾›çš„ api æ¥å£ã€‚</p><p>ï¼ˆ3ï¼‰ViewModel å±‚</p><p>ViewModel æ˜¯ç”±å‰ç«¯å¼€å‘äººå‘˜ç»„ç»‡ç”Ÿæˆå’Œç»´æŠ¤çš„è§†å›¾æ•°æ®å±‚ã€‚åœ¨è¿™ä¸€å±‚ï¼Œå‰ç«¯å¼€å‘è€…å¯¹ä»åç«¯è·å–çš„ Model æ•°æ®è¿›è¡Œè½¬æ¢å¤„ç†ï¼ŒåšäºŒæ¬¡å°è£…ï¼Œä»¥ç”Ÿæˆç¬¦åˆ View å±‚ä½¿ç”¨é¢„æœŸçš„è§†å›¾æ•°æ®æ¨¡å‹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ ViewModel æ‰€å°è£…å‡ºæ¥çš„æ•°æ®æ¨¡å‹åŒ…æ‹¬è§†å›¾çš„çŠ¶æ€å’Œè¡Œä¸ºä¸¤éƒ¨åˆ†ï¼Œè€Œ Model å±‚çš„æ•°æ®æ¨¡å‹æ˜¯åªåŒ…å«çŠ¶æ€çš„ï¼Œæ¯”å¦‚é¡µé¢çš„è¿™ä¸€å—å±•ç¤ºä»€ä¹ˆï¼Œè€Œé¡µé¢åŠ è½½è¿›æ¥æ—¶å‘ç”Ÿä»€ä¹ˆï¼Œç‚¹å‡»è¿™ä¸€å—å‘ç”Ÿä»€ä¹ˆï¼Œè¿™ä¸€å—æ»šåŠ¨æ—¶å‘ç”Ÿä»€ä¹ˆè¿™äº›éƒ½å±äºè§†å›¾è¡Œä¸ºï¼ˆäº¤äº’ï¼‰ï¼Œè§†å›¾çŠ¶æ€å’Œè¡Œä¸ºéƒ½å°è£…åœ¨äº† ViewModel é‡Œã€‚è¿™æ ·çš„å°è£…ä½¿å¾— ViewModel å¯ä»¥å®Œæ•´åœ°å»æè¿° View å±‚ã€‚</p><p>MVVM æ¡†æ¶å®ç°äº†åŒå‘ç»‘å®šï¼Œè¿™æ · ViewModel çš„å†…å®¹ä¼šå®æ—¶å±•ç°åœ¨ View å±‚ï¼Œå‰ç«¯å¼€å‘è€…å†ä¹Ÿä¸å¿…ä½æ•ˆåˆéº»çƒ¦åœ°é€šè¿‡æ“çºµ DOM å»æ›´æ–°è§†å›¾ï¼ŒMVVM æ¡†æ¶å·²ç»æŠŠæœ€è„æœ€ç´¯çš„ä¸€å—åšå¥½äº†ï¼Œæˆ‘ä»¬å¼€å‘è€…åªéœ€è¦å¤„ç†å’Œç»´æŠ¤ ViewModelï¼Œæ›´æ–°æ•°æ®è§†å›¾å°±ä¼šè‡ªåŠ¨å¾—åˆ°ç›¸åº”æ›´æ–°ã€‚è¿™æ · View å±‚å±•ç°çš„ä¸æ˜¯ Model å±‚çš„æ•°æ®ï¼Œè€Œæ˜¯ ViewModel çš„æ•°æ®ï¼Œç”± ViewModel è´Ÿè´£ä¸ Model å±‚äº¤äº’ï¼Œè¿™å°±å®Œå…¨è§£è€¦äº† View å±‚å’Œ Model å±‚ï¼Œè¿™ä¸ªè§£è€¦æ˜¯è‡³å…³é‡è¦çš„ï¼Œå®ƒæ˜¯å‰åç«¯åˆ†ç¦»æ–¹æ¡ˆå®æ–½çš„é‡è¦ä¸€ç¯ã€‚</p><p>æˆ‘ä»¬ä»¥ä¸‹é€šè¿‡ä¸€ä¸ª Vue å®ä¾‹æ¥è¯´æ˜ MVVM çš„å…·ä½“å®ç°ï¼Œæœ‰ Vue å¼€å‘ç»éªŒçš„åŒå­¦åº”è¯¥ä¸€ç›®äº†ç„¶ï¼š</p><p>ï¼ˆ1ï¼‰View å±‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;button v-on:click=&quot;showMessage()&quot;&gt;Click me&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ViewModel å±‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">var app = new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    data: &#123;  // ç”¨äºæè¿°è§†å›¾çŠ¶æ€   </span><br><span class="line">        message: &#x27;Hello Vue!&#x27;, </span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;  // ç”¨äºæè¿°è§†å›¾è¡Œä¸º  </span><br><span class="line">        showMessage()&#123;</span><br><span class="line">            let vm = this;</span><br><span class="line">            alert(vm.message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    created()&#123;</span><br><span class="line">        let vm = this;</span><br><span class="line">        // Ajax è·å– Model å±‚çš„æ•°æ®</span><br><span class="line">        ajax(&#123;</span><br><span class="line">            url: &#x27;/your/server/data/api&#x27;,</span><br><span class="line">            success(res)&#123;</span><br><span class="line">                vm.message = res;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰ Model å±‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;url&quot;: &quot;/your/server/data/api&quot;,</span><br><span class="line">    &quot;res&quot;: &#123;</span><br><span class="line">        &quot;success&quot;: true,</span><br><span class="line">        &quot;name&quot;: &quot;IoveC&quot;,</span><br><span class="line">        &quot;domain&quot;: &quot;www.cnblogs.com&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="21ã€Vue-æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿ"><a href="#21ã€Vue-æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿ" class="headerlink" title="21ã€Vue æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿ"></a>21ã€Vue æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿ</h2><p>Vue æ•°æ®åŒå‘ç»‘å®šä¸»è¦æ˜¯æŒ‡ï¼šæ•°æ®å˜åŒ–æ›´æ–°è§†å›¾ï¼Œè§†å›¾å˜åŒ–æ›´æ–°æ•°æ®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191015839.webp" alt="1.png"></p><p>å³ï¼š</p><ul><li>è¾“å…¥æ¡†å†…å®¹å˜åŒ–æ—¶ï¼ŒData ä¸­çš„æ•°æ®åŒæ­¥å˜åŒ–ã€‚å³ View =&gt; Data çš„å˜åŒ–ã€‚</li><li>Data ä¸­çš„æ•°æ®å˜åŒ–æ—¶ï¼Œæ–‡æœ¬èŠ‚ç‚¹çš„å†…å®¹åŒæ­¥å˜åŒ–ã€‚å³ Data =&gt; View çš„å˜åŒ–ã€‚</li></ul><p>å…¶ä¸­ï¼ŒView å˜åŒ–æ›´æ–° Data ï¼Œå¯ä»¥é€šè¿‡äº‹ä»¶ç›‘å¬çš„æ–¹å¼æ¥å®ç°ï¼Œæ‰€ä»¥ Vue çš„æ•°æ®åŒå‘ç»‘å®šçš„å·¥ä½œä¸»è¦æ˜¯å¦‚ä½•æ ¹æ® Data å˜åŒ–æ›´æ–° Viewã€‚</p><p>Vue ä¸»è¦é€šè¿‡ä»¥ä¸‹ 4 ä¸ªæ­¥éª¤æ¥å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼š</p><p>å®ç°ä¸€ä¸ªç›‘å¬å™¨ Observerï¼šå¯¹æ•°æ®å¯¹è±¡è¿›è¡Œéå†ï¼ŒåŒ…æ‹¬å­å±æ€§å¯¹è±¡çš„å±æ€§ï¼Œåˆ©ç”¨ Object.defineProperty() å¯¹å±æ€§éƒ½åŠ ä¸Š setter å’Œ getterã€‚è¿™æ ·çš„è¯ï¼Œç»™è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªå€¼èµ‹å€¼ï¼Œå°±ä¼šè§¦å‘ setterï¼Œé‚£ä¹ˆå°±èƒ½ç›‘å¬åˆ°äº†æ•°æ®å˜åŒ–ã€‚</p><p>å®ç°ä¸€ä¸ªè§£æå™¨ Compileï¼šè§£æ Vue æ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­çš„å˜é‡éƒ½æ›¿æ¢æˆæ•°æ®ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾ï¼Œå¹¶å°†æ¯ä¸ªæŒ‡ä»¤å¯¹åº”çš„èŠ‚ç‚¹ç»‘å®šæ›´æ–°å‡½æ•°ï¼Œæ·»åŠ ç›‘å¬æ•°æ®çš„è®¢é˜…è€…ï¼Œä¸€æ—¦æ•°æ®æœ‰å˜åŠ¨ï¼Œæ”¶åˆ°é€šçŸ¥ï¼Œè°ƒç”¨æ›´æ–°å‡½æ•°è¿›è¡Œæ•°æ®æ›´æ–°ã€‚</p><p>å®ç°ä¸€ä¸ªè®¢é˜…è€… Watcherï¼šWatcher è®¢é˜…è€…æ˜¯ Observer å’Œ Compile ä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ ï¼Œä¸»è¦çš„ä»»åŠ¡æ˜¯è®¢é˜… Observer ä¸­çš„å±æ€§å€¼å˜åŒ–çš„æ¶ˆæ¯ï¼Œå½“æ”¶åˆ°å±æ€§å€¼å˜åŒ–çš„æ¶ˆæ¯æ—¶ï¼Œè§¦å‘è§£æå™¨ Compile ä¸­å¯¹åº”çš„æ›´æ–°å‡½æ•°ã€‚</p><p>å®ç°ä¸€ä¸ªè®¢é˜…å™¨ Depï¼šè®¢é˜…å™¨é‡‡ç”¨ å‘å¸ƒ-è®¢é˜… è®¾è®¡æ¨¡å¼ï¼Œç”¨æ¥æ”¶é›†è®¢é˜…è€… Watcherï¼Œå¯¹ç›‘å¬å™¨ Observer å’Œ è®¢é˜…è€… Watcher è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚</p><p>ä»¥ä¸Šå››ä¸ªæ­¥éª¤çš„æµç¨‹å›¾è¡¨ç¤ºå¦‚ä¸‹ï¼Œå¦‚æœæœ‰åŒå­¦ç†è§£ä¸å¤§æ¸…æ™°çš„ï¼Œå¯ä»¥æŸ¥çœ‹ä½œè€…ä¸“é—¨ä»‹ç»æ•°æ®åŒå‘ç»‘å®šçš„æ–‡ç« <a href="https://juejin.cn/post/6844903903822086151">ã€Š0 åˆ° 1 æŒæ¡ï¼šVue æ ¸å¿ƒä¹‹æ•°æ®åŒå‘ç»‘å®šã€‹</a>ï¼Œæœ‰è¿›è¡Œè¯¦ç»†çš„è®²è§£ã€ä»¥åŠä»£ç  demo ç¤ºä¾‹ã€‚</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/8/19/16ca75871f729d89~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp" alt="1.png"></p><h2 id="22ã€Vue-æ¡†æ¶æ€ä¹ˆå®ç°å¯¹è±¡å’Œæ•°ç»„çš„ç›‘å¬ï¼Ÿ"><a href="#22ã€Vue-æ¡†æ¶æ€ä¹ˆå®ç°å¯¹è±¡å’Œæ•°ç»„çš„ç›‘å¬ï¼Ÿ" class="headerlink" title="22ã€Vue æ¡†æ¶æ€ä¹ˆå®ç°å¯¹è±¡å’Œæ•°ç»„çš„ç›‘å¬ï¼Ÿ"></a>22ã€Vue æ¡†æ¶æ€ä¹ˆå®ç°å¯¹è±¡å’Œæ•°ç»„çš„ç›‘å¬ï¼Ÿ</h2><p>å¦‚æœè¢«é—®åˆ° Vue æ€ä¹ˆå®ç°æ•°æ®åŒå‘ç»‘å®šï¼Œå¤§å®¶è‚¯å®šéƒ½ä¼šå›ç­” é€šè¿‡ Object.defineProperty() å¯¹æ•°æ®è¿›è¡ŒåŠ«æŒï¼Œä½†æ˜¯  Object.defineProperty() åªèƒ½å¯¹å±æ€§è¿›è¡Œæ•°æ®åŠ«æŒï¼Œä¸èƒ½å¯¹æ•´ä¸ªå¯¹è±¡è¿›è¡ŒåŠ«æŒï¼ŒåŒç†æ— æ³•å¯¹æ•°ç»„è¿›è¡ŒåŠ«æŒï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨ä½¿ç”¨ Vue æ¡†æ¶ä¸­éƒ½çŸ¥é“ï¼ŒVue èƒ½æ£€æµ‹åˆ°å¯¹è±¡å’Œæ•°ç»„ï¼ˆéƒ¨åˆ†æ–¹æ³•çš„æ“ä½œï¼‰çš„å˜åŒ–ï¼Œé‚£å®ƒæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿæˆ‘ä»¬æŸ¥çœ‹ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">  /**</span><br><span class="line">   * Observe a list of Array items.</span><br><span class="line">   */</span><br><span class="line">  observeArray (items: Array&lt;any&gt;) &#123;</span><br><span class="line">    for (let i = 0, l = items.length; i &lt; l; i++) &#123;</span><br><span class="line">      observe(items[i])  // observe åŠŸèƒ½ä¸ºç›‘æµ‹æ•°æ®çš„å˜åŒ–</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * å¯¹å±æ€§è¿›è¡Œé€’å½’éå†</span><br><span class="line">   */</span><br><span class="line">  let childOb = !shallow &amp;&amp; observe(val) // observe åŠŸèƒ½ä¸ºç›‘æµ‹æ•°æ®çš„å˜åŒ–</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>é€šè¿‡ä»¥ä¸Š Vue æºç éƒ¨åˆ†æŸ¥çœ‹ï¼Œæˆ‘ä»¬å°±èƒ½çŸ¥é“ Vue æ¡†æ¶æ˜¯é€šè¿‡éå†æ•°ç»„ å’Œé€’å½’éå†å¯¹è±¡ï¼Œä»è€Œè¾¾åˆ°åˆ©ç”¨  Object.defineProperty() ä¹Ÿèƒ½å¯¹å¯¹è±¡å’Œæ•°ç»„ï¼ˆéƒ¨åˆ†æ–¹æ³•çš„æ“ä½œï¼‰è¿›è¡Œç›‘å¬ã€‚</p><h2 id="23ã€Proxy-ä¸-Object-defineProperty-ä¼˜åŠ£å¯¹æ¯”"><a href="#23ã€Proxy-ä¸-Object-defineProperty-ä¼˜åŠ£å¯¹æ¯”" class="headerlink" title="23ã€Proxy ä¸ Object.defineProperty ä¼˜åŠ£å¯¹æ¯”"></a>23ã€Proxy ä¸ Object.defineProperty ä¼˜åŠ£å¯¹æ¯”</h2><p><strong>Proxy çš„ä¼˜åŠ¿å¦‚ä¸‹:</strong></p><ul><li>Proxy å¯ä»¥ç›´æ¥ç›‘å¬å¯¹è±¡è€Œéå±æ€§ï¼›</li><li>Proxy å¯ä»¥ç›´æ¥ç›‘å¬æ•°ç»„çš„å˜åŒ–ï¼›</li><li>Proxy æœ‰å¤šè¾¾ 13 ç§æ‹¦æˆªæ–¹æ³•,ä¸é™äº applyã€ownKeysã€deletePropertyã€has ç­‰ç­‰æ˜¯ Object.defineProperty ä¸å…·å¤‡çš„ï¼›</li><li>Proxy è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡,æˆ‘ä»¬å¯ä»¥åªæ“ä½œæ–°çš„å¯¹è±¡è¾¾åˆ°ç›®çš„,è€Œ Object.defineProperty åªèƒ½éå†å¯¹è±¡å±æ€§ç›´æ¥ä¿®æ”¹ï¼›</li><li>Proxy ä½œä¸ºæ–°æ ‡å‡†å°†å—åˆ°æµè§ˆå™¨å‚å•†é‡ç‚¹æŒç»­çš„æ€§èƒ½ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯ä¼ è¯´ä¸­çš„æ–°æ ‡å‡†çš„æ€§èƒ½çº¢åˆ©ï¼›</li></ul><p><strong>Object.defineProperty çš„ä¼˜åŠ¿å¦‚ä¸‹:</strong></p><ul><li>å…¼å®¹æ€§å¥½ï¼Œæ”¯æŒ IE9ï¼Œè€Œ Proxy çš„å­˜åœ¨æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜,è€Œä¸”æ— æ³•ç”¨ polyfill ç£¨å¹³ï¼Œå› æ­¤ Vue çš„ä½œè€…æ‰å£°æ˜éœ€è¦ç­‰åˆ°ä¸‹ä¸ªå¤§ç‰ˆæœ¬( 3.0 )æ‰èƒ½ç”¨ Proxy é‡å†™ã€‚</li></ul><h2 id="24ã€Vue-æ€ä¹ˆç”¨-vm-set-è§£å†³å¯¹è±¡æ–°å¢å±æ€§ä¸èƒ½å“åº”çš„é—®é¢˜-ï¼Ÿ"><a href="#24ã€Vue-æ€ä¹ˆç”¨-vm-set-è§£å†³å¯¹è±¡æ–°å¢å±æ€§ä¸èƒ½å“åº”çš„é—®é¢˜-ï¼Ÿ" class="headerlink" title="24ã€Vue æ€ä¹ˆç”¨ vm.$set() è§£å†³å¯¹è±¡æ–°å¢å±æ€§ä¸èƒ½å“åº”çš„é—®é¢˜ ï¼Ÿ"></a>24ã€Vue æ€ä¹ˆç”¨ vm.$set() è§£å†³å¯¹è±¡æ–°å¢å±æ€§ä¸èƒ½å“åº”çš„é—®é¢˜ ï¼Ÿ</h2><p>å—ç°ä»£ JavaScript çš„é™åˆ¶ ï¼ŒVue <strong>æ— æ³•æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤</strong>ã€‚ç”±äº Vue ä¼šåœ¨åˆå§‹åŒ–å®ä¾‹æ—¶å¯¹å±æ€§æ‰§è¡Œ getter/setter è½¬åŒ–ï¼Œæ‰€ä»¥å±æ€§å¿…é¡»åœ¨ data å¯¹è±¡ä¸Šå­˜åœ¨æ‰èƒ½è®© Vue å°†å®ƒè½¬æ¢ä¸ºå“åº”å¼çš„ã€‚ä½†æ˜¯ Vue æä¾›äº† <code>Vue.set (object, propertyName, value) / vm.$set (object, propertyName, value)</code>  æ¥å®ç°ä¸ºå¯¹è±¡æ·»åŠ å“åº”å¼å±æ€§ï¼Œé‚£æ¡†æ¶æœ¬èº«æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬æŸ¥çœ‹å¯¹åº”çš„ Vue æºç ï¼š<code>vue/src/core/instance/index.js</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">export function set (target: Array&lt;any&gt; | Object, key: any, val: any): any &#123;</span><br><span class="line">  // target ä¸ºæ•°ç»„  </span><br><span class="line">  if (Array.isArray(target) &amp;&amp; isValidArrayIndex(key)) &#123;</span><br><span class="line">    // ä¿®æ”¹æ•°ç»„çš„é•¿åº¦, é¿å…ç´¢å¼•&gt;æ•°ç»„é•¿åº¦å¯¼è‡´splcie()æ‰§è¡Œæœ‰è¯¯</span><br><span class="line">    target.length = Math.max(target.length, key)</span><br><span class="line">    // åˆ©ç”¨æ•°ç»„çš„spliceå˜å¼‚æ–¹æ³•è§¦å‘å“åº”å¼  </span><br><span class="line">    target.splice(key, 1, val)</span><br><span class="line">    return val</span><br><span class="line">  &#125;</span><br><span class="line">  // key å·²ç»å­˜åœ¨ï¼Œç›´æ¥ä¿®æ”¹å±æ€§å€¼  </span><br><span class="line">  if (key in target &amp;&amp; !(key in Object.prototype)) &#123;</span><br><span class="line">    target[key] = val</span><br><span class="line">    return val</span><br><span class="line">  &#125;</span><br><span class="line">  const ob = (target: any).__ob__</span><br><span class="line">  // target æœ¬èº«å°±ä¸æ˜¯å“åº”å¼æ•°æ®, ç›´æ¥èµ‹å€¼</span><br><span class="line">  if (!ob) &#123;</span><br><span class="line">    target[key] = val</span><br><span class="line">    return val</span><br><span class="line">  &#125;</span><br><span class="line">  // å¯¹å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†</span><br><span class="line">  defineReactive(ob.value, key, val)</span><br><span class="line">  ob.dep.notify()</span><br><span class="line">  return val</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é˜…è¯»ä»¥ä¸Šæºç å¯çŸ¥ï¼Œvm.$set çš„å®ç°åŸç†æ˜¯ï¼š</p><ul><li>å¦‚æœç›®æ ‡æ˜¯æ•°ç»„ï¼Œç›´æ¥ä½¿ç”¨æ•°ç»„çš„ splice æ–¹æ³•è§¦å‘ç›¸åº”å¼ï¼›</li><li>å¦‚æœç›®æ ‡æ˜¯å¯¹è±¡ï¼Œä¼šå…ˆåˆ¤è¯»å±æ€§æ˜¯å¦å­˜åœ¨ã€å¯¹è±¡æ˜¯å¦æ˜¯å“åº”å¼ï¼Œæœ€ç»ˆå¦‚æœè¦å¯¹å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ï¼Œåˆ™æ˜¯é€šè¿‡è°ƒç”¨   defineReactive æ–¹æ³•è¿›è¡Œå“åº”å¼å¤„ç†ï¼ˆ defineReactive æ–¹æ³•å°±æ˜¯  Vue åœ¨åˆå§‹åŒ–å¯¹è±¡æ—¶ï¼Œç»™å¯¹è±¡å±æ€§é‡‡ç”¨ Object.defineProperty åŠ¨æ€æ·»åŠ  getter å’Œ setter çš„åŠŸèƒ½æ‰€è°ƒç”¨çš„æ–¹æ³•ï¼‰</li></ul><h2 id="25ã€è™šæ‹Ÿ-DOM-çš„ä¼˜ç¼ºç‚¹ï¼Ÿ"><a href="#25ã€è™šæ‹Ÿ-DOM-çš„ä¼˜ç¼ºç‚¹ï¼Ÿ" class="headerlink" title="25ã€è™šæ‹Ÿ DOM çš„ä¼˜ç¼ºç‚¹ï¼Ÿ"></a>25ã€è™šæ‹Ÿ DOM çš„ä¼˜ç¼ºç‚¹ï¼Ÿ</h2><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li><strong>ä¿è¯æ€§èƒ½ä¸‹é™ï¼š</strong> æ¡†æ¶çš„è™šæ‹Ÿ DOM éœ€è¦é€‚é…ä»»ä½•ä¸Šå±‚ API å¯èƒ½äº§ç”Ÿçš„æ“ä½œï¼Œå®ƒçš„ä¸€äº› DOM æ“ä½œçš„å®ç°å¿…é¡»æ˜¯æ™®é€‚çš„ï¼Œæ‰€ä»¥å®ƒçš„æ€§èƒ½å¹¶ä¸æ˜¯æœ€ä¼˜çš„ï¼›ä½†æ˜¯æ¯”èµ·ç²—æš´çš„ DOM æ“ä½œæ€§èƒ½è¦å¥½å¾ˆå¤šï¼Œå› æ­¤æ¡†æ¶çš„è™šæ‹Ÿ DOM è‡³å°‘å¯ä»¥ä¿è¯åœ¨ä½ ä¸éœ€è¦æ‰‹åŠ¨ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶å¯ä»¥æä¾›è¿˜ä¸é”™çš„æ€§èƒ½ï¼Œå³ä¿è¯æ€§èƒ½çš„ä¸‹é™ï¼›</li><li><strong>æ— éœ€æ‰‹åŠ¨æ“ä½œ DOMï¼š</strong> æˆ‘ä»¬ä¸å†éœ€è¦æ‰‹åŠ¨å»æ“ä½œ DOMï¼Œåªéœ€è¦å†™å¥½ View-Model çš„ä»£ç é€»è¾‘ï¼Œæ¡†æ¶ä¼šæ ¹æ®è™šæ‹Ÿ DOM å’Œ æ•°æ®åŒå‘ç»‘å®šï¼Œå¸®æˆ‘ä»¬ä»¥å¯é¢„æœŸçš„æ–¹å¼æ›´æ–°è§†å›¾ï¼Œæå¤§æé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼›</li><li><strong>è·¨å¹³å°ï¼š</strong> è™šæ‹Ÿ DOM æœ¬è´¨ä¸Šæ˜¯ JavaScript å¯¹è±¡,è€Œ DOM ä¸å¹³å°å¼ºç›¸å…³ï¼Œç›¸æ¯”ä¹‹ä¸‹è™šæ‹Ÿ DOM å¯ä»¥è¿›è¡Œæ›´æ–¹ä¾¿åœ°è·¨å¹³å°æ“ä½œï¼Œä¾‹å¦‚æœåŠ¡å™¨æ¸²æŸ“ã€weex å¼€å‘ç­‰ç­‰ã€‚</li></ul><p><strong>ç¼ºç‚¹:</strong></p><ul><li><strong>æ— æ³•è¿›è¡Œæè‡´ä¼˜åŒ–ï¼š</strong> è™½ç„¶è™šæ‹Ÿ DOM + åˆç†çš„ä¼˜åŒ–ï¼Œè¶³ä»¥åº”å¯¹ç»å¤§éƒ¨åˆ†åº”ç”¨çš„æ€§èƒ½éœ€æ±‚ï¼Œä½†åœ¨ä¸€äº›æ€§èƒ½è¦æ±‚æé«˜çš„åº”ç”¨ä¸­è™šæ‹Ÿ DOM æ— æ³•è¿›è¡Œé’ˆå¯¹æ€§çš„æè‡´ä¼˜åŒ–ã€‚</li></ul><h2 id="26ã€è™šæ‹Ÿ-DOM-å®ç°åŸç†ï¼Ÿ"><a href="#26ã€è™šæ‹Ÿ-DOM-å®ç°åŸç†ï¼Ÿ" class="headerlink" title="26ã€è™šæ‹Ÿ DOM å®ç°åŸç†ï¼Ÿ"></a>26ã€è™šæ‹Ÿ DOM å®ç°åŸç†ï¼Ÿ</h2><p>è™šæ‹Ÿ DOM çš„å®ç°åŸç†ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ 3 éƒ¨åˆ†ï¼š</p><ul><li>ç”¨ JavaScript å¯¹è±¡æ¨¡æ‹ŸçœŸå® DOM æ ‘ï¼Œå¯¹çœŸå® DOM è¿›è¡ŒæŠ½è±¡ï¼›</li><li>diff ç®—æ³• â€” æ¯”è¾ƒä¸¤æ£µè™šæ‹Ÿ DOM æ ‘çš„å·®å¼‚ï¼›</li><li>pach ç®—æ³• â€” å°†ä¸¤ä¸ªè™šæ‹Ÿ DOM å¯¹è±¡çš„å·®å¼‚åº”ç”¨åˆ°çœŸæ­£çš„ DOM æ ‘ã€‚</li></ul><p>å¦‚æœå¯¹ä»¥ä¸Š 3 ä¸ªéƒ¨åˆ†è¿˜ä¸æ˜¯å¾ˆäº†è§£çš„åŒå­¦ï¼Œå¯ä»¥æŸ¥çœ‹æœ¬æ–‡ä½œè€…å†™çš„å¦ä¸€ç¯‡è¯¦è§£è™šæ‹Ÿ DOM çš„æ–‡ç« ã€Š<a href="https://juejin.cn/post/6844903895467032589#heading-14">æ·±å…¥å‰–æï¼šVueæ ¸å¿ƒä¹‹è™šæ‹ŸDOM</a>ã€‹</p><h2 id="27ã€Vue-ä¸­çš„-key-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"><a href="#27ã€Vue-ä¸­çš„-key-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ" class="headerlink" title="27ã€Vue ä¸­çš„ key æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"></a>27ã€Vue ä¸­çš„ key æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><p>key æ˜¯ä¸º Vue ä¸­ vnode çš„å”¯ä¸€æ ‡è®°ï¼Œé€šè¿‡è¿™ä¸ª keyï¼Œæˆ‘ä»¬çš„ diff æ“ä½œå¯ä»¥æ›´å‡†ç¡®ã€æ›´å¿«é€Ÿã€‚Vue çš„ diff è¿‡ç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºï¼šoldCh å’Œ newCh å„æœ‰ä¸¤ä¸ªå¤´å°¾çš„å˜é‡ oldStartIndexã€oldEndIndex å’Œ newStartIndexã€newEndIndexï¼Œå®ƒä»¬ä¼šæ–°èŠ‚ç‚¹å’Œæ—§èŠ‚ç‚¹ä¼šè¿›è¡Œä¸¤ä¸¤å¯¹æ¯”ï¼Œå³ä¸€å…±æœ‰4ç§æ¯”è¾ƒæ–¹å¼ï¼šnewStartIndex å’ŒoldStartIndex ã€newEndIndex å’Œ  oldEndIndex ã€newStartIndex å’Œ oldEndIndex ã€newEndIndex å’Œ oldStartIndexï¼Œå¦‚æœä»¥ä¸Š 4 ç§æ¯”è¾ƒéƒ½æ²¡åŒ¹é…ï¼Œå¦‚æœè®¾ç½®äº†keyï¼Œå°±ä¼šç”¨ key å†è¿›è¡Œæ¯”è¾ƒï¼Œåœ¨æ¯”è¾ƒçš„è¿‡ç¨‹ä¸­ï¼Œéå†ä¼šå¾€ä¸­é—´é ï¼Œä¸€æ—¦ StartIdx &gt; EndIdx è¡¨æ˜ oldCh å’Œ newCh è‡³å°‘æœ‰ä¸€ä¸ªå·²ç»éå†å®Œäº†ï¼Œå°±ä¼šç»“æŸæ¯”è¾ƒã€‚å…·ä½“æœ‰æ—  key çš„ diff è¿‡ç¨‹ï¼Œå¯ä»¥æŸ¥çœ‹ä½œè€…å†™çš„å¦ä¸€ç¯‡è¯¦è§£è™šæ‹Ÿ DOM çš„æ–‡ç« ã€Š<a href="https://juejin.cn/post/6844903895467032589#heading-14">æ·±å…¥å‰–æï¼šVueæ ¸å¿ƒä¹‹è™šæ‹ŸDOM</a>ã€‹</p><p>æ‰€ä»¥ Vue ä¸­ key çš„ä½œç”¨æ˜¯ï¼škey æ˜¯ä¸º Vue ä¸­ vnode çš„å”¯ä¸€æ ‡è®°ï¼Œé€šè¿‡è¿™ä¸ª keyï¼Œæˆ‘ä»¬çš„ diff æ“ä½œå¯ä»¥æ›´å‡†ç¡®ã€æ›´å¿«é€Ÿ</p><p><strong>æ›´å‡†ç¡®</strong>ï¼šå› ä¸ºå¸¦ key å°±ä¸æ˜¯å°±åœ°å¤ç”¨äº†ï¼Œåœ¨ sameNode å‡½æ•° <code>a.key === b.key</code> å¯¹æ¯”ä¸­å¯ä»¥é¿å…å°±åœ°å¤ç”¨çš„æƒ…å†µã€‚æ‰€ä»¥ä¼šæ›´åŠ å‡†ç¡®ã€‚</p><p><strong>æ›´å¿«é€Ÿ</strong>ï¼šåˆ©ç”¨ key çš„å”¯ä¸€æ€§ç”Ÿæˆ map å¯¹è±¡æ¥è·å–å¯¹åº”èŠ‚ç‚¹ï¼Œæ¯”éå†æ–¹å¼æ›´å¿«ï¼Œæºç å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function createKeyToOldIdx (children, beginIdx, endIdx) &#123;</span><br><span class="line">  let i, key</span><br><span class="line">  const map = &#123;&#125;</span><br><span class="line">  for (i = beginIdx; i &lt;= endIdx; ++i) &#123;</span><br><span class="line">    key = children[i].key</span><br><span class="line">    if (isDef(key)) map[key] = i</span><br><span class="line">  &#125;</span><br><span class="line">  return map</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="28ã€ä½ æœ‰å¯¹-Vue-é¡¹ç›®è¿›è¡Œå“ªäº›ä¼˜åŒ–ï¼Ÿ"><a href="#28ã€ä½ æœ‰å¯¹-Vue-é¡¹ç›®è¿›è¡Œå“ªäº›ä¼˜åŒ–ï¼Ÿ" class="headerlink" title="28ã€ä½ æœ‰å¯¹ Vue é¡¹ç›®è¿›è¡Œå“ªäº›ä¼˜åŒ–ï¼Ÿ"></a>28ã€ä½ æœ‰å¯¹ Vue é¡¹ç›®è¿›è¡Œå“ªäº›ä¼˜åŒ–ï¼Ÿ</h2><p>å¦‚æœæ²¡æœ‰å¯¹ Vue é¡¹ç›®æ²¡æœ‰è¿›è¡Œè¿‡ä¼˜åŒ–æ€»ç»“çš„åŒå­¦ï¼Œå¯ä»¥å‚è€ƒæœ¬æ–‡ä½œè€…çš„å¦ä¸€ç¯‡æ–‡ç« <a href="https://juejin.cn/post/6844903913410314247">ã€Š Vue é¡¹ç›®æ€§èƒ½ä¼˜åŒ– â€” å®è·µæŒ‡å— ã€‹</a>ï¼Œæ–‡ç« ä¸»è¦ä»‹ç»ä» 3 ä¸ªå¤§æ–¹é¢ï¼Œ22 ä¸ªå°æ–¹é¢è¯¦ç»†è®²è§£å¦‚ä½•è¿›è¡Œ Vue é¡¹ç›®çš„ä¼˜åŒ–ã€‚</p><p><strong>ï¼ˆ1ï¼‰ä»£ç å±‚é¢çš„ä¼˜åŒ–</strong></p><ul><li>v-if å’Œ v-show åŒºåˆ†ä½¿ç”¨åœºæ™¯</li><li>computed å’Œ watch  åŒºåˆ†ä½¿ç”¨åœºæ™¯</li><li>v-for éå†å¿…é¡»ä¸º item æ·»åŠ  keyï¼Œä¸”é¿å…åŒæ—¶ä½¿ç”¨ v-if</li><li>é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–</li><li>äº‹ä»¶çš„é”€æ¯</li><li>å›¾ç‰‡èµ„æºæ‡’åŠ è½½</li><li>è·¯ç”±æ‡’åŠ è½½</li><li>ç¬¬ä¸‰æ–¹æ’ä»¶çš„æŒ‰éœ€å¼•å…¥</li><li>ä¼˜åŒ–æ— é™åˆ—è¡¨æ€§èƒ½</li><li>æœåŠ¡ç«¯æ¸²æŸ“ SSR or é¢„æ¸²æŸ“</li></ul><p><strong>ï¼ˆ2ï¼‰Webpack å±‚é¢çš„ä¼˜åŒ–</strong></p><ul><li>Webpack å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©</li><li>å‡å°‘ ES6 è½¬ä¸º ES5 çš„å†—ä½™ä»£ç </li><li>æå–å…¬å…±ä»£ç </li><li>æ¨¡æ¿é¢„ç¼–è¯‘</li><li>æå–ç»„ä»¶çš„ CSS</li><li>ä¼˜åŒ– SourceMap</li><li>æ„å»ºç»“æœè¾“å‡ºåˆ†æ</li><li>Vue é¡¹ç›®çš„ç¼–è¯‘ä¼˜åŒ–</li></ul><p><strong>ï¼ˆ3ï¼‰åŸºç¡€çš„ Web æŠ€æœ¯çš„ä¼˜åŒ–</strong></p><ul><li>å¼€å¯ gzip å‹ç¼©</li><li>æµè§ˆå™¨ç¼“å­˜</li><li>CDN çš„ä½¿ç”¨</li><li>ä½¿ç”¨ Chrome Performance æŸ¥æ‰¾æ€§èƒ½ç“¶é¢ˆ</li></ul><h2 id="29ã€å¯¹äºå³å°†åˆ°æ¥çš„-vue3-0-ç‰¹æ€§ä½ æœ‰ä»€ä¹ˆäº†è§£çš„å—ï¼Ÿ"><a href="#29ã€å¯¹äºå³å°†åˆ°æ¥çš„-vue3-0-ç‰¹æ€§ä½ æœ‰ä»€ä¹ˆäº†è§£çš„å—ï¼Ÿ" class="headerlink" title="29ã€å¯¹äºå³å°†åˆ°æ¥çš„ vue3.0 ç‰¹æ€§ä½ æœ‰ä»€ä¹ˆäº†è§£çš„å—ï¼Ÿ"></a>29ã€å¯¹äºå³å°†åˆ°æ¥çš„ vue3.0 ç‰¹æ€§ä½ æœ‰ä»€ä¹ˆäº†è§£çš„å—ï¼Ÿ</h2><p>Vue 3.0 æ­£èµ°åœ¨å‘å¸ƒçš„è·¯ä¸Šï¼ŒVue 3.0 çš„ç›®æ ‡æ˜¯è®© Vue æ ¸å¿ƒå˜å¾—æ›´å°ã€æ›´å¿«ã€æ›´å¼ºå¤§ï¼Œå› æ­¤ Vue 3.0 å¢åŠ ä»¥ä¸‹è¿™äº›æ–°ç‰¹æ€§ï¼š</p><p><strong>ï¼ˆ1ï¼‰ç›‘æµ‹æœºåˆ¶çš„æ”¹å˜</strong></p><p>3.0 å°†å¸¦æ¥åŸºäºä»£ç† Proxy çš„ observer å®ç°ï¼Œæä¾›å…¨è¯­è¨€è¦†ç›–çš„ååº”æ€§è·Ÿè¸ªã€‚è¿™æ¶ˆé™¤äº† Vue 2 å½“ä¸­åŸºäº Object.defineProperty çš„å®ç°æ‰€å­˜åœ¨çš„å¾ˆå¤šé™åˆ¶ï¼š</p><ul><li>åªèƒ½ç›‘æµ‹å±æ€§ï¼Œä¸èƒ½ç›‘æµ‹å¯¹è±¡</li><li>æ£€æµ‹å±æ€§çš„æ·»åŠ å’Œåˆ é™¤ï¼›</li><li>æ£€æµ‹æ•°ç»„ç´¢å¼•å’Œé•¿åº¦çš„å˜æ›´ï¼›</li><li>æ”¯æŒ Mapã€Setã€WeakMap å’Œ WeakSetã€‚</li></ul><p>æ–°çš„ observer è¿˜æä¾›äº†ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>ç”¨äºåˆ›å»º observable çš„å…¬å¼€ APIã€‚è¿™ä¸ºä¸­å°è§„æ¨¡åœºæ™¯æä¾›äº†ç®€å•è½»é‡çº§çš„è·¨ç»„ä»¶çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚</li><li>é»˜è®¤é‡‡ç”¨æƒ°æ€§è§‚å¯Ÿã€‚åœ¨ 2.x ä¸­ï¼Œä¸ç®¡ååº”å¼æ•°æ®æœ‰å¤šå¤§ï¼Œéƒ½ä¼šåœ¨å¯åŠ¨æ—¶è¢«è§‚å¯Ÿåˆ°ã€‚å¦‚æœä½ çš„æ•°æ®é›†å¾ˆå¤§ï¼Œè¿™å¯èƒ½ä¼šåœ¨åº”ç”¨å¯åŠ¨æ—¶å¸¦æ¥æ˜æ˜¾çš„å¼€é”€ã€‚åœ¨ 3.x ä¸­ï¼Œåªè§‚å¯Ÿç”¨äºæ¸²æŸ“åº”ç”¨ç¨‹åºæœ€åˆå¯è§éƒ¨åˆ†çš„æ•°æ®ã€‚</li><li>æ›´ç²¾ç¡®çš„å˜æ›´é€šçŸ¥ã€‚åœ¨ 2.x ä¸­ï¼Œé€šè¿‡ Vue.set å¼ºåˆ¶æ·»åŠ æ–°å±æ€§å°†å¯¼è‡´ä¾èµ–äºè¯¥å¯¹è±¡çš„ watcher æ”¶åˆ°å˜æ›´é€šçŸ¥ã€‚åœ¨ 3.x ä¸­ï¼Œåªæœ‰ä¾èµ–äºç‰¹å®šå±æ€§çš„ watcher æ‰ä¼šæ”¶åˆ°é€šçŸ¥ã€‚</li><li>ä¸å¯å˜çš„ observableï¼šæˆ‘ä»¬å¯ä»¥åˆ›å»ºå€¼çš„â€œä¸å¯å˜â€ç‰ˆæœ¬ï¼ˆå³ä½¿æ˜¯åµŒå¥—å±æ€§ï¼‰ï¼Œé™¤éç³»ç»Ÿåœ¨å†…éƒ¨æš‚æ—¶å°†å…¶â€œè§£ç¦â€ã€‚è¿™ä¸ªæœºåˆ¶å¯ç”¨äºå†»ç»“ prop ä¼ é€’æˆ– Vuex çŠ¶æ€æ ‘ä»¥å¤–çš„å˜åŒ–ã€‚</li><li>æ›´å¥½çš„è°ƒè¯•åŠŸèƒ½ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ–°çš„ renderTracked å’Œ renderTriggered é’©å­ç²¾ç¡®åœ°è·Ÿè¸ªç»„ä»¶åœ¨ä»€ä¹ˆæ—¶å€™ä»¥åŠä¸ºä»€ä¹ˆé‡æ–°æ¸²æŸ“ã€‚</li></ul><p><strong>ï¼ˆ2ï¼‰æ¨¡æ¿</strong></p><p>æ¨¡æ¿æ–¹é¢æ²¡æœ‰å¤§çš„å˜æ›´ï¼Œåªæ”¹äº†ä½œç”¨åŸŸæ’æ§½ï¼Œ2.x çš„æœºåˆ¶å¯¼è‡´ä½œç”¨åŸŸæ’æ§½å˜äº†ï¼Œçˆ¶ç»„ä»¶ä¼šé‡æ–°æ¸²æŸ“ï¼Œè€Œ 3.0 æŠŠä½œç”¨åŸŸæ’æ§½æ”¹æˆäº†å‡½æ•°çš„æ–¹å¼ï¼Œè¿™æ ·åªä¼šå½±å“å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Œæå‡äº†æ¸²æŸ“çš„æ€§èƒ½ã€‚</p><p>åŒæ—¶ï¼Œå¯¹äº render å‡½æ•°çš„æ–¹é¢ï¼Œvue3.0 ä¹Ÿä¼šè¿›è¡Œä¸€ç³»åˆ—æ›´æ”¹æ¥æ–¹ä¾¿ä¹ æƒ¯ç›´æ¥ä½¿ç”¨ api æ¥ç”Ÿæˆ vdom ã€‚</p><p><strong>ï¼ˆ3ï¼‰å¯¹è±¡å¼çš„ç»„ä»¶å£°æ˜æ–¹å¼</strong></p><p>vue2.x ä¸­çš„ç»„ä»¶æ˜¯é€šè¿‡å£°æ˜çš„æ–¹å¼ä¼ å…¥ä¸€ç³»åˆ— optionï¼Œå’Œ TypeScript çš„ç»“åˆéœ€è¦é€šè¿‡ä¸€äº›è£…é¥°å™¨çš„æ–¹å¼æ¥åšï¼Œè™½ç„¶èƒ½å®ç°åŠŸèƒ½ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ã€‚3.0 ä¿®æ”¹äº†ç»„ä»¶çš„å£°æ˜æ–¹å¼ï¼Œæ”¹æˆäº†ç±»å¼çš„å†™æ³•ï¼Œè¿™æ ·ä½¿å¾—å’Œ TypeScript çš„ç»“åˆå˜å¾—å¾ˆå®¹æ˜“ã€‚</p><p>æ­¤å¤–ï¼Œvue çš„æºç ä¹Ÿæ”¹ç”¨äº† TypeScript æ¥å†™ã€‚å…¶å®å½“ä»£ç çš„åŠŸèƒ½å¤æ‚ä¹‹åï¼Œå¿…é¡»æœ‰ä¸€ä¸ªé™æ€ç±»å‹ç³»ç»Ÿæ¥åšä¸€äº›è¾…åŠ©ç®¡ç†ã€‚ç°åœ¨ vue3.0 ä¹Ÿå…¨é¢æ”¹ç”¨ TypeScript æ¥é‡å†™äº†ï¼Œæ›´æ˜¯ä½¿å¾—å¯¹å¤–æš´éœ²çš„ api æ›´å®¹æ˜“ç»“åˆ TypeScriptã€‚é™æ€ç±»å‹ç³»ç»Ÿå¯¹äºå¤æ‚ä»£ç çš„ç»´æŠ¤ç¡®å®å¾ˆæœ‰å¿…è¦ã€‚</p><p><strong>ï¼ˆ4ï¼‰å…¶å®ƒæ–¹é¢çš„æ›´æ”¹</strong></p><p>vue3.0 çš„æ”¹å˜æ˜¯å…¨é¢çš„ï¼Œä¸Šé¢åªæ¶‰åŠåˆ°ä¸»è¦çš„ 3 ä¸ªæ–¹é¢ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ›´æ”¹ï¼š</p><ul><li>æ”¯æŒè‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼Œä»è€Œä½¿å¾— weex å¯ä»¥é€šè¿‡è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„æ–¹å¼æ¥æ‰©å±•ï¼Œè€Œä¸æ˜¯ç›´æ¥ fork æºç æ¥æ”¹çš„æ–¹å¼ã€‚</li><li>æ”¯æŒ Fragmentï¼ˆå¤šä¸ªæ ¹èŠ‚ç‚¹ï¼‰å’Œ Protalï¼ˆåœ¨ dom å…¶ä»–éƒ¨åˆ†æ¸²æŸ“ç»„å»ºå†…å®¹ï¼‰ç»„ä»¶ï¼Œé’ˆå¯¹ä¸€äº›ç‰¹æ®Šçš„åœºæ™¯åšäº†å¤„ç†ã€‚</li><li>åŸºäº treeshaking ä¼˜åŒ–ï¼Œæä¾›äº†æ›´å¤šçš„å†…ç½®åŠŸèƒ½ã€‚</li></ul><h2 id="30ã€è¯´è¯´ä½ ä½¿ç”¨-Vue-æ¡†æ¶è¸©è¿‡æœ€å¤§çš„å‘æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆè§£å†³çš„ï¼Ÿ"><a href="#30ã€è¯´è¯´ä½ ä½¿ç”¨-Vue-æ¡†æ¶è¸©è¿‡æœ€å¤§çš„å‘æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆè§£å†³çš„ï¼Ÿ" class="headerlink" title="30ã€è¯´è¯´ä½ ä½¿ç”¨ Vue æ¡†æ¶è¸©è¿‡æœ€å¤§çš„å‘æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆè§£å†³çš„ï¼Ÿ"></a>30ã€è¯´è¯´ä½ ä½¿ç”¨ Vue æ¡†æ¶è¸©è¿‡æœ€å¤§çš„å‘æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆè§£å†³çš„ï¼Ÿ</h2><p>æœ¬é¢˜ä¸ºå¼€æ”¾é¢˜ç›®ï¼Œæ¬¢è¿å¤§å®¶åœ¨è¯„è®ºåŒºç•…æ‰€æ¬²è¨€ï¼Œåˆ†äº«è‡ªå·±çš„è¸©å‘ã€å¡«å‘ç»å†ï¼Œæä¾›å‰è½¦ä¹‹é‰´ï¼Œé¿å…å¤§ä¼™å†æ¬¡è¸©å‘ ~~~</p><p>ä½œè€…ï¼šæˆ‘æ˜¯ä½ çš„è¶…çº§è‹±é›„<br>é“¾æ¥ï¼š<a href="https://juejin.cn/post/6844903918753808398">https://juejin.cn/post/6844903918753808398</a><br>æ¥æºï¼šç¨€åœŸæ˜é‡‘<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¢è¯•çŸ¥è¯†æ•´ç†</title>
      <link href="/2022/03/13/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/"/>
      <url>/2022/03/13/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>é¢è¯•å¤ä¹ </p><h2 id="1-JavaScript-åŸºç¡€"><a href="#1-JavaScript-åŸºç¡€" class="headerlink" title="1.JavaScript åŸºç¡€"></a>1.JavaScript åŸºç¡€</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132100087.png" alt="image-20220308142823940"></p><h3 id="1-æ‰§è¡Œä¸Šä¸‹æ–‡-ä½œç”¨åŸŸ-é—­åŒ…"><a href="#1-æ‰§è¡Œä¸Šä¸‹æ–‡-ä½œç”¨åŸŸ-é—­åŒ…" class="headerlink" title="1.æ‰§è¡Œä¸Šä¸‹æ–‡/ä½œç”¨åŸŸ/é—­åŒ…"></a>1.æ‰§è¡Œä¸Šä¸‹æ–‡/ä½œç”¨åŸŸ/é—­åŒ…</h3><h4 id="1-ä»€ä¹ˆæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡"><a href="#1-ä»€ä¹ˆæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡" class="headerlink" title="1.ä»€ä¹ˆæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡?"></a>1.ä»€ä¹ˆæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡?</h4><p>æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯è¯„ä¼°å’Œæ‰§è¡ŒJavaScriptä»£ç ç¯å¢ƒçš„æŠ½è±¡æ¦‚å¿µã€‚æ¯å½“JavaScriptä»£ç åœ¨è¿è¡Œæ—¶ï¼Œä»–éƒ½æ˜¯åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚</p><hr><p><strong>æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç±»å‹</strong></p><p>JavaScriptå…±æœ‰<strong>ä¸‰ç§</strong>æ‰§è¡Œä¸Šä¸‹æ–‡ç±»å‹</p><ul><li><strong>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡</strong><ul><li>è¿™æ˜¯åŸºç¡€çš„ä¸Šä¸‹æ–‡,ä»»ä½•ä¸åœ¨å‡½æ•°å†…éƒ¨çš„ä»£ç éƒ½åœ¨å…¨å±€ä¸Šä¸‹æ–‡ä¸­.ä»–ä¼šæ‰§è¡Œä¸¤ä»¶äº‹:åˆ›å»ºä¸€ä¸ªå…¨å±€çš„windowå¯¹è±¡(æµè§ˆå™¨ç¯å¢ƒçš„æƒ…å†µä¸‹),å¹¶ä¸”è®¾ç½®thisçš„å€¼ç­‰äºè¿™ä¸ªå…¨å±€å¯¹è±¡ã€‚ä¸€ä¸ªç¨‹åºä¸­åªä¼šæœ‰ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡</li></ul></li><li><strong>å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡</strong><ul><li>æ¯å½“å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œéƒ½ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä»–è‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œåªä¸è¿‡æ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶æ‰è¢«åˆ›å»ºçš„ã€‚å‡½æ•°ä¸Šä¸‹æ–‡å¯ä»¥æœ‰ä»»æ„å¤šä¸ªã€‚æ¯å½“ä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡è¢«åˆ›å»ºï¼Œä»–ä¼šæŒ‰å®šä¹‰çš„ç¬ç‹™æ‰§è¡Œä¸€ç³»åˆ—æ­¥éª¤</li></ul></li><li><strong>Evalå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡</strong><ul><li>æ‰§è¡Œåœ¨ <code>eval</code> å‡½æ•°å†…éƒ¨çš„ä»£ç ä¹Ÿä¼šæœ‰å®ƒå±äºè‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡</li></ul></li></ul><hr><p><strong>æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</strong></p><p>æ‰§è¡Œæ ˆï¼Œä¹Ÿå°±æ˜¯åœ¨å…¶å®ƒç¼–ç¨‹è¯­è¨€ä¸­æ‰€è¯´çš„â€œè°ƒç”¨æ ˆâ€ï¼Œæ˜¯ä¸€ç§æ‹¥æœ‰ LIFOï¼ˆåè¿›å…ˆå‡ºï¼‰æ•°æ®ç»“æ„çš„æ ˆï¼Œè¢«ç”¨æ¥å­˜å‚¨ä»£ç è¿è¡Œæ—¶åˆ›å»ºçš„æ‰€æœ‰æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p><p>å½“JavaScriptå¼•æ“ç¬¬ä¸€æ¬¡é‡åˆ°ä½ çš„è„šæœ¬æ—¶ï¼Œä»–ä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶ä¸”å‹å…¥å½“å‰æ‰§è¡Œæ ˆã€‚<strong>æ¯å½“å¼•æ“é‡åˆ°ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œä»–ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å‹å…¥æ ˆçš„é¡¶éƒ¨.</strong></p><p>å¼•æ“ä¼šæ‰§è¡Œé‚£äº›æ‰§è¡Œä¸Šä¸‹æ–‡ä½äºæ ˆé¡¶çš„å‡½æ•°.<strong>æ¯å½“å‡½æ•°æ‰§è¡Œç»“æŸä¹‹åï¼Œæœ€ä¸Šå±‚çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ ˆä¸­å¼¹å‡º</strong>ï¼Œæ§åˆ¶æµç¨‹åˆ°è¾¾å½“å‰æ ˆä¸­çš„ä¸‹ä¸€ä¸ªä¸Šä¸‹æ–‡</p><p><strong>ä¸€æ—¦æ‰€æœ‰ä»£ç æ‰§è¡Œå®Œæ¯•ï¼ŒJavaScriptå¼•æ“ä»å½“å‰æ ˆä¸­ç§»é™¤å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡</strong></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132100915.png" alt="image-20220308144717269"></p><hr><p><strong>æ€ä¹ˆåˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡?</strong></p><p>åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡æœ‰ä¸¤ä¸ªé˜¶æ®µ:</p><ol><li><strong>åˆ›å»ºé˜¶æ®µ</strong></li><li><strong>æ‰§è¡Œé˜¶æ®µ</strong></li></ol><hr><p><strong>åˆ›å»ºé˜¶æ®µ</strong></p><p>åœ¨JavaScriptä»£ç æ‰§è¡Œå‰ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡å°†ç»å†åˆ›å»ºé˜¶æ®µã€‚åœ¨åˆ›å»ºé˜¶æ®µå°†ä¼šå‘ç”Ÿä¸‰ä»¶äº‹:</p><ol><li><strong>this</strong>å€¼çš„ç»‘å®š</li><li>åˆ›å»º<strong>è¯æ³•ç¯å¢ƒ</strong></li><li>åˆ›å»º<strong>å˜é‡ç¯å¢ƒ</strong></li></ol><p>æ‰€ä»¥æ‰§è¡Œä¸Šä¸‹æ–‡åœ¨æ¦‚å¿µä¸Šè¡¨ç¤ºå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ExecutionContext = &#123;</span><br><span class="line">  ThisBinding = &lt;this value&gt;,</span><br><span class="line">  LexicalEnvironment = &#123; ... &#125;,</span><br><span class="line">  VariableEnvironment = &#123; ... &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Thisç»‘å®š:</strong></p><p>åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­,<code>this</code>çš„å€¼æŒ‡å‘å…¨å±€å¯¹è±¡(åœ¨æµè§ˆå™¨ä¸­,å…¨å±€å¯¹è±¡ä¸º<code>window</code>â€™)</p><p>åœ¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­,thisçš„å€¼å–å†³äºè¯¥å‡½æ•°æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„.å¦‚æœä»–è¢«ä¸€ä¸ªå¼•ç”¨ç±»å‹å¯¹è±¡è°ƒç”¨,é‚£ä¹ˆthisä¼šè¢«è®¾ç½®æˆé‚£ä¸ªå¯¹è±¡,å¦åˆ™<code>this</code>çš„å€¼è¢«è®¾ç½®æˆå…¨å±€å¯¹è±¡æˆ–è€…<code>undefined</code>(ä¸¥æ ¼æ¨¡å¼)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">let foo = &#123;</span><br><span class="line">  baz: function() &#123;</span><br><span class="line">  console.log(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.baz();   <span class="comment">// &#x27;this&#x27; å¼•ç”¨ &#x27;foo&#x27;, å› ä¸º &#x27;baz&#x27; è¢«</span></span><br><span class="line">             <span class="comment">// å¯¹è±¡ &#x27;foo&#x27; è°ƒç”¨</span></span><br><span class="line"></span><br><span class="line">let bar = foo.baz;</span><br><span class="line"></span><br><span class="line">bar();       <span class="comment">// &#x27;this&#x27; æŒ‡å‘å…¨å±€ window å¯¹è±¡ï¼Œå› ä¸º</span></span><br><span class="line">             <span class="comment">// æ²¡æœ‰æŒ‡å®šå¼•ç”¨å¯¹è±¡</span></span><br></pre></td></tr></table></figure><p><strong>è¯æ³•ç¯å¢ƒ</strong></p><p><a href="https://link.juejin.cn/?target=http://ecma-international.org/ecma-262/6.0/">å®˜æ–¹çš„ ES6</a> æ–‡æ¡£æŠŠè¯æ³•ç¯å¢ƒå®šä¹‰ä¸º</p><blockquote><p><strong>è¯æ³•ç¯å¢ƒ</strong>æ˜¯ä¸€ç§è§„èŒƒç±»å‹ï¼ŒåŸºäº ECMAScript ä»£ç çš„è¯æ³•åµŒå¥—ç»“æ„æ¥å®šä¹‰<strong>æ ‡è¯†ç¬¦</strong>å’Œå…·ä½“å˜é‡å’Œå‡½æ•°çš„å…³è”ã€‚ä¸€ä¸ªè¯æ³•ç¯å¢ƒç”±ç¯å¢ƒè®°å½•å™¨å’Œä¸€ä¸ªå¯èƒ½çš„å¼•ç”¨<strong>å¤–éƒ¨</strong>è¯æ³•ç¯å¢ƒçš„ç©ºå€¼ç»„æˆã€‚</p></blockquote><p>è¯æ³•ç¯å¢ƒæ˜¯ä¸€ç§æŒæœ‰<strong>å˜é‡ç¬¦-å˜é‡æ˜ å°„</strong>çš„ç»“æ„(æ ‡è¯†ç¬¦æŒ‡çš„æ˜¯å˜é‡/å‡½æ•°çš„åå­—,è€Œå˜é‡æ˜¯å¯¹å®é™…å¯¹è±¡æˆ–åŸå§‹æ•°æ®çš„å¼•ç”¨)</p><p>åœ¨è¯æ³•ç¯å¢ƒçš„å†…éƒ¨æœ‰ä¸¤ä¸ªç»„ä»¶:1.<strong>ç¯å¢ƒè®°å½•å™¨</strong>å’Œ2.ä¸€ä¸ª<strong>å¤–éƒ¨ç¯å¢ƒçš„å¼•ç”¨</strong></p><p>1.<strong>ç¯å¢ƒè®°å½•å™¨</strong>æ˜¯å­˜å‚¨å˜é‡å’Œå‡½æ•°å£°æ˜çš„å®é™…ä½ç½®</p><p>2.<strong>å¤–éƒ¨ç¯å¢ƒçš„å¼•ç”¨</strong>æ„å‘³ç€å®ƒå¯ä»¥è®¿é—®å…¶çˆ¶çº§è¯æ³•ç¯å¢ƒ(ä½œç”¨åŸŸ)</p><p><strong>è¯æ³•ç¯å¢ƒ</strong>æœ‰ä¸¤ç§ç±»å‹: <strong>å…¨å±€ç¯å¢ƒ</strong>å’Œ<strong>å‡½æ•°ç¯å¢ƒ</strong></p><ul><li><p><strong>å…¨å±€ç¯å¢ƒ</strong>(åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­)æ˜¯æ²¡æœ‰å¤–éƒ¨ç¯å¢ƒå¼•ç”¨çš„è¯æ³•ç¯å¢ƒ,å…¨å±€ç¯å¢ƒçš„å¤–éƒ¨ç¯å¢ƒå¼•ç”¨æ˜¯<strong>null</strong>ï¼Œ</p><p>å®ƒæ‹¥æœ‰åˆ›å»ºçš„Object/Arrayç­‰,åœ¨ç¯å¢ƒè®°å½•å™¨å†…çš„åŸå‹å‡½æ•°(å…³è”å…¨å±€å¯¹è±¡,æ¯”å¦‚windowå¯¹è±¡)è¿˜æœ‰ä»»ä½•ç”¨æˆ·å®šä¹‰çš„å…¨å±€å˜é‡,å¹¶ä¸”<code>this</code>çš„å€¼æŒ‡å‘å…¨å±€å¯¹è±¡</p></li><li><p>åœ¨<strong>å‡½æ•°ç¯å¢ƒ</strong>ä¸­ï¼Œå‡½æ•°å†…éƒ¨ç”¨æˆ·å®šä¹‰çš„å˜é‡å­˜å‚¨åœ¨<strong>ç¯å¢ƒè®°å½•å™¨</strong>ä¸­ã€‚å¹¶ä¸”å¼•ç”¨çš„å¤–éƒ¨ç¯å¢ƒå¯èƒ½æ˜¯å…¨å±€ç¯å¢ƒï¼Œæˆ–è€…ä»»ä½•åŒ…å«æ­¤å†…éƒ¨å‡½æ•°çš„å¤–éƒ¨å‡½æ•°ã€‚</p></li></ul><p>ç¯å¢ƒè®°å½•å™¨ä¹Ÿæœ‰ä¸¤ç§ç±»å‹:</p><ol><li><strong>å£°æ˜å¼ç¯å¢ƒè®°å½•å™¨</strong>ï¼Œç”¨æ¥å­˜å‚¨å˜é‡ã€å‡½æ•°å’Œå‚æ•°</li><li><strong>å¯¹è±¡ç¯å¢ƒè®°å½•å™¨</strong>,ç”¨æ¥å®šä¹‰å‡ºç°åœ¨<strong>å…¨å±€ä¸Šä¸‹æ–‡</strong>ä¸­çš„å˜é‡å’Œå‡½æ•°å…³ç³»</li></ol><p>ç”±ä¸Šä¸éš¾å¾—çŸ¥</p><ul><li>åœ¨<strong>å…¨å±€ç¯å¢ƒ</strong>ä¸­,ç¯å¢ƒè®°å½•å™¨æ˜¯å¯¹è±¡ç¯å¢ƒè®°å½•å™¨</li><li>åœ¨<strong>å‡½æ•°ç¯å¢ƒ</strong>ä¸­,ç¯å¢ƒè®°å½•å™¨æ˜¯å£°æ˜å¼ç¯å¢ƒè®°å½•å™¨</li></ul><p><strong>æ³¨æ„ :</strong> å¯¹äº<strong>å‡½æ•°ç¯å¢ƒ</strong>ï¼Œ<strong>å£°æ˜å¼ç¯å¢ƒè®°å½•å™¨</strong>è¿˜åŒ…å«äº†ä¸€ä¸ªä¼ é€’ç»™å‡½æ•°çš„ <code>arguments</code> å¯¹è±¡ï¼ˆæ­¤å¯¹è±¡å­˜å‚¨ç´¢å¼•å’Œå‚æ•°çš„æ˜ å°„ï¼‰å’Œä¼ é€’ç»™å‡½æ•°çš„å‚æ•°çš„ <strong>length</strong>ã€‚</p><p>æŠ½è±¡åœ°è®²ï¼Œè¯æ³•ç¯å¢ƒåœ¨ä¼ªä»£ç ä¸­çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">GlobalExectionContext = &#123;</span><br><span class="line">  LexicalEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: &quot;Object&quot;,</span><br><span class="line">      // åœ¨è¿™é‡Œç»‘å®šæ ‡è¯†ç¬¦</span><br><span class="line">    &#125;</span><br><span class="line">    outer: &lt;null&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">FunctionExectionContext = &#123;</span><br><span class="line">  LexicalEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: &quot;Declarative&quot;,</span><br><span class="line">      // åœ¨è¿™é‡Œç»‘å®šæ ‡è¯†ç¬¦</span><br><span class="line">    &#125;</span><br><span class="line">    outer: &lt;Global or outer function environment reference&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p><strong>å˜é‡ç¯å¢ƒ</strong></p><p>å˜é‡ç¯å¢ƒå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ª<strong>è¯æ³•ç¯å¢ƒ</strong>,å…¶ç¯å¢ƒè®°å½•å™¨ä¸­æŒæœ‰å˜é‡å£°æ˜è¯­å¥åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºçš„ç»‘å®šå…³ç³»</p><p>å˜é‡ç¯å¢ƒæœ‰ç€è¯æ³•ç¯å¢ƒçš„æ‰€æœ‰å±æ€§</p><p>åœ¨ES6ä¸­,è¯æ³•ç¯å¢ƒç»„ä»¶å’Œå˜é‡ç¯å¢ƒçš„ä¸€ä¸ªä¸åŒå°±æ˜¯å‰è€…è¢«ç”¨æ¥å­˜å‚¨å‡½æ•°å£°æ˜å’Œå˜é‡(<code>let</code>å’Œ<code>const</code>)ç»‘å®š,è€Œåè€…åªç”¨æ¥å­˜å‚¨<code>var</code>å˜é‡ç»‘å®š</p><p>æˆ‘ä»¬çœ‹ç‚¹æ ·ä¾‹ä»£ç æ¥ç†è§£ä¸Šé¢çš„æ¦‚å¿µï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> b = <span class="number">30</span>;</span><br><span class="line"><span class="keyword">var</span> c;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">e, f</span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> g = <span class="number">20</span>;</span><br><span class="line"> <span class="keyword">return</span> e * f * g;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">c = multiply(<span class="number">20</span>, <span class="number">30</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šä¸‹æ–‡çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">GlobalExectionContext = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">ThisBinding</span>: &lt;Global Object&gt;,</span><br><span class="line"></span><br><span class="line">  LexicalEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: &quot;Object&quot;,</span><br><span class="line">      // åœ¨è¿™é‡Œç»‘å®šæ ‡è¯†ç¬¦</span><br><span class="line">      a: &lt; uninitialized &gt;,</span><br><span class="line">      b: &lt; uninitialized &gt;,</span><br><span class="line">      multiply: &lt; func &gt;</span><br><span class="line">    &#125;</span><br><span class="line">    outer: &lt;null&gt;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  VariableEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: &quot;Object&quot;,</span><br><span class="line">      // åœ¨è¿™é‡Œç»‘å®šæ ‡è¯†ç¬¦</span><br><span class="line">      c: undefined,</span><br><span class="line">    &#125;</span><br><span class="line">    outer: &lt;null&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">FunctionExectionContext = &#123;</span><br><span class="line">  ThisBinding: &lt;Global Object&gt;,</span><br><span class="line"></span><br><span class="line">  LexicalEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: &quot;Declarative&quot;,</span><br><span class="line">      // åœ¨è¿™é‡Œç»‘å®šæ ‡è¯†ç¬¦</span><br><span class="line">      Arguments: &#123;0: 20, 1: 30, length: 2&#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    outer: &lt;GlobalLexicalEnvironment&gt;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">VariableEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: &quot;Declarative&quot;,</span><br><span class="line">      // åœ¨è¿™é‡Œç»‘å®šæ ‡è¯†ç¬¦</span><br><span class="line">      g: undefined</span><br><span class="line">    &#125;,</span><br><span class="line">    outer: &lt;GlobalLexicalEnvironment&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯èƒ½ä½ å·²ç»æ³¨æ„åˆ° <code>let</code> å’Œ <code>const</code> å®šä¹‰çš„å˜é‡å¹¶æ²¡æœ‰å…³è”ä»»ä½•å€¼ï¼Œä½† <code>var</code> å®šä¹‰çš„å˜é‡è¢«è®¾æˆäº† <code>undefined</code>ã€‚</p><p>è¿™æ˜¯å› ä¸ºåœ¨åˆ›å»ºé˜¶æ®µæ—¶ï¼Œå¼•æ“æ£€æŸ¥ä»£ç æ‰¾å‡ºå˜é‡å’Œå‡½æ•°å£°æ˜ï¼Œè™½ç„¶å‡½æ•°å£°æ˜å®Œå…¨å­˜å‚¨åœ¨ç¯å¢ƒä¸­ï¼Œä½†æ˜¯å˜é‡æœ€åˆè®¾ç½®ä¸º <code>undefined</code>ï¼ˆ<code>var</code> æƒ…å†µä¸‹ï¼‰ï¼Œæˆ–è€…æœªåˆå§‹åŒ–ï¼ˆ<code>let</code> å’Œ <code>const</code> æƒ…å†µä¸‹ï¼‰ã€‚</p><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ å¯ä»¥åœ¨å£°æ˜ä¹‹å‰è®¿é—® <code>var</code> å®šä¹‰çš„å˜é‡ï¼ˆè™½ç„¶æ˜¯ <code>undefined</code>ï¼‰ï¼Œä½†æ˜¯åœ¨å£°æ˜ä¹‹å‰è®¿é—® <code>let</code> å’Œ <code>const</code> çš„å˜é‡ä¼šå¾—åˆ°ä¸€ä¸ªå¼•ç”¨é”™è¯¯ã€‚</p><p>è¿™å°±æ˜¯æˆ‘ä»¬è¯´çš„<strong>å˜é‡å£°æ˜æå‡</strong>ã€‚</p><hr><p><strong>æ‰§è¡Œé˜¶æ®µ</strong></p><p><strong>åœ¨æ­¤é˜¶æ®µå®Œæˆå¯¹æ‰€æœ‰å­˜å‚¨çš„å˜é‡çš„åˆ†é…,æœ€åæ‰§è¡Œä»£ç .</strong></p><p><strong>æ³¨æ„:</strong> åœ¨æ‰§è¡Œé˜¶æ®µ,å¦‚æœJavaScriptå¼•æ“ä¸èƒ½å†æºç ä¸­å£°æ˜çš„å®é™…ä½ç½®æ‰¾åˆ°<code>let</code>å˜é‡çš„å€¼ï¼Œé‚£ä¹ˆä»–å°±ä¼šè¢«èµ‹å€¼ä¸º<code>undefined</code></p><hr><hr><h4 id="2-ä½œç”¨åŸŸ-Scope"><a href="#2-ä½œç”¨åŸŸ-Scope" class="headerlink" title="2.ä½œç”¨åŸŸ(Scope)"></a>2.ä½œç”¨åŸŸ(Scope)</h4><p><strong>ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ?</strong></p><p><strong>ä½œç”¨åŸŸæ˜¯æŒ‡ç¨‹åºæºä»£ç ä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸã€‚</strong></p><p>ä½œç”¨åŸŸè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šå½“å‰æ‰§è¡Œä»£ç å¯¹å˜é‡çš„è®¿é—®æƒé™ã€‚</p><p>JavaScript é‡‡ç”¨<strong>è¯æ³•ä½œç”¨åŸŸ</strong>(lexical scoping)ï¼Œä¹Ÿå°±æ˜¯é™æ€ä½œç”¨åŸŸã€‚</p><p>æˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼š<strong>ä½œç”¨åŸŸå°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åœ°ç›˜ï¼Œè®©å˜é‡ä¸ä¼šå¤–æ³„ã€æš´éœ²å‡ºå»</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´<strong>ä½œç”¨åŸŸæœ€å¤§çš„ç”¨å¤„å°±æ˜¯éš”ç¦»å˜é‡ï¼Œä¸åŒä½œç”¨åŸŸä¸‹åŒåå˜é‡ä¸ä¼šæœ‰å†²çªã€‚</strong></p><p>ES6ä¹‹å‰,JavaScriptåªæœ‰<strong>å…¨å±€ä½œç”¨åŸŸ</strong>å’Œ<strong>å‡½æ•°ä½œç”¨åŸŸ</strong>,ES6ä¹‹åï¼Œæ–°å¢äº†<strong>å—çº§ä½œç”¨åŸŸ</strong>ï¼Œå¯ä»¥é€šè¿‡<code>let</code>å’Œ<code>const</code>æ¥åˆ›å»º</p><hr><p><strong>å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸ</strong></p><p>**åœ¨ä»£ç ä¸­ä»»ä½•åœ°æ–¹éƒ½èƒ½è®¿é—®åˆ°çš„å¯¹è±¡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ,**ä»¥ä¸‹å‡ ç§æƒ…å†µæ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ:</p><ul><li>æœ€å¤–å±‚å‡½æ•°å’Œåœ¨æœ€å¤–å±‚å‡½æ•°å¤–å®šä¹‰çš„å˜é‡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ</li><li>æ‰€æœ‰æœªå®šä¹‰ç›´æ¥èµ‹å€¼çš„å˜é‡é»˜è®¤ä¸ºå…¨å±€å˜é‡ï¼Œæ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ</li><li>æ‰€æœ‰windowå¯¹è±¡çš„å±æ€§æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ</li></ul><p>å…¨å±€ä½œç”¨åŸŸçš„<strong>å¼Šç«¯</strong>:å®¹æ˜“å¼•å‘å‘½åå†²çªï¼Œæ±¡æŸ“å…¨å±€å‘½åç©ºé—´</p><hr><p><strong>å‡½æ•°ä½œç”¨åŸŸ</strong></p><p><strong>åœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡</strong>æ‹¥æœ‰å‡½æ•°ä½œç”¨åŸŸ,ä¸€èˆ¬åªèƒ½åœ¨å›ºå®šçš„ä»£ç ç‰‡æ®µå†…å¯ä»¥è®¿é—®åˆ°.</p><hr><p>ä½œç”¨åŸŸæ˜¯åˆ†å±‚çš„,å†…å±‚ä½œç”¨åŸŸå¯ä»¥è®¿é—®å¤–å±‚ä½œç”¨åŸŸçš„å˜é‡,åä¹‹åˆ™ä¸è¡Œ</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132100037.png" alt="image-20220308172822751"></p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š<strong>å—è¯­å¥ï¼ˆå¤§æ‹¬å·â€œï½›ï½â€ä¸­é—´çš„è¯­å¥ï¼‰ï¼Œå¦‚ if å’Œ switch æ¡ä»¶è¯­å¥æˆ– for å’Œ while å¾ªç¯è¯­å¥ï¼Œä¸åƒå‡½æ•°ï¼Œå®ƒä»¬ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸ</strong>ã€‚åœ¨å—è¯­å¥ä¸­å®šä¹‰çš„å˜é‡å°†ä¿ç•™åœ¨å®ƒä»¬å·²ç»å­˜åœ¨çš„ä½œç”¨åŸŸä¸­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="comment">// &#x27;if&#x27; æ¡ä»¶è¯­å¥å—ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸ</span></span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&#x27;Hammad&#x27;</span>; <span class="comment">// name ä¾ç„¶åœ¨å…¨å±€ä½œç”¨åŸŸä¸­</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(name); <span class="comment">// logs &#x27;Hammad&#x27;</span></span><br></pre></td></tr></table></figure><hr><p><strong>å—çº§ä½œç”¨åŸŸ</strong></p><p>å—çº§ä½œç”¨åŸŸå¯ä»¥é€šè¿‡<code>let</code>å’Œ<code>const</code>å£°æ˜,æ‰€å£°æ˜çš„å˜é‡åœ¨æŒ‡å®šå—ä½œç”¨åŸŸÂ·ä¹‹å¤–æ— æ³•è¢«è®¿é—®ã€‚</p><p>å—çº§ä½œç”¨åŸŸåœ¨å¦‚ä¸‹æƒ…å†µè¢«åˆ›å»º:</p><ol><li>åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨</li><li>åœ¨ä¸€ä¸ªä»£ç å—å†…éƒ¨(â€˜**{}**â€™)</li></ol><p>å—çº§ä½œç”¨åŸŸæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹:</p><ul><li>å£°æ˜å˜é‡ä¸ä¼šæå‡çš„ä»£ç å—é¡¶éƒ¨</li><li>ç¦æ­¢é‡å¤å£°æ˜</li></ul><hr><p><strong>ä½œç”¨åŸŸé“¾</strong></p><p>åœ¨JavaScriptä¸­,å‡½æ•°ã€å—ã€æ¨¡å—éƒ½å¯ä»¥å½¢æˆä½œç”¨åŸŸ,ä»–ä»¬ä¹‹é—´å¯ä»¥ç›¸äº’åµŒå¥—ã€ä½œç”¨åŸŸä¹‹é—´ä¼šå½¢æˆå¼•ç”¨å…³ç³»ï¼Œè¿™æ¡é“¾å«åšä½œç”¨åŸŸé“¾</p><p><strong>ä½œç”¨åŸŸé“¾çš„åˆ›å»ºå’Œå˜åŒ–</strong></p><p><strong>å‡½æ•°åˆ›å»ºæ—¶:</strong></p><p>JavaScriptä¸­ä½¿ç”¨çš„æ˜¯è¯æ³•ä½œç”¨åŸŸ,<strong>å‡½æ•°çš„ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™å°±å·²ç»å†³å®šäº†</strong></p><p>å‡½æ•°æœ‰ä¸€ä¸ªå†…éƒ¨å±æ€§[[scope]]ï¼Œå½“å‡½æ•°åˆ›å»ºçš„æ—¶å€™,å°±ä¼šä¿å­˜æ‰€æœ‰çˆ¶å˜é‡å¯¹è±¡åˆ°å…¶ä¸­,å¯ä»¥ç†è§£ä¸º[[scope]]å°±æ˜¯æ‰€æœ‰çˆ¶å˜é‡å¯¹è±¡çš„å±‚çº§é“¾,ä½†æ˜¯æ³¨æ„:[[scope]]å¹¶ä¸ä»£è¡¨å®Œæ•´çš„ä½œç”¨åŸŸé“¾</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡½æ•°åˆ›å»ºæ—¶ï¼Œå„è‡ªçš„[[scope]]ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">foo.[[scope]] = [</span><br><span class="line">  globalContext.VO</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">bar.[[scope]] = [</span><br><span class="line">    fooContext.AO,</span><br><span class="line">    globalContext.VO</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p><strong>å‡½æ•°è¢«æ¿€æ´»æ—¶:</strong></p><p>å½“å‡½æ•°è¢«æ¿€æ´»æ—¶,è¿›å…¥å‡½æ•°ä¸Šä¸‹æ–‡,åˆ›å»ºVO/AOåå°±ä¼šå°†æ´»åŠ¨å¯¹è±¡æ·»åŠ åˆ°ä½œç”¨åŸŸçš„å‰ç«¯</p><p>è¿™æ—¶å€™æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾,æˆ‘ä»¬å‘½åä¸ºScope</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scope = [AO].concat([[Scope]]);</span><br></pre></td></tr></table></figure><p>è‡³æ­¤,<strong>ä½œç”¨åŸŸé“¾åˆ›å»ºå®Œæ¯•</strong></p><hr><h4 id="3-é—­åŒ…"><a href="#3-é—­åŒ…" class="headerlink" title="3.é—­åŒ…"></a>3.é—­åŒ…</h4><p><strong>ä»€ä¹ˆæ˜¯é—­åŒ…?</strong></p><p>é—­åŒ…å°±æ˜¯åŒæ—¶å«æœ‰å¯¹å‡½æ•°å¯¹è±¡ä»¥åŠä½œç”¨åŸŸå¯¹è±¡å¼•ç”¨çš„å¯¹è±¡,å®é™…ä¸Šæ‰€æœ‰JavaScriptå¯¹è±¡éƒ½æ˜¯é—­åŒ….</p><p><strong>æœ¬è´¨</strong>:åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°</p><p><strong>åªè¦å­˜åœ¨å‡½æ•°åµŒå¥—,å¹¶ä¸”å†…éƒ¨å‡½æ•°è°ƒç”¨äº†å¤–éƒ¨å‡½æ•°çš„å±æ€§,å°±äº§ç”Ÿäº†é—­åŒ….</strong></p><p>é—­åŒ…çš„ç‰¹æ€§:</p><ul><li>å‡½æ•°åµŒå¥—å‡½æ•°</li><li>å‡½æ•°å†…éƒ¨å¼•ç”¨å‡½æ•°å¤–éƒ¨çš„å‚æ•°å’Œå˜é‡</li><li>å‚æ•°å’Œå˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶</li></ul><hr><p><strong>é—­åŒ…æ˜¯ä»€ä¹ˆæ—¶å€™è¢«åˆ›å»ºçš„ï¼Ÿ</strong></p><p>å› ä¸ºæ‰€æœ‰JavaScriptå¯¹è±¡éƒ½æ˜¯é—­åŒ…,æ‰€ä»¥å½“ä½ å®šä¹‰ä¸€ä¸ªå‡½æ•°æ—¶.å°±äº§ç”Ÿäº†é—­åŒ…</p><hr><p><strong>é—­åŒ…æ˜¯ä»€ä¹ˆæ—¶å€™è¢«é”€æ¯çš„?</strong></p><p>å½“ä»–ä¸è¢«ä»»ä½•å…¶ä»–çš„å¯¹è±¡å¼•ç”¨çš„æ—¶å€™ï¼Œé—­åŒ…å°±è¢«é”€æ¯</p><hr><p><strong>é—­åŒ…çš„å¥½å¤„</strong>:</p><ul><li>ä¿æŠ¤å‡½æ•°å†…çš„å˜é‡å®‰å…¨,å®ç°å°è£…,é˜²æ­¢å˜é‡æµå…¥å…¶ä»–ç¯å¢ƒå‘ç”Ÿå‘½åå†²çª</li><li>åœ¨å†…å­˜ä¸­ç»´æŒä¸€ä¸ªå˜é‡ï¼Œå»¶é•¿å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</li><li>åŒ¿åè‡ªæ‰§è¡Œå‡½æ•°å¯ä»¥å‡å°‘å†…å­˜æ¶ˆè€—</li></ul><hr><p><strong>é—­åŒ…çš„ç¼ºç‚¹:</strong></p><ul><li>è¢«å¼•ç”¨çš„ç§æœ‰å˜é‡ä¸èƒ½è¢«é”€æ¯ï¼Œå¢å¤§äº†å†…å­˜çš„æ¶ˆè€—ï¼Œé€ æˆå†…å­˜æ³„éœ²</li><li>é—­åŒ…æ¶‰åŠè·¨åŸŸè®¿é—®ï¼Œä¼šå¯¼è‡´æ€§èƒ½æŸå¤±</li></ul><hr><p><strong>é—­åŒ…çš„ä½œç”¨</strong></p><ul><li>ä½¿å¾—å‡½æ•°å†…éƒ¨çš„å˜é‡åœ¨å‡½æ•°æ‰§è¡Œå®Œä¹‹åï¼Œä»ç„¶å­˜æ´»åœ¨å†…å­˜ä¸­(å»¶é•¿äº†å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ)</li><li>è®©å‡½æ•°å¤–éƒ¨å¯ä»¥æ“ä½œåˆ°å‡½æ•°å†…éƒ¨çš„æ•°æ®</li></ul><hr><p><strong>é—­åŒ…çš„åŸç†</strong></p><p>å½“ä¸€ä¸ªå‡½æ•°è¿”å›åï¼Œæ²¡æœ‰å…¶ä»–å¯¹è±¡ä¼šä¿å­˜å¯¹å…¶çš„å¼•ç”¨ã€‚æ‰€ä»¥ï¼Œå®ƒå°±å¯èƒ½è¢«<code>åƒåœ¾å›æ”¶å™¨</code>å›æ”¶ã€‚</p><p>å‡½æ•°å¯¹è±¡ä¸­æ€»æ˜¯æœ‰ä¸€ä¸ª<code>[[scope]]</code>å±æ€§ï¼Œä¿å­˜ç€è¯¥å‡½æ•°è¢«å®šä¹‰çš„æ—¶å€™æ‰€èƒ½å¤Ÿç›´æ¥è®¿é—®çš„ä½œç”¨åŸŸå¯¹è±¡ã€‚æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬åœ¨å®šä¹‰åµŒå¥—çš„å‡½æ•°çš„æ—¶å€™ï¼Œè¿™ä¸ªåµŒå¥—çš„å‡½æ•°çš„<code>[[scope]]</code>å°±ä¼šå¼•ç”¨å¤–å›´å‡½æ•°ï¼ˆOuter functionï¼‰çš„å½“å‰ä½œç”¨åŸŸå¯¹è±¡ã€‚</p><p>å¦‚æœæˆ‘ä»¬å°†è¿™ä¸ªåµŒå¥—å‡½æ•°è¿”å›,å¹¶è¢«å¦ä¸€ä¸ªæ ‡è¯†ç¬¦æ‰€å¼•ç”¨çš„è¯,é‚£ä¹ˆè¿™ä¸ªåµŒå¥—å‡½æ•°åŠå…¶[[scope]]æ‰€å¼•ç”¨çš„ä½œç”¨ä½œç”¨åŸŸå¯¹è±¡å°±ä¸ä¼šè¢«åƒåœ¾å›æ”¶å™¨æ‰€é”€æ¯,è¿™ä¸ªå¯¹è±¡å°±ä¼šä¸€ç›´å­˜æ´»åœ¨å†…å­˜ä¸­,æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªä½œç”¨äºå¯¹è±¡è·å–åˆ°å¤–éƒ¨å‡½æ•°çš„å±æ€§å’Œå€¼ã€‚</p><p>è¿™å°±æ˜¯é—­åŒ…çš„åŸç†</p><hr><h3 id="2-this-call-apply-bind"><a href="#2-this-call-apply-bind" class="headerlink" title="2.this/call/apply/bind"></a>2.this/call/apply/bind</h3><h4 id="1-thisçš„æŒ‡å‘"><a href="#1-thisçš„æŒ‡å‘" class="headerlink" title="1.thisçš„æŒ‡å‘"></a>1.thisçš„æŒ‡å‘</h4><blockquote><p>å‡½æ•°çš„thisæ˜¯åœ¨å‡½æ•°è°ƒç”¨æ—¶æ‰ç»‘å®šçš„,å®ƒçš„æŒ‡å‘å®Œå…¨å–å†³äºå‡½æ•°çš„è°ƒç”¨ä½ç½®(ä¹Ÿå°±æ˜¯å‡½æ•°çš„è°ƒç”¨æ–¹æ³•),ä¸ºäº†ææ¸…æ¥š<code>this</code>çš„æŒ‡å‘æ˜¯ä»€ä¹ˆï¼Œå¿…é¡»çŸ¥é“ç›¸å…³å‡½æ•°æ˜¯å¦‚ä½•è°ƒç”¨çš„</p></blockquote><p><strong>åœ¨å…¨å±€ä¸Šä¸‹æ–‡ä¸­:</strong></p><p>éä¸¥æ ¼æ¨¡å¼å’Œä¸¥æ ¼æ¨¡å¼ä¸­thiséƒ½æŒ‡å‘é¡¶å±‚å¯¹è±¡(åœ¨æµè§ˆå™¨ä¸­æ˜¯<code>window</code>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span> === <span class="built_in">window</span> <span class="comment">// true</span></span><br><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"><span class="built_in">this</span> === <span class="built_in">window</span>;</span><br><span class="line"><span class="built_in">this</span>.name = <span class="string">&#x27;è‹¥å·&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">this</span>.name); <span class="comment">// è‹¥å·</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æ™®é€šå‡½æ•°è°ƒç”¨æ¨¡å¼</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// éä¸¥æ ¼æ¨¡å¼</span><br><span class="line">var name = &#x27;window&#x27;;</span><br><span class="line">var doSth = function()&#123;</span><br><span class="line">    console.log(this.name);</span><br><span class="line">&#125;</span><br><span class="line">doSth(); // &#x27;window&#x27;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä½ å¯èƒ½ä¼šè¯¯ä»¥ä¸º<code>window.doSth()</code>æ˜¯è°ƒç”¨çš„ï¼Œæ‰€ä»¥æ˜¯æŒ‡å‘<code>window</code>ã€‚è™½ç„¶æœ¬ä¾‹ä¸­<code>window.doSth</code>ç¡®å®ç­‰äº<code>doSth</code>ã€‚<code>name</code>ç­‰äº<code>window.name</code>ã€‚ä¸Šé¢ä»£ç ä¸­è¿™æ˜¯å› ä¸ºåœ¨<code>ES5</code>ä¸­ï¼Œå…¨å±€å˜é‡æ˜¯æŒ‚è½½åœ¨é¡¶å±‚å¯¹è±¡ï¼ˆæµè§ˆå™¨æ˜¯<code>window</code>ï¼‰ä¸­ã€‚ äº‹å®ä¸Šï¼Œå¹¶ä¸æ˜¯å¦‚æ­¤ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// éä¸¥æ ¼æ¨¡å¼</span><br><span class="line">let name2 = &#x27;window2&#x27;;</span><br><span class="line">let doSth2 = function()&#123;</span><br><span class="line">    console.log(this === window);</span><br><span class="line">    console.log(this.name2);</span><br><span class="line">&#125;</span><br><span class="line">doSth2() // true, undefined</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­ä¸­<code>let</code>æ²¡æœ‰ç»™é¡¶å±‚å¯¹è±¡ä¸­ï¼ˆæµè§ˆå™¨æ˜¯windowï¼‰æ·»åŠ å±æ€§ï¼Œ<code>window.name2å’Œwindow.doSth</code>éƒ½æ˜¯<code>undefined</code>ã€‚</p><p>ä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œæ™®é€šå‡½æ•°ä¸­çš„<code>this</code>åˆ™è¡¨ç°ä¸åŒï¼Œè¡¨ç°ä¸º<code>undefined</code>ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// ä¸¥æ ¼æ¨¡å¼</span><br><span class="line">&#x27;use strict&#x27;</span><br><span class="line">var name = &#x27;window&#x27;;</span><br><span class="line">var doSth = function()&#123;</span><br><span class="line">    console.log(typeof this === &#x27;undefined&#x27;);</span><br><span class="line">    console.log(this.name);</span><br><span class="line">&#125;</span><br><span class="line">doSth(); // trueï¼Œ// æŠ¥é”™ï¼Œå› ä¸ºthisæ˜¯undefined</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>çœ‹è¿‡çš„ã€Šä½ ä¸çŸ¥é“çš„<code>JavaScript</code>ã€‹ä¸Šå·çš„è¯»è€…ï¼Œåº”è¯¥çŸ¥é“ä¹¦ä¸Šå°†è¿™ç§å«åšé»˜è®¤ç»‘å®šã€‚ å¯¹<code>call</code>ï¼Œ<code>apply</code>ç†Ÿæ‚‰çš„è¯»è€…ä¼šç±»æ¯”ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">doSth.call(undefined);</span><br><span class="line">doSth.apply(undefined);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œ<code>call</code>ï¼Œ<code>apply</code>ä½œç”¨ä¹‹ä¸€å°±æ˜¯ç”¨æ¥ä¿®æ”¹å‡½æ•°ä¸­çš„<code>this</code>æŒ‡å‘ä¸ºç¬¬ä¸€ä¸ªå‚æ•°çš„ã€‚ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>undefined</code>æˆ–è€…<code>null</code>ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ˜¯æŒ‡å‘<code>window</code>ã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå°±æ˜¯æŒ‡å‘ç¬¬ä¸€ä¸ªå‚æ•°ã€‚åæ–‡è¯¦ç»†è§£é‡Šã€‚<br> ç»å¸¸æœ‰è¿™ç±»ä»£ç ï¼ˆå›è°ƒå‡½æ•°ï¼‰ï¼Œå…¶å®ä¹Ÿæ˜¯æ™®é€šå‡½æ•°è°ƒç”¨æ¨¡å¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var name = &#x27;è‹¥å·&#x27;;</span><br><span class="line">setTimeout(function()&#123;</span><br><span class="line">    console.log(this.name);</span><br><span class="line">&#125;, 0);</span><br><span class="line">// è¯­æ³•</span><br><span class="line">setTimeout(fn | code, 0, arg1, arg2, ...)</span><br><span class="line">// ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸²ä»£ç ã€‚ä¹Ÿå¯ä»¥ä¼ é€’å…¶ä»–å‡½æ•°</span><br><span class="line">// ç±»æ¯” setTimeoutå‡½æ•°å†…éƒ¨è°ƒç”¨fnæˆ–è€…æ‰§è¡Œä»£ç `code`ã€‚</span><br><span class="line">fn.call(undefined, arg1, arg2, ...);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><strong>å¯¹è±¡ä¸­çš„å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰è°ƒç”¨æ¨¡å¼</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var name = &#x27;window&#x27;;</span><br><span class="line">var doSth = function()&#123;</span><br><span class="line">    console.log(this.name);</span><br><span class="line">&#125;</span><br><span class="line">var student = &#123;</span><br><span class="line">    name: &#x27;è‹¥å·&#x27;,</span><br><span class="line">    doSth: doSth,</span><br><span class="line">    other: &#123;</span><br><span class="line">        name: &#x27;other&#x27;,</span><br><span class="line">        doSth: doSth,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">student.doSth(); // &#x27;è‹¥å·&#x27;</span><br><span class="line">student.other.doSth(); // &#x27;other&#x27;</span><br><span class="line">// ç”¨callç±»æ¯”åˆ™ä¸ºï¼š</span><br><span class="line">student.doSth.call(student);</span><br><span class="line">// ç”¨callç±»æ¯”åˆ™ä¸ºï¼š</span><br><span class="line">student.other.doSth.call(student.other);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä½†å¾€å¾€ä¼šæœ‰ä»¥ä¸‹åœºæ™¯ï¼ŒæŠŠå¯¹è±¡ä¸­çš„å‡½æ•°èµ‹å€¼æˆä¸€ä¸ªå˜é‡äº†ã€‚ è¿™æ ·å…¶å®åˆå˜æˆæ™®é€šå‡½æ•°äº†ï¼Œæ‰€ä»¥ä½¿ç”¨æ™®é€šå‡½æ•°çš„è§„åˆ™ï¼ˆé»˜è®¤ç»‘å®šï¼‰ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var studentDoSth = student.doSth;</span><br><span class="line">studentDoSth(); // &#x27;window&#x27;</span><br><span class="line">// ç”¨callç±»æ¯”åˆ™ä¸ºï¼š</span><br><span class="line">studentDoSth.call(undefined);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><strong><code>callã€applyã€bind</code> è°ƒç”¨æ¨¡å¼</strong></p><p>ä¸Šæ–‡æåˆ°<code>call</code>ã€<code>apply</code>ï¼Œè¿™é‡Œè¯¦ç»†è§£è¯»ä¸€ä¸‹ã€‚å…ˆé€šè¿‡<code>MDN</code>è®¤è¯†ä¸‹<code>call</code>å’Œ<code>apply</code> <a href="https://link.juejin.cn/?target=https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call">MDN æ–‡æ¡£ï¼šFunction.prototype.call()</a><br> <strong>è¯­æ³•</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fun.call(thisArg, arg1, arg2, ...)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><strong>thisArg</strong><br> åœ¨<code>fun</code>å‡½æ•°è¿è¡Œæ—¶æŒ‡å®šçš„<code>this</code>å€¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒæŒ‡å®šçš„<code>this</code>å€¼å¹¶ä¸ä¸€å®šæ˜¯è¯¥å‡½æ•°æ‰§è¡Œæ—¶çœŸæ­£çš„<code>this</code>å€¼ï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°å¤„äº<strong>éä¸¥æ ¼æ¨¡å¼</strong>ä¸‹ï¼Œåˆ™æŒ‡å®šä¸º<code>null</code>å’Œ<code>undefined</code>çš„<code>this</code>å€¼ä¼šè‡ªåŠ¨æŒ‡å‘å…¨å±€å¯¹è±¡(æµè§ˆå™¨ä¸­å°±æ˜¯<code>window</code>å¯¹è±¡)ï¼ŒåŒæ—¶å€¼ä¸ºåŸå§‹å€¼(æ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”å€¼)çš„<code>this</code>ä¼šæŒ‡å‘è¯¥åŸå§‹å€¼çš„è‡ªåŠ¨åŒ…è£…å¯¹è±¡ã€‚<br> <strong>arg1, arg2, â€¦</strong><br> æŒ‡å®šçš„å‚æ•°åˆ—è¡¨<br> <strong>è¿”å›å€¼</strong><br> è¿”å›å€¼æ˜¯ä½ è°ƒç”¨çš„æ–¹æ³•çš„è¿”å›å€¼ï¼Œè‹¥è¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œåˆ™è¿”å›<code>undefined</code>ã€‚<br> <code>apply</code>å’Œ<code>call</code>ç±»ä¼¼ã€‚åªæ˜¯å‚æ•°ä¸ä¸€æ ·ã€‚å®ƒçš„å‚æ•°æ˜¯æ•°ç»„ï¼ˆæˆ–è€…ç±»æ•°ç»„ï¼‰ã€‚</p><p>æ ¹æ®å‚æ•°<code>thisArg</code>çš„æè¿°ï¼Œå¯ä»¥çŸ¥é“ï¼Œ<code>call</code>å°±æ˜¯æ”¹å˜å‡½æ•°ä¸­çš„<code>this</code>æŒ‡å‘ä¸º<code>thisArg</code>ï¼Œå¹¶ä¸”æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œè¿™ä¹Ÿå°±ä½¿<code>JS</code>çµæ´»å¾ˆå¤šã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ<code>thisArg</code>æ˜¯åŸå§‹å€¼æ˜¯å€¼ç±»å‹ï¼Œä¹Ÿå°±æ˜¯åŸå§‹å€¼ã€‚ä¸ä¼šè¢«åŒ…è£…æˆå¯¹è±¡ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var doSth = function(name)&#123;</span><br><span class="line">    console.log(this);</span><br><span class="line">    console.log(name);</span><br><span class="line">&#125;</span><br><span class="line">doSth.call(2, &#x27;è‹¥å·&#x27;); // Number&#123;2&#125;, &#x27;è‹¥å·&#x27;</span><br><span class="line">var doSth2 = function(name)&#123;</span><br><span class="line">    &#x27;use strict&#x27;;</span><br><span class="line">    console.log(this);</span><br><span class="line">    console.log(name);</span><br><span class="line">&#125;</span><br><span class="line">doSth2.call(2, &#x27;è‹¥å·&#x27;); // 2, &#x27;è‹¥å·&#x27;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è™½ç„¶ä¸€èˆ¬ä¸ä¼šæŠŠ<code>thisArg</code>å‚æ•°å†™æˆå€¼ç±»å‹ã€‚ä½†è¿˜æ˜¯éœ€è¦çŸ¥é“è¿™ä¸ªçŸ¥è¯†ã€‚ ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/6844903728147857415">é¢è¯•å®˜é—®ï¼šèƒ½å¦æ¨¡æ‹Ÿå®ç°<code>JS</code>çš„<code>call</code>å’Œ<code>apply</code>æ–¹æ³•</a> å°±æ˜¯åˆ©ç”¨å¯¹è±¡ä¸Šçš„å‡½æ•°<code>this</code>æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œæ¥æ¨¡æ‹Ÿå®ç°<code>call</code>å’Œ<code>apply</code>çš„ã€‚æ„Ÿå…´è¶£çš„è¯»è€…æ€è€ƒå¦‚ä½•å®ç°ï¼Œå†å»çœ‹çœ‹ç¬”è€…çš„å®ç°ã€‚</p><p><code>bind</code>å’Œ<code>call</code>å’Œ<code>apply</code>ç±»ä¼¼ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¹Ÿæ˜¯ä¿®æ”¹<code>this</code>æŒ‡å‘ï¼Œåªä¸è¿‡è¿”å›å€¼æ˜¯æ–°å‡½æ•°ï¼Œæ–°å‡½æ•°ä¹Ÿèƒ½å½“åšæ„é€ å‡½æ•°ï¼ˆ<code>new</code>ï¼‰è°ƒç”¨ã€‚ <a href="https://link.juejin.cn/?target=https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind">MDN Function.prototype.bind</a></p><blockquote><p><code>bind()</code>æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œ å½“è¿™ä¸ªæ–°å‡½æ•°è¢«è°ƒç”¨æ—¶<code>this</code>é”®å€¼ä¸ºå…¶æä¾›çš„å€¼ï¼Œå…¶å‚æ•°åˆ—è¡¨å‰å‡ é¡¹å€¼ä¸ºåˆ›å»ºæ—¶æŒ‡å®šçš„å‚æ•°åºåˆ—ã€‚</p></blockquote><p><strong>è¯­æ³•ï¼š</strong> fun.bind(thisArg[, arg1[, arg2[, â€¦]]])<br> <strong>å‚æ•°ï¼š</strong> <strong>thisArg</strong> è°ƒç”¨ç»‘å®šå‡½æ•°æ—¶ä½œä¸ºthiså‚æ•°ä¼ é€’ç»™ç›®æ ‡å‡½æ•°çš„å€¼ã€‚ å¦‚æœä½¿ç”¨<code>new</code>è¿ç®—ç¬¦æ„é€ ç»‘å®šå‡½æ•°ï¼Œåˆ™å¿½ç•¥è¯¥å€¼ã€‚å½“ä½¿ç”¨<code>bind</code>åœ¨<code>setTimeout</code>ä¸­åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼ˆä½œä¸ºå›è°ƒæä¾›ï¼‰æ—¶ï¼Œä½œä¸º<code>thisArg</code>ä¼ é€’çš„ä»»ä½•åŸå§‹å€¼éƒ½å°†è½¬æ¢ä¸º<code>object</code>ã€‚å¦‚æœæ²¡æœ‰æä¾›ç»‘å®šçš„å‚æ•°ï¼Œåˆ™æ‰§è¡Œä½œç”¨åŸŸçš„<code>this</code>è¢«è§†ä¸ºæ–°å‡½æ•°çš„<code>thisArg</code>ã€‚ <strong>arg1, arg2, â€¦</strong> å½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¿™äº›å‚æ•°å°†ç½®äºå®å‚ä¹‹å‰ä¼ é€’ç»™è¢«ç»‘å®šçš„æ–¹æ³•ã€‚ <strong>è¿”å›å€¼</strong> è¿”å›ç”±æŒ‡å®šçš„<code>this</code>å€¼å’Œåˆå§‹åŒ–å‚æ•°æ”¹é€ çš„åŸå‡½æ•°æ‹·è´ã€‚</p><p><strong>æ„é€ å‡½æ•°è°ƒç”¨æ¨¡å¼</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function Student(name)&#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    console.log(this); // &#123;name: &#x27;è‹¥å·&#x27;&#125;</span><br><span class="line">    // ç›¸å½“äºè¿”å›äº†</span><br><span class="line">    // return this;</span><br><span class="line">&#125;</span><br><span class="line">var result = new Student(&#x27;è‹¥å·&#x27;);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>new</code>æ“ä½œç¬¦è°ƒç”¨å‡½æ•°ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ã€‚</p><blockquote><ol><li>åˆ›å»ºäº†ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ã€‚</li><li>è¿™ä¸ªå¯¹è±¡ä¼šè¢«æ‰§è¡Œ<code>[[Prototype]]</code>ï¼ˆä¹Ÿå°±æ˜¯<code>__proto__</code>ï¼‰é“¾æ¥ã€‚</li><li>ç”Ÿæˆçš„æ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„<code>this</code>ã€‚</li><li>é€šè¿‡<code>new</code>åˆ›å»ºçš„æ¯ä¸ªå¯¹è±¡å°†æœ€ç»ˆè¢«<code>[[Prototype]]</code>é“¾æ¥åˆ°è¿™ä¸ªå‡½æ•°çš„<code>prototype</code>å¯¹è±¡ä¸Šã€‚</li><li>å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ç±»å‹<code>Object</code>(åŒ…å«<code>Functoin</code>, <code>Array</code>, <code>Date</code>, <code>RegExg</code>, <code>Error</code>)ï¼Œé‚£ä¹ˆ<code>new</code>è¡¨è¾¾å¼ä¸­çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°çš„å¯¹è±¡ã€‚</li></ol></blockquote><p>ç”±æ­¤å¯ä»¥çŸ¥é“ï¼š<code>new</code>æ“ä½œç¬¦è°ƒç”¨æ—¶ï¼Œ<code>this</code>æŒ‡å‘ç”Ÿæˆçš„æ–°å¯¹è±¡ã€‚ <strong>ç‰¹åˆ«æé†’ä¸€ä¸‹ï¼Œ<code>new</code>è°ƒç”¨æ—¶çš„è¿”å›å€¼ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼è¿”å›å¯¹è±¡æˆ–è€…å‡½æ•°ï¼Œæ‰æ˜¯è¿”å›ç”Ÿæˆçš„æ–°å¯¹è±¡</strong>ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function Student(name)&#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    // return function f()&#123;&#125;;</span><br><span class="line">    // return &#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line">var result = new Student(&#x27;è‹¥å·&#x27;);</span><br><span class="line">console.log(result); &#123;name: &#x27;è‹¥å·&#x27;&#125;</span><br><span class="line">// å¦‚æœè¿”å›å‡½æ•°fï¼Œåˆ™resultæ˜¯å‡½æ•°fï¼Œå¦‚æœæ˜¯å¯¹è±¡&#123;&#125;ï¼Œåˆ™resultæ˜¯å¯¹è±¡&#123;&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¾ˆå¤šäººæˆ–è€…æ–‡ç« éƒ½å¿½ç•¥äº†è¿™ä¸€ç‚¹ï¼Œç›´æ¥ç®€å•ç”¨<code>typeof</code>åˆ¤æ–­å¯¹è±¡ã€‚è™½ç„¶å®é™…ä½¿ç”¨æ—¶ä¸ä¼šæ˜¾ç¤ºè¿”å›ï¼Œä½†é¢è¯•å®˜ä¼šé—®åˆ°ã€‚</p><hr><p><strong>æ€»ç»“</strong></p><p>å¦‚æœè¦åˆ¤æ–­ä¸€ä¸ªè¿è¡Œä¸­çš„å‡½æ•°çš„thisç»‘å®šï¼Œå°±éœ€è¦æ‰¾åˆ°è¿™ä¸ªå‡½æ•°çš„ç›´æ¥è°ƒç”¨ä½ç½®.æ‰¾åˆ°ä¹‹åå°±å¯ä»¥é¡ºåºåº”ç”¨ä¸‹é¢è¿™å››æ¡è§„åˆ™æ¥åˆ¤æ–­thisçš„æŒ‡å‘</p><ol><li><strong>æ™®é€šå‡½æ•°è°ƒç”¨</strong>:åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç»‘å®šåˆ°<code>undefined</code>,å¦åˆ™ç»‘å®šåˆ°å…¨å±€å¯¹è±¡</li><li><strong>æ„é€ å‡½æ•°å½¢å¼è°ƒç”¨</strong>:ç»‘å®šåˆ°æ–°åˆ›å»ºçš„å®ä¾‹å¯¹è±¡</li><li><strong>å¯¹è±¡ä¸Šçš„å‡½æ•°è°ƒç”¨</strong>:å¸®åˆ°åˆ°é‚£ä¸ªå¯¹è±¡</li><li><strong>callã€applyã€bindè°ƒç”¨</strong>:åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹,thisä¸ºå‡½æ•°ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°,å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸º<code>null</code>æˆ–è€…<code>undefined</code>ï¼Œ<code>this</code>ä¼šæŒ‡å‘å…¨å±€å¯¹è±¡(æµè§ˆå™¨ä¸­å°±æ˜¯windowå¯¹è±¡)</li></ol><p><strong>ç®­å¤´å‡½æ•°çš„this</strong>:ä¸ä¼šä½¿ç”¨ä¸Šæ–‡çš„å››æ¡æ ‡å‡†çš„ç»‘å®šè§„åˆ™,è€Œæ˜¯<strong>æ ¹æ®å½“å‰çš„è¯æ³•ä½œç”¨åŸŸæ¥å†³å®šthisã€‚</strong></p><p>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisã€superã€argumentå’Œnew.targetç»‘å®š,æ‰€ä»¥<strong>å¿…é¡»é€šè¿‡æŸ¥æ‰¾ä½œç”¨åŸŸé“¾æ¥å†³å®šå…¶å€¼</strong>.<strong>å¦‚æœç®­å¤´å‡½æ•°è¢«éç®­å¤´å‡½æ•°åŒ…å«,åˆ™thisç»‘å®šçš„æ˜¯æœ€è¿‘ä¸€å±‚éç®­å¤´å‡½æ•°çš„this,å¦åˆ™thisçš„å€¼ä¼šè¢«è®¾ç½®ä½å…¨å±€å¯¹è±¡.</strong></p><hr><h4 id="2-call"><a href="#2-call" class="headerlink" title="2.call"></a>2.call</h4><blockquote><p>call()æ–¹æ³•çš„ä½œç”¨æ˜¯åœ¨ä½¿ç”¨<strong>ä¸€ä¸ªæŒ‡å®šçš„thiså€¼</strong>å’Œ<strong>è‹¥å¹²ä¸ªæŒ‡å®šçš„å‚æ•°å€¼</strong>çš„å‰æä¸‹è°ƒç”¨æŸä¸ªå‡½æ•°æˆ–æ–¹æ³•</p></blockquote><p>ä¸¾ä¸ªæ —å­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bar.call(foo); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><p>æ‰‹å†™å®ç°callæ–¹æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.ts_call(obj,...args)&#123;</span><br><span class="line">    obj = obj || <span class="built_in">window</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> fn = <span class="built_in">Symbol</span>(); <span class="comment">//åˆ›å»ºä¸€ä¸ªå”¯ä¸€å˜é‡,é˜²æ­¢å±æ€§åå†²çª</span></span><br><span class="line">    </span><br><span class="line">    obj[fn] = <span class="built_in">this</span>; <span class="comment">//å°†å±æ€§æŒ‡å®šä¸ºç›®æ ‡å‡½æ•°</span></span><br><span class="line">    </span><br><span class="line">    obj[fn](...args);<span class="comment">//æ‰§è¡Œå‡½æ•°</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">delete</span> obj[fn];<span class="comment">//æ‰§è¡Œåå°†è¿™ä¸ªå±æ€§åˆ é™¤</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">age</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`æˆ‘å«<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>ä»Šå¹´<span class="subst">$&#123;age&#125;</span>å²äº†!`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> testobj2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zzm&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">fn.cs_call(testobj2,<span class="number">18</span>)<span class="comment">//æˆ‘å«zzmä»Šå¹´18å²äº†!</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="3-apply"><a href="#3-apply" class="headerlink" title="3.apply"></a>3.apply</h4><blockquote><p>applyçš„æ–¹æ³•ä¸callç±»ä¼¼,ä¸åŒä¹‹å¤„åœ¨äº<strong>applyå‚æ•°ä»¥æ•°ç»„çš„æ–¹å¼ä¼ é€’</strong>,æ‰€ä»¥callèƒ½å®ç°çš„éœ€æ±‚ï¼Œç”¨applyä¹ŸåŒæ ·å¯ä»¥</p></blockquote><p>æ‰‹å†™å®ç°applyæ–¹æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.cs_apply(obj,arg)&#123;</span><br><span class="line">    obj = obj || <span class="built_in">window</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> fn = <span class="built_in">Symbol</span>();</span><br><span class="line">    </span><br><span class="line">    obj[fn] = <span class="built_in">this</span>;</span><br><span class="line">    </span><br><span class="line">    obj[fn](...args);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">delete</span> obj[fn];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">age,hobby</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`æˆ‘å«<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>ä»Šå¹´<span class="subst">$&#123;age&#125;</span>å²äº†æˆ‘å–œæ¬¢<span class="subst">$&#123;hobby&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> testobj2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zzm&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">fn.cs_apply(testobj2,[<span class="number">18</span>,<span class="string">&#x27;ç¡è§‰&#x27;</span>])<span class="comment">//æˆ‘å«zzmä»Šå¹´18å²äº†æˆ‘å–œæ¬¢ç¡è§‰</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="4-bind"><a href="#4-bind" class="headerlink" title="4.bind"></a>4.bind</h4><blockquote><p>bind()å‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°(ç§°ä¹‹ä¸ºç»‘å®šå‡½æ•°)</p></blockquote><ul><li>bindæ˜¯ES5æ–°å¢çš„ä¸€ä¸ªæ–¹æ³•</li><li>ä¼ å‚å’Œcallæˆ–applyç±»ä¼¼</li><li>ä¸ä¼šæ‰§è¡Œå¯¹åº”çš„å‡½æ•°ï¼Œcallæˆ–applyä¼šè‡ªåŠ¨æ‰§è¡Œå¯¹åº”çš„å‡½æ•°</li><li>è¿”å›å¯¹å‡½æ•°çš„å¼•ç”¨</li></ul><p><strong>ä¸‹é¢ä¾‹å­ï¼š</strong>å½“ç‚¹å‡»ç½‘é¡µæ—¶ï¼Œ<code>EventClick</code>è¢«è§¦å‘æ‰§è¡Œï¼Œè¾“å‡º<code>JSLite.io p1 p2</code>, è¯´æ˜<code>EventClick</code>ä¸­çš„<code>this</code>è¢«<code>bind</code>æ”¹å˜æˆäº†<code>obj</code>å¯¹è±¡ã€‚å¦‚æœä½ å°†<code>EventClick.bind(obj,&#39;p1&#39;,&#39;p2&#39;)</code> å˜æˆ <code>EventClick.call(obj,&#39;p1&#39;,&#39;p2&#39;)</code> çš„è¯ï¼Œé¡µé¢ä¼šç›´æ¥è¾“å‡º <code>JSLite.io p1 p2</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;name:&#x27;JSLite.io&#x27;&#125;;</span><br><span class="line">/**</span><br><span class="line"> * ç»™documentæ·»åŠ clickäº‹ä»¶ç›‘å¬ï¼Œå¹¶ç»‘å®šEventClickå‡½æ•°</span><br><span class="line"> * é€šè¿‡bindæ–¹æ³•è®¾ç½®EventClickçš„thisä¸ºobjï¼Œå¹¶ä¼ é€’å‚æ•°p1,p2</span><br><span class="line"> */</span><br><span class="line">document.addEventListener(&#x27;click&#x27;,EventClick.bind(obj,&#x27;p1&#x27;,&#x27;p2&#x27;),false);</span><br><span class="line">//å½“ç‚¹å‡»ç½‘é¡µæ—¶è§¦å‘å¹¶æ‰§è¡Œ</span><br><span class="line">function EventClick(a,b)&#123;</span><br><span class="line">    console.log(</span><br><span class="line">            this.name, //JSLite.io</span><br><span class="line">            a, //p1</span><br><span class="line">            b  //p2</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line">// JSLite.io p1 p2</span><br></pre></td></tr></table></figure><p>æ‰‹å†™bind</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.cs_bind = <span class="function"><span class="keyword">function</span>(<span class="params">obj,...args</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    obj = obj || <span class="built_in">window</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> fn = <span class="built_in">Symbol</span>();</span><br><span class="line">    obj[fn] = <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> _this = <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> res = <span class="function"><span class="keyword">function</span>(<span class="params">...innerArgs</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span> <span class="keyword">instanceof</span> _this)&#123;<span class="comment">//å½“ä½œæ„é€ å‡½æ•°ä½¿ç”¨</span></span><br><span class="line">            <span class="built_in">this</span>[fn] = _this;</span><br><span class="line">            <span class="built_in">this</span>[fn](...[...args,...innerArgs]);</span><br><span class="line">            <span class="keyword">delete</span> <span class="built_in">this</span>[fn];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//æ²¡æœ‰å½“ä½œæ„é€ å‡½æ•°ä½¿ç”¨</span></span><br><span class="line">            obj[fn](...[...args,...innerArgs])</span><br><span class="line">            <span class="keyword">delete</span> obj[fn];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res.prototype = <span class="built_in">Object</span>.create(<span class="built_in">this</span>.prototype);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-åŸå‹-ç»§æ‰¿"><a href="#3-åŸå‹-ç»§æ‰¿" class="headerlink" title="3.åŸå‹/ç»§æ‰¿"></a>3.åŸå‹/ç»§æ‰¿</h3><h4 id="1-åŸå‹"><a href="#1-åŸå‹" class="headerlink" title="1.åŸå‹"></a>1.åŸå‹</h4><p><strong>åŸå‹é“¾ç»å…¸ç¥å›¾</strong></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203131611904.png" alt="image-20220313161148825"></p><ul><li>function Foo å°±æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œæ¯”å¦‚JavaScript ä¸­å†…ç½®çš„ Arrayã€String ç­‰</li><li>function Object å°±æ˜¯ä¸€ä¸ª Object</li><li>function Function å°±æ˜¯ Function</li><li>ä»¥ä¸Šéƒ½æ˜¯ functionï¼Œæ‰€ä»¥ <code>.__proto__</code>éƒ½æ˜¯<code>Function.prototype</code></li><li>å†æ¬¡å¼ºè°ƒï¼ŒStringã€Arrayã€Numberã€Functionã€Objectéƒ½æ˜¯ function</li></ul><hr><p><strong>prototypeçš„å®šä¹‰</strong></p><p>åœ¨è§„èŒƒé‡Œ,prototypeè¢«å®šä¹‰ä¸º:<strong>ç»™å…¶ä»–å¯¹è±¡æä¾›å…±äº«å±æ€§çš„å¯¹è±¡</strong></p><p>ä¹Ÿå°±æ˜¯è¯´prototypeè‡ªå·±ä¹Ÿæ˜¯å¯¹è±¡,åªæ˜¯è¢«ç”¨æ¥æ‰¿æ‹…æŸä¸ªåªèƒ½ç½¢äº†</p><p><strong>prototypeæè¿°çš„æ˜¯ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´çš„æŸç§å…³ç³»(å…¶ä¸­ä¸€ä¸ªå¯¹è±¡ä¸ºå¦ä¸€ä¸ªå¯¹è±¡æä¾›å±æ€§è®¿é—®æƒé™).æ‰€æœ‰å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„prototypeæ¥ä½¿ç”¨</strong></p><hr><p><strong>å‡½æ•°å¯¹è±¡å’Œæ™®é€šå¯¹è±¡</strong></p><p>åœ¨JavaScriptä¸­,<strong>ä¸‡ç‰©çš†å¯¹è±¡</strong>,ä½†æ˜¯ä¸åŒçš„å¯¹è±¡æ˜¯å­˜åœ¨ç€å·®å¼‚æ€§çš„.</p><p>åœ¨JavaScriptä¸­ï¼Œæˆ‘ä»¬å°†å¯¹è±¡åˆ†ä¸ºå‡½æ•°å¯¹è±¡å’Œæ™®é€šå¯¹è±¡,<strong>å‡½æ•°å¯¹è±¡å°±æ˜¯JavaScriptç”¨å‡½æ•°æ¥æ¨¡æ‹Ÿçš„ç±»å®ç°</strong>,<strong>Object</strong>å’Œ<strong>Function</strong>å°±æ˜¯å…¸å‹çš„å‡½æ•°å¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> fun2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> fun3 = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;console.log(name)&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> obj2 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="keyword">const</span> obj3 = <span class="keyword">new</span> fun1();</span><br><span class="line"><span class="keyword">const</span> obj4 = <span class="keyword">new</span> <span class="keyword">new</span> <span class="built_in">Function</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Object</span>);<span class="comment">//function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Function</span>);<span class="comment">//function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> fun1);<span class="comment">//function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> fun2);<span class="comment">//function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> fun3);<span class="comment">//function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj1);<span class="comment">//object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj2);<span class="comment">//object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj3);<span class="comment">//object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj4);<span class="comment">//object</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>obj1</code>ï¼Œ<code>obj2</code>ï¼Œ<code>obj3</code>ï¼Œ<code>obj4</code>éƒ½æ˜¯æ™®é€šå¯¹è±¡ï¼Œ<code>fun1</code>ï¼Œ<code>fun2</code>ï¼Œ<code>fun3</code> éƒ½æ˜¯ <code>Function</code> çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°å¯¹è±¡ã€‚</p><p>æ€»ç»“:<strong>æ‰€æœ‰çš„Functionçš„å®ä¾‹éƒ½æ˜¯å‡½æ•°å¯¹è±¡,å…¶ä»–çš„å‡ä¸ºæ™®é€šå¯¹è±¡,åŒ…æ‹¬Functionå®ä¾‹çš„å®ä¾‹</strong></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203131629020.webp" alt="img"></p><p><strong>JavaScriptä¸­ä¸‡ç‰©çš†å¯¹è±¡,è€Œå¯¹è±¡çš†å‡ºè‡ªæ„é€ å‡½æ•°</strong></p><p>å¯¹äº<strong>Function</strong>å¯¹è±¡:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.__proto__ === <span class="built_in">Function</span>.prototype <span class="comment">//true</span></span><br></pre></td></tr></table></figure><hr><p><strong>__ proto__</strong></p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦æ˜ç¡®:</p><ul><li><strong>__ proto__<strong>å’Œ</strong>constructor</strong>æ˜¯<strong>å¯¹è±¡</strong>ç‹¬æœ‰çš„</li><li><strong>prototype</strong>å±æ€§æ˜¯<strong>å‡½æ•°</strong>ç‹¬æœ‰çš„</li></ul><p>ä½†æ˜¯åœ¨JavaScriptä¸­,å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡,<strong>æ‰€ä»¥å‡½æ•°ä¹Ÿæ‹¥æœ‰<code>__proto__</code>å’Œ <code>constructor</code>å±æ€§</strong></p><p>ç»“åˆä¸Šé¢æˆ‘ä»¬ä»‹ç»çš„ <code>Object</code> å’Œ <code>Function</code> çš„å…³ç³»ï¼Œçœ‹ä¸€ä¸‹ä»£ç å’Œå…³ç³»å›¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">function Person()&#123;â€¦&#125;;</span><br><span class="line">let nealyang = new Person(); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203131647800.webp" alt="__proto__"></p><p>å†æ¢³ç†ä¸Šå›¾å…³ç³»ä¹‹å‰ï¼Œæˆ‘ä»¬å†æ¥è®²è§£ä¸‹<code>__proto__</code>ã€‚</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203131647353.webp" alt="img"></p><p>è¿™é‡Œæˆ‘ä»¬éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œ<code>__proto__</code>æ˜¯å¯¹è±¡æ‰€ç‹¬æœ‰çš„ï¼Œå¹¶ä¸”<code>__proto__</code>æ˜¯<strong>ä¸€ä¸ªå¯¹è±¡æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡</strong>ï¼Œä¹Ÿå°±æ˜¯ä»–çš„åŸå‹å¯¹è±¡ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ç†è§£ä¸ºçˆ¶ç±»å¯¹è±¡ã€‚å®ƒçš„ä½œç”¨å°±æ˜¯å½“ä½ åœ¨è®¿é—®ä¸€ä¸ªå¯¹è±¡å±æ€§çš„æ—¶å€™ï¼Œå¦‚æœè¯¥å¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå°±å›å»å®ƒçš„<code>__proto__</code>å±æ€§æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼ˆçˆ¶ç±»å¯¹è±¡ï¼‰ä¸ŠæŸ¥æ‰¾ï¼Œå¦‚æœçˆ¶ç±»å¯¹è±¡ä¾æ—§ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå°±å›å»å…¶çˆ¶ç±»çš„<code>__proto__</code>å±æ€§æ‰€æŒ‡å‘çš„çˆ¶ç±»çš„çˆ¶ç±»ä¸Šå»æŸ¥æ‰¾ã€‚ä»¥æ­¤ç±»æ¨ï¼ŒçŸ¥é“æ‰¾åˆ° <code>null</code>ã€‚è€Œè¿™ä¸ªæŸ¥æ‰¾çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ„æˆäº†æˆ‘ä»¬å¸¸è¯´çš„<strong>åŸå‹é“¾</strong>ã€‚</p><p><strong>åŸå‹é“¾å°±æ˜¯æ ¹æ®å¯¹è±¡çš„__ proto __æŒ‡å‘,ä¸€å±‚ä¸€å±‚è¿æ¥èµ·æ¥çš„å…·æœ‰å…³è”æ€§çš„å¯¹è±¡é›†åˆ</strong></p><hr><p><strong>prototype</strong></p><p>prototype è¢«å®šä¹‰ä¸ºï¼š<strong>ç»™å…¶å®ƒå¯¹è±¡æä¾›å…±äº«å±æ€§çš„å¯¹è±¡</strong>ã€‚<code>prototype</code> è‡ªå·±ä¹Ÿæ˜¯å¯¹è±¡ï¼Œåªæ˜¯è¢«ç”¨ä»¥æ‰¿æ‹…æŸä¸ªèŒèƒ½ç½¢äº†</p><p>æ‰€æœ‰å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„<strong>prototype</strong>ä½¿ç”¨</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203131651653.webp" alt="img"></p><p><strong>ä»»ä½•å‡½æ•°åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œéƒ½ä¼šé»˜è®¤ç»™è¯¥å‡½æ•°æ·»åŠ  <code>prototype</code> å±æ€§.</strong></p><hr><p><strong>constructor</strong></p><p><strong>constructor</strong>å±æ€§ä¹Ÿæ˜¯å¯¹è±¡æ‰€ç‹¬æœ‰çš„,<strong>ä»–æ˜¯ä¸€ä¸ªå¯¹è±¡æŒ‡å‘åŒä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°</strong></p><p>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰å…¶å¯¹åº”çš„æ„é€ å‡½æ•°,å®ƒç”±æœ¬èº«æˆ–è€…ç»§æ‰¿è€Œæ¥.</p><p><strong>å‡½æ•°.prototype.constructor</strong>===<strong>è¯¥å‡½æ•°æœ¬èº«</strong></p><p><strong>constructorå±æ€§åªæœ‰prototypeå¯¹è±¡æ‰æœ‰</strong>,å‡½æ•°åœ¨åˆ›å»ºçš„æ—¶å€™,JavaScriptä¼šåŒæ—¶åˆ›å»ºä¸€ä¸ªè¯¥å‡½æ•°å¯¹åº”çš„prototypeå¯¹è±¡,<strong>è€Œå‡½æ•°åˆ›å»ºçš„å¯¹è±¡.proto === è¯¥å‡½æ•°.prototype</strong></p><p>é€šè¿‡å‡½æ•°åˆ›å»ºçš„å¯¹è±¡å³ä½¿è‡ªå·±æ²¡æœ‰<code>constructor</code>å±æ€§ï¼Œå®ƒä¹Ÿèƒ½é€šè¿‡<code>__proto__</code>æ‰¾åˆ°å¯¹åº”çš„<code>constructor</code>ï¼Œæ‰€ä»¥<strong>ä»»ä½•å¯¹è±¡æœ€ç»ˆéƒ½å¯ä»¥æ‰¾åˆ°å…¶å¯¹åº”çš„æ„é€ å‡½æ•°ã€‚</strong></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203131707239.webp" alt="img"></p><hr><p><strong>åŸå‹é“¾</strong></p><p><strong>åŸå‹é“¾å°±æ˜¯æ ¹æ®å¯¹è±¡çš„__ proto __æŒ‡å‘,ä¸€å±‚ä¸€å±‚è¿æ¥èµ·æ¥çš„å…·æœ‰å…³è”æ€§çš„å¯¹è±¡é›†åˆ</strong></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203131709481.webp" alt="img"></p><hr><p><strong>typeof</strong>&amp;&amp;<strong>instanceof</strong>åŸç†</p><p><strong>typeof</strong></p><p>ç”¨äºåˆ¤æ–­å˜é‡çš„ç±»å‹,å¯ä»¥åˆ¤æ–­çš„ç±»å‹æœ‰:<strong>number</strong>ã€<strong>undefined</strong>ã€<strong>String</strong>ã€<strong>Boolean</strong>ã€<strong>function</strong>ã€<strong>object</strong>ã€<strong>symbol</strong>ï¼Œä½†æ˜¯<strong>typeofåœ¨åˆ¤æ–­objectæ—¶ä¸èƒ½æ˜ç¡®çš„å‘Šè¯‰ä½ å±äºå“ªä¸€ç±»object</strong></p><p>æ‰€ä»¥<strong>ä¸€èˆ¬ä¸ç”¨typeofæ¥åˆ¤æ–­objectçš„ç±»å‹</strong></p><p>ä¸ºä»€ä¹ˆ<strong>typeof null</strong> è¿”å›â€™<strong>object</strong>â€™ï¼Ÿ</p><p><strong>å› ä¸ºnullä»£è¡¨çš„æ˜¯ç©ºæŒ‡é’ˆå¯¹è±¡,æ‰€ä»¥typeof null ä¸ºobject</strong></p><p>å…·ä½“åŸå› :åœ¨ JavaScript æœ€åˆçš„å®ç°ä¸­ï¼ŒJavaScript ä¸­çš„å€¼æ˜¯ç”±ä¸€ä¸ªè¡¨ç¤ºç±»å‹çš„æ ‡ç­¾å’Œå®é™…æ•°æ®å€¼è¡¨ç¤ºçš„ã€‚å¯¹è±¡çš„ç±»å‹æ ‡ç­¾æ˜¯ 0ã€‚ç”±äº <code>null</code> ä»£è¡¨çš„æ˜¯ç©ºæŒ‡é’ˆï¼ˆå¤§å¤šæ•°å¹³å°ä¸‹å€¼ä¸º 0x00ï¼‰ï¼Œå› æ­¤ï¼Œ<code>null</code> çš„ç±»å‹æ ‡ç­¾æ˜¯ 0ï¼Œ<code>typeof null</code> ä¹Ÿå› æ­¤è¿”å› <code>&quot;object&quot;</code></p><hr><p><strong>instanceof</strong></p><p><code>instanceof</code> è¿ç®—ç¬¦ç”¨æ¥æ£€æµ‹ <code>constructor.prototype</code> æ˜¯å¦å­˜åœ¨äºå‚æ•° <code>object</code> çš„åŸå‹é“¾ä¸Šã€‚ä¸ <code>typeof</code> æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œ<code>instanceof</code> æ–¹æ³•è¦æ±‚å¼€å‘è€…æ˜ç¡®åœ°ç¡®è®¤å¯¹è±¡ä¸ºæŸç‰¹å®šç±»å‹ã€‚</p><p><strong>instanceof</strong>å¯ä»¥åˆ¤æ–­<strong>ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ˜¯å…¶çˆ¶ç±»å‹æˆ–è€…ç¥–å…ˆç±»å‹çš„å®ä¾‹ã€‚</strong></p><p><strong>instanceof</strong>æ˜¯å¦‚ä½•è¿›è¡Œåˆ¤æ–­çš„?</p><ul><li>è¡¨è¾¾å¼**:A instanceof B**:å¦‚æœBçš„æ˜¾å¼åŸå‹(prototype)å¯¹è±¡åœ¨Açš„åŸå‹é“¾ä¸Š,è¿”å›true,å¦åˆ™è¿”å›false</li></ul><p><strong>æ‰‹å†™instanceof</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_instanceof</span>(<span class="params">child,father</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> fp =  father.prototype   </span><br><span class="line">    <span class="keyword">let</span> cp = child.__proto__</span><br><span class="line">    <span class="keyword">while</span>(cp)&#123;</span><br><span class="line">        <span class="keyword">if</span>(cp.__proto__ === father.protype)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cp = cp.__proto__;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span> <span class="keyword">instanceof</span> <span class="built_in">Object</span>);<span class="comment">//true </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span> <span class="keyword">instanceof</span> <span class="built_in">Function</span>);<span class="comment">//true </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span> <span class="keyword">instanceof</span> <span class="built_in">Number</span>);<span class="comment">//false </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span> <span class="keyword">instanceof</span> <span class="built_in">String</span>);<span class="comment">//false </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span> <span class="keyword">instanceof</span> <span class="built_in">Object</span>);<span class="comment">//true </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Foo <span class="keyword">instanceof</span> <span class="built_in">Function</span>);<span class="comment">//true </span></span><br><span class="line"><span class="built_in">console</span>.log(Foo <span class="keyword">instanceof</span> Foo);<span class="comment">//false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ä¸ºä»€ä¹ˆ <code>Object</code> å’Œ <code>Function</code> <code>instanceof</code> è‡ªå·±ç­‰äº <code>true</code>ï¼Œè€Œå…¶ä»–ç±» <code>instanceof</code> è‡ªå·±å´åˆä¸ç­‰äº <code>true</code> å‘¢ï¼Ÿå¦‚ä½•è§£é‡Šï¼Ÿ</strong></p><ul><li><p><code>Object instanceof Object</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ºäº†æ–¹ä¾¿è¡¨è¿°ï¼Œé¦–å…ˆåŒºåˆ†å·¦ä¾§è¡¨è¾¾å¼å’Œå³ä¾§è¡¨è¾¾å¼</span></span><br><span class="line">ObjectL = <span class="built_in">Object</span>, ObjectR = <span class="built_in">Object</span>; </span><br><span class="line"><span class="comment">// ä¸‹é¢æ ¹æ®è§„èŒƒé€æ­¥æ¨æ¼”</span></span><br><span class="line">O = ObjectR.prototype = <span class="built_in">Object</span>.prototype </span><br><span class="line">L = ObjectL.__proto__ = <span class="built_in">Function</span>.prototype </span><br><span class="line"><span class="comment">// ç¬¬ä¸€æ¬¡åˆ¤æ–­</span></span><br><span class="line">O != L </span><br><span class="line"><span class="comment">// å¾ªç¯æŸ¥æ‰¾ L æ˜¯å¦è¿˜æœ‰ __proto__ </span></span><br><span class="line">L = <span class="built_in">Function</span>.prototype.__proto__ = <span class="built_in">Object</span>.prototype </span><br><span class="line"><span class="comment">// ç¬¬äºŒæ¬¡åˆ¤æ–­</span></span><br><span class="line">O == L </span><br><span class="line"><span class="comment">// è¿”å› true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p><code>Function instanceof Function</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ºäº†æ–¹ä¾¿è¡¨è¿°ï¼Œé¦–å…ˆåŒºåˆ†å·¦ä¾§è¡¨è¾¾å¼å’Œå³ä¾§è¡¨è¾¾å¼</span></span><br><span class="line">FunctionL = <span class="built_in">Function</span>, FunctionR = <span class="built_in">Function</span>; </span><br><span class="line"><span class="comment">// ä¸‹é¢æ ¹æ®è§„èŒƒé€æ­¥æ¨æ¼”</span></span><br><span class="line">O = FunctionR.prototype = <span class="built_in">Function</span>.prototype </span><br><span class="line">L = FunctionL.__proto__ = <span class="built_in">Function</span>.prototype </span><br><span class="line"><span class="comment">// ç¬¬ä¸€æ¬¡åˆ¤æ–­</span></span><br><span class="line">O == L </span><br><span class="line"><span class="comment">// è¿”å› true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p><code>Foo instanceof Foo</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ºäº†æ–¹ä¾¿è¡¨è¿°ï¼Œé¦–å…ˆåŒºåˆ†å·¦ä¾§è¡¨è¾¾å¼å’Œå³ä¾§è¡¨è¾¾å¼</span></span><br><span class="line">FooL = Foo, FooR = Foo; </span><br><span class="line"><span class="comment">// ä¸‹é¢æ ¹æ®è§„èŒƒé€æ­¥æ¨æ¼”</span></span><br><span class="line">O = FooR.prototype = Foo.prototype </span><br><span class="line">L = FooL.__proto__ = <span class="built_in">Function</span>.prototype </span><br><span class="line"><span class="comment">// ç¬¬ä¸€æ¬¡åˆ¤æ–­</span></span><br><span class="line">O != L </span><br><span class="line"><span class="comment">// å¾ªç¯å†æ¬¡æŸ¥æ‰¾ L æ˜¯å¦è¿˜æœ‰ __proto__ </span></span><br><span class="line">L = <span class="built_in">Function</span>.prototype.__proto__ = <span class="built_in">Object</span>.prototype </span><br><span class="line"><span class="comment">// ç¬¬äºŒæ¬¡åˆ¤æ–­</span></span><br><span class="line">O != L </span><br><span class="line"><span class="comment">// å†æ¬¡å¾ªç¯æŸ¥æ‰¾ L æ˜¯å¦è¿˜æœ‰ __proto__ </span></span><br><span class="line">L = <span class="built_in">Object</span>.prototype.__proto__ = <span class="literal">null</span> </span><br><span class="line"><span class="comment">// ç¬¬ä¸‰æ¬¡åˆ¤æ–­</span></span><br><span class="line">L == <span class="literal">null</span> </span><br><span class="line"><span class="comment">// è¿”å› false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><hr><hr><h4 id="2-ç»§æ‰¿"><a href="#2-ç»§æ‰¿" class="headerlink" title="2.ç»§æ‰¿"></a>2.ç»§æ‰¿</h4><p>åœ¨JavaScriptä¸­,æœ‰ä¸¤ç±»åŸå‹ç»§æ‰¿çš„æ–¹å¼:<strong>æ˜¾å¼ç»§æ‰¿</strong>å’Œ<strong>éšå¼ç»§æ‰¿</strong></p><hr><h5 id="new"><a href="#new" class="headerlink" title="new"></a><strong>new</strong></h5><p><strong>newç”¨æ¥åˆ›å»ºæ„é€ å‡½æ•°çš„å®ä¾‹å¯¹è±¡</strong></p><p><strong>æ‰‹å†™new</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myNew</span>(<span class="params">fn,...args</span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">    obj.__proto__ = fn.prototype;<span class="comment">//å°†objçš„__proto__èµ‹å€¼ä¸ºfnçš„prototype</span></span><br><span class="line">    fn.apply(obj,args);<span class="comment">//å°†æ„é€ å‡½æ•°çš„thisæŒ‡å‘è¿™ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h5 id="ç±»å¼ç»§æ‰¿"><a href="#ç±»å¼ç»§æ‰¿" class="headerlink" title="ç±»å¼ç»§æ‰¿"></a><strong>ç±»å¼ç»§æ‰¿</strong></h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperClass</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.superValue = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">SuperClass.prototype.getSuperValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.superValue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubClass</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.subValue = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SubClass.prototype = <span class="keyword">new</span> SuperClass();</span><br><span class="line"></span><br><span class="line">SubClass.prototype.getSubValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.subValue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance = <span class="keyword">new</span> SubClass();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( instance  <span class="keyword">instanceof</span> SuperClass);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log( instance  <span class="keyword">instanceof</span> SubClass);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(SubClass <span class="keyword">instanceof</span> SuperClass);<span class="comment">//false</span></span><br></pre></td></tr></table></figure><p>è™½ç„¶å®ç°èµ·æ¥æ¸…æ™°ç®€æ´ï¼Œä½†æ˜¯è¿™ç§ç»§æ‰¿æ–¹å¼æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼š</p><ul><li>ç”±äºå­ç±»é€šè¿‡å…¶åŸå‹prototypeå¯¹çˆ¶ç±»å®ä¾‹åŒ–ï¼Œç»§æ‰¿äº†çˆ¶ç±»ï¼Œæ‰€ä»¥è¯´çˆ¶ç±»ä¸­å¦‚æœå…±æœ‰å±æ€§æ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±ä¼šåœ¨å­ç±»ä¸­è¢«æ‰€æœ‰çš„å®ä¾‹æ‰€å…±äº«ï¼Œå› æ­¤ä¸€ä¸ªå­ç±»çš„å®ä¾‹æ›´æ”¹å­ç±»åŸå‹ä»çˆ¶ç±»æ„é€ å‡½æ•°ä¸­ç»§æ‰¿çš„å…±æœ‰å±æ€§å°±ä¼šç›´æ¥å½±å“åˆ°å…¶ä»–çš„å­ç±»</li><li>ç”±äºå­ç±»å®ç°çš„ç»§æ‰¿æ˜¯é å…¶åŸå‹prototypeå¯¹çˆ¶ç±»è¿›è¡Œå®ä¾‹åŒ–å®ç°çš„ï¼Œå› æ­¤åœ¨åˆ›å»ºçˆ¶ç±»çš„æ—¶å€™ï¼Œæ˜¯æ— æ³•å‘çˆ¶ç±»ä¼ é€’å‚æ•°çš„ã€‚å› è€Œåœ¨å®ä¾‹åŒ–çˆ¶ç±»çš„æ—¶å€™ä¹Ÿæ— æ³•å¯¹çˆ¶ç±»æ„é€ å‡½æ•°å†…çš„å±æ€§è¿›è¡Œåˆå§‹åŒ–</li></ul><hr><h5 id="æ„é€ å‡½æ•°ç»§æ‰¿"><a href="#æ„é€ å‡½æ•°ç»§æ‰¿" class="headerlink" title="æ„é€ å‡½æ•°ç»§æ‰¿"></a><strong>æ„é€ å‡½æ•°ç»§æ‰¿</strong></h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperClass</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.books = [<span class="string">&#x27;js&#x27;</span>,<span class="string">&#x27;css&#x27;</span>];</span><br><span class="line">    <span class="built_in">this</span>.id = id;</span><br><span class="line">&#125;</span><br><span class="line">SuperClass.prototype.showBooks = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.books);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubClass</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    SuperClass.call(<span class="built_in">this</span>,id)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance1 = <span class="keyword">new</span> SubClass(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">const</span> instance2 = <span class="keyword">new</span> SubClass(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">instance1.books.push(<span class="string">&#x27;html&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(instance1)</span><br><span class="line"><span class="built_in">console</span>.log(instance2)</span><br><span class="line">instance1.showBooks();<span class="comment">//TypeError</span></span><br></pre></td></tr></table></figure><p><code>SuperClass.call(this,id)</code>å½“ç„¶å°±æ˜¯æ„é€ å‡½æ•°ç»§æ‰¿çš„æ ¸å¿ƒè¯­å¥äº†.ç”±äºçˆ¶ç±»ä¸­ç»™thisç»‘å®šå±æ€§ï¼Œå› æ­¤å­ç±»è‡ªç„¶ä¹Ÿå°±ç»§æ‰¿çˆ¶ç±»çš„å…±æœ‰å±æ€§ã€‚ç”±äºè¿™ç§ç±»å‹çš„ç»§æ‰¿æ²¡æœ‰æ¶‰åŠåˆ°åŸå‹<code>prototype</code>ï¼Œæ‰€ä»¥çˆ¶ç±»çš„åŸå‹æ–¹æ³•è‡ªç„¶ä¸ä¼šè¢«å­ç±»ç»§æ‰¿ï¼Œè€Œå¦‚æœæƒ³è¢«å­ç±»ç»§æ‰¿ï¼Œå°±å¿…é¡»æ”¾åˆ°æ„é€ å‡½æ•°ä¸­ï¼Œè¿™æ ·åˆ›å»ºå‡ºæ¥çš„æ¯ä¸€ä¸ªå®ä¾‹éƒ½ä¼šå•ç‹¬çš„æ‹¥æœ‰ä¸€ä»½è€Œä¸èƒ½å…±ç”¨ï¼Œè¿™æ ·å°±è¿èƒŒäº†ä»£ç å¤ç”¨çš„åŸåˆ™ï¼Œæ‰€ä»¥ç»¼åˆä¸Šè¿°ä¸¤ç§ï¼Œæˆ‘ä»¬æå‡ºäº†ç»„åˆå¼ç»§æ‰¿æ–¹æ³•</p><hr><h5 id="ç»„åˆå¼ç»§æ‰¿"><a href="#ç»„åˆå¼ç»§æ‰¿" class="headerlink" title="ç»„åˆå¼ç»§æ‰¿"></a><strong>ç»„åˆå¼ç»§æ‰¿</strong></h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperClass</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name; </span><br><span class="line">  <span class="built_in">this</span>.books = [<span class="string">&#x27;Js&#x27;</span>,<span class="string">&#x27;CSS&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line">SuperClass.prototype.getBooks = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.books);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubClass</span>(<span class="params">name,time</span>) </span>&#123;</span><br><span class="line">  SuperClass.call(<span class="built_in">this</span>,name);</span><br><span class="line">  <span class="built_in">this</span>.time = time;</span><br><span class="line">&#125;</span><br><span class="line">SubClass.prototype = <span class="keyword">new</span> SuperClass();</span><br><span class="line"></span><br><span class="line">SubClass.prototype.getTime = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.time);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šï¼Œæˆ‘ä»¬å°±è§£å†³äº†ä¹‹å‰è¯´åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œä½†æ˜¯æ˜¯ä¸æ˜¯ä»ä»£ç çœ‹ï¼Œè¿˜æ˜¯æœ‰äº›ä¸çˆ½å‘¢ï¼Ÿè‡³å°‘è¿™ä¸ª<code>SuperClass</code>çš„æ„é€ å‡½æ•°æ‰§è¡Œäº†ä¸¤éå°±æ„Ÿè§‰éå¸¸çš„ä¸å¦¥.</p><h5 id="åŸå‹å¼ç»§æ‰¿"><a href="#åŸå‹å¼ç»§æ‰¿" class="headerlink" title="åŸå‹å¼ç»§æ‰¿"></a><strong>åŸå‹å¼ç»§æ‰¿</strong></h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inheritObject</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//å£°æ˜ä¸€ä¸ªè¿‡æ¸¡å¯¹è±¡</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">  <span class="comment">//è¿‡æ¸¡å¯¹è±¡çš„åŸå‹ç»§æ‰¿çˆ¶å¯¹è±¡</span></span><br><span class="line">  F.prototype = o;</span><br><span class="line">  <span class="comment">//è¿”å›è¿‡æ¸¡å¯¹è±¡çš„å®ä¾‹ï¼Œè¯¥å¯¹è±¡çš„åŸå‹ç»§æ‰¿äº†çˆ¶å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸå‹å¼ç»§æ‰¿å¤§è‡´çš„å®ç°æ–¹å¼å¦‚ä¸Šï¼Œæ˜¯ä¸æ˜¯æƒ³åˆ°äº†æˆ‘ä»¬<code>new</code>å…³é”®å­—æ¨¡æ‹Ÿçš„å®ç°ï¼Ÿ</p><p>å…¶å®è¿™ç§æ–¹å¼å’Œç±»å¼ç»§æ‰¿éå¸¸çš„ç›¸ä¼¼ï¼Œä»–åªæ˜¯å¯¹ç±»å¼ç»§æ‰¿çš„ä¸€ä¸ªå°è£…ï¼Œå…¶ä¸­çš„è¿‡æ¸¡å¯¹è±¡å°±ç›¸å½“äºç±»å¼ç»§æ‰¿çš„å­ç±»ï¼Œåªä¸è¿‡åœ¨åŸå‹ç»§æ‰¿ä¸­ä½œä¸ºä¸€ä¸ªæ™®é€šçš„è¿‡æ¸¡å¯¹è±¡å­˜åœ¨ï¼Œç›®çš„æ˜¯ä¸ºäº†åˆ›å»ºè¦è¿”å›çš„æ–°çš„å®ä¾‹å¯¹è±¡ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var book = &#123;</span><br><span class="line">    name:&#x27;js book&#x27;,</span><br><span class="line">    likeBook:[&#x27;css Book&#x27;,&#x27;html book&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">var newBook = inheritObject(book);</span><br><span class="line">newBook.name = &#x27;ajax book&#x27;;</span><br><span class="line">newBook.likeBook.push(&#x27;react book&#x27;);</span><br><span class="line">var otherBook = inheritObject(book);</span><br><span class="line">otherBook.name = &#x27;canvas book&#x27;;</span><br><span class="line">otherBook.likeBook.push(&#x27;node book&#x27;);</span><br><span class="line">console.log(newBook,otherBook);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šä»£ç æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒåŸå‹å¼ç»§æ‰¿å’Œç±»å¼ç»§æ‰¿ä¸€ä¸ªæ ·å­ï¼Œå¯¹äºå¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œè¿˜æ˜¯å­˜åœ¨å­ç±»å®ä¾‹å…±äº«çš„æƒ…å†µã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸‹é¢çš„å¯„ç”Ÿå¼ç»§æ‰¿</p><hr><h5 id="å¯„ç”Ÿå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿå¼ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿå¼ç»§æ‰¿"></a><strong>å¯„ç”Ÿå¼ç»§æ‰¿</strong></h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> book = &#123;    <span class="attr">name</span>:<span class="string">&#x27;js book&#x27;</span>,    <span class="attr">likeBook</span>:[<span class="string">&#x27;html book&#x27;</span>,<span class="string">&#x27;css book&#x27;</span>]&#125;<span class="function"><span class="keyword">function</span> <span class="title">createBook</span>(<span class="params">obj</span>) </span>&#123;    <span class="comment">//é€šè¿‡åŸå‹æ–¹å¼åˆ›å»ºæ–°çš„å¯¹è±¡  var o = new inheritObject(obj);  // æ‹“å±•æ–°å¯¹è±¡  o.getName = function(name) &#123;    console.log(name)  &#125;  // è¿”å›æ‹“å±•åçš„æ–°å¯¹è±¡  return o;&#125;</span></span><br></pre></td></tr></table></figure><p>å…¶å®å¯„ç”Ÿå¼ç»§æ‰¿å°±æ˜¯å¯¹åŸå‹ç»§æ‰¿çš„æ‹“å±•ï¼Œä¸€ä¸ªäºŒæ¬¡å°è£…çš„è¿‡ç¨‹ï¼Œè¿™æ ·æ–°åˆ›å»ºçš„å¯¹è±¡ä¸ä»…ä»…æœ‰çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿˜æ–°å¢äº†åˆ«çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><h5 id="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"></a><strong>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</strong></h5><p>å›åˆ°ä¹‹å‰çš„ç»„åˆå¼ç»§æ‰¿ï¼Œé‚£æ—¶å€™æˆ‘ä»¬å°†ç±»å¼ç»§æ‰¿å’Œæ„é€ å‡½æ•°ç»§æ‰¿ç»„åˆä½¿ç”¨ï¼Œä½†æ˜¯å­˜åœ¨çš„é—®é¢˜å°±æ˜¯å­ç±»ä¸æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œè€Œå­ç±»çš„åŸå‹æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œæ‰€ä»¥æ‰æœ‰äº†å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</p><p>è€Œå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯å¯„ç”Ÿå¼ç»§æ‰¿å’Œæ„é€ å‡½æ•°ç»§æ‰¿çš„ç»„åˆã€‚ä½†æ˜¯è¿™é‡Œå¯„ç”Ÿå¼ç»§æ‰¿æœ‰äº›ç‰¹æ®Šï¼Œè¿™é‡Œä»–å¤„ç†ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯ç±»çš„åŸå‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inheritObject</span>(<span class="params">o</span>) </span>&#123;  <span class="comment">//å£°æ˜ä¸€ä¸ªè¿‡æ¸¡å¯¹è±¡  function F() &#123; &#125;  //è¿‡æ¸¡å¯¹è±¡çš„åŸå‹ç»§æ‰¿çˆ¶å¯¹è±¡  F.prototype = o;  //è¿”å›è¿‡æ¸¡å¯¹è±¡çš„å®ä¾‹ï¼Œè¯¥å¯¹è±¡çš„åŸå‹ç»§æ‰¿äº†çˆ¶å¯¹è±¡  return new F();&#125;function inheritPrototype(subClass,superClass) &#123;    // å¤åˆ¶ä¸€ä»½çˆ¶ç±»çš„åŸå‹å‰¯æœ¬åˆ°å˜é‡ä¸­  var p = inheritObject(superClass.prototype);  // ä¿®æ­£å› ä¸ºé‡å†™å­ç±»çš„åŸå‹å¯¼è‡´å­ç±»çš„constructorå±æ€§è¢«ä¿®æ”¹  p.constructor = subClass;  // è®¾ç½®å­ç±»åŸå‹  subClass.prototype = p;&#125;</span></span><br></pre></td></tr></table></figure><p>ç»„åˆå¼ç»§æ‰¿ä¸­ï¼Œé€šè¿‡æ„é€ å‡½æ•°ç»§æ‰¿çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä¸»è¦æ¢ç©¶é€šè¿‡å¯„ç”Ÿå¼ç»§æ‰¿é‡æ–°ç»§æ‰¿çˆ¶ç±»çš„åŸå‹ã€‚</p><p>æˆ‘ä»¬éœ€è¦ç»§æ‰¿çš„ä»…ä»…æ˜¯çˆ¶ç±»çš„åŸå‹ï¼Œä¸ç”¨å»è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨æ„é€ å‡½æ•°ç»§æ‰¿ä¸­ï¼Œæˆ‘ä»¬å·²ç»è°ƒç”¨äº†çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦çš„å°±æ˜¯çˆ¶ç±»çš„åŸå‹å¯¹è±¡çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œè€Œè¿™ä¸ªå‰¯æœ¬æˆ‘ä»¬å¯ä»¥é€šè¿‡åŸå‹ç»§æ‰¿æ‹¿åˆ°ï¼Œä½†æ˜¯è¿™ä¹ˆç›´æ¥èµ‹å€¼ç»™å­ç±»ä¼šæœ‰é—®é¢˜ï¼Œå› ä¸ºå¯¹çˆ¶ç±»åŸå‹å¯¹è±¡å¤åˆ¶å¾—åˆ°çš„å¤åˆ¶å¯¹è±¡pä¸­çš„<code>constructor</code>å±æ€§æŒ‡å‘çš„ä¸æ˜¯<code>subClass</code>å­ç±»å¯¹è±¡ï¼Œå› æ­¤åœ¨å¯„ç”Ÿå¼ç»§æ‰¿ä¸­è¦å¯¹å¤åˆ¶å¯¹è±¡påšä¸€æ¬¡å¢å¼ºï¼Œä¿®å¤èµ·<code>constructor</code>å±æ€§æŒ‡å‘æ€§ä¸æ­£ç¡®çš„é—®é¢˜ï¼Œæœ€åå°†å¾—åˆ°çš„å¤åˆ¶å¯¹è±¡pèµ‹å€¼ç»™å­ç±»åŸå‹ï¼Œè¿™æ ·å­ç±»çš„åŸå‹å°±ç»§æ‰¿äº†çˆ¶ç±»çš„åŸå‹å¹¶ä¸”æ²¡æœ‰æ‰§è¡Œçˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperClass</span>(<span class="params">name</span>) </span>&#123;  <span class="built_in">this</span>.name = name;  <span class="built_in">this</span>.books=[<span class="string">&#x27;js book&#x27;</span>,<span class="string">&#x27;css book&#x27;</span>];&#125;SuperClass.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);&#125;<span class="function"><span class="keyword">function</span> <span class="title">SubClass</span>(<span class="params">name,time</span>) </span>&#123;  SuperClass.call(<span class="built_in">this</span>,name);  <span class="built_in">this</span>.time = time;&#125;inheritPrototype(SubClass,SuperClass);SubClass.prototype.getTime = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  <span class="built_in">console</span>.log(<span class="built_in">this</span>.time);&#125;<span class="keyword">var</span> instance1 = <span class="keyword">new</span> SubClass(<span class="string">&#x27;React&#x27;</span>,<span class="string">&#x27;2017/11/11&#x27;</span>)<span class="keyword">var</span> instance2 = <span class="keyword">new</span> SubClass(<span class="string">&#x27;Js&#x27;</span>,<span class="string">&#x27;2018/22/33&#x27;</span>);instance1.books.push(<span class="string">&#x27;test book&#x27;</span>);<span class="built_in">console</span>.log(instance1.books,instance2.books);instance2.getName();instance2.getTime();</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203131828871.webp" alt="img"></p><p>è¿™ç§æ–¹å¼ç»§æ‰¿å…¶å®å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå…¶ä¸­æœ€å¤§çš„æ”¹å˜å°±æ˜¯å­ç±»åŸå‹ä¸­çš„å¤„ç†ï¼Œè¢«èµ‹äºˆçˆ¶ç±»åŸå‹ä¸­çš„ä¸€ä¸ªå¼•ç”¨ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤æœ‰ä¸€ç‚¹ä½ éœ€è¦æ³¨æ„ï¼Œå°±æ˜¯å­ç±»åœ¨æƒ³æ·»åŠ åŸå‹æ–¹æ³•å¿…é¡»é€šè¿‡prototype.æ¥æ·»åŠ ï¼Œå¦åˆ™ç›´æ¥èµ‹äºˆå¯¹è±¡å°±ä¼šè¦†ç›–ä»çˆ¶ç±»åŸå‹ç»§æ‰¿çš„å¯¹è±¡äº†.</p><h3 id="4-promise"><a href="#4-promise" class="headerlink" title="4.promise"></a>4.promise</h3><h4 id="1-ä»€ä¹ˆæ˜¯promise-å®ƒç”¨æ¥è§£å†³ä»€ä¹ˆé—®é¢˜"><a href="#1-ä»€ä¹ˆæ˜¯promise-å®ƒç”¨æ¥è§£å†³ä»€ä¹ˆé—®é¢˜" class="headerlink" title="1.ä»€ä¹ˆæ˜¯promise?å®ƒç”¨æ¥è§£å†³ä»€ä¹ˆé—®é¢˜?"></a>1.<strong>ä»€ä¹ˆæ˜¯promise?å®ƒç”¨æ¥è§£å†³ä»€ä¹ˆé—®é¢˜?</strong></h4><blockquote><p>Promiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ:ä»è¯­æ³•ä¸Šè®²ï¼Œpromiseæ˜¯ä¸€ä¸ªå¯¹è±¡,å¯ä»¥é€šè¿‡å®ƒè·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ï¼›ä»æœ¬æ„ä¸Šè®²ï¼Œä»–æ˜¯æ‰¿è¯ºï¼Œæ‰¿è¯ºä»–è¿‡ä¸€æ®µæ—¶é—´ä¼šç»™ä½ ä¸€ä¸ªç»“æœã€‚promiseæœ‰ä¸‰ç§çŠ¶æ€:<strong>pending</strong>(ç­‰å¾…æ€)ï¼Œ<strong>fulfiled</strong>(æˆåŠŸæ€),<strong>rejected</strong>(å¤±è´¥æ€);<strong>çŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œå°±ä¸ä¼šå†æ”¹å˜</strong>(ä¹Ÿå°±æ˜¯è¯´promiseçš„æ“ä½œæ˜¯ä¸å¯é€†çš„)ï¼Œ<strong>åˆ›é€ promiseå®ä¾‹åï¼Œä»–ä¼šç«‹å³æ‰§è¡Œ</strong></p></blockquote><p>promiseæ˜¯ç”¨æ¥è§£å†³ä¸¤ä¸ªé—®é¢˜:</p><ul><li><strong>å›è°ƒåœ°ç‹±</strong>ï¼Œå‡å°‘å¤šå±‚å›è°ƒåµŒå¥—</li><li><strong>å¼‚æ­¥æ‰§è¡Œ</strong>(ä½†æ˜¯ä¸èƒ½è¯´promiseæ˜¯å¼‚æ­¥çš„)</li></ul><hr><h4 id="2-promiseç”¨æ³•"><a href="#2-promiseç”¨æ³•" class="headerlink" title="2.promiseç”¨æ³•"></a>2.<strong>promiseç”¨æ³•</strong></h4><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132032800.png" alt="image-20220313203224725"></p><h5 id="åˆ›å»ºpromiseå¯¹è±¡"><a href="#åˆ›å»ºpromiseå¯¹è±¡" class="headerlink" title="åˆ›å»ºpromiseå¯¹è±¡"></a><strong>åˆ›å»ºpromiseå¯¹è±¡</strong></h5><p>promiseæ˜¯ä¸€ä¸ª<strong>æ„é€ å‡½æ•°</strong>ï¼Œå¯ä»¥é€šè¿‡<strong>new</strong>æ¥åˆ›å»ºå®ä¾‹å¯¹è±¡</p><p>Promiseçš„æ„é€ å‡½æ•°æ¥æ”¶<strong>ä¸€ä¸ªå‚æ•°</strong>:å‡½æ•°,å¹¶ä¸”è¿™ä¸ªå‡½æ•°éœ€è¦ä¼ å…¥<strong>ä¸¤ä¸ªå‚æ•°</strong>:</p><ul><li><strong>resolve</strong>:å¼‚æ­¥æ“ä½œæ‰§è¡ŒæˆåŠŸåçš„å›è°ƒå‡½æ•°</li><li><strong>reject</strong>:å¼‚æ­¥æ“ä½œæ‰§è¡Œå¤±è´¥åçš„å›è°ƒå‡½æ•°</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;    <span class="comment">//åšä¸€äº›å¼‚æ­¥æ“ä½œ    setTimeout(() =&gt; &#123;        console.log(&#x27;æ‰§è¡Œå®Œæˆ&#x27;);        resolve(&#x27;æˆ‘æ˜¯æˆåŠŸï¼ï¼&#x27;);    &#125;, 2000);&#125;);</span></span><br></pre></td></tr></table></figure><hr><h5 id="thené“¾å¼è°ƒç”¨"><a href="#thené“¾å¼è°ƒç”¨" class="headerlink" title="thené“¾å¼è°ƒç”¨"></a><strong>thené“¾å¼è°ƒç”¨</strong></h5><p>promiseå¯ä»¥é€šè¿‡é“¾å¼è°ƒç”¨æ¥å‡å°‘å¤šå±‚å›è°ƒåµŒå¥—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,rehect</span>) =&gt;</span>&#123;     resolve(<span class="string">&#x27;ok&#x27;</span>);          &#125;);p.then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;    <span class="built_in">console</span>.log(data);&#125;).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;    <span class="built_in">console</span>.log(data);&#125;).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;    <span class="built_in">console</span>.log(data);&#125;);</span><br></pre></td></tr></table></figure><hr><h5 id="rejectçš„ç”¨æ³•"><a href="#rejectçš„ç”¨æ³•" class="headerlink" title="rejectçš„ç”¨æ³•"></a><strong>rejectçš„ç”¨æ³•</strong></h5><p>æŠŠPromiseçš„çŠ¶æ€ç½®ä¸ºrejectedï¼Œè¿™æ ·æˆ‘ä»¬åœ¨thenä¸­å°±èƒ½æ•æ‰åˆ°ï¼Œç„¶åæ‰§è¡Œâ€œå¤±è´¥â€æƒ…å†µçš„å›è°ƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;        <span class="comment">//åšä¸€äº›å¼‚æ­¥æ“ä½œ      setTimeout(function()&#123;            var num = Math.ceil(Math.random()*10); //ç”Ÿæˆ1-10çš„éšæœºæ•°            if(num&lt;=5)&#123;                resolve(num);            &#125;            else&#123;                reject(&#x27;æ•°å­—å¤ªå¤§äº†&#x27;);            &#125;      &#125;, 2000);    &#125;);    p.then((data) =&gt; &#123;            console.log(&#x27;resolved&#x27;,data);        &#125;,(err) =&gt; &#123;            console.log(&#x27;rejected&#x27;,err);        &#125;    ); </span></span><br></pre></td></tr></table></figure><p>thenä¸­ä¼ äº†ä¸¤ä¸ªå‚æ•°ï¼Œthenæ–¹æ³•å¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå¯¹åº”resolveçš„å›è°ƒï¼Œç¬¬äºŒä¸ªå¯¹åº”rejectçš„å›è°ƒã€‚æ‰€ä»¥æˆ‘ä»¬èƒ½å¤Ÿåˆ†åˆ«æ‹¿åˆ°ä»–ä»¬ä¼ è¿‡æ¥çš„æ•°æ®ã€‚å¤šæ¬¡è¿è¡Œè¿™æ®µä»£ç ï¼Œä½ ä¼šéšæœºå¾—åˆ°ä¸‹é¢ä¸¤ç§ç»“æœï¼š</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132043346.webp" alt="img">æˆ–è€…<img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/5/19/16377e4fd8619228~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp" alt="img"></p><hr><h5 id="catchçš„ç”¨æ³•"><a href="#catchçš„ç”¨æ³•" class="headerlink" title="catchçš„ç”¨æ³•"></a><strong>catchçš„ç”¨æ³•</strong></h5><p>catchçš„ä½œç”¨ä¸thençš„ç¬¬äºŒä¸ªå‚æ•°ç±»ä¼¼,ç”¨äºæ•è·å¤±è´¥çš„å›è°ƒ,ä¸è¿‡ä¸åè€…ä¸åŒçš„æ˜¯ï¼Œåœ¨é“¾å¼è°ƒç”¨æ—¶ï¼Œå¦‚æœä»£ç å‡ºé”™äº†ï¼Œä»–ä¸ä¼šæŠ¥é”™ä½¿jsæ‰§è¡Œåœæ­¢ï¼Œè€Œæ˜¯ä¼šè¿›å…¥åˆ°catchæ–¹æ³•ä¸­,å¹¶æ•è·åˆ°å¼‚å¸¸</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p.then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;resolved&#x27;</span>,data);    <span class="built_in">console</span>.log(somedata); <span class="comment">//æ­¤å¤„çš„somedataæœªå®šä¹‰&#125;).catch((err) =&gt; &#123;    console.log(&#x27;rejected&#x27;,err);&#125;);</span></span><br></pre></td></tr></table></figure><p>åœ¨resolveçš„å›è°ƒä¸­ï¼Œæˆ‘ä»¬console.log(somedata);è€Œsomedataè¿™ä¸ªå˜é‡æ˜¯æ²¡æœ‰è¢«å®šä¹‰çš„ã€‚å¦‚æœæˆ‘ä»¬ä¸ç”¨Promiseï¼Œä»£ç è¿è¡Œåˆ°è¿™é‡Œå°±ç›´æ¥åœ¨æ§åˆ¶å°æŠ¥é”™äº†ï¼Œä¸å¾€ä¸‹è¿è¡Œäº†ã€‚ä½†æ˜¯åœ¨è¿™é‡Œï¼Œä¼šå¾—åˆ°è¿™æ ·çš„ç»“æœï¼š</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132046474.webp" alt="img"></p><p>ä¹Ÿå°±æ˜¯è¯´è¿›åˆ°catchæ–¹æ³•é‡Œé¢å»äº†ï¼Œè€Œä¸”æŠŠé”™è¯¯åŸå› ä¼ åˆ°äº†reasonå‚æ•°ä¸­ã€‚å³ä¾¿æ˜¯æœ‰é”™è¯¯çš„ä»£ç ä¹Ÿä¸ä¼šæŠ¥é”™äº†ï¼Œè¿™ä¸æˆ‘ä»¬çš„try/catchè¯­å¥æœ‰ç›¸åŒçš„åŠŸèƒ½</p><hr><h5 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all()"></a><strong>Promise.all()</strong></h5><p><strong>ç”¨æ³•</strong>:æ¥å—ä¸€ä¸ª<strong>æ•°ç»„</strong>å‚æ•°ï¼Œé‡Œé¢çš„å€¼æœ€ç»ˆéƒ½è¿”å›Promiseå¯¹è±¡</p><p><strong>ç‰¹ç‚¹</strong>:è°æ‰§è¡Œ<strong>æ…¢</strong>,ä»¥è°ä¸ºå‡†æ‰§è¡Œå›è°ƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;&#125;)<span class="keyword">let</span> Promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;&#125;)<span class="keyword">let</span> Promise3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;&#125;)<span class="keyword">let</span> p = <span class="built_in">Promise</span>.all([Promise1, Promise2, Promise3])p.then(<span class="function"><span class="title">funciton</span>(<span class="params"></span>)</span>&#123;  <span class="comment">// ä¸‰ä¸ªéƒ½æˆåŠŸåˆ™æˆåŠŸ  &#125;, function()&#123;  // åªè¦æœ‰å¤±è´¥ï¼Œåˆ™å¤±è´¥ &#125;)</span></span><br></pre></td></tr></table></figure><p>åº”ç”¨åœºæ™¯:<em>ä¸€äº›æ¸¸æˆç±»çš„ç´ ææ¯”è¾ƒå¤šçš„åº”ç”¨ï¼Œæ‰“å¼€ç½‘é¡µæ—¶ï¼Œé¢„å…ˆåŠ è½½éœ€è¦ç”¨åˆ°çš„å„ç§èµ„æºå¦‚å›¾ç‰‡ã€flashä»¥åŠå„ç§é™æ€æ–‡ä»¶ã€‚æ‰€æœ‰çš„éƒ½åŠ è½½å®Œåï¼Œæˆ‘ä»¬å†è¿›è¡Œé¡µé¢çš„åˆå§‹åŒ–ã€‚</em></p><hr><h5 id="Promise-race"><a href="#Promise-race" class="headerlink" title="Promise.race()"></a><strong>Promise.race()</strong></h5><p><strong>ç”¨æ³•</strong>:æ¥å—ä¸€ä¸ªæ•°ç»„å‚æ•°,é‡Œé¢çš„å€¼æœ€ç»ˆéƒ½è¿”å›Promiseå¯¹è±¡</p><p><strong>ç‰¹ç‚¹</strong>:è°æ‰§è¡Œ<strong>å¿«</strong>ï¼Œä»¥è°ä¸ºå‡†æ‰§è¡Œå›è°ƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;    <span class="comment">// resolve(1);    reject(1);&#125;)const promise2 = new Promise(function(resolve, reject) &#123;    resolve(2);&#125;)const promise3 = new Promise(function(resolve, reject) &#123;    resolve(3);&#125;)const p = Promise.race([promise1,promise2,promise3])p.then((data) =&gt; &#123;    console.log(&quot;data&quot;,data);&#125;).catch((err) =&gt; &#123;    console.log(&quot;err&quot;,err);&#125;)</span></span><br></pre></td></tr></table></figure><hr><h5 id="Promise-any"><a href="#Promise-any" class="headerlink" title="Promise.any()"></a><strong>Promise.any()</strong></h5><p><strong>æ³¨æ„</strong>:<strong>Promise.any()å°šæœªè¢«æ‰€æœ‰æµè§ˆå™¨æ‰€æ”¯æŒ</strong>,nodeç¯å¢ƒä¸‹ä¸èƒ½ä½¿ç”¨è¿™ä¸ªAPI</p><p><strong>ç”¨æ³•</strong>:æ¥å—ä¸€ä¸ªæ•°ç»„å‚æ•°,é‡Œé¢çš„å€¼æœ€ç»ˆéƒ½è¿”å›Promiseå¯¹è±¡</p><p><strong>ç‰¹ç‚¹</strong>:åªè¦æœ‰ä¸€ä¸ªpromiseæ‰§è¡ŒæˆåŠŸ,é‚£ä¹ˆå°±è¿”å›é‚£ä¸ªæˆåŠŸçš„promise</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;    <span class="comment">// resolve(1);    reject(1);&#125;)const promise2 = new Promise(function(resolve, reject) &#123;    resolve(2);&#125;)const promise3 = new Promise(function(resolve, reject) &#123;    resolve(3);&#125;)const p = Promise.any([promise1,promise2,promise3])p.then((data) =&gt; &#123;    console.log(&quot;data&quot;,data);&#125;).catch((err) =&gt; &#123;    console.log(&quot;err&quot;,err);&#125;)</span></span><br></pre></td></tr></table></figure><hr><h4 id="3-async-await"><a href="#3-async-await" class="headerlink" title="3.async/await"></a>3.<strong>async/await</strong></h4><h5 id="1-ä»€ä¹ˆæ˜¯async"><a href="#1-ä»€ä¹ˆæ˜¯async" class="headerlink" title="1.ä»€ä¹ˆæ˜¯async?"></a>1.ä»€ä¹ˆæ˜¯async?</h5><p><strong>ä»‹ç»</strong>:asyncå‡½æ•°æ˜¯ä½¿ç”¨<code>async</code>å…³é”®å­—å£°æ˜çš„å‡½æ•°ã€‚ asyncå‡½æ•°æ˜¯<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/AsyncFunction"><code>AsyncFunction</code></a>æ„é€ å‡½æ•°çš„å®ä¾‹ï¼Œ å¹¶ä¸”å…¶ä¸­å…è®¸ä½¿ç”¨<code>await</code>å…³é”®å­—ã€‚<code>async</code>å’Œ<code>await</code>å…³é”®å­—è®©æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ç§æ›´ç®€æ´çš„æ–¹å¼å†™å‡ºåŸºäº<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>çš„å¼‚æ­¥è¡Œä¸ºï¼Œè€Œæ— éœ€åˆ»æ„åœ°é“¾å¼è°ƒç”¨<code>promise</code>ã€‚</p><p><strong>ç‰¹æ€§</strong>:asyncå‡½æ•°å¯èƒ½åŒ…å«0ä¸ªæˆ–è€…å¤šä¸ª<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/await"><code>await</code></a>è¡¨è¾¾å¼ã€‚awaitè¡¨è¾¾å¼ä¼šæš‚åœæ•´ä¸ªasyncå‡½æ•°çš„æ‰§è¡Œè¿›ç¨‹å¹¶å‡ºè®©å…¶æ§åˆ¶æƒï¼Œåªæœ‰å½“å…¶ç­‰å¾…çš„åŸºäºpromiseçš„å¼‚æ­¥æ“ä½œè¢«å…‘ç°æˆ–è¢«æ‹’ç»ä¹‹åæ‰ä¼šæ¢å¤è¿›ç¨‹ã€‚promiseçš„è§£å†³å€¼ä¼šè¢«å½“ä½œè¯¥awaitè¡¨è¾¾å¼çš„è¿”å›å€¼ã€‚ä½¿ç”¨<code>async</code> / <code>await</code>å…³é”®å­—å°±å¯ä»¥åœ¨å¼‚æ­¥ä»£ç ä¸­ä½¿ç”¨æ™®é€šçš„<code>try</code> / <code>catch</code>ä»£ç å—ã€‚</p><p><code>async</code> å‡½æ•°æ˜¯ <code>Generator</code> å‡½æ•°çš„è¯­æ³•ç³–ã€‚ä½¿ç”¨ å…³é”®å­— <code>async</code> æ¥è¡¨ç¤ºï¼Œåœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ <code>await</code> æ¥è¡¨ç¤ºå¼‚æ­¥ã€‚ç›¸è¾ƒäº <code>Generator</code>ï¼Œ<code>async</code> å‡½æ•°çš„æ”¹è¿›åœ¨äºä¸‹é¢å››ç‚¹ï¼š</p><ul><li><strong>å†…ç½®æ‰§è¡Œå™¨</strong>ã€‚<code>Generator</code> å‡½æ•°çš„æ‰§è¡Œå¿…é¡»ä¾é æ‰§è¡Œå™¨ï¼Œè€Œ <code>async</code> å‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ï¼Œè°ƒç”¨æ–¹å¼è·Ÿæ™®é€šå‡½æ•°çš„è°ƒç”¨ä¸€æ ·</li><li><strong>æ›´å¥½çš„è¯­ä¹‰</strong>ã€‚<code>async</code> å’Œ <code>await</code> ç›¸è¾ƒäº <code>*</code> å’Œ <code>yield</code> æ›´åŠ è¯­ä¹‰åŒ–</li><li><strong>æ›´å¹¿çš„é€‚ç”¨æ€§</strong>ã€‚<code>co</code> æ¨¡å—çº¦å®šï¼Œ<code>yield</code> å‘½ä»¤åé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promiseå¯¹è±¡ã€‚è€Œ <code>async</code> å‡½æ•°çš„ <code>await</code> å‘½ä»¤åé¢åˆ™å¯ä»¥æ˜¯ Promise æˆ–è€… åŸå§‹ç±»å‹çš„å€¼ï¼ˆNumberï¼Œstringï¼Œbooleanï¼Œä½†è¿™æ—¶ç­‰åŒäºåŒæ­¥æ“ä½œï¼‰</li><li><strong>è¿”å›å€¼æ˜¯ Promise</strong>ã€‚<code>async</code> å‡½æ•°è¿”å›å€¼æ˜¯ Promise å¯¹è±¡ï¼Œæ¯” Generator å‡½æ•°è¿”å›çš„ Iterator å¯¹è±¡æ–¹ä¾¿ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>then()</code> æ–¹æ³•è¿›è¡Œè°ƒç”¨</li></ul><p><code>async</code>æ˜¯ES7æ–°å‡ºçš„ç‰¹æ€§ï¼Œè¡¨æ˜å½“å‰å‡½æ•°æ˜¯å¼‚æ­¥å‡½æ•°ï¼Œä¸ä¼šé˜»å¡çº¿ç¨‹å¯¼è‡´åç»­ä»£ç åœæ­¢è¿è¡Œã€‚</p><hr><h5 id="2-asyncå‡½æ•°æ€ä¹ˆç”¨"><a href="#2-asyncå‡½æ•°æ€ä¹ˆç”¨" class="headerlink" title="2.asyncå‡½æ•°æ€ä¹ˆç”¨?"></a>2.asyncå‡½æ•°æ€ä¹ˆç”¨?</h5><p><strong>async</strong>ç”¨æ¥å£°æ˜å‡½æ•°æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°</p><p><strong>await</strong>è¡¨ç¤ºç´§è·Ÿåœ¨åé¢çš„è¡¨è¾¾å¼éœ€è¦ç­‰å¾…ç»“æœ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">asyncFn</span>(<span class="params"></span>)</span>&#123;    <span class="keyword">return</span> <span class="string">&#x27;hello world&#x27;</span>;&#125;asuncFn();</span><br></pre></td></tr></table></figure><p><strong>async</strong>å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª<strong>promise</strong>å¯¹è±¡,çŠ¶æ€ä¸º<strong>resolved</strong>,å‚æ•°æ˜¯<strong>return</strong>çš„å€¼,æ‰€ä»¥asyncå‡½æ•°å¯ä»¥é“¾å¼è°ƒç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">asyncFn</span>(<span class="params"></span>) </span>&#123;    <span class="keyword">return</span> <span class="string">&#x27;æˆ‘åæ‰§è¡Œ&#x27;</span>&#125;asyncFn().then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;    <span class="built_in">console</span>.log(result);<span class="comment">//æˆ‘åæ‰§è¡Œ&#125;)console.log(&#x27;æˆ‘å…ˆæ‰§è¡Œ&#x27;);</span></span><br></pre></td></tr></table></figure><p><strong>async</strong>å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œå¦‚æœå†æ‰§è¡Œè¿‡ç¨‹ä¸­å‡½æ•°<strong>å†…éƒ¨æŠ›å‡ºå¼‚å¸¸</strong>æˆ–è€…è¿”å›<strong>reject</strong>ï¼Œéƒ½ä¼šæ˜¯çš„å‡½æ•°çš„promiseçŠ¶æ€å˜ä¸ºå¤±è´¥<strong>rejected</strong>ï¼Œå‡½æ•°æŠ›å‡ºå¼‚å¸¸åï¼Œå¯ä»¥é€šè¿‡<strong>catch</strong>æ¥æ”¶åˆ°è¿”å›çš„é”™è¯¯ä¿¡æ¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">asyncFn</span>(<span class="params"></span>) </span>&#123;    <span class="keyword">return</span>  <span class="built_in">Promise</span>.reject(<span class="string">&#x27;reason&#x27;</span>)    <span class="comment">// throw new Error(&#x27;has error&#x27;)&#125;asyncFn().then(result =&gt; &#123;    console.log(result);&#125;,reason =&gt; &#123;    console.log(reason);&#125;).catch(err =&gt; &#123;    console.log(err);&#125;)console.log(&#x27;æˆ‘å…ˆæ‰§è¡Œ&#x27;);</span></span><br></pre></td></tr></table></figure><p>asyncå‡½æ•°æ¥æ”¶åˆ°çš„è¿”å›å€¼,å¦‚æœä¸æ˜¯<strong>å¼‚å¸¸</strong>æˆ–è€…<strong>reject</strong>ï¼Œåˆ™åˆ¤å®šæˆåŠŸ,å³<strong>resolve</strong></p><p>ä»¥ä¸‹ç»“æœä¼šä½¿asyncå‡½æ•°åˆ¤å®š<strong>å¤±è´¥</strong>:</p><ul><li>å†…éƒ¨å«æœ‰ç›´æ¥ä½¿ç”¨å¹¶ä¸”æœªå£°æ˜çš„å˜é‡æˆ–è€…å‡½æ•°ã€‚</li><li>å†…éƒ¨æŠ›å‡ºä¸€ä¸ªé”™è¯¯<code>throw new Error</code>æˆ–è€…è¿”å›<code>reject</code>çŠ¶æ€<code>return Promise.reject(&#39;æ‰§è¡Œå¤±è´¥&#39;)</code></li><li>å‡½æ•°æ–¹æ³•æ‰§è¡Œå‡ºé”™ï¼ˆğŸŒ°ï¼šObjectä½¿ç”¨push()ï¼‰ç­‰ç­‰â€¦</li></ul><p>asyncå‡½æ•°å¦‚æœéœ€è¦è¿”å›ç»“æœ,éƒ½å¿…é¡»ä½¿ç”¨<strong>return</strong>æ¥è¿”å›,ä¸è®ºæ˜¯<strong>reject</strong>è¿˜æ˜¯<strong>resolve</strong>éƒ½éœ€è¦ä½¿ç”¨returnï¼Œä¸ç„¶å°±ä¼šè¿”å›ä¸€ä¸ªå€¼ä¸º<strong>undefined</strong> çš„<strong>resolved</strong>(æˆåŠŸ)çŠ¶æ€</p><hr><h5 id="3-awaitæ˜¯ä»€ä¹ˆ"><a href="#3-awaitæ˜¯ä»€ä¹ˆ" class="headerlink" title="3.awaitæ˜¯ä»€ä¹ˆ"></a>3.awaitæ˜¯ä»€ä¹ˆ</h5><p><strong>await</strong>çš„æ„æ€æ˜¯<strong>async wait</strong>(å¼‚æ­¥ç­‰å¾…),<strong>awaitå¿…é¡»é…åˆasyncä½¿ç”¨</strong>ï¼Œ<strong>asyncå‡½æ•°å¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰çš„awaitå‘½ä»¤çš„promiseæ‰§è¡Œå®Œ,æ‰ä¼šè¿”å›ç»“æœ</strong></p><p><strong>æ‰“ä¸ªæ¯”æ–¹ï¼Œawaitæ˜¯å­¦ç”Ÿï¼Œasyncæ˜¯æ ¡è½¦ï¼Œå¿…é¡»ç­‰äººé½äº†å†å¼€è½¦ã€‚</strong></p><p>å°±æ˜¯è¯´ï¼Œå¿…é¡»ç­‰æ‰€æœ‰<code>await</code> å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œæ‰ä¼šå‘Šè¯‰<code>promise</code>æˆ‘æˆåŠŸäº†è¿˜æ˜¯å¤±è´¥äº†ï¼Œæ‰§è¡Œ<code>then</code>æˆ–è€…<code>catch</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">async function awaitReturn() &#123;         return await 1&#125;;awaitReturn().then(success =&gt; console.log(&#x27;æˆåŠŸ&#x27;, success))             .catch(error =&gt; console.log(&#x27;å¤±è´¥&#x27;,error))</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203141014457.webp" alt="img"></p><p>asyncä¸­çš„awaitä¼šè¿”å›ä¸€ä¸ª<strong>promise</strong>,<strong>ä¸‹ä¸€ä¸ªawaitå¿…é¡»ç­‰å¾…ä¸Šä¸€ä¸ªawaitè¿”å›promiseç»“æœçŠ¶æ€æ‰ä¼šå¼€å§‹æ‰§è¡Œ</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> time1;<span class="keyword">let</span> time2;<span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;    time1 = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();    <span class="built_in">console</span>.log(<span class="string">&quot;ç¬¬ä¸€ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•&quot;</span>);&#125;, <span class="number">1000</span>);<span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;    time2 = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();    <span class="built_in">console</span>.log(<span class="string">&quot;ç¬¬äºŒä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•&quot;</span>,time2-time1);&#125;, <span class="number">2000</span>);<span class="keyword">const</span> timeoutFn = <span class="function"><span class="keyword">function</span>(<span class="params">timeout</span>)</span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>)</span>&#123;<span class="keyword">return</span> <span class="built_in">setTimeout</span>(resolve, timeout);    &#125;);&#125;<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">timeOut</span>(<span class="params"></span>) </span>&#123;    <span class="keyword">await</span> timeoutFn(<span class="number">1000</span>);    <span class="keyword">await</span> timeoutFn(<span class="number">2000</span>);    <span class="built_in">console</span>.log(<span class="string">&quot;å®Œæˆ&quot;</span>);&#125;timeOut()</span><br></pre></td></tr></table></figure><p>ä¸è€ƒè™‘<strong>event loop</strong>(äº‹ä»¶å¾ªç¯)</p><p>ä¸Šé¢çš„ä¾‹å­ä¸­ ä¸¤ä¸ª<strong>setTimeout</strong>å‡½æ•°ä¼šåœ¨<strong>2s</strong>å·¦å³(ä¹‹æ‰€ä»¥è¯´å·¦å³è¿™ä¸ªè¯,æ˜¯å› ä¸ºå‡½æ•°æ‰§è¡Œä¼šæ¶ˆè€—å‡ æ¯«ç§’æ—¶é—´)ï¼Œ</p><p>è€Œ<strong>timeOut</strong>å‡½æ•°åˆ™éœ€è¦<strong>3s</strong>å·¦å³çš„æ—¶é—´æ‰ä¼šæ‰§è¡Œå®Œæˆ,è¿™ä¹Ÿè¯´æ˜äº†ä¸‹ä¸€ä¸ª<strong>await</strong>å¿…é¡»ç­‰å¾…ä¸Šä¸€ä¸ª<strong>await</strong>è¿”å›promiseç»“æœçŠ¶æ€æ‰ä¼šå¼€å§‹æ‰§è¡Œçš„ç»“è®ºæ˜¯æ­£ç¡®çš„</p><hr><p><strong>awaitåé¢çš„è¡¨è¾¾å¼åº”è¯¥è¿”å›ä¸€ä¸ªpromiseï¼Œå¦‚æœä¸æ˜¯promiseï¼Œjså†…éƒ¨ä¹Ÿä¼šå°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªresolvedçŠ¶æ€çš„ promise</strong></p><h3 id="5-æ·±æµ…æ‹·è´"><a href="#5-æ·±æµ…æ‹·è´" class="headerlink" title="5.æ·±æµ…æ‹·è´"></a>5.æ·±æµ…æ‹·è´</h3><p>JavaScriptçš„æ•°æ®ç±»å‹åˆ†ä¸º<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>å’Œ<strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>ã€‚</p><p>å¯¹äº<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>çš„æ‹·è´ï¼Œå¹¶æ²¡æœ‰æ·±æµ…æ‹·è´çš„åŒºåˆ«ï¼Œæˆ‘ä»¬æ‰€è¯´çš„<strong>æ·±æµ…æ‹·è´éƒ½æ˜¯å¯¹äºå¼•ç”¨æ•°æ®ç±»å‹è€Œè¨€çš„</strong>ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯æµ…æ‹·è´"><a href="#ä»€ä¹ˆæ˜¯æµ…æ‹·è´" class="headerlink" title="ä»€ä¹ˆæ˜¯æµ…æ‹·è´?"></a>ä»€ä¹ˆæ˜¯æµ…æ‹·è´?</h4><p>æµ…æ‹·è´çš„æ„æ€å°±æ˜¯åªå¤åˆ¶å¼•ç”¨ï¼Œè€Œæœªå¤åˆ¶çœŸæ­£çš„å€¼ã€‚</p><p>å½“æˆ‘ä»¬æµ…æ‹·è´ä¸€ä¸ªæ•°ç»„æˆ–è€…å¯¹è±¡åï¼Œæ”¹å˜è¿™ä¸ªæ–°çš„æ•°ç»„æˆ–å¯¹è±¡,é‚£ä¹ˆè¢«æˆ‘ä»¬æ‹·è´çš„æ•°ç»„å’Œå¯¹è±¡ä¹Ÿä¼šæ”¹å˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> originArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];<span class="comment">//æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹const originObj = &#123;a:&#x27;a&#x27;,b:&#x27;b&#x27;,c:[1,2,3],d:&#123;dd:&#x27;dd&#x27;&#125;&#125;;//å¯¹è±¡æ˜¯å¼•ç”¨ç±»å‹let originType = [1,2,3];let originNumber = 1; //åŸºæœ¬å€¼ç±»å‹,ä¸å­˜åœ¨æ·±æµ…æ‹·è´ä¹‹åˆ†const clonedArray = originArray;const clonedObj = originObj;let cloneNumber = originNumber;let cloneType = originType;clonedArray.push(6);clonedObj.a = &#x27;aa&#x27;;cloneNumber = 2;cloneType = &#123;a:&#x27;a&#x27;,b:&#x27;b&#x27;,b:&#x27;c&#x27;&#125;console.log(originArray);//[ 1, 2, 3, 4, 5, 6 ]console.log(originObj);//&#123; a: &#x27;aa&#x27;, b: &#x27;b&#x27;, c: [ 1, 2, 3 ], d: &#123; dd: &#x27;dd&#x27; &#125; &#125;console.log(originNumber);//1console.log(originType);//å½“æˆ‘ä»¬æ”¹å˜äº†å˜é‡å¼•ç”¨çš„ç±»å‹æ—¶,è¿™ä¸ªæ–°å˜é‡å’Œè¢«æ‹·è´çš„å˜é‡å°±æ²¡æœ‰äº†ä»»ä½•è”ç³»(äºŒè€…æŒ‡å‘ä¸åŒå¼•ç”¨)</span></span><br></pre></td></tr></table></figure><hr><h4 id="ä»€ä¹ˆæ˜¯æ·±æ‹·è´ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ·±æ‹·è´ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ·±æ‹·è´ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ·±æ‹·è´ï¼Ÿ</h4><p>æ·±æ‹·è´å°±æ˜¯å¯¹ç›®æ ‡çš„å®Œå…¨æ‹·è´ï¼Œä¸åƒæµ…æ‹·è´é‚£æ ·åªæ˜¯å¤åˆ¶äº†ä¸€å±‚å¼•ç”¨ï¼Œå°±è¿å€¼ä¹Ÿéƒ½å¤åˆ¶äº†ã€‚</p><p><strong>åªè¦è¿›è¡Œäº†æ·±æ‹·è´ï¼Œå®ƒä»¬è€æ­»ä¸ç›¸å¾€æ¥ï¼Œè°ä¹Ÿä¸ä¼šå½±å“è°ã€‚</strong></p><p>ç›®å‰å®ç°æ·±æ‹·è´çš„æ–¹æ³•ä¸å¤šï¼Œä¸»è¦æ˜¯ä¸¤ç§ï¼š</p><ol><li>åˆ©ç”¨ <code>JSON</code> å¯¹è±¡ä¸­çš„ <code>parse</code> å’Œ <code>stringify</code></li><li>åˆ©ç”¨é€’å½’æ¥å®ç°æ¯ä¸€å±‚éƒ½é‡æ–°åˆ›å»ºå¯¹è±¡å¹¶èµ‹å€¼</li></ol><hr><p><strong>åˆ©ç”¨JSON.stringify/parseçš„æ–¹æ³•å®ç°æ·±æ‹·è´</strong></p><p>JSON.stringifyçš„ä½œç”¨æ˜¯<strong>å°†ä¸€ä¸ªjavascriptå€¼è½¬æ¢æˆjsonå­—ç¬¦ä¸²</strong></p><p>JSON.parseçš„ä½œç”¨æ˜¯<strong>å°†ä¸€ä¸ªJSONå­—ç¬¦ä¸²è½¬æ¢æˆjavascriptå€¼æˆ–å¯¹è±¡</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> originArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];<span class="keyword">const</span> cloneArray = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(originArray));<span class="built_in">console</span>.log(cloneArray === originArray); <span class="comment">// falseconst originObj = &#123;a:&#x27;a&#x27;,b:&#x27;b&#x27;,c:[1,2,3],d:&#123;dd:&#x27;dd&#x27;&#125;&#125;;const cloneObj = JSON.parse(JSON.stringify(originObj));console.log(cloneObj === originObj); // falsecloneObj.a = &#x27;aa&#x27;;cloneObj.c = [1,1,1];cloneObj.d.dd = &#x27;doubled&#x27;;console.log(cloneObj); // &#123;a:&#x27;aa&#x27;,b:&#x27;b&#x27;,c:[1,1,1],d:&#123;dd:&#x27;doubled&#x27;&#125;&#125;;console.log(originObj); // &#123;a:&#x27;a&#x27;,b:&#x27;b&#x27;,c:[1,2,3],d:&#123;dd:&#x27;dd&#x27;&#125;&#125;;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­å¯ä»¥å®ç°æ·±æ‹·è´,ä½†æ˜¯è¿™ç§æ–¹å¼åªèƒ½é€‚ç”¨äºä¸€äº›ç®€å•çš„æƒ…å†µï¼Œå› ä¸º<strong>åœ¨ä½¿ç”¨HSON.stringify()æ—¶ï¼Œ<code>undefined</code>ã€<code>function</code>ã€<code>symbol</code> ä¼šåœ¨è½¬æ¢è¿‡ç¨‹ä¸­è¢«å¿½ç•¥ã€‚ã€‚</strong></p><p>å¦‚æœå¯¹è±¡ä¸­å«æœ‰ä»¥ä¸Šå‡ ç§ç±»å‹æ—¶ï¼Œå°±ä¸èƒ½ç”¨è¿™ä¸ªæ–¹æ³•è¿›è¡Œæ·±æ‹·è´ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> originObj = &#123;  <span class="attr">name</span>:<span class="string">&#x27;axuebin&#x27;</span>,  <span class="attr">sayHello</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;Hello World&#x27;</span>);  &#125;&#125;<span class="built_in">console</span>.log(originObj); <span class="comment">// &#123;name: &quot;axuebin&quot;, sayHello: Æ’&#125;const cloneObj = JSON.parse(JSON.stringify(originObj));console.log(cloneObj); // &#123;name: &quot;axuebin&quot;&#125;</span></span><br></pre></td></tr></table></figure><hr><p><strong>ä½¿ç”¨é€’å½’çš„æ–¹æ³•å®ç°æ·±æ‹·è´</strong></p><p>é€’å½’çš„æ€æƒ³å°±å¾ˆç®€å•äº†ï¼Œå°±æ˜¯å¯¹æ¯ä¸€å±‚çš„æ•°æ®éƒ½å®ç°ä¸€æ¬¡ <code>åˆ›å»ºå¯¹è±¡-&gt;å¯¹è±¡èµ‹å€¼</code> çš„æ“ä½œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®ç°æ·±æ‹·è´function  deepClone(source) &#123;    const targetObj = source.constructor === Array ? [] : &#123;&#125;; // åˆ¤æ–­å¤åˆ¶çš„ç›®æ ‡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡        for (const key in source) &#123;        if (source.hasOwnProperty(key)) &#123;                        if(source[key] &amp;&amp; typeof source[key] === &#x27;object&#x27;)&#123;//å¦‚æœå€¼æ˜¯å¯¹è±¡å°±é€’å½’                targetObj[key] = source[key].constructor === &#x27;Array&#x27; ? [] : &#123;&#125;;                deepClone(targetObj[key]);            &#125;else&#123;//å¦‚æœä¸æ˜¯å°±ç›´æ¥èµ‹å€¼                targetObj[key] = source[key];            &#125;                    &#125;    &#125;    return targetObj;&#125;const originObj = &#123;a:&#x27;a&#x27;,b:&#x27;b&#x27;,c:[1,2,3],d:&#123;dd:&#x27;dd&#x27;&#125;&#125;;const cloneObj = deepClone(originObj);console.log(cloneObj === originObj); // falsecloneObj.a = &#x27;aa&#x27;;cloneObj.c = [1,1,1];cloneObj.d.dd = &#x27;doubled&#x27;;console.log(cloneObj); // &#123;a:&#x27;aa&#x27;,b:&#x27;b&#x27;,c:[1,1,1],d:&#123;dd:&#x27;doubled&#x27;&#125;&#125;;console.log(originObj); // &#123;a:&#x27;a&#x27;,b:&#x27;b&#x27;,c:[1,2,3],d:&#123;dd:&#x27;dd&#x27;&#125;&#125;;const originObj2 = &#123;    name:&#x27;å¼ æŒ¯æ˜&#x27;,    sayHello:function()&#123;      console.log(&#x27;Hello World&#x27;);    &#125;  &#125;  console.log(originObj2); // &#123;name: &quot;å¼ æŒ¯æ˜&quot;, sayHello: Æ’&#125;  const cloneObj2 = deepClone(originObj2);  console.log(cloneObj2); // &#123;name: &quot;å¼ æŒ¯æ˜&quot;, sayHello: Æ’&#125;</span></span><br></pre></td></tr></table></figure><hr><h4 id="JavaScriptä¸­çš„æ‹·è´æ–¹æ³•"><a href="#JavaScriptä¸­çš„æ‹·è´æ–¹æ³•" class="headerlink" title="JavaScriptä¸­çš„æ‹·è´æ–¹æ³•"></a>JavaScriptä¸­çš„æ‹·è´æ–¹æ³•</h4><p>JavaScriptæ•°ç»„ä¸­æœ‰ä¸¤ä¸ªæ–¹æ³•,<strong>concat</strong>å’Œ<strong>slice</strong>,ä»–ä»¬éƒ½<strong>ä¸ä¼šæ”¹å˜åŸæ•°ç»„</strong>ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„</p><p>æ‰€ä»¥ä»–ä»¬æ˜¯å¯ä»¥å®ç°å¯¹åŸæ•°ç»„çš„æ‹·è´çš„,å¦å¤–es6æ–°å¢çš„<code>Object.assgn</code> æ–¹æ³•å’Œ <code>...</code> å±•å¼€è¿ç®—ç¬¦ä¹Ÿèƒ½å®ç°å¯¹å¯¹è±¡çš„æ‹·è´</p><p>è¿™é‡Œåªè¯´æ˜ç»“è®º,ä¸è§£é‡Šè¯¦ç»†è¿‡ç¨‹</p><p><strong>concat</strong></p><p>è¯¥æ–¹æ³•å¯ä»¥è¿æ¥ä¸¤ä¸ªæˆ–è€…æ›´å¤šçš„æ•°ç»„ï¼Œä½†æ˜¯å®ƒä¸ä¼šä¿®æ”¹å·²å­˜åœ¨çš„æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚</p><p><strong>ç»“è®ºï¼š<code>concat</code> åªæ˜¯å¯¹æ•°ç»„çš„ç¬¬ä¸€å±‚è¿›è¡Œæ·±æ‹·è´ã€‚</strong></p><hr><p><strong>slice</strong></p><p><strong>ç»“è®ºï¼š<code>slice</code> åªæ˜¯å¯¹æ•°ç»„çš„ç¬¬ä¸€å±‚è¿›è¡Œæ·±æ‹·è´ã€‚</strong></p><hr><p><strong>Object.assign()</strong></p><p><strong>ç»“è®ºï¼š<code>Object.assign()</code> æ‹·è´çš„æ˜¯å±æ€§å€¼ã€‚å‡å¦‚æºå¯¹è±¡çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒä¹Ÿåªæ‹·è´é‚£ä¸ªå¼•ç”¨å€¼</strong></p><hr><p><strong>â€¦ å±•å¼€è¿ç®—ç¬¦</strong></p><p><strong>ç»“è®ºï¼š<code>...</code> å®ç°çš„æ˜¯å¯¹è±¡ç¬¬ä¸€å±‚çš„æ·±æ‹·è´ã€‚åé¢çš„åªæ˜¯æ‹·è´çš„å¼•ç”¨å€¼ã€‚</strong></p><hr><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ol><li>èµ‹å€¼è¿ç®—ç¬¦ <code>=</code> å®ç°çš„æ˜¯æµ…æ‹·è´ï¼Œåªæ‹·è´å¯¹è±¡çš„å¼•ç”¨å€¼ï¼›</li><li>JavaScript ä¸­æ•°ç»„å’Œå¯¹è±¡è‡ªå¸¦çš„æ‹·è´æ–¹æ³•éƒ½æ˜¯â€œé¦–å±‚æµ…æ‹·è´â€ï¼›</li><li><code>JSON.stringify</code> å®ç°çš„æ˜¯æ·±æ‹·è´ï¼Œä½†æ˜¯å¯¹ç›®æ ‡å¯¹è±¡æœ‰è¦æ±‚ï¼›</li><li>è‹¥æƒ³çœŸæ­£æ„ä¹‰ä¸Šçš„æ·±æ‹·è´ï¼Œè¯·é€’å½’ã€‚</li></ol><hr><hr><h3 id="6-event-loop-äº‹ä»¶å¾ªç¯"><a href="#6-event-loop-äº‹ä»¶å¾ªç¯" class="headerlink" title="6.event loop(äº‹ä»¶å¾ªç¯)"></a>6.event loop(äº‹ä»¶å¾ªç¯)</h3><p>åœ¨å­¦ä¹ äº‹ä»¶å¾ªç¯ä¹‹å‰,æˆ‘ä»¬åº”è¯¥æ˜ç™½:<strong>JavaScriptæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå•çº¿ç¨‹è¯­è¨€,ä¸€åˆ‡JavaScriptçš„æ‰€è°“â€œå¤šçº¿ç¨‹â€éƒ½æ˜¯ç”¨å•çº¿ç¨‹æ¨¡æ‹Ÿå‡ºæ¥çš„</strong></p><h4 id="ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯"><a href="#ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯" class="headerlink" title="ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯?"></a><strong>ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯?</strong></h4><p>å› ä¸ºjsæ˜¯å•çº¿ç¨‹çš„,jsçš„ä»»åŠ¡æ˜¯æŒ‰é¡ºåºä¸€ä¸ªä¸€ä¸ªæ‰§è¡Œçš„ã€‚ä½†ä¸€ä¸ªä»»åŠ¡è€—æ—¶è¿‡é•¿,åé¢çš„ä»»åŠ¡å°†è¢«é˜»å¡,è¿™æ˜¯æˆ‘ä»¬ä¸æƒ³çœ‹åˆ°çš„ã€‚æ‰€ä»¥ç¨‹åºå‘˜å°†ä»»åŠ¡åˆ†ä¸ºä¸¤ç±»:</p><ul><li><strong>åŒæ­¥ä»»åŠ¡</strong></li><li><strong>å¼‚æ­¥ä»»åŠ¡</strong></li></ul><p><strong>ä»»åŠ¡æ‰§è¡Œæœºåˆ¶:</strong></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203141841788.webp" alt="img"></p><p>å¯¼å›¾è¦è¡¨è¾¾çš„å†…å®¹ç”¨æ–‡å­—æ¥è¡¨è¿°çš„è¯ï¼š</p><ul><li>åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œâ€åœºæ‰€â€ï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥çš„è¿›å…¥<strong>Event Table</strong>å¹¶æ³¨å†Œå‡½æ•°ã€‚</li><li>å½“æŒ‡å®šçš„äº‹æƒ…å®Œæˆæ—¶ï¼Œ<strong>Event Table</strong>ä¼šå°†è¿™ä¸ªå‡½æ•°ç§»å…¥<strong>Event Queue</strong>ã€‚</li><li>ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»Event Queueè¯»å–å¯¹åº”çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</li><li>ä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„<strong>Event Loop</strong>(äº‹ä»¶å¾ªç¯)ã€‚</li></ul><hr><h4 id="äº‹ä»¶å¾ªç¯çš„ä¸€äº›ä¸¾ä¾‹"><a href="#äº‹ä»¶å¾ªç¯çš„ä¸€äº›ä¸¾ä¾‹" class="headerlink" title="äº‹ä»¶å¾ªç¯çš„ä¸€äº›ä¸¾ä¾‹"></a>äº‹ä»¶å¾ªç¯çš„ä¸€äº›ä¸¾ä¾‹</h4><h5 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout"></a><strong>setTimeout</strong></h5><p>setTimeoutè¡¨ç¤ºæ‰§è¡Œä¸€ä¸ªå»¶æ—¶å‡½æ•°,ä»–çš„ç‰¹ç‚¹æ˜¯å¯ä»¥å¼‚æ­¥å»¶æ—¶æ‰§è¡Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;å»¶æ—¶3ç§’&#x27;</span>);&#125;,<span class="number">3000</span>)</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯åœ¨æœ‰äº›æƒ…å†µä¸‹,å»¶æ—¶å¹¶ä¸å‡†ç¡®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;    task()&#125;,<span class="number">3000</span>)sleep(<span class="number">10000000</span>)<span class="comment">//æ¶ˆè€—å¾ˆå¤šçš„æ—¶é—´</span></span><br></pre></td></tr></table></figure><p>ä¸Šä¾‹ä¸­,sleep()å‡½æ•°æ˜¯ä¸€ä¸ª<strong>åŒæ­¥ä»»åŠ¡</strong>,ä»–ç›´æ¥åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œ,è€ŒsetTimeoutæ˜¯ä¸ª<strong>å¼‚æ­¥ä»»åŠ¡</strong>,åœ¨ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œtask()æ‰§è¡Œçš„æ—¶é—´å´è¿œè¿œå¤§äº3s,è¿™æ—¶å€™å»¶æ—¶å¹¶ä¸å‡†ç¡®,è¿™æ˜¯ä»€ä¹ˆåŸå› ?</p><ul><li><code>task()</code>è¿›å…¥Event Tableå¹¶æ³¨å†Œ,è®¡æ—¶å¼€å§‹ã€‚</li><li>æ‰§è¡Œ<code>sleep</code>å‡½æ•°ï¼Œå¾ˆæ…¢ï¼Œéå¸¸æ…¢ï¼Œè®¡æ—¶ä»åœ¨ç»§ç»­ã€‚</li><li>3ç§’åˆ°äº†ï¼Œè®¡æ—¶äº‹ä»¶<code>timeout</code>å®Œæˆï¼Œ<code>task()</code>è¿›å…¥Event Queueï¼Œä½†æ˜¯<code>sleep</code>ä¹Ÿå¤ªæ…¢äº†å§ï¼Œè¿˜æ²¡æ‰§è¡Œå®Œï¼Œåªå¥½ç­‰ç€ã€‚</li><li><code>sleep</code>ç»ˆäºæ‰§è¡Œå®Œäº†ï¼Œ<code>task()</code>ç»ˆäºä»Event Queueè¿›å…¥äº†ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</li></ul><hr><p><strong>setTimeout(fn,0)</strong></p><p>å½“setTimeoutçš„å»¶æ—¶ä¸º0æ—¶,æ˜¯ä¸æ˜¯æ„å‘³ç€ä»–ä¼šç«‹å³æ‰§è¡Œå‘¢?</p><p>ç­”æ¡ˆæ˜¯:<strong>NO!</strong></p><p><code>setTimeout(fn,0)</code>çš„å«ä¹‰æ˜¯ï¼Œ<strong>æŒ‡å®šæŸä¸ªä»»åŠ¡åœ¨ä¸»çº¿ç¨‹æœ€æ—©å¯å¾—çš„ç©ºé—²æ—¶é—´æ‰§è¡Œ</strong>ï¼Œæ„æ€å°±æ˜¯ä¸ç”¨å†ç­‰å¤šå°‘ç§’äº†ï¼Œ<strong>åªè¦ä¸»çº¿ç¨‹æ‰§è¡Œæ ˆå†…çš„åŒæ­¥ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œæ ˆä¸ºç©ºå°±é©¬ä¸Šæ‰§è¡Œ</strong></p><p>å…³äº<code>setTimeout</code>è¦è¡¥å……çš„æ˜¯ï¼Œå³ä¾¿ä¸»çº¿ç¨‹ä¸ºç©ºï¼Œ0æ¯«ç§’å®é™…ä¸Šä¹Ÿæ˜¯è¾¾ä¸åˆ°çš„ã€‚æ ¹æ®HTMLçš„æ ‡å‡†ï¼Œæœ€ä½æ˜¯4æ¯«ç§’ã€‚</p><hr><h5 id="setInterval"><a href="#setInterval" class="headerlink" title="setInterval"></a>setInterval</h5><p><strong>setTimeoutè¡¨ç¤ºæ‰§è¡Œä¸€ä¸ªå®šæ—¶å‡½æ•°,æ¯ç»è¿‡å•ä½æ—¶é—´,å°±æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°</strong></p><p>ä¸Šé¢è¯´å®Œäº†<code>setTimeout</code>ï¼Œå½“ç„¶ä¸èƒ½é”™è¿‡å®ƒçš„å­ªç”Ÿå…„å¼Ÿ<code>setInterval</code>ã€‚ä»–ä¿©å·®ä¸å¤šï¼Œåªä¸è¿‡åè€…æ˜¯å¾ªç¯çš„æ‰§è¡Œã€‚å¯¹äºæ‰§è¡Œé¡ºåºæ¥è¯´ï¼Œ<code>setInterval</code>ä¼šæ¯éš”æŒ‡å®šçš„æ—¶é—´å°†æ³¨å†Œçš„å‡½æ•°ç½®å…¥Event Queueï¼Œå¦‚æœå‰é¢çš„ä»»åŠ¡è€—æ—¶å¤ªä¹…ï¼Œé‚£ä¹ˆåŒæ ·éœ€è¦ç­‰å¾…ã€‚</p><p>å”¯ä¸€éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¯¹äº<code>setInterval(fn,ms)</code>æ¥è¯´ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ä¸æ˜¯æ¯è¿‡<code>ms</code>ç§’ä¼šæ‰§è¡Œä¸€æ¬¡<code>fn</code>ï¼Œè€Œæ˜¯æ¯è¿‡<code>ms</code>ç§’ï¼Œä¼šæœ‰<code>fn</code>è¿›å…¥Event Queueã€‚ä¸€æ—¦**<code>setInterval</code>çš„å›è°ƒå‡½æ•°<code>fn</code>æ‰§è¡Œæ—¶é—´è¶…è¿‡äº†å»¶è¿Ÿæ—¶é—´<code>ms</code>ï¼Œé‚£ä¹ˆå°±å®Œå…¨çœ‹ä¸å‡ºæ¥æœ‰æ—¶é—´é—´éš”äº†**ã€‚</p><hr><h4 id="å®ä»»åŠ¡-macro-task-å’Œå¾®ä»»åŠ¡-micro-task"><a href="#å®ä»»åŠ¡-macro-task-å’Œå¾®ä»»åŠ¡-micro-task" class="headerlink" title="å®ä»»åŠ¡(macro-task)å’Œå¾®ä»»åŠ¡(micro-task)"></a>å®ä»»åŠ¡(macro-task)å’Œå¾®ä»»åŠ¡(micro-task)</h4><p>é™¤äº†å¹¿ä¹‰ä¸Šçš„åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡,æˆ‘ä»¬å¯¹ä»»åŠ¡æœ‰æ›´ç²¾ç»†çš„å®šä¹‰:</p><ul><li><strong>macro-task(å®ä»»åŠ¡)</strong>:åŒ…æ‹¬æ•´ä½“ä»£ç script,setTimeout\setIntervalâ€¦</li><li><strong>micro-task(å¾®ä»»åŠ¡)</strong>:Promise,Process.nextTickâ€¦.</li></ul><p>æ ¸å¿ƒçŸ¥è¯†ç‚¹ä¼ªä»£ç ;</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> macroTask <span class="keyword">of</span> macroTaskQueue) &#123;<span class="comment">//å…ˆæ‰§è¡Œå®ä»»åŠ¡  handleMacroTask();    for (const microTask of microTaskQueue) &#123;//å†æ‰§è¡Œå®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡    handleMicroTask(microTask);  &#125;&#125;</span></span><br></pre></td></tr></table></figure><p>äº‹ä»¶å¾ªç¯,å®ä»»åŠ¡,å¾®ä»»åŠ¡çš„å…³ç³»å›¾:</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203151437172.webp" alt="img"></p><p>ç”¨ä¸€æ®µä»£ç æ¥è¯´æ˜:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;1&#x27;</span>);<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;2&#x27;</span>);    process.nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;        <span class="built_in">console</span>.log(<span class="string">&#x27;3&#x27;</span>);    &#125;)    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;        <span class="built_in">console</span>.log(<span class="string">&#x27;4&#x27;</span>);        resolve();    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;        <span class="built_in">console</span>.log(<span class="string">&#x27;5&#x27;</span>)    &#125;)&#125;)process.nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;6&#x27;</span>);&#125;)<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;7&#x27;</span>);    resolve();&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;8&#x27;</span>)&#125;)<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;    <span class="built_in">console</span>.log(<span class="string">&#x27;9&#x27;</span>);    process.nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;        <span class="built_in">console</span>.log(<span class="string">&#x27;10&#x27;</span>);    &#125;)    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;        <span class="built_in">console</span>.log(<span class="string">&#x27;11&#x27;</span>);        resolve();    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;        <span class="built_in">console</span>.log(<span class="string">&#x27;12&#x27;</span>)    &#125;)&#125;)</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯æµç¨‹åˆ†æå¦‚ä¸‹ï¼š</p><ul><li>æ•´ä½“scriptä½œä¸ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹ï¼Œé‡åˆ°<code>console.log</code>ï¼Œè¾“å‡º1ã€‚</li><li>é‡åˆ°<code>setTimeout</code>ï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å®ä»»åŠ¡Event Queueä¸­ã€‚æˆ‘ä»¬æš‚ä¸”è®°ä¸º<code>setTimeout1</code>ã€‚</li><li>é‡åˆ°<code>process.nextTick()</code>ï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ã€‚æˆ‘ä»¬è®°ä¸º<code>process1</code>ã€‚</li><li>é‡åˆ°<code>Promise</code>ï¼Œ<code>new Promise</code>ç›´æ¥æ‰§è¡Œï¼Œè¾“å‡º7ã€‚<code>then</code>è¢«åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ã€‚æˆ‘ä»¬è®°ä¸º<code>then1</code>ã€‚</li><li>åˆé‡åˆ°äº†<code>setTimeout</code>ï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å®ä»»åŠ¡Event Queueä¸­ï¼Œæˆ‘ä»¬è®°ä¸º<code>setTimeout2</code>ã€‚</li></ul><table><thead><tr><th>å®ä»»åŠ¡Event Queue</th><th>å¾®ä»»åŠ¡Event Queue</th></tr></thead><tbody><tr><td>setTimeout1</td><td>process1</td></tr><tr><td>setTimeout2</td><td>then1</td></tr></tbody></table><ul><li>ä¸Šè¡¨æ˜¯ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯å®ä»»åŠ¡ç»“æŸæ—¶å„Event Queueçš„æƒ…å†µï¼Œæ­¤æ—¶å·²ç»è¾“å‡ºäº†1å’Œ7ã€‚</li><li>æˆ‘ä»¬å‘ç°äº†<code>process1</code>å’Œ<code>then1</code>ä¸¤ä¸ªå¾®ä»»åŠ¡ã€‚</li><li>æ‰§è¡Œ<code>process1</code>,è¾“å‡º6ã€‚</li><li>æ‰§è¡Œ<code>then1</code>ï¼Œè¾“å‡º8ã€‚</li></ul><p>å¥½äº†ï¼Œç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯æ­£å¼ç»“æŸï¼Œè¿™ä¸€è½®çš„ç»“æœæ˜¯è¾“å‡º1ï¼Œ7ï¼Œ6ï¼Œ8ã€‚é‚£ä¹ˆç¬¬äºŒè½®æ—¶é—´å¾ªç¯ä»<code>setTimeout1</code>å®ä»»åŠ¡å¼€å§‹ï¼š</p><ul><li>é¦–å…ˆè¾“å‡º2ã€‚æ¥ä¸‹æ¥é‡åˆ°äº†<code>process.nextTick()</code>ï¼ŒåŒæ ·å°†å…¶åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸º<code>process2</code>ã€‚<code>new Promise</code>ç«‹å³æ‰§è¡Œè¾“å‡º4ï¼Œ<code>then</code>ä¹Ÿåˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸º<code>then2</code>ã€‚</li></ul><table><thead><tr><th>å®ä»»åŠ¡Event Queue</th><th>å¾®ä»»åŠ¡Event Queue</th></tr></thead><tbody><tr><td>setTimeout2</td><td>process2</td></tr><tr><td></td><td>then2</td></tr></tbody></table><ul><li>ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯å®ä»»åŠ¡ç»“æŸï¼Œæˆ‘ä»¬å‘ç°æœ‰<code>process2</code>å’Œ<code>then2</code>ä¸¤ä¸ªå¾®ä»»åŠ¡å¯ä»¥æ‰§è¡Œã€‚</li><li>è¾“å‡º3ã€‚</li><li>è¾“å‡º5ã€‚</li><li>ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯ç»“æŸï¼Œç¬¬äºŒè½®è¾“å‡º2ï¼Œ4ï¼Œ3ï¼Œ5ã€‚</li><li>ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯å¼€å§‹ï¼Œæ­¤æ—¶åªå‰©setTimeout2äº†ï¼Œæ‰§è¡Œã€‚</li><li>ç›´æ¥è¾“å‡º9ã€‚</li><li>å°†<code>process.nextTick()</code>åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ã€‚è®°ä¸º<code>process3</code>ã€‚</li><li>ç›´æ¥æ‰§è¡Œ<code>new Promise</code>ï¼Œè¾“å‡º11ã€‚</li><li>å°†<code>then</code>åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸º<code>then3</code>ã€‚</li></ul><table><thead><tr><th>å®ä»»åŠ¡Event Queue</th><th>å¾®ä»»åŠ¡Event Queue</th></tr></thead><tbody><tr><td></td><td>process3</td></tr><tr><td></td><td>then3</td></tr></tbody></table><ul><li>ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯å®ä»»åŠ¡æ‰§è¡Œç»“æŸï¼Œæ‰§è¡Œä¸¤ä¸ªå¾®ä»»åŠ¡<code>process3</code>å’Œ<code>then3</code>ã€‚</li><li>è¾“å‡º10ã€‚</li><li>è¾“å‡º12ã€‚</li><li>ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯ç»“æŸï¼Œç¬¬ä¸‰è½®è¾“å‡º9ï¼Œ11ï¼Œ10ï¼Œ12ã€‚</li></ul><p>æ•´æ®µä»£ç ï¼Œå…±è¿›è¡Œäº†ä¸‰æ¬¡äº‹ä»¶å¾ªç¯ï¼Œå®Œæ•´çš„è¾“å‡ºä¸º<strong>1ï¼Œ7ï¼Œ6ï¼Œ8ï¼Œ2ï¼Œ4ï¼Œ3ï¼Œ5ï¼Œ9ï¼Œ11ï¼Œ10ï¼Œ12</strong>ã€‚ (è¯·æ³¨æ„ï¼Œnodeç¯å¢ƒä¸‹çš„äº‹ä»¶ç›‘å¬ä¾èµ–libuvä¸å‰ç«¯ç¯å¢ƒä¸å®Œå…¨ç›¸åŒï¼Œè¾“å‡ºé¡ºåºå¯èƒ½ä¼šæœ‰è¯¯å·®)</p><h4 id="å¦‚ä½•å®ç°ä¸€ä¸ªäº‹ä»¶çš„è®¢é˜…ä¸å‘å¸ƒ"><a href="#å¦‚ä½•å®ç°ä¸€ä¸ªäº‹ä»¶çš„è®¢é˜…ä¸å‘å¸ƒ" class="headerlink" title="?å¦‚ä½•å®ç°ä¸€ä¸ªäº‹ä»¶çš„è®¢é˜…ä¸å‘å¸ƒ"></a>?å¦‚ä½•å®ç°ä¸€ä¸ªäº‹ä»¶çš„è®¢é˜…ä¸å‘å¸ƒ</h4><h3 id="7-å‡½æ•°å¼ç¼–ç¨‹"><a href="#7-å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="7.å‡½æ•°å¼ç¼–ç¨‹"></a>7.å‡½æ•°å¼ç¼–ç¨‹</h3><h4 id="ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ</h4><p>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆFunctional Programmingï¼Œåé¢ç®€ç§°FPï¼‰ï¼Œç»´åŸºç™¾ç§‘çš„å®šä¹‰æ˜¯ï¼š</p><blockquote><p>æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå‹ï¼Œå®ƒå°†ç”µè„‘è¿ç®—è§†ä¸ºæ•°å­¦ä¸Šçš„å‡½æ•°è®¡ç®—ï¼Œå¹¶ä¸”é¿å…ä½¿ç”¨ç¨‹åºçŠ¶æ€ä»¥åŠæ˜“å˜å¯¹è±¡ã€‚å‡½æ•°ç¼–ç¨‹è¯­è¨€æœ€é‡è¦çš„åŸºç¡€æ˜¯Î»æ¼”ç®—ï¼ˆlambda calculusï¼‰ã€‚è€Œä¸”Î»æ¼”ç®—çš„å‡½æ•°å¯ä»¥æ¥å—å‡½æ•°å½“ä½œè¾“å…¥ï¼ˆå¼•æ•°ï¼‰å’Œè¾“å‡ºï¼ˆä¼ å‡ºå€¼ï¼‰ã€‚æ¯”èµ·å‘½ä»¤å¼ç¼–ç¨‹ï¼Œå‡½æ•°å¼ç¼–ç¨‹æ›´åŠ å¼ºè°ƒç¨‹åºæ‰§è¡Œçš„ç»“æœè€Œéæ‰§è¡Œçš„è¿‡ç¨‹ï¼Œå€¡å¯¼åˆ©ç”¨è‹¥å¹²ç®€å•çš„æ‰§è¡Œå•å…ƒè®©è®¡ç®—ç»“æœä¸æ–­æ¸è¿›ï¼Œé€å±‚æ¨å¯¼å¤æ‚çš„è¿ç®—ï¼Œè€Œä¸æ˜¯è®¾è®¡ä¸€ä¸ªå¤æ‚çš„æ‰§è¡Œè¿‡ç¨‹ã€‚</p></blockquote><p>æˆ‘æ¥å°è¯•ç†è§£ä¸‹è¿™ä¸ªå®šä¹‰ï¼Œå¥½åƒå°±æ˜¯è¯´ï¼Œåœ¨æ•²ä»£ç çš„æ—¶å€™ï¼Œæˆ‘è¦<strong>æŠŠè¿‡ç¨‹é€»è¾‘å†™æˆå‡½æ•°ï¼Œå®šä¹‰å¥½è¾“å…¥å‚æ•°ï¼Œåªå…³å¿ƒå®ƒçš„è¾“å‡ºç»“æœã€‚è€Œä¸”å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºè¾“å…¥è¾“å‡º</strong>ã€‚æ„Ÿè§‰å¥½åƒå¹³å¸¸å†™jsæ—¶ï¼Œå°±æ˜¯è¿™æ ·çš„å˜›ï¼</p><p><strong>ç‰¹æ€§:</strong></p><ol><li><strong>å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘</strong>ã€‚å°±æ˜¯è¯´å‡½æ•°å¯ä»¥è·Ÿå…¶ä»–å˜é‡ä¸€æ ·ï¼Œå¯ä»¥ä½œä¸ºå…¶ä»–å‡½æ•°çš„è¾“å…¥è¾“å‡ºã€‚å–”ï¼Œå›è°ƒå‡½æ•°å°±æ˜¯å…¸å‹åº”ç”¨ã€‚</li><li><strong>ä¸å¯å˜é‡</strong>ã€‚å°±æ˜¯è¯´ï¼Œä¸èƒ½ç”¨varè·Ÿletå’¯ã€‚æŒ‰è¿™è¦æ±‚ï¼Œæˆ‘ä¼¼ä¹æœ‰ç‚¹éš¾å†™ä»£ç ã€‚</li><li><strong>çº¯å‡½æ•°</strong>ã€‚å°±æ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„å‡½æ•°ã€‚è¿™ä¸ªå¥½ç†è§£ï¼Œå°±æ˜¯ä¸ä¿®æ”¹å‡½æ•°å¤–éƒ¨çš„å˜é‡ã€‚</li><li><strong>å¼•ç”¨é€æ˜</strong>ã€‚è¿™ä¸ªä¹Ÿå¥½ç†è§£ï¼Œå°±æ˜¯è¯´åŒæ ·çš„è¾“å…¥ï¼Œå¿…å®šæ˜¯åŒæ ·çš„è¾“å‡ºã€‚å‡½æ•°å†…éƒ¨ä¸ä¾èµ–å¤–éƒ¨çŠ¶æ€ï¼Œå¦‚ä¸€äº›å…¨å±€å˜é‡ã€‚</li><li><strong>æƒ°æ€§è®¡ç®—</strong>ã€‚å¤§æ„å°±æ˜¯ï¼šä¸€ä¸ªè¡¨è¾¾å¼ç»‘å®šçš„å˜é‡ï¼Œä¸æ˜¯å£°æ˜çš„æ—¶å€™å°±è®¡ç®—å‡ºæ¥ï¼Œè€Œæ˜¯çœŸæ­£ç”¨åˆ°å®ƒçš„æ—¶å€™æ‰å»è®¡ç®—ã€‚</li></ol><h4 id="å‡½æ•°å¼ç¼–ç¨‹çš„ä¼˜åŠ£åŠ¿"><a href="#å‡½æ•°å¼ç¼–ç¨‹çš„ä¼˜åŠ£åŠ¿" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹çš„ä¼˜åŠ£åŠ¿"></a>å‡½æ•°å¼ç¼–ç¨‹çš„ä¼˜åŠ£åŠ¿</h4><p><strong>ä¼˜åŠ¿</strong></p><ol><li><strong>æ›´å¥½çš„ç®¡ç†çŠ¶æ€</strong>ã€‚å› ä¸ºå®ƒçš„å®—æ—¨æ˜¯æ— çŠ¶æ€ï¼Œæˆ–è€…è¯´æ›´å°‘çš„çŠ¶æ€ã€‚è€Œå¹³å¸¸DOMçš„å¼€å‘ä¸­ï¼Œå› ä¸ºDOMçš„è§†è§‰å‘ˆç°ä¾æ‰˜äºçŠ¶æ€å˜åŒ–ï¼Œæ‰€ä»¥ä¸å¯é¿å…çš„äº§ç”Ÿäº†éå¸¸å¤šçš„çŠ¶æ€ï¼Œè€Œä¸”ä¸åŒç»„ä»¶å¯èƒ½è¿˜ç›¸äº’ä¾èµ–ã€‚ä»¥FPæ¥ç¼–ç¨‹ï¼Œèƒ½æœ€å¤§åŒ–çš„å‡å°‘è¿™äº›æœªçŸ¥ã€ä¼˜åŒ–ä»£ç ã€å‡å°‘å‡ºé”™æƒ…å†µã€‚</li><li><strong>æ›´ç®€å•çš„å¤ç”¨</strong>ã€‚æç«¯çš„FPä»£ç åº”è¯¥æ˜¯æ¯ä¸€è¡Œä»£ç éƒ½æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå½“ç„¶æˆ‘ä»¬ä¸éœ€è¦è¿™ä¹ˆæç«¯ã€‚æˆ‘ä»¬å°½é‡çš„æŠŠè¿‡ç¨‹é€»è¾‘ä»¥æ›´çº¯çš„å‡½æ•°æ¥å®ç°ï¼Œå›ºå®šè¾“å…¥-&gt;å›ºå®šè¾“å‡ºï¼Œæ²¡æœ‰å…¶ä»–å¤–éƒ¨å˜é‡å½±å“ï¼Œå¹¶ä¸”æ— å‰¯ä½œç”¨ã€‚è¿™æ ·ä»£ç å¤ç”¨æ—¶ï¼Œå®Œå…¨ä¸éœ€è¦è€ƒè™‘å®ƒçš„å†…éƒ¨å®ç°å’Œå¤–éƒ¨å½±å“ã€‚</li><li><strong>æ›´ä¼˜é›…çš„ç»„åˆ</strong>ã€‚å¾€å¤§çš„è¯´ï¼Œç½‘é¡µæ˜¯ç”±å„ä¸ªç»„ä»¶ç»„æˆçš„ã€‚å¾€å°çš„è¯´ï¼Œä¸€ä¸ªå‡½æ•°ä¹Ÿå¯èƒ½æ˜¯ç”±å¤šä¸ªå°å‡½æ•°ç»„æˆçš„ã€‚å‚è€ƒä¸Šé¢ç¬¬äºŒç‚¹ï¼Œæ›´å¼ºçš„å¤ç”¨æ€§ï¼Œå¸¦æ¥æ›´å¼ºå¤§çš„ç»„åˆæ€§ã€‚</li><li>éšæ€§å¥½å¤„ã€‚å‡å°‘ä»£ç é‡ï¼Œæé«˜ç»´æŠ¤æ€§ã€‚</li></ol><p><strong>åŠ£åŠ¿</strong></p><ol><li>JavaScriptä¸èƒ½ç®—æ˜¯ä¸¥æ ¼æ„ä¹‰ä¸Šçš„å‡½æ•°å¼è¯­è¨€ï¼Œå¾ˆå¤šå‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹æ€§å¹¶æ²¡æœ‰ã€‚æ¯”å¦‚ä¸Šæ–‡è¯´çš„æ•°ç»„çš„æƒ°æ€§é“¾æ±‚å€¼ã€‚ä¸ºäº†å®ç°å®ƒå°±å¾—ä¸Šå·¥å…·åº“ï¼Œæˆ–è€…è‡ªå·±å°è£…å®ç°ï¼Œæé«˜äº†ä»£ç ç¼–å†™æˆæœ¬ã€‚</li><li>è·Ÿè¿‡ç¨‹å¼ç›¸æ¯”ï¼Œå®ƒå¹¶æ²¡æœ‰æé«˜æ€§èƒ½ã€‚æœ‰äº›åœ°æ–¹ï¼Œå¦‚æœå¼ºåˆ¶ç”¨FPå»å†™ï¼Œç”±äºæ²¡æœ‰ä¸­é—´å˜é‡ï¼Œè¿˜å¯èƒ½ä¼šé™ä½æ€§èƒ½ã€‚</li><li>ä»£ç ä¸æ˜“è¯»ã€‚è¿™ä¸ªå› äººè€Œå¼‚ï¼Œå› ç è€Œå·²ã€‚ç‰¹åˆ«ç†Ÿæ‚‰FPçš„äººå¯èƒ½ä¼šè§‰å¾—è¿™æ®µä»£ç ä¸€ç›®äº†ç„¶ã€‚è€Œä¸ç†Ÿæ‚‰çš„äººï¼Œé‡åˆ°å†™çš„æ™¦æ¶©çš„ä»£ç ï¼Œçœ‹ç€ä¸€å †å †lambdaæ¼”ç®—è·ŸåŒ¿åå‡½æ•° <code>() =&gt; () =&gt; ()</code> ç¬é—´å°±æ‡µé€¼äº†ã€‚çœ‹æ‡‚ä»£ç ï¼Œå¾—è„‘å­é‡Œå…ˆæ¼”ç®—åŠå°æ—¶ã€‚</li><li>å­¦ä¹ æˆæœ¬é«˜ã€‚ä¸€æ–¹é¢ç»§æ‰¿äºä¸Šä¸€ç‚¹ã€‚å¦ä¸€æ–¹é¢ï¼Œå¾ˆå¤šå‰ç«¯coderï¼Œå°±æ˜¯å› ä¸ºç›¸å¯¹ä¸å–œæ¬¢ä¸€äº›åº•å±‚çš„æŠ½è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ‰æ¥è¸å…¥å‰ç«¯å‘ï¼Œä½ ç°åœ¨åˆè®©ä»–ä»¬ä¸€å¤´æ‰å…¥FPï¼Œæ˜¾å¾—æ‰‹è¶³æ— æªã€‚</li></ol><h4 id="å‡½æ•°æŸ¯é‡ŒåŒ–-curry"><a href="#å‡½æ•°æŸ¯é‡ŒåŒ–-curry" class="headerlink" title="å‡½æ•°æŸ¯é‡ŒåŒ–(curry)"></a>å‡½æ•°æŸ¯é‡ŒåŒ–(curry)</h4><p>curry çš„æ¦‚å¿µå¾ˆç®€å•ï¼š<strong>åªä¼ é€’ç»™å‡½æ•°ä¸€éƒ¨åˆ†å‚æ•°æ¥è°ƒç”¨å®ƒï¼Œè®©å®ƒè¿”å›ä¸€ä¸ªå‡½æ•°å»å¤„ç†å‰©ä¸‹çš„å‚æ•°ã€‚</strong></p><p> <strong>å‡½æ•°æŸ¯é‡ŒåŒ–æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°æ¥æ”¶å‚æ•°ä½†ä¸æ‰§è¡Œ,çŸ¥é“æ‰€æœ‰å‚æ•°éƒ½æ¥åˆ°ä¹‹åå†æ‰§è¡Œ</strong></p><p><strong>å®ç°ä¸€ä¸ªcurryå‡½æ•°</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">currying</span>(<span class="params">fn,...args</span>)</span>&#123;    <span class="keyword">const</span> length = fn.length    <span class="keyword">let</span> argArray = [...args]    <span class="keyword">const</span> res = <span class="function"><span class="keyword">function</span>(<span class="params">...args2</span>)</span>&#123;        argArray = [...argArray,...args2]        <span class="comment">//é•¿åº¦ç›¸ç­‰æˆ–è€…å¤§äºfnæ‰€éœ€å‚æ•°å°±è¿”å›æ‰§è¡Œç»“æœ        if(argArray.length &gt;= length)&#123;            return fn(...argArray)        &#125;else&#123;            //é•¿åº¦ä¸ç›¸ç­‰ç»§ç»­è¿”å›å‡½æ•°            return  res        &#125;    &#125;    return res  &#125;      const add = (a,b,c) =&gt;  a+b+c  const a = currying(add,1)  console.log(a(2,3));//output: 6</span></span><br></pre></td></tr></table></figure><h3 id="8-Service-Worker-PWA"><a href="#8-Service-Worker-PWA" class="headerlink" title="8.Service Worker/PWA"></a>8.Service Worker/PWA</h3><h3 id="9-Web-Worker"><a href="#9-Web-Worker" class="headerlink" title="9.Web Worker"></a>9.Web Worker</h3><h3 id="10-ES6çŸ¥è¯†"><a href="#10-ES6çŸ¥è¯†" class="headerlink" title="10.ES6çŸ¥è¯†"></a>10.ES6çŸ¥è¯†</h3><p>ES6æ‰€å¢åŠ çš„çŸ¥è¯†å¤ªå¤šäº†,ç»™ä¸€ä¸ªä¼ é€å£</p><p><a href="https://juejin.cn/post/6844903959283367950">1.5ä¸‡å­—æ¦‚æ‹¬ES6å…¨éƒ¨ç‰¹æ€§(å·²æ›´æ–°ES2020) - æ˜é‡‘ (juejin.cn)</a></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203151505211.webp" alt="ES6ç¼©ç•¥"></p><h2 id="2-CSSåŸºç¡€"><a href="#2-CSSåŸºç¡€" class="headerlink" title="2.CSSåŸºç¡€"></a>2.CSSåŸºç¡€</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203151559504.webp" alt="img"></p><h3 id="1-position"><a href="#1-position" class="headerlink" title="1.position"></a>1.position</h3><h4 id="ä»€ä¹ˆæ˜¯position"><a href="#ä»€ä¹ˆæ˜¯position" class="headerlink" title="ä»€ä¹ˆæ˜¯position?"></a>ä»€ä¹ˆæ˜¯position?</h4><p>CSS **<code>position</code>**å±æ€§ç”¨äºæŒ‡å®šä¸€ä¸ªå…ƒç´ åœ¨æ–‡æ¡£ä¸­çš„å®šä½æ–¹å¼ã€‚<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/top"><code>top</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/right"><code>right</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/bottom"><code>bottom</code></a> å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/left"><code>left</code></a> å±æ€§åˆ™å†³å®šäº†è¯¥å…ƒç´ çš„æœ€ç»ˆä½ç½®ã€‚</p><iframe class="interactive is-default-height" height="200" src="https://interactive-examples.mdn.mozilla.net/pages/css/position.html" title="MDN Web Docs Interactive Example" loading="lazy" style="box-sizing: border-box; max-width: 100%; width: 637.156px; border: 1px solid var(--border-primary); background-color: var(--background-secondary); border-radius: var(--elem-radius); color: var(--text-primary); padding: 0px; height: 375px;"></iframe><p><strong>positionçš„å±æ€§</strong></p><ul><li><strong>static</strong>:è¡¨ç¤ºå…ƒç´ æŒ‰æ–‡æ¡£æµä¸­æœ¬åº”è¯¥æ”¾ç½®çš„ä½ç½®æ¥æ’ç‰ˆ</li><li><strong>relative</strong>:è¡¨ç¤ºç›¸å¯¹å®šä½</li><li><strong>absolute</strong>:è¡¨ç¤ºç»å¯¹å®šä½</li><li><strong>fixed</strong>ï¼šå›ºå®šå®šä½</li><li><strong>sticky</strong>:è¡¨ç¤ºç²˜æ€§å®šä½</li></ul><p><strong>relative</strong></p><p><strong>ç‰¹æ€§</strong>:</p><ul><li><strong>ä¸è„±ç¦»æ–‡æ¡£æµ</strong></li><li>é»˜è®¤å‚ç…§ç‰©ä¸ºæ­¤å…ƒç´ <strong>åŸä½ç½®</strong></li></ul><hr><p><strong>absolute</strong></p><p>ç‰¹æ€§:</p><ul><li><strong>è„±ç¦»æ–‡æ¡£æµ</strong></li><li>é»˜è®¤å‚ç…§ç‰©ä¸ºæµè§ˆå™¨è§†çª—çš„<strong>å·¦ä¸Šè§’</strong></li></ul><p>ç»å¯¹å®šä½å…ƒç´ ç›¸å¯¹äº<em>æœ€è¿‘çš„é <code>static</code> ç¥–å…ˆå…ƒç´ </em>å®šä½ã€‚å½“è¿™æ ·çš„ç¥–å…ˆå…ƒç´ ä¸å­˜åœ¨æ—¶ï¼Œåˆ™ç›¸å¯¹äºICBï¼ˆinital container block, åˆå§‹åŒ…å«å—ï¼‰ã€‚</p><p>å¯ä»¥æŸ¥çœ‹ç¤ºä¾‹</p><p><a href="https://codepen.io/zhangzhenming20020615/pen/mdpJeRe">A Pen by å¼ æŒ¯æ˜ (codepen.io)</a></p><hr><p><strong>fixed</strong></p><p><strong>ç‰¹æ€§</strong></p><ul><li><strong>è„±ç¦»æ–‡æ¡£æµ</strong></li><li>é»˜è®¤å‚ç…§ç‰©ä¸ºæµè§ˆå™¨<strong>è§†çª—ä½ç½®</strong></li></ul><hr><p><strong>sticky(ç²˜æ€§å®šä½)</strong></p><p>å•è¯stickyçš„ä¸­æ–‡æ„æ€æ˜¯â€œç²˜æ€§çš„â€ï¼Œ<code>position:sticky</code>è¡¨ç°ä¹Ÿç¬¦åˆè¿™ä¸ªç²˜æ€§çš„è¡¨ç°ã€‚åŸºæœ¬ä¸Šï¼Œå¯ä»¥çœ‹å‡ºæ˜¯<code>position:relative</code>å’Œ<code>position:fixed</code>çš„ç»“åˆä½“â€”â€”å½“å…ƒç´ åœ¨å±å¹•å†…ï¼Œè¡¨ç°ä¸ºrelativeï¼Œå°±è¦æ»šå‡ºæ˜¾ç¤ºå™¨å±å¹•çš„æ—¶å€™ï¼Œè¡¨ç°ä¸ºfixedã€‚</p><p><strong>ç‰¹æ€§</strong>:</p><ul><li><strong>å½“å…ƒç´ æ²¡æœ‰åˆ°è¾¾æŒ‡å®šçš„ä½ç½®æ—¶</strong>,positionä¸º<strong>relative</strong></li><li><strong>å½“å…ƒç´ åˆ°è¾¾æŒ‡å®šçš„ä½ç½®</strong>,positionä¸º<strong>fixed</strong>ï¼Œä¹Ÿå°±æ˜¯å›ºå®šä½</li><li>stickyå…ƒç´ çš„çˆ¶çº§å…ƒç´ ä¸èƒ½æœ‰ä»»ä½•<code>overflow:visible</code>ä»¥å¤–çš„overflowè®¾ç½®,å¦åˆ™æ²¡æœ‰ç²˜æ»æ•ˆæœ</li></ul><h3 id="2-è¡Œå†…å…ƒç´ -å—çº§å…ƒç´ "><a href="#2-è¡Œå†…å…ƒç´ -å—çº§å…ƒç´ " class="headerlink" title="2.è¡Œå†…å…ƒç´ /å—çº§å…ƒç´ "></a>2.è¡Œå†…å…ƒç´ /å—çº§å…ƒç´ </h3><h4 id="ä»€ä¹ˆæ˜¯è¡Œå†…å…ƒç´ ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯è¡Œå†…å…ƒç´ ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯è¡Œå†…å…ƒç´ ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯è¡Œå†…å…ƒç´ ï¼Ÿ</h4><p><strong>è¡Œå†…å…ƒç´ åªå æ®å®ƒå¯¹åº”æ ‡ç­¾çš„è¾¹æ¡†æ‰€åŒ…å«çš„ç©ºé—´</strong></p><p><strong>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¡Œå†…å…ƒç´ åªèƒ½åŒ…å«æ•°æ®å’Œå…¶ä»–è¡Œå†…å…ƒç´ ã€‚</strong></p><p>è¡Œå†…å…ƒç´ åˆ—è¡¨:</p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/b">b</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/big">big</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/i">i</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/small">small</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/tt">tt</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/abbr">abbr</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/acronym">acronym</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/cite">cite</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/code">code</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/dfn">dfn</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/em">em</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/kbd">kbd</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/strong">strong</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/samp">samp</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/var">var</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a">a</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/bdo">bdo</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/br">br</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img">img</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/map">map</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/object">object</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/q">q</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/script">script</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/span">span</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/sub">sub</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/sup">sup</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/button">button</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/Input">input</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/label">label</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/select">select</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/textarea">textarea</a></li></ul><h4 id="ä»€ä¹ˆæ˜¯å—çº§å…ƒç´ "><a href="#ä»€ä¹ˆæ˜¯å—çº§å…ƒç´ " class="headerlink" title="ä»€ä¹ˆæ˜¯å—çº§å…ƒç´ "></a>ä»€ä¹ˆæ˜¯å—çº§å…ƒç´ </h4><p>å—çº§å…ƒç´ å æ®å…¶çˆ¶å…ƒç´ ï¼ˆå®¹å™¨ï¼‰çš„æ•´ä¸ªæ°´å¹³ç©ºé—´ï¼Œå‚ç›´ç©ºé—´ç­‰äºå…¶å†…å®¹é«˜åº¦ï¼Œå› æ­¤åˆ›å»ºäº†ä¸€ä¸ªâ€œå—â€</p><p>é€šå¸¸æµè§ˆå™¨ä¼šåœ¨å—çº§å…ƒç´ å‰åå¦èµ·ä¸€ä¸ªæ–°è¡Œ</p><h4 id="è¡Œå†…å…ƒç´ ä¸å—çº§å…ƒç´ çš„åŒºåˆ«"><a href="#è¡Œå†…å…ƒç´ ä¸å—çº§å…ƒç´ çš„åŒºåˆ«" class="headerlink" title="è¡Œå†…å…ƒç´ ä¸å—çº§å…ƒç´ çš„åŒºåˆ«"></a>è¡Œå†…å…ƒç´ ä¸å—çº§å…ƒç´ çš„åŒºåˆ«</h4><p>å—çº§å…ƒç´ ä¸è¡Œå†…å…ƒç´ æœ‰å‡ ä¸ªå…³é”®åŒºåˆ«ï¼š</p><ul><li><p>æ ¼å¼</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå—çº§å…ƒç´ ä¼šæ–°èµ·ä¸€è¡Œã€‚</p></li><li><p>å†…å®¹æ¨¡å‹</p><p>ä¸€èˆ¬å—çº§å…ƒç´ å¯ä»¥åŒ…å«è¡Œå†…å…ƒç´ å’Œå…¶ä»–å—çº§å…ƒç´ ã€‚è¿™ç§ç»“æ„ä¸Šçš„åŒ…å«ç»§æ‰¿åŒºåˆ«å¯ä»¥ä½¿å—çº§å…ƒç´ åˆ›å»ºæ¯”è¡Œå†…å…ƒç´ æ›´â€å¤§å‹â€œçš„ç»“æ„ã€‚</p></li></ul><p>HTML æ ‡å‡†ä¸­å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ çš„åŒºåˆ«è‡³é«˜å‡ºç°åœ¨ 4.01 æ ‡å‡†ä¸­ã€‚åœ¨ HTML5ï¼Œè¿™ç§åŒºåˆ«è¢«ä¸€ä¸ªæ›´å¤æ‚çš„<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories">å†…å®¹ç±»åˆ« (en-US)</a>ä»£æ›¿ã€‚â€å—çº§â€œç±»åˆ«å¤§è‡´ç›¸å½“äº HTML5 ä¸­çš„<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#flow_content">æµå†…å®¹ (en-US)</a>ç±»åˆ«ï¼Œè€Œâ€è¡Œå†…â€œç±»åˆ«ç›¸å½“äº HTML5 ä¸­çš„<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#phrasing_content">æªè¾å†…å®¹ (en-US)</a>ç±»åˆ«ï¼Œä¸è¿‡é™¤äº†è¿™ä¸¤ä¸ªè¿˜æœ‰å…¶ä»–ç±»åˆ«ã€‚</p><hr><h4 id="BFC-å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡"><a href="#BFC-å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡" class="headerlink" title="BFC(å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡)"></a>BFC(å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡)</h4><p><strong>å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ˆBlock Formatting Contextï¼ŒBFCï¼‰</strong> æ˜¯Webé¡µé¢çš„å¯è§†CSSæ¸²æŸ“çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯å—ç›’å­çš„å¸ƒå±€è¿‡ç¨‹å‘ç”Ÿçš„åŒºåŸŸï¼Œä¹Ÿæ˜¯æµ®åŠ¨å…ƒç´ ä¸å…¶ä»–å…ƒç´ äº¤äº’çš„åŒºåŸŸã€‚</p><p>ä¸‹åˆ—æ–¹å¼ä¼šåˆ›å»º<strong>å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡</strong>ï¼š</p><ul><li>æ ¹å…ƒç´ ï¼ˆ<code>&lt;html&gt;ï¼‰</code></li><li>æµ®åŠ¨å…ƒç´ ï¼ˆå…ƒç´ çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/float"><code>float</code></a> ä¸æ˜¯ <code>none</code>ï¼‰</li><li>ç»å¯¹å®šä½å…ƒç´ ï¼ˆå…ƒç´ çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/position"><code>position</code></a> ä¸º <code>absolute</code> æˆ– <code>fixed</code>ï¼‰</li><li>è¡Œå†…å—å…ƒç´ ï¼ˆå…ƒç´ çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> ä¸º <code>inline-block</code>ï¼‰</li><li>è¡¨æ ¼å•å…ƒæ ¼ï¼ˆå…ƒç´ çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> ä¸º <code>table-cell</code>ï¼ŒHTMLè¡¨æ ¼å•å…ƒæ ¼é»˜è®¤ä¸ºè¯¥å€¼ï¼‰</li><li>è¡¨æ ¼æ ‡é¢˜ï¼ˆå…ƒç´ çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> ä¸º <code>table-caption</code>ï¼ŒHTMLè¡¨æ ¼æ ‡é¢˜é»˜è®¤ä¸ºè¯¥å€¼ï¼‰</li><li>åŒ¿åè¡¨æ ¼å•å…ƒæ ¼å…ƒç´ ï¼ˆå…ƒç´ çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> ä¸º <code>tableã€``table-row</code>ã€ <code>table-row-groupã€``table-header-groupã€``table-footer-group</code>ï¼ˆåˆ†åˆ«æ˜¯HTML tableã€rowã€tbodyã€theadã€tfoot çš„é»˜è®¤å±æ€§ï¼‰æˆ– <code>inline-table</code>ï¼‰</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/overflow"><code>overflow</code></a> è®¡ç®—å€¼(Computed)ä¸ä¸º <code>visible</code> çš„å—å…ƒç´ </li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> å€¼ä¸º <code>flow-root</code> çš„å…ƒç´ </li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/contain"><code>contain</code></a> å€¼ä¸º <code>layout</code>ã€<code>content </code>æˆ– paint çš„å…ƒç´ </li><li>å¼¹æ€§å…ƒç´ ï¼ˆ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> ä¸º <code>flex</code> æˆ– <code>inline-flex </code>å…ƒç´ çš„ç›´æ¥å­å…ƒç´ ï¼‰</li><li>ç½‘æ ¼å…ƒç´ ï¼ˆ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> ä¸º <code>grid</code> æˆ– <code>inline-grid</code> å…ƒç´ çš„ç›´æ¥å­å…ƒç´ ï¼‰</li><li>å¤šåˆ—å®¹å™¨ï¼ˆå…ƒç´ çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/column-count"><code>column-count</code></a> æˆ– <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/column-width"><code>column-width</code> (en-US)</a> ä¸ä¸º <code>autoï¼ŒåŒ…æ‹¬ ``column-count</code> ä¸º <code>1</code>ï¼‰</li><li><code>column-span</code> ä¸º <code>all</code> çš„å…ƒç´ å§‹ç»ˆä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„BFCï¼Œå³ä½¿è¯¥å…ƒç´ æ²¡æœ‰åŒ…è£¹åœ¨ä¸€ä¸ªå¤šåˆ—å®¹å™¨ä¸­ï¼ˆ<a href="https://github.com/w3c/csswg-drafts/commit/a8634b96900279916bd6c505fda88dda71d8ec51">æ ‡å‡†å˜æ›´</a>ï¼Œ<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=709362">Chrome bug</a>ï¼‰ã€‚</li></ul><p>å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡åŒ…å«åˆ›å»ºå®ƒçš„å…ƒç´ å†…éƒ¨çš„æ‰€æœ‰å†…å®¹.</p><p>å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡å¯¹æµ®åŠ¨å®šä½ï¼ˆå‚è§ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/float"><code>float</code></a>ï¼‰ä¸æ¸…é™¤æµ®åŠ¨ï¼ˆå‚è§ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/clear"><code>clear</code></a>ï¼‰éƒ½å¾ˆé‡è¦ã€‚æµ®åŠ¨å®šä½å’Œæ¸…é™¤æµ®åŠ¨æ—¶åªä¼šåº”ç”¨äºåŒä¸€ä¸ªBFCå†…çš„å…ƒç´ ã€‚æµ®åŠ¨ä¸ä¼šå½±å“å…¶å®ƒBFCä¸­å…ƒç´ çš„å¸ƒå±€ï¼Œè€Œæ¸…é™¤æµ®åŠ¨åªèƒ½æ¸…é™¤åŒä¸€BFCä¸­åœ¨å®ƒå‰é¢çš„å…ƒç´ çš„æµ®åŠ¨ã€‚å¤–è¾¹è·æŠ˜å ï¼ˆ<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing">Margin collapsing</a>ï¼‰ä¹Ÿåªä¼šå‘ç”Ÿåœ¨å±äºåŒä¸€BFCçš„å—çº§å…ƒç´ ä¹‹é—´ã€‚</p><hr><h3 id="3-flexå¸ƒå±€"><a href="#3-flexå¸ƒå±€" class="headerlink" title="3.flexå¸ƒå±€"></a>3.flexå¸ƒå±€</h3><h4 id="ä»€ä¹ˆæ˜¯flexå¸ƒå±€"><a href="#ä»€ä¹ˆæ˜¯flexå¸ƒå±€" class="headerlink" title="ä»€ä¹ˆæ˜¯flexå¸ƒå±€?"></a>ä»€ä¹ˆæ˜¯flexå¸ƒå±€?</h4><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203151551342.png" alt="img"></p><p>é¡¾åæ€ä¹‰,flexå¸ƒå±€å°±æ˜¯å¼¹æ€§å¸ƒå±€,åœ¨flexå®¹å™¨ä¸­é»˜è®¤å­˜åœ¨ä¸¤æ¡è½´ï¼Œ<strong>æ°´å¹³ä¸»è½´(main axis)<strong>å’Œ</strong>å‚ç›´çš„äº¤å‰è½´(cross axis)</strong>,æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®å±æ€§å°†å‚ç›´æ–¹å‘å˜ä¸ºä¸»è½´,æ°´å¹³æ–¹å‘å˜ä¸ºäº¤å‰è½´</p><p>åœ¨å®¹å™¨å†…çš„æ¯ä¸ªå•å…ƒå—è¢«ç§°ä¸º<strong>flex item</strong>,æ¯ä¸ªé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ä¸º(main size)ï¼Œå æ®çš„äº¤å‰è½´çš„ç©ºé—´ä¸º(cross size)</p><h5 id="flexå®¹å™¨"><a href="#flexå®¹å™¨" class="headerlink" title="flexå®¹å™¨"></a>flexå®¹å™¨</h5><p>å®ç° flex å¸ƒå±€éœ€è¦å…ˆæŒ‡å®šä¸€ä¸ªå®¹å™¨ï¼Œä»»ä½•ä¸€ä¸ªå®¹å™¨éƒ½å¯ä»¥è¢«æŒ‡å®šä¸º flex å¸ƒå±€ï¼Œè¿™æ ·å®¹å™¨å†…éƒ¨çš„å…ƒç´ å°±å¯ä»¥ä½¿ç”¨ flex æ¥è¿›è¡Œå¸ƒå±€ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;    <span class="attribute">display</span>: flex | inline-flex;       //å¯ä»¥æœ‰ä¸¤ç§å–å€¼&#125;</span><br></pre></td></tr></table></figure><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå½“æ—¶è®¾ç½® flex å¸ƒå±€ä¹‹åï¼Œå­å…ƒç´ çš„ floatã€clearã€vertical-align çš„å±æ€§å°†ä¼šå¤±æ•ˆã€‚</strong></p><p>æœ‰ä¸‹é¢å…­ç§å±æ€§å¯ä»¥è®¾ç½®åœ¨å®¹å™¨ä¸Šï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š</p><ol><li>flex-direction</li><li>flex-wrap</li><li>flex-flow</li><li>justify-content</li><li>align-items</li><li>align-content</li></ol><hr><p><strong>flex-direction</strong>:å†³å®šä¸»è½´çš„æ–¹å‘</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;    <span class="attribute">flex-direction</span>: row | row-reverse | column | column-reverse;&#125;</span><br></pre></td></tr></table></figure><p><strong>row</strong>ï¼šé»˜è®¤å€¼,ä¸»è½´ä¸ºæ°´å¹³æ–¹å‘,èµ·ç‚¹åœ¨å·¦ç«¯</p><p><strong>row-reverse</strong>:ä¸»è½´ä¸ºæ°´å¹³æ–¹å‘,èµ·ç‚¹åœ¨å³ç«¯</p><p><strong>column</strong>:ä¸»è½´ä¸ºå‚ç›´æ–¹å‘,èµ·ç‚¹åœ¨ä¸Šæ²¿</p><p><strong>column-reverse</strong>ï¼šä¸»è½´ä¸ºå‚ç›´æ–¹å‘,èµ·ç‚¹åœ¨ä¸‹ç«¯</p><hr><p><strong>flex-wrap</strong>ï¼šå†³å®šå®¹å™¨å†…é¡¹ç›®æ˜¯å¦å¯ä»¥æ¢è¡Œ</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé¡¹ç›®éƒ½æ’åœ¨ä¸»è½´çº¿ä¸Šï¼Œä½¿ç”¨ flex-wrap å¯å®ç°é¡¹ç›®çš„æ¢è¡Œã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;    <span class="attribute">flex-wrap</span>: nowrap | wrap | wrap-reverse;&#125;</span><br></pre></td></tr></table></figure><p><strong>nowrap</strong>:<strong>é»˜è®¤å€¼</strong>ï¼Œä¸æ¢è¡Œ,å³å½“ä¸»è½´å°ºå¯¸å›ºå®šæ—¶ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œé¡¹ç›®å°ºå¯¸ä¼šéšä¹‹è°ƒæ•´è€Œå¹¶ä¸ä¼šæŒ¤åˆ°ä¸‹ä¸€è¡Œã€‚</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203151603139.png" alt="img"></p><p><strong>wrap</strong>ï¼šæ¢è¡Œ,å½“é¡¹ç›®ä¸»è½´æ€»å°ºå¯¸è¶…è¿‡å®¹å™¨æ—¶æ¢è¡Œ,ç¬¬ä¸€è¡Œåœ¨ä¸Šæ–¹</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203151604830.png" alt="img"></p><p><strong>wrap-reverse</strong>:æ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸‹æ–¹</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203151605328.png" alt="img"></p><hr><p> <strong>flex-flow</strong>:<strong>flex-direction å’Œ flex-wrap çš„ç®€å†™å½¢å¼</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;    <span class="attribute">flex-flow</span>: &lt;flex-direction&gt; || &lt;flex-wrap&gt;;&#125;</span><br></pre></td></tr></table></figure><p><strong>é»˜è®¤å€¼</strong>ä¸º: row nowrap</p><hr><p> <strong>justify-contentï¼šå®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´çš„å¯¹é½æ–¹å¼ã€‚</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;    <span class="attribute">justify-content</span>: flex-start | flex-end | center | space-between | space-around;&#125;</span><br></pre></td></tr></table></figure><p>å‡è®¾ä¸»è½´æ˜¯<strong>æ°´å¹³æ–¹å‘</strong>,å‚ç›´æ–¹å‘åŒç†(å·¦å³æ”¹ä¸ºä¸Šä¸‹)</p><p><strong>flex-start</strong>:å·¦å¯¹é½</p><p><strong>flex-end</strong>:å³å¯¹é½</p><p><strong>center</strong>ï¼šå±…ä¸­</p><p><strong>space-between</strong>ï¼šä¸¤ç«¯å¯¹é½,é¡¹ç›®ä¹‹é—´çš„é—´éš”ç›¸ç­‰ï¼Œå³å‰©ä½™ç©ºé—´ç­‰åˆ†æˆé—´éš™ã€‚</p><p><strong>space-around</strong>ï¼šæ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ï¼Œæ‰€ä»¥é¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸è¾¹ç¼˜çš„é—´éš”å¤§ä¸€å€ã€‚</p><hr><p><strong>align-items: å®šä¹‰äº†é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;    <span class="attribute">align-items</span>: flex-start | flex-end | center | baseline | stretch;&#125;</span><br></pre></td></tr></table></figure><p><strong>baseline</strong>:é¡¹ç›®çš„ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½</p><p><strong>stretch</strong>:<strong>é»˜è®¤å€¼</strong>  å³å¦‚æœé¡¹ç›®æœªè®¾ç½®é«˜åº¦æˆ–è€…è®¾ä¸º autoï¼Œå°†å æ»¡æ•´ä¸ªå®¹å™¨çš„é«˜åº¦</p><hr><p><strong>align-content: å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ï¼Œå¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œé‚£ä¹ˆè¯¥å±æ€§å°†ä¸èµ·ä½œç”¨</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;    <span class="attribute">align-content</span>: flex-start | flex-end | center | space-between | space-around | stretch;&#125;</span><br></pre></td></tr></table></figure><p>å½“ä½  flex-wrap è®¾ç½®ä¸º <strong>nowrap</strong> çš„æ—¶å€™ï¼Œå®¹å™¨ä»…å­˜åœ¨ä¸€æ ¹è½´çº¿ï¼Œå› ä¸ºé¡¹ç›®ä¸ä¼šæ¢è¡Œï¼Œå°±ä¸ä¼šäº§ç”Ÿå¤šæ¡è½´çº¿ã€‚</p><p>å½“ä½  flex-wrap è®¾ç½®ä¸º <strong>wrap</strong> çš„æ—¶å€™ï¼Œå®¹å™¨å¯èƒ½ä¼šå‡ºç°å¤šæ¡è½´çº¿ï¼Œè¿™æ—¶å€™ä½ å°±éœ€è¦å»è®¾ç½®å¤šæ¡è½´çº¿ä¹‹é—´çš„å¯¹é½æ–¹å¼äº†ã€‚</p><h5 id="flexå…ƒç´ å±æ€§"><a href="#flexå…ƒç´ å±æ€§" class="headerlink" title="flexå…ƒç´ å±æ€§"></a>flexå…ƒç´ å±æ€§</h5><p>æœ‰å…­ç§å±æ€§å¯è¿ç”¨åœ¨ item é¡¹ç›®ä¸Šï¼š</p><ol><li>order</li><li>flex-basis</li><li>flex-grow</li><li>flex-shrink</li><li>flex</li><li>align-self</li></ol><p> <strong>order: å®šä¹‰é¡¹ç›®åœ¨å®¹å™¨ä¸­çš„æ’åˆ—é¡ºåºï¼Œæ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤å€¼ä¸º 0</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;    <span class="attribute">order</span>: &lt;integer&gt;;&#125;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203151616010.png" alt="img"></p><hr><p><strong>flex-basis: å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼Œæµè§ˆå™¨æ ¹æ®è¿™ä¸ªå±æ€§ï¼Œè®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å¤šä½™ç©ºé—´</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;    <span class="attribute">flex-basis</span>: &lt;length&gt; | auto;&#125;</span><br></pre></td></tr></table></figure><p>é»˜è®¤å€¼ï¼š<strong>auto</strong>ï¼Œå³é¡¹ç›®æœ¬æ¥çš„å¤§å°, è¿™æ—¶å€™ item çš„å®½é«˜å–å†³äº width æˆ– height çš„å€¼ã€‚</p><iframe class="interactive is-default-height" height="200" src="https://interactive-examples.mdn.mozilla.net/pages/css/flex-basis.html" title="MDN Web Docs Interactive Example" loading="lazy" style="box-sizing: border-box; max-width: 100%; width: 639.297px; border: 1px solid var(--border-primary); background-color: var(--background-secondary); border-radius: var(--elem-radius); color: var(--text-primary); padding: 0px; height: 375px;"></iframe><p><strong>å½“ä¸»è½´ä¸ºæ°´å¹³æ–¹å‘çš„æ—¶å€™ï¼Œå½“è®¾ç½®äº† flex-basisï¼Œé¡¹ç›®çš„å®½åº¦è®¾ç½®å€¼ä¼šå¤±æ•ˆï¼Œflex-basis éœ€è¦è·Ÿ flex-grow å’Œ flex-shrink é…åˆä½¿ç”¨æ‰èƒ½å‘æŒ¥æ•ˆæœã€‚</strong></p><ul><li>å½“ flex-basis å€¼ä¸º 0 % æ—¶ï¼Œæ˜¯æŠŠè¯¥é¡¹ç›®è§†ä¸ºé›¶å°ºå¯¸çš„ï¼Œæ•…å³ä½¿å£°æ˜è¯¥å°ºå¯¸ä¸º 140pxï¼Œä¹Ÿå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ã€‚</li><li>å½“ flex-basis å€¼ä¸º auto æ—¶ï¼Œåˆ™è·Ÿæ ¹æ®å°ºå¯¸çš„è®¾å®šå€¼(å‡å¦‚ä¸º 100px)ï¼Œåˆ™è¿™ 100px ä¸ä¼šçº³å…¥å‰©ä½™ç©ºé—´ã€‚</li></ul><p> <strong>flex-grow: å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;    <span class="attribute">flex-grow</span>: &lt;number&gt;;&#125;</span><br></pre></td></tr></table></figure><p><strong>é»˜è®¤å€¼ä¸º 0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§</strong></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203151627863.png" alt="img"></p><p>å½“æ‰€æœ‰çš„é¡¹ç›®éƒ½ä»¥ flex-basis çš„å€¼è¿›è¡Œæ’åˆ—åï¼Œä»æœ‰å‰©ä½™ç©ºé—´ï¼Œé‚£ä¹ˆè¿™æ—¶å€™ flex-grow å°±ä¼šå‘æŒ¥ä½œç”¨äº†ã€‚</p><p>å¦‚æœæ‰€æœ‰é¡¹ç›®çš„ flex-grow å±æ€§éƒ½ä¸º 1ï¼Œåˆ™å®ƒä»¬å°†ç­‰åˆ†å‰©ä½™ç©ºé—´ã€‚(å¦‚æœæœ‰çš„è¯)</p><p>å¦‚æœä¸€ä¸ªé¡¹ç›®çš„ flex-grow å±æ€§ä¸º 2ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º 1ï¼Œåˆ™å‰è€…å æ®çš„å‰©ä½™ç©ºé—´å°†æ¯”å…¶ä»–é¡¹å¤šä¸€å€ã€‚</p><p>å½“ç„¶å¦‚æœå½“æ‰€æœ‰é¡¹ç›®ä»¥ flex-basis çš„å€¼æ’åˆ—å®Œåå‘ç°ç©ºé—´ä¸å¤Ÿäº†ï¼Œä¸” flex-wrapï¼šnowrap æ—¶ï¼Œæ­¤æ—¶ flex-grow åˆ™ä¸èµ·ä½œç”¨äº†ï¼Œè¿™æ—¶å€™å°±éœ€è¦æ¥ä¸‹æ¥çš„è¿™ä¸ªå±æ€§ã€‚</p><p><strong>flex-shrink: å®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;    <span class="attribute">flex-shrink</span>: &lt;number&gt;;&#125;</span><br></pre></td></tr></table></figure><p><strong>é»˜è®¤å€¼: 1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°ï¼Œè´Ÿå€¼å¯¹è¯¥å±æ€§æ— æ•ˆã€‚</strong></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203151628761.png" alt="img"></p><p>è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶æ¯ä¸ªé¡¹ç›®éƒ½è®¾ç½®äº†å®½åº¦ä¸º 50pxï¼Œä½†æ˜¯ç”±äºè‡ªèº«å®¹å™¨å®½åº¦åªæœ‰ 200pxï¼Œè¿™æ—¶å€™æ¯ä¸ªé¡¹ç›®ä¼šè¢«åŒæ¯”ä¾‹è¿›è¡Œç¼©å°ï¼Œå› ä¸ºé»˜è®¤å€¼ä¸º 1ã€‚</p><p>åŒç†å¯å¾—ï¼š</p><p>å¦‚æœæ‰€æœ‰é¡¹ç›®çš„ flex-shrink å±æ€§éƒ½ä¸º 1ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œéƒ½å°†ç­‰æ¯”ä¾‹ç¼©å°ã€‚</p><p>å¦‚æœä¸€ä¸ªé¡¹ç›®çš„ flex-shrink å±æ€§ä¸º 0ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º 1ï¼Œåˆ™ç©ºé—´ä¸è¶³æ—¶ï¼Œå‰è€…ä¸ç¼©å°ã€‚</p><hr><p><strong>flex: flex-grow, flex-shrink å’Œ flex-basisçš„ç®€å†™</strong></p><p>flex çš„é»˜è®¤å€¼æ˜¯ä»¥ä¸Šä¸‰ä¸ªå±æ€§å€¼çš„ç»„åˆã€‚å‡è®¾ä»¥ä¸Šä¸‰ä¸ªå±æ€§åŒæ ·å–é»˜è®¤å€¼ï¼Œåˆ™ <strong>flex çš„é»˜è®¤å€¼æ˜¯ 0 1 auto</strong>ã€‚</p><p>grow å’Œ shrink æ˜¯ä¸€å¯¹åŒèƒèƒï¼Œgrow è¡¨ç¤ºä¼¸å¼ å› å­ï¼Œshrink è¡¨ç¤ºæ˜¯æ”¶ç¼©å› å­ã€‚</p><p>grow åœ¨ flex å®¹å™¨ä¸‹çš„å­å…ƒç´ çš„å®½åº¦å’Œæ¯”å®¹å™¨å’Œå°çš„æ—¶å€™èµ·ä½œç”¨ã€‚ grow å®šä¹‰äº†å­å…ƒç´ çš„å°ºå¯¸å¢é•¿å› å­ï¼Œå®¹å™¨ä¸­é™¤å»å­å…ƒç´ ä¹‹å’Œå‰©ä¸‹çš„å°ºå¯¸ä¼šæŒ‰ç…§å„ä¸ªå­å…ƒç´ çš„ grow å€¼è¿›è¡Œå¹³åˆ†åŠ å¤§å„ä¸ªå­å…ƒç´ ä¸Šã€‚</p><hr><p><strong>lign-self: å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼</strong></p><p>å•ä¸ªé¡¹ç›®è¦†ç›– align-items å®šä¹‰çš„å±æ€§</p><p>é»˜è®¤å€¼ä¸º autoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„ align-items å±æ€§ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäº stretchã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">     <span class="attribute">align-self</span>: auto | flex-start | flex-end | center | baseline | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè·Ÿ align-items å±æ€§æ—¶ä¸€æ ·çš„ï¼Œåªä¸è¿‡ align-self æ˜¯å¯¹å•ä¸ªé¡¹ç›®ç”Ÿæ•ˆçš„ï¼Œè€Œ align-items åˆ™æ˜¯å¯¹å®¹å™¨ä¸‹çš„æ‰€æœ‰é¡¹ç›®ç”Ÿæ•ˆçš„ã€‚</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203151642611.png" alt="img"></p><hr><p><a href="https://codepen.io/pen/">A Pen by å¼ æŒ¯æ˜ (codepen.io)</a></p><h4 id="å¦‚ä½•ç”¨flexå®ç°ä¹å®«æ ¼å¸ƒå±€"><a href="#å¦‚ä½•ç”¨flexå®ç°ä¹å®«æ ¼å¸ƒå±€" class="headerlink" title="å¦‚ä½•ç”¨flexå®ç°ä¹å®«æ ¼å¸ƒå±€"></a>å¦‚ä½•ç”¨flexå®ç°ä¹å®«æ ¼å¸ƒå±€</h4><p><a href="https://codepen.io/zhangzhenming20020615/pen/YzYXqWj">flexå®ç°ä¹å®«æ ¼å¸ƒå±€ (codepen.io)</a></p><h4 id="flex-1æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿflexå±æ€§é»˜è®¤å€¼æ˜¯ä»€ä¹ˆ"><a href="#flex-1æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿflexå±æ€§é»˜è®¤å€¼æ˜¯ä»€ä¹ˆ" class="headerlink" title="flex:1æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿflexå±æ€§é»˜è®¤å€¼æ˜¯ä»€ä¹ˆ"></a>flex:1æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿflexå±æ€§é»˜è®¤å€¼æ˜¯ä»€ä¹ˆ</h4><p><code>flex:1</code> ä¸ºï¼š<code>flex: 1 1 0</code>;</p><p>flexå±æ€§é»˜è®¤å€¼ä¸º:<code>0 1 auto</code></p><p>å…·ä½“ä»£è¡¨ä»€ä¹ˆå±æ€§ ä¸Šæ–‡æœ‰è¯´æ˜</p><h4 id="ä»‹ç»ä¸€ä¸‹flex-shrinkå’Œflex-basiså±æ€§"><a href="#ä»‹ç»ä¸€ä¸‹flex-shrinkå’Œflex-basiså±æ€§" class="headerlink" title="ä»‹ç»ä¸€ä¸‹flex-shrinkå’Œflex-basiså±æ€§"></a>ä»‹ç»ä¸€ä¸‹flex-shrinkå’Œflex-basiså±æ€§</h4><hr><hr><h3 id="4-1pxé—®é¢˜"><a href="#4-1pxé—®é¢˜" class="headerlink" title="4.1pxé—®é¢˜"></a>4.1pxé—®é¢˜</h3><h3 id="5-é‡ç»˜ä¸å›æµ"><a href="#5-é‡ç»˜ä¸å›æµ" class="headerlink" title="5.é‡ç»˜ä¸å›æµ"></a>5.é‡ç»˜ä¸å›æµ</h3><p>å‚è€ƒ:[æµè§ˆå™¨çš„é‡ç»˜å’Œå›æµ](<a href="https://juejin.cn/post/6844903569087266823">æµè§ˆå™¨çš„å›æµä¸é‡ç»˜ (Reflow &amp; Repaint) - æ˜é‡‘ (juejin.cn)</a>)</p><p>åœ¨è®¨è®ºå›æµä¸é‡ç»˜ä¹‹å‰ï¼Œæˆ‘ä»¬è¦çŸ¥é“ï¼š</p><ol><li>æµè§ˆå™¨ä½¿ç”¨æµå¼å¸ƒå±€æ¨¡å‹ (Flow Based Layout)ã€‚</li><li>æµè§ˆå™¨ä¼šæŠŠ<code>HTML</code>è§£ææˆ<code>DOM</code>ï¼ŒæŠŠ<code>CSS</code>è§£ææˆ<code>CSSOM</code>ï¼Œ<code>DOM</code>å’Œ<code>CSSOM</code>åˆå¹¶å°±äº§ç”Ÿäº†<code>Render Tree</code>ã€‚</li><li>æœ‰äº†<code>RenderTree</code>ï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†æ‰€æœ‰èŠ‚ç‚¹çš„æ ·å¼ï¼Œç„¶åè®¡ç®—ä»–ä»¬åœ¨é¡µé¢ä¸Šçš„å¤§å°å’Œä½ç½®ï¼Œæœ€åæŠŠèŠ‚ç‚¹ç»˜åˆ¶åˆ°é¡µé¢ä¸Šã€‚</li><li>ç”±äºæµè§ˆå™¨ä½¿ç”¨æµå¼å¸ƒå±€ï¼Œå¯¹<code>Render Tree</code>çš„è®¡ç®—é€šå¸¸åªéœ€è¦éå†ä¸€æ¬¡å°±å¯ä»¥å®Œæˆï¼Œä½†<code>table</code>åŠå…¶å†…éƒ¨å…ƒç´ é™¤å¤–ï¼Œä»–ä»¬å¯èƒ½éœ€è¦å¤šæ¬¡è®¡ç®—ï¼Œé€šå¸¸è¦èŠ±3å€äºåŒç­‰å…ƒç´ çš„æ—¶é—´ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦é¿å…ä½¿ç”¨<code>table</code>å¸ƒå±€çš„åŸå› ä¹‹ä¸€ã€‚</li></ol><p><strong>ä¸€å¥è¯ï¼šå›æµå¿…å°†å¼•èµ·é‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›æµã€‚</strong></p><h4 id="1-å›æµ-Reflow"><a href="#1-å›æµ-Reflow" class="headerlink" title="1.å›æµ (Reflow)"></a>1.å›æµ (Reflow)</h4><p>å½“<code>Render Tree</code>ä¸­éƒ¨åˆ†æˆ–å…¨éƒ¨å…ƒç´ çš„å°ºå¯¸ã€ç»“æ„ã€æˆ–æŸäº›å±æ€§å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæµè§ˆå™¨é‡æ–°æ¸²æŸ“éƒ¨åˆ†æˆ–å…¨éƒ¨æ–‡æ¡£çš„è¿‡ç¨‹ç§°ä¸ºå›æµã€‚</p><p>ä¼šå¯¼è‡´å›æµçš„æ“ä½œï¼š</p><ul><li>é¡µé¢é¦–æ¬¡æ¸²æŸ“</li><li>æµè§ˆå™¨çª—å£å¤§å°å‘ç”Ÿæ”¹å˜</li><li>å…ƒç´ å°ºå¯¸æˆ–ä½ç½®å‘ç”Ÿæ”¹å˜</li><li>å…ƒç´ å†…å®¹å˜åŒ–ï¼ˆæ–‡å­—æ•°é‡æˆ–å›¾ç‰‡å¤§å°ç­‰ç­‰ï¼‰</li><li>å…ƒç´ å­—ä½“å¤§å°å˜åŒ–</li><li>æ·»åŠ æˆ–è€…åˆ é™¤<strong>å¯è§</strong>çš„<code>DOM</code>å…ƒç´ </li><li>æ¿€æ´»<code>CSS</code>ä¼ªç±»ï¼ˆä¾‹å¦‚ï¼š<code>:hover</code>ï¼‰</li><li>æŸ¥è¯¢æŸäº›å±æ€§æˆ–è°ƒç”¨æŸäº›æ–¹æ³•</li></ul><p>ä¸€äº›å¸¸ç”¨ä¸”ä¼šå¯¼è‡´å›æµçš„å±æ€§å’Œæ–¹æ³•ï¼š</p><ul><li><code>clientWidth</code>ã€<code>clientHeight</code>ã€<code>clientTop</code>ã€<code>clientLeft</code></li><li><code>offsetWidth</code>ã€<code>offsetHeight</code>ã€<code>offsetTop</code>ã€<code>offsetLeft</code></li><li><code>scrollWidth</code>ã€<code>scrollHeight</code>ã€<code>scrollTop</code>ã€<code>scrollLeft</code></li><li><code>scrollIntoView()</code>ã€<code>scrollIntoViewIfNeeded()</code></li><li><code>getComputedStyle()</code></li><li><code>getBoundingClientRect()</code></li><li><code>scrollTo()</code></li></ul><h4 id="2-é‡ç»˜-Repaint"><a href="#2-é‡ç»˜-Repaint" class="headerlink" title="2.é‡ç»˜ (Repaint)"></a>2.é‡ç»˜ (Repaint)</h4><p>å½“é¡µé¢ä¸­å…ƒç´ æ ·å¼çš„æ”¹å˜å¹¶ä¸å½±å“å®ƒåœ¨æ–‡æ¡£æµä¸­çš„ä½ç½®æ—¶ï¼ˆä¾‹å¦‚ï¼š<code>color</code>ã€<code>background-color</code>ã€<code>visibility</code>ç­‰ï¼‰ï¼Œæµè§ˆå™¨ä¼šå°†æ–°æ ·å¼èµ‹äºˆç»™å…ƒç´ å¹¶é‡æ–°ç»˜åˆ¶å®ƒï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºé‡ç»˜ã€‚</p><h4 id="3-æ€§èƒ½å½±å“"><a href="#3-æ€§èƒ½å½±å“" class="headerlink" title="3.æ€§èƒ½å½±å“"></a>3.æ€§èƒ½å½±å“</h4><p><strong>å›æµæ¯”é‡ç»˜çš„ä»£ä»·è¦æ›´é«˜ã€‚</strong></p><p>æœ‰æ—¶å³ä½¿ä»…ä»…å›æµä¸€ä¸ªå•ä¸€çš„å…ƒç´ ï¼Œå®ƒçš„çˆ¶å…ƒç´ ä»¥åŠä»»ä½•è·Ÿéšå®ƒçš„å…ƒç´ ä¹Ÿä¼šäº§ç”Ÿå›æµã€‚</p><p>ç°ä»£æµè§ˆå™¨ä¼šå¯¹é¢‘ç¹çš„å›æµæˆ–é‡ç»˜æ“ä½œè¿›è¡Œä¼˜åŒ–ï¼š</p><p>æµè§ˆå™¨ä¼šç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼ŒæŠŠæ‰€æœ‰å¼•èµ·å›æµå’Œé‡ç»˜çš„æ“ä½œæ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œå¦‚æœé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ•°é‡æˆ–è€…æ—¶é—´é—´éš”è¾¾åˆ°ä¸€ä¸ªé˜ˆå€¼çš„ï¼Œæµè§ˆå™¨å°±ä¼šå°†é˜Ÿåˆ—æ¸…ç©ºï¼Œè¿›è¡Œä¸€æ¬¡æ‰¹å¤„ç†ï¼Œè¿™æ ·å¯ä»¥æŠŠå¤šæ¬¡å›æµå’Œé‡ç»˜å˜æˆä¸€æ¬¡ã€‚</p><p>å½“ä½ è®¿é—®ä»¥ä¸‹å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œæµè§ˆå™¨ä¼šç«‹åˆ»æ¸…ç©ºé˜Ÿåˆ—ï¼š</p><ul><li><code>clientWidth</code>ã€<code>clientHeight</code>ã€<code>clientTop</code>ã€<code>clientLeft</code></li><li><code>offsetWidth</code>ã€<code>offsetHeight</code>ã€<code>offsetTop</code>ã€<code>offsetLeft</code></li><li><code>scrollWidth</code>ã€<code>scrollHeight</code>ã€<code>scrollTop</code>ã€<code>scrollLeft</code></li><li><code>width</code>ã€<code>height</code></li><li><code>getComputedStyle()</code></li><li><code>getBoundingClientRect()</code></li></ul><p>å› ä¸ºé˜Ÿåˆ—ä¸­å¯èƒ½ä¼šæœ‰å½±å“åˆ°è¿™äº›å±æ€§æˆ–æ–¹æ³•è¿”å›å€¼çš„æ“ä½œï¼Œå³ä½¿ä½ å¸Œæœ›è·å–çš„ä¿¡æ¯ä¸é˜Ÿåˆ—ä¸­æ“ä½œå¼•å‘çš„æ”¹å˜æ— å…³ï¼Œæµè§ˆå™¨ä¹Ÿä¼šå¼ºè¡Œæ¸…ç©ºé˜Ÿåˆ—ï¼Œç¡®ä¿ä½ æ‹¿åˆ°çš„å€¼æ˜¯æœ€ç²¾ç¡®çš„ã€‚</p><h4 id="4-å¦‚ä½•é¿å…"><a href="#4-å¦‚ä½•é¿å…" class="headerlink" title="4.å¦‚ä½•é¿å…"></a>4.å¦‚ä½•é¿å…</h4><h5 id="1-CSS"><a href="#1-CSS" class="headerlink" title="1.CSS"></a>1.CSS</h5><ul><li>é¿å…ä½¿ç”¨<code>table</code>å¸ƒå±€ã€‚</li><li>å°½å¯èƒ½åœ¨<code>DOM</code>æ ‘çš„æœ€æœ«ç«¯æ”¹å˜<code>class</code>ã€‚</li><li>é¿å…è®¾ç½®å¤šå±‚å†…è”æ ·å¼ã€‚</li><li>å°†åŠ¨ç”»æ•ˆæœåº”ç”¨åˆ°<code>position</code>å±æ€§ä¸º<code>absolute</code>æˆ–<code>fixed</code>çš„å…ƒç´ ä¸Šã€‚</li><li>é¿å…ä½¿ç”¨<code>CSS</code>è¡¨è¾¾å¼ï¼ˆä¾‹å¦‚ï¼š<code>calc()</code>ï¼‰ã€‚</li></ul><h5 id="2-JavaScript"><a href="#2-JavaScript" class="headerlink" title="2.JavaScript"></a>2.JavaScript</h5><ul><li>é¿å…é¢‘ç¹æ“ä½œæ ·å¼ï¼Œæœ€å¥½ä¸€æ¬¡æ€§é‡å†™<code>style</code>å±æ€§ï¼Œæˆ–è€…å°†æ ·å¼åˆ—è¡¨å®šä¹‰ä¸º<code>class</code>å¹¶ä¸€æ¬¡æ€§æ›´æ”¹<code>class</code>å±æ€§ã€‚</li><li>é¿å…é¢‘ç¹æ“ä½œ<code>DOM</code>ï¼Œåˆ›å»ºä¸€ä¸ª<code>documentFragment</code>ï¼Œåœ¨å®ƒä¸Šé¢åº”ç”¨æ‰€æœ‰<code>DOMæ“ä½œ</code>ï¼Œæœ€åå†æŠŠå®ƒæ·»åŠ åˆ°æ–‡æ¡£ä¸­ã€‚</li><li>ä¹Ÿå¯ä»¥å…ˆä¸ºå…ƒç´ è®¾ç½®<code>display: none</code>ï¼Œæ“ä½œç»“æŸåå†æŠŠå®ƒæ˜¾ç¤ºå‡ºæ¥ã€‚å› ä¸ºåœ¨<code>display</code>å±æ€§ä¸º<code>none</code>çš„å…ƒç´ ä¸Šè¿›è¡Œçš„<code>DOM</code>æ“ä½œä¸ä¼šå¼•å‘å›æµå’Œé‡ç»˜ã€‚</li><li>é¿å…é¢‘ç¹è¯»å–ä¼šå¼•å‘å›æµ/é‡ç»˜çš„å±æ€§ï¼Œå¦‚æœç¡®å®éœ€è¦å¤šæ¬¡ä½¿ç”¨ï¼Œå°±ç”¨ä¸€ä¸ªå˜é‡ç¼“å­˜èµ·æ¥ã€‚</li><li>å¯¹å…·æœ‰å¤æ‚åŠ¨ç”»çš„å…ƒç´ ä½¿ç”¨ç»å¯¹å®šä½ï¼Œä½¿å®ƒè„±ç¦»æ–‡æ¡£æµï¼Œå¦åˆ™ä¼šå¼•èµ·çˆ¶å…ƒç´ åŠåç»­å…ƒç´ é¢‘ç¹å›æµã€‚</li></ul><hr><p><strong>æ€»ç»“</strong>:ä¼šå¼•èµ·å…ƒç´ ä½ç½®å˜åŒ–çš„å°±ä¼šreflowï¼Œå¦‚åšä¸»ä¸Šé¢ä»‹ç»çš„ï¼Œçª—å£å¤§å°æ”¹å˜ã€å­—ä½“å¤§å°æ”¹å˜ã€ä»¥åŠå…ƒç´ ä½ç½®æ”¹å˜ï¼Œéƒ½ä¼šå¼•èµ·å‘¨å›´çš„å…ƒç´ æ”¹å˜ä»–ä»¬ä»¥å‰çš„ä½ç½®ï¼›ä¸ä¼šå¼•èµ·ä½ç½®å˜åŒ–çš„ï¼Œåªæ˜¯åœ¨ä»¥å‰çš„ä½ç½®è¿›è¡Œæ”¹å˜èƒŒæ™¯é¢œè‰²ç­‰ï¼Œåªä¼šrepaintï¼›</p><hr><hr><h3 id="6-å±…ä¸­å¸ƒå±€"><a href="#6-å±…ä¸­å¸ƒå±€" class="headerlink" title="6.å±…ä¸­å¸ƒå±€"></a>6.å±…ä¸­å¸ƒå±€</h3><h3 id="7-å±‚å ä¸Šä¸‹æ–‡"><a href="#7-å±‚å ä¸Šä¸‹æ–‡" class="headerlink" title="7.å±‚å ä¸Šä¸‹æ–‡"></a>7.å±‚å ä¸Šä¸‹æ–‡</h3><blockquote><p>å‚è€ƒ:<a href="https://juejin.cn/post/6844903667175260174#heading-1">å½»åº•ææ‡‚CSSå±‚å ä¸Šä¸‹æ–‡ã€å±‚å ç­‰çº§ã€å±‚å é¡ºåºã€z-index - æ˜é‡‘ (juejin.cn)</a></p></blockquote><p>é¦–å…ˆï¼Œ<code>z-index</code>å±æ€§å€¼å¹¶ä¸æ˜¯åœ¨ä»»ä½•å…ƒç´ ä¸Šéƒ½æœ‰æ•ˆæœã€‚å®ƒ<strong>ä»…åœ¨</strong>å®šä½å…ƒç´ ï¼ˆå®šä¹‰äº†<code>position</code>å±æ€§ï¼Œä¸”å±æ€§å€¼ä¸ºé<code>static</code>å€¼çš„å…ƒç´ ï¼‰ä¸Šæœ‰æ•ˆæœã€‚</p><p>åˆ¤æ–­å…ƒç´ åœ¨<code>Zè½´</code>ä¸Šçš„å †å é¡ºåºï¼Œä¸ä»…ä»…æ˜¯ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„<code>z-index</code>å€¼çš„å¤§å°ï¼Œè¿™ä¸ªå †å é¡ºåºå®é™…ç”±å…ƒç´ çš„<strong>å±‚å ä¸Šä¸‹æ–‡</strong>ã€<strong>å±‚å ç­‰çº§</strong>å…±åŒå†³å®šã€‚</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203181527715.png" alt="image-20220226103650745"></p><h4 id="1-ä»€ä¹ˆæ˜¯å±‚å ä¸Šä¸‹æ–‡"><a href="#1-ä»€ä¹ˆæ˜¯å±‚å ä¸Šä¸‹æ–‡" class="headerlink" title="1.ä»€ä¹ˆæ˜¯å±‚å ä¸Šä¸‹æ–‡"></a>1.ä»€ä¹ˆæ˜¯å±‚å ä¸Šä¸‹æ–‡</h4><p>å±‚å ä¸Šä¸‹æ–‡(stacking context)ï¼Œæ˜¯HTMLä¸­ä¸€ä¸ªä¸‰ç»´çš„æ¦‚å¿µã€‚åœ¨CSS2.1è§„èŒƒä¸­ï¼Œæ¯ä¸ªç›’æ¨¡å‹çš„ä½ç½®æ˜¯ä¸‰ç»´çš„ï¼Œåˆ†åˆ«æ˜¯å¹³é¢ç”»å¸ƒä¸Šçš„<code>Xè½´</code>ï¼Œ<code>Yè½´</code>ä»¥åŠè¡¨ç¤ºå±‚å çš„<code>Zè½´</code>ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå…ƒç´ åœ¨é¡µé¢ä¸Šæ²¿<code>Xè½´Yè½´</code>å¹³é“ºï¼Œæˆ‘ä»¬å¯Ÿè§‰ä¸åˆ°å®ƒä»¬åœ¨<code>Zè½´</code>ä¸Šçš„å±‚å å…³ç³»ã€‚è€Œä¸€æ—¦å…ƒç´ å‘ç”Ÿå †å ï¼Œè¿™æ—¶å°±èƒ½å‘ç°æŸä¸ªå…ƒç´ å¯èƒ½è¦†ç›–äº†å¦ä¸€ä¸ªå…ƒç´ æˆ–è€…è¢«å¦ä¸€ä¸ªå…ƒç´ è¦†ç›–ã€‚</p><p>å¦‚æœä¸€ä¸ªå…ƒç´ å«æœ‰å±‚å ä¸Šä¸‹æ–‡ï¼Œ(ä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯å±‚å ä¸Šä¸‹æ–‡å…ƒç´ )ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºè¿™ä¸ªå…ƒç´ åœ¨<code>Zè½´</code>ä¸Šå°±â€œé«˜äººä¸€ç­‰â€ï¼Œæœ€ç»ˆè¡¨ç°å°±æ˜¯å®ƒç¦»å±å¹•è§‚å¯Ÿè€…æ›´è¿‘ã€‚</p><blockquote><p><strong>å…·è±¡çš„æ¯”å–»</strong>ï¼šä½ å¯ä»¥æŠŠå±‚å ä¸Šä¸‹æ–‡å…ƒç´ ç†è§£ä¸ºç†è§£ä¸º<strong>è¯¥å…ƒç´ å½“äº†å®˜</strong>ï¼Œè€Œå…¶ä»–éå±‚å ä¸Šä¸‹æ–‡å…ƒç´ åˆ™å¯ä»¥ç†è§£ä¸ºæ™®é€šç¾¤ä¼—ã€‚å‡¡æ˜¯â€œå½“äº†å®˜çš„å…ƒç´ â€å°±æ¯”æ™®é€šå…ƒç´ ç­‰çº§è¦é«˜ï¼Œä¹Ÿå°±æ˜¯è¯´å…ƒç´ åœ¨<code>Zè½´</code>ä¸Šæ›´é ä¸Šï¼Œæ›´é è¿‘è§‚å¯Ÿè€…ã€‚</p></blockquote><h4 id="2-ä»€ä¹ˆæ˜¯å±‚å ç­‰çº§"><a href="#2-ä»€ä¹ˆæ˜¯å±‚å ç­‰çº§" class="headerlink" title="2.ä»€ä¹ˆæ˜¯å±‚å ç­‰çº§"></a>2.ä»€ä¹ˆæ˜¯å±‚å ç­‰çº§</h4><p>é‚£ä¹ˆï¼Œå±‚å ç­‰çº§æŒ‡çš„åˆæ˜¯ä»€ä¹ˆï¼Ÿå±‚å ç­‰çº§(stacking levelï¼Œå«â€œå±‚å çº§åˆ«â€/â€œå±‚å æ°´å¹³â€ä¹Ÿè¡Œ)</p><ul><li>åœ¨åŒä¸€ä¸ªå±‚å ä¸Šä¸‹æ–‡ä¸­ï¼Œå®ƒæè¿°å®šä¹‰çš„æ˜¯è¯¥å±‚å ä¸Šä¸‹æ–‡ä¸­çš„å±‚å ä¸Šä¸‹æ–‡å…ƒç´ åœ¨<code>Zè½´</code>ä¸Šçš„ä¸Šä¸‹é¡ºåºã€‚</li><li>åœ¨å…¶ä»–æ™®é€šå…ƒç´ ä¸­ï¼Œå®ƒæè¿°å®šä¹‰çš„æ˜¯è¿™äº›æ™®é€šå…ƒç´ åœ¨<code>Zè½´</code>ä¸Šçš„ä¸Šä¸‹é¡ºåºã€‚</li></ul><p>è¯´åˆ°è¿™ï¼Œå¯èƒ½å¾ˆå¤šäººç–‘é—®äº†ï¼Œä¸è®ºåœ¨å±‚å ä¸Šä¸‹æ–‡ä¸­è¿˜æ˜¯åœ¨æ™®é€šå…ƒç´ ä¸­ï¼Œå±‚å ç­‰çº§éƒ½è¡¨ç¤ºå…ƒç´ åœ¨<code>Zè½´</code>ä¸Šçš„ä¸Šä¸‹é¡ºåºï¼Œé‚£å°±ç›´æ¥è¯´å®ƒæè¿°å®šä¹‰äº†æ‰€æœ‰å…ƒç´ åœ¨<code>Zè½´</code>ä¸Šçš„ä¸Šä¸‹é¡ºåºå°±OKå•Šï¼ä¸ºä»€ä¹ˆè¦åˆ†å¼€æè¿°ï¼Ÿ</p><p>ä¸ºäº†è¯´æ˜åŸå› ï¼Œå…ˆä¸¾ä¸ªæ —å­ï¼š</p><blockquote><p><strong>å…·è±¡çš„æ¯”å–»</strong>ï¼šæˆ‘ä»¬ä¹‹å‰è¯´åˆ°ï¼Œå¤„äºå±‚å ä¸Šä¸‹æ–‡ä¸­çš„å…ƒç´ ï¼Œå°±åƒæ˜¯å…ƒç´ å½“äº†å®˜ï¼Œç­‰çº§è‡ªç„¶æ¯”æ™®é€šå…ƒç´ é«˜ã€‚å†æƒ³è±¡ä¸€ä¸‹ï¼Œå‡è®¾ä¸€ä¸ªå®˜å‘˜Aæ˜¯ä¸ªçœçº§é¢†å¯¼ï¼Œä»–ä¸‹å±æœ‰ä¸€ä¸ªç§˜ä¹¦a-1ï¼Œå®¶é‡Œæœ‰ä¸€ä¸ªä¿å§†a-2ã€‚å¦ä¸€ä¸ªå®˜å‘˜Bæ˜¯ä¸€ä¸ªå¿çº§é¢†å¯¼ï¼Œä»–ä¸‹å±æœ‰ä¸€ä¸ªç§˜ä¹¦b-1ï¼Œå®¶é‡Œæœ‰ä¸€ä¸ªä¿å§†b-2ã€‚a-1å’Œb-1è™½ç„¶éƒ½æ˜¯ç§˜ä¹¦ï¼Œä½†æ˜¯ä½ æƒ³ä¸€ä¸ªçœçº§é¢†å¯¼çš„ç§˜ä¹¦å’Œä¸€ä¸ªå¿çº§é¢†å¯¼çš„ç§˜ä¹¦ä¹‹é—´æœ‰å¯æ¯”æ€§ä¹ˆï¼Ÿç”šè‡³ä¿å§†a-2éƒ½è¦æ¯”ç§˜ä¹¦b-1çš„ç­‰çº§é«˜å¾—å¤šã€‚è°å¤§è°å°ï¼Œè°é«˜è°ä½ä¸€ç›®äº†ç„¶ï¼Œæ‰€ä»¥æ ¹æœ¬æ²¡æœ‰æ¯”è¾ƒçš„æ„ä¹‰ã€‚åªæœ‰åœ¨Aä¸‹å±çš„a-1ã€a-2ä»¥åŠBä¸‹å±çš„b-1ã€b-2ä¸­ç›¸äº’æ¯”è¾ƒå¤§å°é«˜ä½æ‰æœ‰æ„ä¹‰ã€‚</p></blockquote><p><strong>å†ç±»æ¯”å›â€œå±‚å ä¸Šä¸‹æ–‡â€å’Œâ€œå±‚å ç­‰çº§â€ï¼Œå°±å¾—å‡ºä¸€ä¸ªç»“è®ºï¼š</strong></p><ol><li>æ™®é€šå…ƒç´ çš„å±‚å ç­‰çº§ä¼˜å…ˆç”±å…¶æ‰€åœ¨çš„å±‚å ä¸Šä¸‹æ–‡å†³å®šã€‚</li><li>å±‚å ç­‰çº§çš„æ¯”è¾ƒåªæœ‰åœ¨å½“å‰å±‚å ä¸Šä¸‹æ–‡å…ƒç´ ä¸­æ‰æœ‰æ„ä¹‰ã€‚ä¸åŒå±‚å ä¸Šä¸‹æ–‡ä¸­æ¯”è¾ƒå±‚å ç­‰çº§æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</li></ol><h4 id="3-å¦‚ä½•äº§ç”Ÿâ€œå±‚å ä¸Šä¸‹æ–‡â€"><a href="#3-å¦‚ä½•äº§ç”Ÿâ€œå±‚å ä¸Šä¸‹æ–‡â€" class="headerlink" title="3.å¦‚ä½•äº§ç”Ÿâ€œå±‚å ä¸Šä¸‹æ–‡â€"></a>3.å¦‚ä½•äº§ç”Ÿâ€œå±‚å ä¸Šä¸‹æ–‡â€</h4><p>å‰é¢è¯´äº†é‚£ä¹ˆå¤šï¼ŒçŸ¥é“äº†â€œå±‚å ä¸Šä¸‹æ–‡â€å’Œâ€œå±‚å ç­‰çº§â€ï¼Œå…¶ä¸­è¿˜æœ‰ä¸€ä¸ªæœ€å…³é”®çš„é—®é¢˜ï¼šåˆ°åº•å¦‚ä½•äº§ç”Ÿå±‚å ä¸Šä¸‹æ–‡å‘¢ï¼Ÿå¦‚ä½•è®©ä¸€ä¸ªå…ƒç´ å˜æˆå±‚å ä¸Šä¸‹æ–‡å…ƒç´ å‘¢ï¼Ÿ</p><p>å…¶å®ï¼Œå±‚å ä¸Šä¸‹æ–‡ä¹ŸåŸºæœ¬ä¸Šæ˜¯æœ‰ä¸€äº›ç‰¹å®šçš„CSSå±æ€§åˆ›å»ºçš„ï¼Œä¸€èˆ¬æœ‰3ç§æ–¹æ³•ï¼š</p><ol><li><code>HTML</code>ä¸­çš„æ ¹å…ƒç´ <code>&lt;html&gt;&lt;/html&gt;</code>æœ¬èº«jå°±å…·æœ‰å±‚å ä¸Šä¸‹æ–‡ï¼Œç§°ä¸ºâ€œæ ¹å±‚å ä¸Šä¸‹æ–‡â€ã€‚</li><li>æ™®é€šå…ƒç´ è®¾ç½®<code>position</code>å±æ€§ä¸º<strong>é</strong><code>static</code>å€¼å¹¶è®¾ç½®<code>z-index</code>å±æ€§ä¸ºå…·ä½“æ•°å€¼ï¼Œäº§ç”Ÿå±‚å ä¸Šä¸‹æ–‡ã€‚</li><li>CSS3ä¸­çš„æ–°å±æ€§ä¹Ÿå¯ä»¥äº§ç”Ÿå±‚å ä¸Šä¸‹æ–‡ã€‚</li></ol><hr><p>ä¸Šé¢è¯´äº†é‚£ä¹ˆå¤šï¼Œå¯èƒ½ä½ è¿˜æ˜¯æœ‰ç‚¹æ‡µã€‚è¿™ä¹ˆå¤šæ¦‚å¿µè§„åˆ™ï¼Œæ¥ç‚¹æœ€å®é™…çš„ï¼Œæœ‰æ²¡æœ‰ä¸€ä¸ªâ€œå¥—è·¯â€å½“é‡åˆ°å…ƒç´ å±‚å æ—¶ï¼Œèƒ½å¾ˆæ¸…æ™°åœ°åˆ¤æ–­å‡ºä»–ä»¬è°åœ¨ä¸Šè°åœ¨ä¸‹å‘¢ï¼Ÿç­”æ¡ˆæ˜¯â€”â€”è‚¯å®šæœ‰å•Šï¼</p><ol><li>é¦–å…ˆå…ˆçœ‹è¦æ¯”è¾ƒçš„ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å¤„äºåŒä¸€ä¸ªå±‚å ä¸Šä¸‹æ–‡ä¸­<ol><li>å¦‚æœæ˜¯ï¼Œè°çš„å±‚å ç­‰çº§å¤§ï¼Œè°åœ¨ä¸Šé¢</li><li>å¦‚æœä¸¤ä¸ªå…ƒç´ ä¸åœ¨ç»Ÿä¸€å±‚å ä¸Šä¸‹æ–‡ä¸­ï¼Œè¯·å…ˆæ¯”è¾ƒä»–ä»¬æ‰€å¤„çš„å±‚å ä¸Šä¸‹æ–‡çš„å±‚å ç­‰çº§</li></ol></li><li>å½“ä¸¤ä¸ªå…ƒç´ å±‚å ç­‰çº§ç›¸åŒã€å±‚å é¡ºåºç›¸åŒæ—¶ï¼Œåœ¨DOMç»“æ„ä¸­åé¢çš„å…ƒç´ å±‚å ç­‰çº§åœ¨å‰é¢å…ƒç´ ä¹‹ä¸Š</li></ol><hr><hr><h3 id="8-sass-less"><a href="#8-sass-less" class="headerlink" title="8.sass/less"></a>8.sass/less</h3><h3 id="9-å¯¹ç›’æ¨¡å‹çš„ç†è§£"><a href="#9-å¯¹ç›’æ¨¡å‹çš„ç†è§£" class="headerlink" title="9.å¯¹ç›’æ¨¡å‹çš„ç†è§£"></a>9.å¯¹ç›’æ¨¡å‹çš„ç†è§£</h3><p>ç›’æ¨¡å‹</p><p>ç›’æ¨¡å‹å…±æœ‰ä¸¤ç§:</p><ul><li>æ ‡å‡†ç›’æ¨¡å‹</li><li>IEç›’æ¨¡å‹</li></ul><h2 id="3-Vue"><a href="#3-Vue" class="headerlink" title="3.Vue"></a>3.Vue</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203181857871.webp" alt="img"></p><h3 id="1-MVVM"><a href="#1-MVVM" class="headerlink" title="1.MVVM"></a>1.MVVM</h3><h4 id="1-ä»€ä¹ˆæ˜¯MVVM"><a href="#1-ä»€ä¹ˆæ˜¯MVVM" class="headerlink" title="1.ä»€ä¹ˆæ˜¯MVVM?"></a>1.ä»€ä¹ˆæ˜¯MVVM?</h4><blockquote><p>Modelâ€“Viewâ€“ViewModel ï¼ˆMVVMï¼‰ æ˜¯ä¸€ä¸ªè½¯ä»¶æ¶æ„è®¾è®¡æ¨¡å¼ï¼Œæºäºç»å…¸çš„Model-View-Controller(MVC)æ¨¡å¼,MVVM çš„å‡ºç°ä¿ƒè¿›äº†å‰ç«¯å¼€å‘ä¸åç«¯ä¸šåŠ¡é€»è¾‘çš„åˆ†ç¦»ï¼Œæå¤§åœ°æé«˜äº†å‰ç«¯å¼€å‘æ•ˆç‡.</p></blockquote><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203181527689.awebp" alt="1.png"></p><p><strong>MVVM</strong>çš„æ ¸å¿ƒæ˜¯<strong>ViewModel</strong>å±‚,å®ƒå°±åƒæ˜¯ä¸€ä¸ªä¸­è½¬ç«™ï¼ˆvalue converterï¼‰ï¼Œè´Ÿè´£è½¬æ¢ Model ä¸­çš„æ•°æ®å¯¹è±¡æ¥è®©æ•°æ®å˜å¾—æ›´å®¹æ˜“ç®¡ç†å’Œä½¿ç”¨ï¼Œ<strong>è¯¥å±‚å‘ä¸Šä¸è§†å›¾å±‚è¿›è¡ŒåŒå‘æ•°æ®ç»‘å®šï¼Œå‘ä¸‹ä¸ Model å±‚é€šè¿‡æ¥å£è¯·æ±‚è¿›è¡Œæ•°æ®äº¤äº’</strong>ï¼Œèµ·å‘ˆä¸Šå¯ä¸‹ä½œç”¨ã€‚</p><p><strong>Viewå±‚</strong></p><p>View æ˜¯è§†å›¾å±‚ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·ç•Œé¢ã€‚å‰ç«¯ä¸»è¦ç”± HTML å’Œ CSS æ¥æ„å»º ã€‚</p><p><strong>Model å±‚</strong></p><p>Model æ˜¯æŒ‡æ•°æ®æ¨¡å‹ï¼Œæ³›æŒ‡åç«¯è¿›è¡Œçš„å„ç§ä¸šåŠ¡é€»è¾‘å¤„ç†å’Œæ•°æ®æ“æ§ï¼Œå¯¹äºå‰ç«¯æ¥è¯´å°±æ˜¯åç«¯æä¾›çš„ api æ¥å£ã€‚</p><p><strong>ViewModel å±‚</strong></p><p><strong><code>ViewModel</code> æ˜¯ç”±å‰ç«¯å¼€å‘äººå‘˜ç»„ç»‡ç”Ÿæˆå’Œç»´æŠ¤çš„è§†å›¾æ•°æ®å±‚</strong>ã€‚åœ¨è¿™ä¸€å±‚ï¼Œå‰ç«¯å¼€å‘è€…å¯¹ä»åç«¯è·å–çš„ Model æ•°æ®è¿›è¡Œè½¬æ¢å¤„ç†ï¼ŒåšäºŒæ¬¡å°è£…ï¼Œä»¥ç”Ÿæˆç¬¦åˆ View å±‚ä½¿ç”¨é¢„æœŸçš„è§†å›¾æ•°æ®æ¨¡å‹ã€‚</p><h4 id="2-ViewModelæœ‰ä»€ä¹ˆå¥½å¤„"><a href="#2-ViewModelæœ‰ä»€ä¹ˆå¥½å¤„" class="headerlink" title="2.ViewModelæœ‰ä»€ä¹ˆå¥½å¤„?"></a>2.ViewModelæœ‰ä»€ä¹ˆå¥½å¤„?</h4><p>MVVM æ¡†æ¶å®ç°äº†åŒå‘ç»‘å®šï¼Œè¿™æ · ViewModel çš„å†…å®¹ä¼šå®æ—¶å±•ç°åœ¨ View å±‚ï¼Œå‰ç«¯å¼€å‘è€…å†ä¹Ÿä¸å¿…ä½æ•ˆåˆéº»çƒ¦åœ°é€šè¿‡æ“çºµ DOM å»æ›´æ–°è§†å›¾ï¼ŒMVVM æ¡†æ¶å·²ç»æŠŠæœ€è„æœ€ç´¯çš„ä¸€å—åšå¥½äº†ï¼Œæˆ‘ä»¬å¼€å‘è€…åªéœ€è¦å¤„ç†å’Œç»´æŠ¤ ViewModelï¼Œæ›´æ–°æ•°æ®è§†å›¾å°±ä¼šè‡ªåŠ¨å¾—åˆ°ç›¸åº”æ›´æ–°ã€‚è¿™æ · View å±‚å±•ç°çš„ä¸æ˜¯ Model å±‚çš„æ•°æ®ï¼Œè€Œæ˜¯ ViewModel çš„æ•°æ®ï¼Œç”± ViewModel è´Ÿè´£ä¸ Model å±‚äº¤äº’ï¼Œè¿™å°±å®Œå…¨è§£è€¦äº† View å±‚å’Œ Model å±‚ï¼Œè¿™ä¸ªè§£è€¦æ˜¯è‡³å…³é‡è¦çš„ï¼Œå®ƒæ˜¯å‰åç«¯åˆ†ç¦»æ–¹æ¡ˆå®æ–½çš„é‡è¦ä¸€ç¯ã€‚</p><h3 id="2-ç”Ÿå‘½å‘¨æœŸ"><a href="#2-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="2.ç”Ÿå‘½å‘¨æœŸ"></a>2.ç”Ÿå‘½å‘¨æœŸ</h3><h4 id="1-ä»‹ç»ä¸€ä¸‹Vueç”Ÿå‘½å‘¨æœŸ"><a href="#1-ä»‹ç»ä¸€ä¸‹Vueç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="1.ä»‹ç»ä¸€ä¸‹Vueç”Ÿå‘½å‘¨æœŸ"></a>1.ä»‹ç»ä¸€ä¸‹Vueç”Ÿå‘½å‘¨æœŸ</h4><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203181527157.awebp" alt="1.png"></p><p>Vue å®ä¾‹æœ‰ä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯ä»å¼€å§‹åˆ›å»ºå®ä¾‹ã€åˆå§‹åŒ–æ•°æ®ã€ç¼–è¯‘æ¨¡ç‰ˆã€æŒ‚è½½ Dom -&gt; æ¸²æŸ“ã€æ›´æ–° -&gt; æ¸²æŸ“ã€å¸è½½ç­‰ä¸€ç³»åˆ—è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°è¿™æ˜¯ Vue çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><p><strong>å„ä¸ªç”Ÿå‘½å‘¨æœŸçš„ä½œç”¨</strong></p><table><thead><tr><th>ç”Ÿå‘½å‘¨æœŸ</th><th>æè¿°</th></tr></thead><tbody><tr><td>beforeCreate</td><td>ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºä¹‹åˆï¼Œç»„ä»¶çš„å±æ€§ç”Ÿæ•ˆä¹‹å‰</td></tr><tr><td>created</td><td>ç»„ä»¶å®ä¾‹å·²ç»å®Œå…¨åˆ›å»ºï¼Œå±æ€§ä¹Ÿç»‘å®šï¼Œä½†çœŸå® dom è¿˜æ²¡æœ‰ç”Ÿæˆï¼Œ$el è¿˜ä¸å¯ç”¨</td></tr><tr><td>beforeMount</td><td>åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨</td></tr><tr><td>mounted</td><td>el è¢«æ–°åˆ›å»ºçš„ vm.$el æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨è¯¥é’©å­</td></tr><tr><td>beforeUpdate</td><td>ç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰</td></tr><tr><td>updated</td><td>ç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å</td></tr><tr><td>activited</td><td>keep-alive ä¸“å±ï¼Œç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒç”¨</td></tr><tr><td>deactivated</td><td>keep-alive ä¸“å±ï¼Œç»„ä»¶è¢«é”€æ¯æ—¶è°ƒç”¨</td></tr><tr><td>beforeDestory</td><td>ç»„ä»¶é”€æ¯å‰è°ƒç”¨</td></tr><tr><td>destoryed</td><td>ç»„ä»¶é”€æ¯åè°ƒç”¨</td></tr></tbody></table><p><strong>beforeCreate</strong>:æ­¤æ—¶ç”Ÿå‘½å‘¨æœŸä»¥åŠäº‹ä»¶å·²ç»è¢«åˆå§‹åŒ–ä½†æ˜¯æ•°æ®ä»£ç†è¿˜æœªå¼€å§‹ï¼Œæ— æ³•é€šè¿‡vmè®¿é—®åˆ°dataä¸­çš„æ•°æ®ã€methodsä¸­çš„æ–¹æ³•</p><p><strong>created</strong>ï¼šæ­¤æ—¶æ•°æ®ç›‘æµ‹å’Œæ•°æ®ä»£ç†å·²ç»åˆå§‹åŒ–ï¼Œå¯ä»¥é€šè¿‡è®¿é—®vmè®¿é—®åˆ°dataä¸­çš„æ•°æ®</p><p><strong>beforeMount</strong>ï¼šæ­¤é˜¶æ®µVueå¼€å§‹è§£ææ¨¡æ¿ï¼Œç”Ÿæˆè™šæ‹ŸDOM(å†…å­˜ä¸­)ï¼Œä½†æ˜¯é¡µé¢è¿˜ä¸èƒ½æ˜¾ç¤ºè§£æå¥½çš„å†…å®¹ï¼Œ</p><p>æ­¤æ—¶é¡µé¢å‘ˆç°çš„æ—¶æœªç»Vueç¼–è¯‘çš„DOMç»“æ„ï¼Œæ‰€æœ‰å¯¹DOMçš„æ“ä½œï¼Œæœ€ç»ˆéƒ½ä¸å¥æ•ˆ</p><p><strong>mouted</strong>:æ­¤é˜¶æ®µå†…å­˜ä¸­çš„è™šæ‹ŸDOMå·²ç»è½¬æˆçœŸå®DOMæ’å…¥é¡µé¢ã€‚é¡µé¢ä¸­å‘ˆç°çš„æ—¶ç»è¿‡Vueç¼–è¯‘çš„DOMï¼Œæ­¤æ—¶å¯¹DOMçš„æ“ä½œå‡æœ‰æ•ˆã€‚è‡³æ­¤åˆå§‹åŒ–è¿‡ç¨‹ç»“æŸï¼Œä¸€èˆ¬å†æ¬¡è¿›è¡Œ:å¼€å¯å®šæ—¶å™¨ã€å‘é€ç½‘ç»œè¯·æ±‚ã€è®¢é˜…æ¶ˆæ¯ã€ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ç­‰åˆå§‹åŒ–æ“ä½œã€</p><p><strong>beforeUpdate</strong>:æ­¤æ—¶æ•°æ®æ˜¯æ–°çš„ï¼Œä½†æ˜¯é¡µé¢æ˜¯æ—§çš„ï¼Œé¡µé¢å°šæœªå’Œæ•°æ®ä¿æŒåŒæ­¥</p><p><strong>updated</strong>:æ­¤æ—¶é¡µé¢å·²ç»å®Œæˆäº†ä»Modelåˆ°Viewçš„æ›´æ–°ï¼Œé¡µé¢æ•°æ®æ˜¯æ–°çš„ï¼Œé¡µé¢ä¹Ÿæ˜¯æ–°çš„ï¼Œå³é¡µé¢å’Œæ•°æ®ä¿æŒåŒæ­¥</p><p><strong>beforeDestory</strong>ï¼šæ­¤æ—¶vmä¸­æ‰€æœ‰çš„dataã€methodsã€æŒ‡ä»¤ç­‰ç­‰éƒ½å¤„äºå¯ç”¨çŠ¶æ€ï¼Œä½†æ˜¯é©¬ä¸Šè¦æ‰§è¡Œé”€æ¯è¿‡ç¨‹ï¼Œä¸€èˆ¬åœ¨æ­¤é˜¶æ®µ:å…³é—­å®šæ—¶å™¨ï¼Œå–æ¶ˆè®¢é˜…æ¶ˆæ¯ã€è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ç­‰æ”¶å°¾æ“ä½œ</p><p><strong>destoryed</strong>:é”€æ¯vmå®ä¾‹</p><h4 id="2-nextTickæ˜¯å¦‚ä½•å®ç°çš„"><a href="#2-nextTickæ˜¯å¦‚ä½•å®ç°çš„" class="headerlink" title="2.nextTickæ˜¯å¦‚ä½•å®ç°çš„"></a>2.nextTickæ˜¯å¦‚ä½•å®ç°çš„</h4><p><strong>ä»€ä¹ˆæ˜¯nextTick?</strong></p><blockquote><p>nextTick æ˜¯åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œåœ¨ä¿®æ”¹æ•°æ®ä¹‹åä½¿ç”¨nextTickï¼Œåˆ™å¯ä»¥åœ¨å›è°ƒä¸­è·å–æ›´æ–°åçš„ DOM</p></blockquote><p><strong>nextTickåŸç†</strong></p><h4 id="3-çˆ¶å­ç»„ä»¶æŒ‚è½½æ—¶-ç”Ÿå‘½å‘¨æœŸçš„é¡ºåºæ˜¯æ€ä¹ˆæ ·çš„"><a href="#3-çˆ¶å­ç»„ä»¶æŒ‚è½½æ—¶-ç”Ÿå‘½å‘¨æœŸçš„é¡ºåºæ˜¯æ€ä¹ˆæ ·çš„" class="headerlink" title="3.çˆ¶å­ç»„ä»¶æŒ‚è½½æ—¶,ç”Ÿå‘½å‘¨æœŸçš„é¡ºåºæ˜¯æ€ä¹ˆæ ·çš„"></a>3.çˆ¶å­ç»„ä»¶æŒ‚è½½æ—¶,ç”Ÿå‘½å‘¨æœŸçš„é¡ºåºæ˜¯æ€ä¹ˆæ ·çš„</h4><p>vue çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œé¡ºåºå¯ä»¥å½’ç±»ä¸ºä»¥ä¸‹ 4 éƒ¨åˆ†ï¼š</p><ul><li><p>åŠ è½½æ¸²æŸ“è¿‡ç¨‹</p><p>çˆ¶ beforeCreate -&gt; çˆ¶ created -&gt; çˆ¶ beforeMount -&gt; å­ beforeCreate -&gt; å­ created -&gt; å­ beforeMount -&gt; å­ mounted -&gt; çˆ¶ mounted</p></li><li><p>å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹</p><p>çˆ¶ beforeUpdate -&gt; å­ beforeUpdate -&gt; å­ updated -&gt; çˆ¶ updated</p></li><li><p>çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹</p><p>çˆ¶ beforeUpdate -&gt; çˆ¶ updated</p></li><li><p>é”€æ¯è¿‡ç¨‹</p><p>çˆ¶ beforeDestroy -&gt; å­ beforeDestroy -&gt; å­ destroyed -&gt; çˆ¶ destroyed</p></li></ul><h3 id="3-æ•°æ®ç»‘å®š"><a href="#3-æ•°æ®ç»‘å®š" class="headerlink" title="3.æ•°æ®ç»‘å®š"></a>3.æ•°æ®ç»‘å®š</h3><h4 id="1-Vueçš„åŒå‘ç»‘å®šå¦‚ä½•å®ç°"><a href="#1-Vueçš„åŒå‘ç»‘å®šå¦‚ä½•å®ç°" class="headerlink" title="1.Vueçš„åŒå‘ç»‘å®šå¦‚ä½•å®ç°"></a>1.Vueçš„åŒå‘ç»‘å®šå¦‚ä½•å®ç°</h4><p>Vue æ•°æ®åŒå‘ç»‘å®šä¸»è¦æ˜¯æŒ‡ï¼šæ•°æ®å˜åŒ–æ›´æ–°è§†å›¾ï¼Œè§†å›¾å˜åŒ–æ›´æ–°æ•°æ®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191107846.webp" alt="1.png"></p><p>å³ï¼š</p><ul><li>è¾“å…¥æ¡†å†…å®¹å˜åŒ–æ—¶ï¼ŒData ä¸­çš„æ•°æ®åŒæ­¥å˜åŒ–ã€‚å³ View =&gt; Data çš„å˜åŒ–ã€‚</li><li>Data ä¸­çš„æ•°æ®å˜åŒ–æ—¶ï¼Œæ–‡æœ¬èŠ‚ç‚¹çš„å†…å®¹åŒæ­¥å˜åŒ–ã€‚å³ Data =&gt; View çš„å˜åŒ–ã€‚</li></ul><p>å…¶ä¸­ï¼ŒView å˜åŒ–æ›´æ–° Data ï¼Œå¯ä»¥é€šè¿‡äº‹ä»¶ç›‘å¬çš„æ–¹å¼æ¥å®ç°ï¼Œæ‰€ä»¥ Vue çš„æ•°æ®åŒå‘ç»‘å®šçš„å·¥ä½œä¸»è¦æ˜¯å¦‚ä½•æ ¹æ® Data å˜åŒ–æ›´æ–° Viewã€‚</p><p>Vue ä¸»è¦é€šè¿‡ä»¥ä¸‹ 4 ä¸ªæ­¥éª¤æ¥å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼š</p><p>å®ç°ä¸€ä¸ªç›‘å¬å™¨ <strong>Observer</strong>ï¼šå¯¹æ•°æ®å¯¹è±¡è¿›è¡Œéå†ï¼ŒåŒ…æ‹¬å­å±æ€§å¯¹è±¡çš„å±æ€§ï¼Œåˆ©ç”¨ Object.defineProperty() å¯¹å±æ€§éƒ½åŠ ä¸Š setter å’Œ getterã€‚è¿™æ ·çš„è¯ï¼Œç»™è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªå€¼èµ‹å€¼ï¼Œå°±ä¼šè§¦å‘ setterï¼Œé‚£ä¹ˆå°±èƒ½ç›‘å¬åˆ°äº†æ•°æ®å˜åŒ–ã€‚</p><p>å®ç°ä¸€ä¸ªè§£æå™¨ <strong>Compile</strong>ï¼šè§£æ Vue æ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­çš„å˜é‡éƒ½æ›¿æ¢æˆæ•°æ®ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾ï¼Œå¹¶å°†æ¯ä¸ªæŒ‡ä»¤å¯¹åº”çš„èŠ‚ç‚¹ç»‘å®šæ›´æ–°å‡½æ•°ï¼Œæ·»åŠ ç›‘å¬æ•°æ®çš„è®¢é˜…è€…ï¼Œä¸€æ—¦æ•°æ®æœ‰å˜åŠ¨ï¼Œæ”¶åˆ°é€šçŸ¥ï¼Œè°ƒç”¨æ›´æ–°å‡½æ•°è¿›è¡Œæ•°æ®æ›´æ–°ã€‚</p><p>å®ç°ä¸€ä¸ªè®¢é˜…è€… <strong>Watcherï¼šWatcher</strong> è®¢é˜…è€…æ˜¯ Observer å’Œ Compile ä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ ï¼Œä¸»è¦çš„ä»»åŠ¡æ˜¯è®¢é˜… Observer ä¸­çš„å±æ€§å€¼å˜åŒ–çš„æ¶ˆæ¯ï¼Œå½“æ”¶åˆ°å±æ€§å€¼å˜åŒ–çš„æ¶ˆæ¯æ—¶ï¼Œè§¦å‘è§£æå™¨ Compile ä¸­å¯¹åº”çš„æ›´æ–°å‡½æ•°ã€‚</p><p>å®ç°ä¸€ä¸ªè®¢é˜…å™¨ <strong>Dep</strong>ï¼šè®¢é˜…å™¨é‡‡ç”¨ å‘å¸ƒ-è®¢é˜… è®¾è®¡æ¨¡å¼ï¼Œç”¨æ¥æ”¶é›†è®¢é˜…è€… Watcherï¼Œå¯¹ç›‘å¬å™¨ Observer å’Œ è®¢é˜…è€… Watcher è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191112642.webp" alt="1.png"></p><p>æŒ‰æˆ‘è‡ªå·±çš„ç†è§£å°±æ˜¯:å½“ä¿®æ”¹æ•°æ®æ—¶,vueä¼šè°ƒç”¨dep.notifyé€šçŸ¥ç›¸åº”çš„wathceræ‰§è¡Œå®ƒçš„updateå‡½æ•°,updateå‡½æ•°ä¼šæ‰§è¡Œcompileä¸­ç»‘å®šçš„å›è°ƒ,ç„¶ä¼šä¿®æ”¹domçš„å€¼.å½“ä¿®æ”¹è§†å›¾å±‚çš„æ•°æ®æ—¶,vueé€šè¿‡ç›‘å¬inputæ¥è·å–inputä¸­çš„å€¼å¹¶å°†å…¶èµ‹å€¼ç»™dataä¸­çš„å¯¹åº”å±æ€§ï¼Œä¿®æ”¹å±æ€§åˆä¼šè§¦å‘setterï¼Œäºæ˜¯åˆä¼šæ‰§è¡Œdep.notifyç­‰ä¸€ç³»åˆ—æ“ä½œ,ä»è€Œè¾¾åˆ°åŒå‘ç»‘å®š.</p><h4 id="2-Vueå¦‚ä½•ç›‘å¬æ•°ç»„æˆ–å¯¹è±¡çš„æ”¹å˜"><a href="#2-Vueå¦‚ä½•ç›‘å¬æ•°ç»„æˆ–å¯¹è±¡çš„æ”¹å˜" class="headerlink" title="2.Vueå¦‚ä½•ç›‘å¬æ•°ç»„æˆ–å¯¹è±¡çš„æ”¹å˜"></a>2.Vueå¦‚ä½•ç›‘å¬æ•°ç»„æˆ–å¯¹è±¡çš„æ”¹å˜</h4><p><strong>1.vueä¼šç›‘è§†dataä¸­æ‰€æœ‰å±‚æ¬¡çš„æ•°æ®</strong></p><p><strong>2.å¦‚ä½•ç›‘æµ‹å¯¹è±¡ä¸­çš„æ•°æ®ï¼Ÿ</strong></p><p>â€‹    é€šè¿‡setteräº‹ä»¶ç›‘è§†ï¼Œä¸”è¦åœ¨newVueæ—¶å°±ä¼ å…¥è¦ç›‘æµ‹çš„æ•°æ®</p><p>â€‹        (1).åœ¨å¯¹è±¡åè¿½åŠ çš„å±æ€§ï¼ŒVueé»˜è®¤ä¸åšå“åº”å¼å¤„ç†</p><p>â€‹         (2).å¦‚éœ€ç»™åæ·»åŠ çš„å±æ€§åšå“åº”å¼ï¼Œéœ€è¦ä½¿ç”¨ä»¥ä¸‹API:</p><p>â€‹                Vue.set(target,propertyName/index,value)</p><p>â€‹                vm.$set(target,propertyName/index,value)</p><p> <strong>3.å¦‚ä½•ç›‘æµ‹æ•°ç»„ä¸­çš„æ•°æ®?</strong></p><p>â€‹     é€šè¿‡åŒ…è£¹æ•°ç»„æ›´æ–°å…ƒç´ çš„æ–¹æ³•å®ç°ï¼Œæœ¬è´¨å°±æ˜¯åšäº†ä¸¤ä»¶äº‹:</p><p>â€‹            (1).è°ƒç”¨åŸç”Ÿå¯¹åº”çš„æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ›´æ–°</p><p>â€‹            (2).é‡æ–°è§£ææ¨¡æ¿ï¼Œè¿›è€Œæ›´æ–°é¡µé¢</p><p><strong>4.åœ¨Vueä¿®æ”¹æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ éœ€è¦ç”¨åˆ°ä»¥ä¸‹æ–¹æ³•:</strong></p><p>â€‹        1.ä½¿ç”¨è¿™äº›API:push(),pop(),shift(),unshift(),splice(),sort(),erverse()</p><p>â€‹        2.Vue.set()æˆ–vm.$set</p><hr><h4 id="3-definePropertyå’Œproxyçš„åŒºåˆ«"><a href="#3-definePropertyå’Œproxyçš„åŒºåˆ«" class="headerlink" title="3.definePropertyå’Œproxyçš„åŒºåˆ«"></a>3.definePropertyå’Œproxyçš„åŒºåˆ«</h4><p><strong>Proxy çš„ä¼˜åŠ¿å¦‚ä¸‹:</strong></p><ul><li>Proxy å¯ä»¥ç›´æ¥ç›‘å¬å¯¹è±¡è€Œéå±æ€§ï¼›</li><li>Proxy å¯ä»¥ç›´æ¥ç›‘å¬æ•°ç»„çš„å˜åŒ–ï¼›</li><li>Proxy æœ‰å¤šè¾¾ 13 ç§æ‹¦æˆªæ–¹æ³•,ä¸é™äº applyã€ownKeysã€deletePropertyã€has ç­‰ç­‰æ˜¯ Object.defineProperty ä¸å…·å¤‡çš„ï¼›</li><li>Proxy è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡,æˆ‘ä»¬å¯ä»¥åªæ“ä½œæ–°çš„å¯¹è±¡è¾¾åˆ°ç›®çš„,è€Œ Object.defineProperty åªèƒ½éå†å¯¹è±¡å±æ€§ç›´æ¥ä¿®æ”¹ï¼›</li><li>Proxy ä½œä¸ºæ–°æ ‡å‡†å°†å—åˆ°æµè§ˆå™¨å‚å•†é‡ç‚¹æŒç»­çš„æ€§èƒ½ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯ä¼ è¯´ä¸­çš„æ–°æ ‡å‡†çš„æ€§èƒ½çº¢åˆ©ï¼›</li></ul><p><strong>Object.defineProperty çš„ä¼˜åŠ¿å¦‚ä¸‹:</strong></p><ul><li>å…¼å®¹æ€§å¥½ï¼Œæ”¯æŒ IE9ï¼Œè€Œ Proxy çš„å­˜åœ¨æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜,è€Œä¸”æ— æ³•ç”¨ polyfill ç£¨å¹³</li></ul><h4 id="4-Vueä¸­çš„æ•°æ®ä¸ºä»€ä¹ˆé¢‘ç¹å˜åŒ–ä½†åªä¼šæ›´æ–°ä¸€æ¬¡"><a href="#4-Vueä¸­çš„æ•°æ®ä¸ºä»€ä¹ˆé¢‘ç¹å˜åŒ–ä½†åªä¼šæ›´æ–°ä¸€æ¬¡" class="headerlink" title="4.Vueä¸­çš„æ•°æ®ä¸ºä»€ä¹ˆé¢‘ç¹å˜åŒ–ä½†åªä¼šæ›´æ–°ä¸€æ¬¡"></a>4.Vueä¸­çš„æ•°æ®ä¸ºä»€ä¹ˆé¢‘ç¹å˜åŒ–ä½†åªä¼šæ›´æ–°ä¸€æ¬¡</h4><h3 id="4-çŠ¶æ€ç®¡ç†"><a href="#4-çŠ¶æ€ç®¡ç†" class="headerlink" title="4.çŠ¶æ€ç®¡ç†"></a>4.çŠ¶æ€ç®¡ç†</h3><h4 id="1-vuexæ˜¯ä»€ä¹ˆ"><a href="#1-vuexæ˜¯ä»€ä¹ˆ" class="headerlink" title="1.vuexæ˜¯ä»€ä¹ˆ"></a>1.vuexæ˜¯ä»€ä¹ˆ</h4><blockquote><p>ä¸“é—¨åœ¨Vueä¸­å®ç°é›†ä¸­å¼çŠ¶æ€(æ•°æ®)ç®¡ç†çš„ä¸€ä¸ªVueæ’ä»¶ï¼Œå¯¹vueåº”ç”¨ä¸­å¤šä¸ªç»„ä»¶çš„å…±äº«çŠ¶æ€è¿›è¡Œé›†ä¸­å¼çš„ç®¡ç†(è¯»/å†™),ä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œä¸”é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡</p></blockquote><ul><li>Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚</li><li>æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤ (commit) mutationã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ã€‚</li></ul><h4 id="2-ä»€ä¹ˆæ—¶å€™ä½¿ç”¨vuex"><a href="#2-ä»€ä¹ˆæ—¶å€™ä½¿ç”¨vuex" class="headerlink" title="2.ä»€ä¹ˆæ—¶å€™ä½¿ç”¨vuex?"></a>2.ä»€ä¹ˆæ—¶å€™ä½¿ç”¨vuex?</h4><ul><li>â€‹    å¤šä¸ªç»„ä»¶ä¾èµ–åŒä¸€çŠ¶æ€</li><li>â€‹    æ¥è‡ªä¸åŒç»„ä»¶çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€</li></ul><h4 id="3-vuexçš„å·¥ä½œåŸç†"><a href="#3-vuexçš„å·¥ä½œåŸç†" class="headerlink" title="3.vuexçš„å·¥ä½œåŸç†"></a>3.vuexçš„å·¥ä½œåŸç†</h4><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203181658280.png" alt="vuex"></p><p>vuexåŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ¨¡å—:</p><ul><li><p><strong>State</strong>ï¼šå®šä¹‰äº†åº”ç”¨çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®é»˜è®¤çš„åˆå§‹çŠ¶æ€ã€‚</p><p>1.vuexç®¡ç†çš„çŠ¶æ€å¯¹è±¡(å­˜æ”¾æ•°æ®çš„å¯¹è±¡)</p><p>2.å®ƒåº”è¯¥æ—¶å”¯ä¸€çš„</p><p>3.ç¤ºä¾‹ä»£ç :</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">   <span class="comment">// key:value</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>Getter</strong>ï¼šå…è®¸ç»„ä»¶ä» Store ä¸­è·å–æ•°æ®ï¼ŒmapGetters è¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ã€‚</p><p>å½“stateä¸­çš„æ•°æ®éœ€è¦ç»è¿‡åŠ å·¥åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨gettersåŠ å·¥,ç±»ä¼¼äºç»„ä»¶ä¸­çš„è®¡ç®—å±æ€§</p></li><li><p><strong>Mutation</strong>ï¼šæ˜¯å”¯ä¸€æ›´æ”¹ store ä¸­çŠ¶æ€çš„æ–¹æ³•ï¼Œä¸”å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°ã€‚</p><p>1.å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«å¤šä¸ªç›´æ¥æ›´æ–°stateçš„æ–¹æ³•</p><p>2.è°èƒ½è°ƒç”¨mutationsä¸­çš„æ–¹æ³•ï¼Ÿå¦‚ä½•è®©è°ƒç”¨ï¼Ÿ</p><p>â€‹    åœ¨actionä¸­ä½¿ç”¨:**commit(â€˜å¯¹åº”çš„mutationsæ–¹æ³•åâ€™)**è§¦å‘</p><p>3.mutationsä¸­æ–¹æ³•çš„ç‰¹ç‚¹ï¼šä¸èƒ½å†™å¼‚æ­¥ä»£ç ã€åªèƒ½å•çº¯çš„æ“ä½œstate</p><p>4.ç¤ºä¾‹ä»£ç :</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">   <span class="comment">//å‡½æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>Action</strong>ï¼šç”¨äºæäº¤ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚</p><p>1.å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«å¤šä¸ªå“åº”ç”¨æˆ·åŠ¨ä½œçš„å›è°ƒå‡½æ•°</p><p>2.é€šè¿‡commit()æ¥è§¦å‘mutationä¸­å‡½æ•°çš„è°ƒç”¨ï¼Œé—´æ¥æ›´æ–°state</p><p>3.ç¤ºä¾‹ä»£ç :</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line"><span class="comment">//å‡½æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>Module</strong>ï¼šå…è®¸å°†å•ä¸€çš„ Store æ‹†åˆ†ä¸ºå¤šä¸ª store ä¸”åŒæ—¶ä¿å­˜åœ¨å•ä¸€çš„çŠ¶æ€æ ‘ä¸­ã€‚</p></li></ul><hr><h4 id="4-vuexä¸­4ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨"><a href="#4-vuexä¸­4ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="4.vuexä¸­4ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨"></a>4.<strong>vuexä¸­4ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨</strong></h4><p>å®šä¹‰:ä½¿ç”¨vuexæä¾›çš„mapæ–¹æ³•å¯ä»¥å¯¹ç»„ä»¶ä¸­çš„è®¡ç®—å±æ€§å’Œæ–¹æ³•è¿›è¡Œæ˜ å°„ï¼Œå¯ä»¥å¤§å¤§çš„å‡å°‘ä»£ç é‡ï¼Œæé«˜ä»£ç çš„å¤ç”¨ç‡</p><h5 id="1-mapState"><a href="#1-mapState" class="headerlink" title="1.mapState"></a>1.mapState</h5><p>ç†è§£:ç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„stateä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§:count,student,school(å¯¹è±¡å†™æ³•)</span></span><br><span class="line">    <span class="comment">//å¯¹è±¡ä¸­çš„keyæ˜¯æˆ‘ä»¬åœ¨è‡ªå·±çš„ç»„ä»¶ä¸­æ¸²æŸ“æ—¶éœ€è¦è°ƒç”¨çš„å€¼ï¼Œvalueæ˜¯æˆ‘ä»¬åœ¨storeä¸­stateå†…å®šä¹‰çš„å€¼</span></span><br><span class="line">     ...mapState(&#123;<span class="attr">count</span>:<span class="string">&#x27;count&#x27;</span>,<span class="attr">student</span>:<span class="string">&#x27;student&#x27;</span>,<span class="attr">school</span>:<span class="string">&#x27;school&#x27;</span>&#125;),</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§:count,student,school(æ•°ç»„å†™æ³•)</span></span><br><span class="line">     ...mapState([<span class="string">&#x27;count&#x27;</span>,<span class="string">&#x27;student&#x27;</span>,<span class="string">&#x27;school&#x27;</span>]),</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure><h5 id="2-mapGetters"><a href="#2-mapGetters" class="headerlink" title="2.mapGetters"></a>2.mapGetters</h5><p>ç†è§£:ç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„gettersä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§:bigCount(å¯¹è±¡å†™æ³•)</span></span><br><span class="line">    <span class="comment">//å¯¹è±¡ä¸­çš„keyæ˜¯æˆ‘ä»¬åœ¨è‡ªå·±çš„ç»„ä»¶ä¸­æ¸²æŸ“æ—¶éœ€è¦è°ƒç”¨çš„å€¼ï¼Œvalueæ˜¯æˆ‘ä»¬åœ¨storeä¸­getterså†…å®šä¹‰çš„å€¼</span></span><br><span class="line">     ...mapState(&#123;<span class="attr">count</span>:<span class="string">&#x27;count&#x27;</span>,<span class="attr">student</span>:<span class="string">&#x27;student&#x27;</span>,<span class="attr">school</span>:<span class="string">&#x27;school&#x27;</span>&#125;),</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§:bigCount(æ•°ç»„å†™æ³•)</span></span><br><span class="line">     ...mapGetters([<span class="string">&#x27;bigCount&#x27;</span>])</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure><h5 id="3-mapActions"><a href="#3-mapActions" class="headerlink" title="3.mapActions"></a>3.mapActions</h5><p>ç†è§£:ç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸actionå¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«$store.dispatch(xxx)çš„å‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">  <span class="comment">//å€ŸåŠ©mapActionsç”Ÿæˆæ–¹æ³•:addOddï¼ŒaddWait(å¯¹è±¡å†™æ³•)</span></span><br><span class="line">  <span class="comment">//å¯¹è±¡ä¸­çš„keyæ˜¯æˆ‘ä»¬åœ¨è‡ªå·±çš„ç»„ä»¶ä¸­éœ€è¦è°ƒç”¨çš„æ–¹æ³•ï¼Œvalueæ˜¯æˆ‘ä»¬åœ¨storeä¸­actionså†…å®šä¹‰çš„æ–¹æ³•å</span></span><br><span class="line">  ...mapActions(&#123;<span class="attr">addOdd</span>:<span class="string">&#x27;addOdd&#x27;</span>,<span class="attr">addWait</span>:<span class="string">&#x27;addWait&#x27;</span>&#125;),</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//å€ŸåŠ©mapActionsç”Ÿæˆæ–¹æ³•:addOddï¼ŒaddWait(æ•°ç»„å†™æ³•)</span></span><br><span class="line">   ...mapActions([<span class="string">&#x27;addOdd&#x27;</span>,<span class="string">&#x27;addWait&#x27;</span>])</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h5 id="4-mapMutations"><a href="#4-mapMutations" class="headerlink" title="4.mapMutations"></a>4.mapMutations</h5><p>ç†è§£ï¼šç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸mutationså¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«$store.commit(xxx)çš„å‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">   <span class="comment">//å€ŸåŠ©mapActionsç”Ÿæˆæ–¹æ³•:Addï¼ŒReduce(å¯¹è±¡å†™æ³•)</span></span><br><span class="line">   <span class="comment">//å¯¹è±¡ä¸­çš„keyæ˜¯æˆ‘ä»¬åœ¨è‡ªå·±çš„ç»„ä»¶ä¸­éœ€è¦è°ƒç”¨çš„æ–¹æ³•ï¼Œvalueæ˜¯æˆ‘ä»¬åœ¨storeä¸­mutationså†…å®šä¹‰çš„æ–¹æ³•å</span></span><br><span class="line">   ...mapMutations(&#123;<span class="attr">add</span>:<span class="string">&#x27;Add&#x27;</span>,<span class="attr">reduce</span>:<span class="string">&#x27;Reduce&#x27;</span>&#125;),</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//å€ŸåŠ©mapActionsç”Ÿæˆæ–¹æ³•:Addï¼ŒReduce(æ•°ç»„å†™æ³•)</span></span><br><span class="line">    ...mapActions([<span class="string">&#x27;Add&#x27;</span>,<span class="string">&#x27;Reduce&#x27;</span>])</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„:å½“æˆ‘ä»¬ä½¿ç”¨<strong>mapActions</strong>å’Œ<strong>mapMutations</strong>æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†dispatchå’Œcommitä¸­éœ€è¦ä¼ é€’çš„å€¼é€šè¿‡ç»„ä»¶ä¸­æ–¹æ³•ä¼ å‚ï¼Œä¾‹å¦‚:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add(n)&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="5-vuexçš„åŸºæœ¬ä½¿ç”¨"><a href="#5-vuexçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="5.vuexçš„åŸºæœ¬ä½¿ç”¨"></a>5.vuexçš„åŸºæœ¬ä½¿ç”¨</h4><p>æ¡ˆä¾‹:ç‚¹å‡»æŒ‰é’®å¯¹æ•°å­—è¿›è¡Œå„ç§æ“ä½œ</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203181716339.png" alt="image-20210911201800277"></p><p>æˆ‘ä»¬å°†æ±‚å’Œä¹‹åçš„æ•°å­—å®šä¹‰ä¸ºcountï¼Œå­˜å…¥vuexçš„ä¸´æ—¶ç»„ä»¶ä¸­ï¼Œæ¯æ¬¡è¿›è¡Œæ“ä½œä»åŸç»„ä»¶ä¸­è°ƒç”¨vuexçš„apiï¼Œæœ€ç»ˆå®Œæˆæ±‚å’Œçš„è®¡ç®—</p><p>Count.vueç»„ä»¶:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>å½“å‰æ±‚å’Œä¸º:&#123;&#123;$store.state.count&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model.number</span>=<span class="string">&quot;n&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;reduce&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addOdd&quot;</span>&gt;</span>å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addWait&quot;</span>&gt;</span>ç­‰ä¸€ç­‰å†åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span>&#123;</span><br><span class="line">       <span class="attr">n</span>:<span class="number">1</span>,<span class="comment">//é€‰æ‹©æ¡†ä¸­é€‰æ‹©çš„æ•°å­—</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">      <span class="function"><span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.$store.commit(<span class="string">&#x27;Add&#x27;</span>,<span class="built_in">this</span>.n)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function"><span class="title">reduce</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.$store.commit(<span class="string">&#x27;Reduce&#x27;</span>,<span class="built_in">this</span>.n)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function"><span class="title">addOdd</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;addOdd&#x27;</span>,<span class="built_in">this</span>.n)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function"><span class="title">addWait</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;addWait&#x27;</span>,<span class="built_in">this</span>.n)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>storeä¸­index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€æ ¸å¿ƒçš„store</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥Vuex</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"><span class="comment">//å‡†å¤‡actions--ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;<span class="comment">//actionä¸­å¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œ,ä¾‹å¦‚ä»è¯·æ±‚æœåŠ¡å™¨æ¥å£</span></span><br><span class="line">    <span class="function"><span class="title">addOdd</span>(<span class="params">context,value</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(context.state.count % <span class="number">2</span>)&#123;</span><br><span class="line">           context.commit(<span class="string">&#x27;AddOdd&#x27;</span>,value) </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">addWait</span>(<span class="params">context,value</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            context.commit(<span class="string">&#x27;AddWait&#x27;</span>,value) </span><br><span class="line">        &#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‡†å¤‡mutations--ç”¨äºæ“ä½œæ•°æ®(state)</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="function"><span class="title">Add</span>(<span class="params">state,value</span>)</span>&#123;</span><br><span class="line">        state.count += value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">Reduce</span>(<span class="params">state,value</span>)</span>&#123;</span><br><span class="line">        state.count -= value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">AddOdd</span>(<span class="params">state,value</span>)</span>&#123;</span><br><span class="line">        state.count += value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">AddWait</span>(<span class="params">state,value</span>)</span>&#123;</span><br><span class="line">        state.count += value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‡†å¤‡state--ç”¨äºå­˜å‚¨æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="attr">count</span>:<span class="number">1</span>  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå¹¶æš´éœ²store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ•ˆæœ</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203181716612.gif" alt="GIF 2021-9-11 20-22-35"></p><h4 id="6-vuexä¸­çš„æ•°æ®åœ¨é¡µé¢åˆ·æ–°åæ¶ˆå¤±æ€ä¹ˆåŠ"><a href="#6-vuexä¸­çš„æ•°æ®åœ¨é¡µé¢åˆ·æ–°åæ¶ˆå¤±æ€ä¹ˆåŠ" class="headerlink" title="6.vuexä¸­çš„æ•°æ®åœ¨é¡µé¢åˆ·æ–°åæ¶ˆå¤±æ€ä¹ˆåŠ?"></a>6.vuexä¸­çš„æ•°æ®åœ¨é¡µé¢åˆ·æ–°åæ¶ˆå¤±æ€ä¹ˆåŠ?</h4><p>ç”¨sessionstorage æˆ–è€… localstorage å­˜å‚¨æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å­˜å‚¨ï¼š sessionStorage.setItem( &#x27;å&#x27;, JSON.stringify(å€¼) )</span><br><span class="line">ä½¿ç”¨ï¼š sessionStorage.getItem(&#x27;å&#x27;) ---å¾—åˆ°çš„å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨JSON.parse()å»å¼•å·ï¼›</span><br></pre></td></tr></table></figure><h3 id="5-ç»„ä»¶é€šä¿¡"><a href="#5-ç»„ä»¶é€šä¿¡" class="headerlink" title="5.ç»„ä»¶é€šä¿¡"></a>5.ç»„ä»¶é€šä¿¡</h3><h4 id="1-vueç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼"><a href="#1-vueç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼" class="headerlink" title="1.vueç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼?"></a>1.<strong>vueç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼?</strong></h4><h5 id="1-props-emit"><a href="#1-props-emit" class="headerlink" title="1.props/$emit"></a>1.<strong>props/$emit</strong></h5><p>é€‚ç”¨:<strong>çˆ¶å­ç»„ä»¶é€šä¿¡</strong></p><p><strong>çˆ¶ä¼ å­</strong>:çˆ¶ç»„ä»¶é€šè¿‡å¾€å­ç»„ä»¶æ ‡ç­¾ä¸­æ·»åŠ éœ€è¦ä¼ é€’çš„æ•°æ®ï¼Œå­ç»„ä»¶ä½¿ç”¨<strong>props</strong>æ¥æ¥æ”¶,<strong>propåªè¯»ï¼Œä¸å¯ä¿®æ”¹,å³å•å‘æ•°æ®æµ</strong></p><p><strong>å­ä¼ çˆ¶</strong>:<code>$emit</code>ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶, å½“è¿™ä¸ªè¯­å¥è¢«æ‰§è¡Œæ—¶, å°±ä¼šå°†å‚æ•°argä¼ é€’ç»™çˆ¶ç»„ä»¶,çˆ¶ç»„ä»¶é€šè¿‡v-onç›‘å¬å¹¶æ¥æ”¶å‚æ•°</p><h5 id="2-ref"><a href="#2-ref" class="headerlink" title="2.ref"></a><strong>2.ref</strong></h5><p>é€‚ç”¨:<strong>çˆ¶å­ç»„ä»¶é€šä¿¡</strong></p><p>å¦‚æœrefæŒ‚è½½åœ¨æ™®é€šçš„DOMå…ƒç´ ä¸Š,å¼•ç”¨æŒ‡å‘çš„å°±æ˜¯DOMå…ƒç´ ;å¦‚<strong>æœæŒ‚è½½åœ¨å­ç»„ä»¶ä¸Š,å¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®ä¾‹</strong></p><p><strong>çˆ¶ç»„ä»¶å¯ä»¥é€šè¿‡this.$ref.xxxæ¥è·å–å­ç»„ä»¶å®ä¾‹</strong></p><h5 id="3-parent-children"><a href="#3-parent-children" class="headerlink" title="3.$parent/$children"></a>3.$parent/$children</h5><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203181616964.webp" alt="image"></p><p>é€‚ç”¨äº:<strong>çˆ¶å­ç»„ä»¶é€šä¿¡</strong></p><p>é€šè¿‡<strong>this.$parent</strong>å’Œ<strong>this.$children</strong>æ¥è·å–å¯¹åº”çš„çˆ¶å­ç»„ä»¶å®ä¾‹</p><h5 id="4-EventBus"><a href="#4-EventBus" class="headerlink" title="4.EventBus"></a>4.EventBus</h5><p>é€‚ç”¨äº:<strong>ä»»æ„ç»„ä»¶é—´é€šä¿¡</strong></p><p>è¿™ç§æ–¹æ³•é€šè¿‡ä¸€ä¸ªç©ºçš„Vueå®ä¾‹ä½œä¸ºä¸­å¤®<strong>äº‹ä»¶æ€»çº¿</strong>ï¼Œç”¨å®ƒæ¥è§¦å‘äº‹ä»¶å’Œç›‘å¬äº‹ä»¶ï¼Œä»è€Œå®ç°ä»»æ„ç»„ä»¶ä¹‹é—´çš„é€šä¿¡</p><p>å‘å¸ƒäº‹ä»¶:é€šè¿‡$emitæ¥å‘å¸ƒäº‹ä»¶</p><p>è®¢é˜…äº‹ä»¶:é€šè¿‡$onæ¥è®¢é˜…äº‹ä»¶,å½“ç›‘å¬åˆ°å‘å¸ƒçš„äº‹ä»¶å,æ‰§è¡Œç›¸åº”çš„å›è°ƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»„ä»¶1 å‘å¸ƒäº‹ä»¶</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="attr">data</span>:&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="function"><span class="title">emit</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.bus.$emit.sayhello(<span class="string">&#x27;say&#x27;</span>,<span class="string">&#x27;hello&#x27;</span>)<span class="comment">//å‘å¸ƒäº‹ä»¶</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//ç»„ä»¶2 è®¢é˜…äº‹ä»¶</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="attr">data</span>:&#123;&#125;,</span><br><span class="line">    <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.bus.$on(<span class="string">&#x27;say&#x27;</span>,<span class="built_in">this</span>.say)<span class="comment">//è®¢é˜…äº‹ä»¶  </span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="function"><span class="title">say</span>(<span class="params">word</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(word);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>eventBusä¹Ÿæœ‰ä¸æ–¹ä¾¿ä¹‹å¤„, å½“é¡¹ç›®è¾ƒå¤§,å°±å®¹æ˜“é€ æˆéš¾ä»¥ç»´æŠ¤çš„ç¾éš¾</p></blockquote><h5 id="5-attrs-listeners"><a href="#5-attrs-listeners" class="headerlink" title="5.$attrs/$listeners"></a>5.$attrs/$listeners</h5><p>é€‚ç”¨äº:<strong>éš”ä»£ç»„ä»¶é€šä¿¡</strong></p><p><code>$attrs</code>ï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸è¢« prop æ‰€è¯†åˆ« (ä¸”è·å–) çš„ç‰¹æ€§ç»‘å®š ( class å’Œ style é™¤å¤– )ã€‚å½“ä¸€ä¸ªç»„ä»¶æ²¡æœ‰å£°æ˜ä»»ä½• prop æ—¶ï¼Œè¿™é‡Œä¼šåŒ…å«æ‰€æœ‰çˆ¶ä½œç”¨åŸŸçš„ç»‘å®š ( class å’Œ style é™¤å¤– )ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ <code>v-bind=&quot;$attrs&quot;</code> ä¼ å…¥å†…éƒ¨ç»„ä»¶ã€‚é€šå¸¸é…åˆ inheritAttrs é€‰é¡¹ä¸€èµ·ä½¿ç”¨ã€‚</p><p><code>$listeners</code>ï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­çš„ (ä¸å« .native ä¿®é¥°å™¨çš„)  v-on äº‹ä»¶ç›‘å¬å™¨ã€‚å®ƒå¯ä»¥é€šè¿‡ <code>v-on=&quot;$listeners&quot;</code> ä¼ å…¥å†…éƒ¨ç»„ä»¶</p><h5 id="6-provide-inject"><a href="#6-provide-inject" class="headerlink" title="6.provide/inject"></a>6.provide/inject</h5><p>é€‚ç”¨äº:<strong>éš”ä»£ç»„ä»¶é€šä¿¡</strong></p><p><code>provide</code>/ <code>inject</code> æ˜¯<code>vue2.2.0</code>æ–°å¢çš„api, ç®€å•æ¥è¯´å°±æ˜¯çˆ¶ç»„ä»¶ä¸­é€šè¿‡<code>provide</code>æ¥æä¾›å˜é‡, ç„¶åå†å­ç»„ä»¶ä¸­é€šè¿‡<code>inject</code>æ¥æ³¨å…¥å˜é‡ã€‚</p><blockquote><p>æ³¨æ„: è¿™é‡Œä¸è®ºå­ç»„ä»¶åµŒå¥—æœ‰å¤šæ·±, åªè¦è°ƒç”¨äº†<code>inject</code> é‚£ä¹ˆå°±å¯ä»¥æ³¨å…¥<code>provide</code>ä¸­çš„æ•°æ®ï¼Œè€Œä¸å±€é™äºåªèƒ½ä»å½“å‰çˆ¶ç»„ä»¶çš„propså±æ€§ä¸­å›å»æ•°æ®</p></blockquote><h5 id="7-vuex"><a href="#7-vuex" class="headerlink" title="7.vuex"></a>7.vuex</h5><p>é€‚ç”¨äº:<strong>ä»»æ„ç»„ä»¶é—´é€šä¿¡</strong></p><p><strong>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼</strong>ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–. Vuex è§£å†³äº†<code>å¤šä¸ªè§†å›¾ä¾èµ–äºåŒä¸€çŠ¶æ€</code>å’Œ<code>æ¥è‡ªä¸åŒè§†å›¾çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€</code>çš„é—®é¢˜ï¼Œå°†å¼€å‘è€…çš„ç²¾åŠ›èšç„¦äºæ•°æ®çš„æ›´æ–°è€Œä¸æ˜¯æ•°æ®åœ¨ç»„ä»¶ä¹‹é—´çš„ä¼ é€’ä¸Š</p><p>Vuexçš„å„ä¸ªæ¨¡å—:</p><ul><li><code>state</code>ï¼šç”¨äºæ•°æ®çš„å­˜å‚¨ï¼Œæ˜¯storeä¸­çš„å”¯ä¸€æ•°æ®æº</li><li><code>getters</code>ï¼šå¦‚vueä¸­çš„è®¡ç®—å±æ€§ä¸€æ ·ï¼ŒåŸºäºstateæ•°æ®çš„äºŒæ¬¡åŒ…è£…ï¼Œå¸¸ç”¨äºæ•°æ®çš„ç­›é€‰å’Œå¤šä¸ªæ•°æ®çš„ç›¸å…³æ€§è®¡ç®—</li><li><code>mutations</code>ï¼šç±»ä¼¼å‡½æ•°ï¼Œæ”¹å˜stateæ•°æ®çš„å”¯ä¸€é€”å¾„ï¼Œä¸”ä¸èƒ½ç”¨äºå¤„ç†å¼‚æ­¥äº‹ä»¶</li><li><code>actions</code>ï¼šç±»ä¼¼äº<code>mutation</code>ï¼Œç”¨äºæäº¤<code>mutation</code>æ¥æ”¹å˜çŠ¶æ€ï¼Œè€Œä¸ç›´æ¥å˜æ›´çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œ</li><li><code>modules</code>ï¼šç±»ä¼¼äºå‘½åç©ºé—´ï¼Œç”¨äºé¡¹ç›®ä¸­å°†å„ä¸ªæ¨¡å—çš„çŠ¶æ€åˆ†å¼€å®šä¹‰å’Œæ“ä½œï¼Œä¾¿äºç»´æŠ¤</li></ul><h5 id="8-localStorage-sessionStorage"><a href="#8-localStorage-sessionStorage" class="headerlink" title="8.localStorage/sessionStorage"></a>8.localStorage/sessionStorage</h5><p>é€šè¿‡æµè§ˆå™¨ç¼“å­˜æ¥å®ç°ç»„ä»¶é—´é€šä¿¡</p><h3 id="6-Virtual-DOM"><a href="#6-Virtual-DOM" class="headerlink" title="6.Virtual DOM"></a>6.Virtual DOM</h3><h4 id="1-è™šæ‹Ÿdomæ˜¯ä»€ä¹ˆ"><a href="#1-è™šæ‹Ÿdomæ˜¯ä»€ä¹ˆ" class="headerlink" title="1.è™šæ‹Ÿdomæ˜¯ä»€ä¹ˆ"></a>1.è™šæ‹Ÿdomæ˜¯ä»€ä¹ˆ</h4><p><strong>è™šæ‹ŸDOM</strong>ç®€è€Œè¨€ä¹‹å°±æ˜¯ï¼Œç”¨JSå»æŒ‰ç…§DOMç»“æ„æ¥å®ç°çš„æ ‘å½¢ç»“æ„å¯¹è±¡ï¼Œä½ ä¹Ÿå¯ä»¥å«åš<strong>DOMå¯¹è±¡</strong></p><h4 id="2-ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿdom"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿdom" class="headerlink" title="2.ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿdom"></a>2.ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿdom</h4><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li><strong>ä¿è¯æ€§èƒ½ä¸‹é™ï¼š</strong> æ¡†æ¶çš„è™šæ‹Ÿ DOM éœ€è¦é€‚é…ä»»ä½•ä¸Šå±‚ API å¯èƒ½äº§ç”Ÿçš„æ“ä½œï¼Œå®ƒçš„ä¸€äº› DOM æ“ä½œçš„å®ç°å¿…é¡»æ˜¯æ™®é€‚çš„ï¼Œæ‰€ä»¥å®ƒçš„æ€§èƒ½å¹¶ä¸æ˜¯æœ€ä¼˜çš„ï¼›ä½†æ˜¯æ¯”èµ·ç²—æš´çš„ DOM æ“ä½œæ€§èƒ½è¦å¥½å¾ˆå¤šï¼Œå› æ­¤æ¡†æ¶çš„è™šæ‹Ÿ DOM è‡³å°‘å¯ä»¥ä¿è¯åœ¨ä½ ä¸éœ€è¦æ‰‹åŠ¨ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶å¯ä»¥æä¾›è¿˜ä¸é”™çš„æ€§èƒ½ï¼Œå³ä¿è¯æ€§èƒ½çš„ä¸‹é™ï¼›</li><li><strong>æ— éœ€æ‰‹åŠ¨æ“ä½œ DOMï¼š</strong> æˆ‘ä»¬ä¸å†éœ€è¦æ‰‹åŠ¨å»æ“ä½œ DOMï¼Œåªéœ€è¦å†™å¥½ View-Model çš„ä»£ç é€»è¾‘ï¼Œæ¡†æ¶ä¼šæ ¹æ®è™šæ‹Ÿ DOM å’Œ æ•°æ®åŒå‘ç»‘å®šï¼Œå¸®æˆ‘ä»¬ä»¥å¯é¢„æœŸçš„æ–¹å¼æ›´æ–°è§†å›¾ï¼Œæå¤§æé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼›</li><li><strong>è·¨å¹³å°ï¼š</strong> è™šæ‹Ÿ DOM æœ¬è´¨ä¸Šæ˜¯ JavaScript å¯¹è±¡,è€Œ DOM ä¸å¹³å°å¼ºç›¸å…³ï¼Œç›¸æ¯”ä¹‹ä¸‹è™šæ‹Ÿ DOM å¯ä»¥è¿›è¡Œæ›´æ–¹ä¾¿åœ°è·¨å¹³å°æ“ä½œï¼Œä¾‹å¦‚æœåŠ¡å™¨æ¸²æŸ“ã€weex å¼€å‘ç­‰ç­‰ã€‚</li></ul><p><strong>ç¼ºç‚¹:</strong></p><ul><li><strong>æ— æ³•è¿›è¡Œæè‡´ä¼˜åŒ–ï¼š</strong> è™½ç„¶è™šæ‹Ÿ DOM + åˆç†çš„ä¼˜åŒ–ï¼Œè¶³ä»¥åº”å¯¹ç»å¤§éƒ¨åˆ†åº”ç”¨çš„æ€§èƒ½éœ€æ±‚ï¼Œä½†åœ¨ä¸€äº›æ€§èƒ½è¦æ±‚æé«˜çš„åº”ç”¨ä¸­è™šæ‹Ÿ DOM æ— æ³•è¿›è¡Œé’ˆå¯¹æ€§çš„æè‡´ä¼˜åŒ–ã€‚</li></ul><h4 id="3-vueçš„è™šæ‹Ÿdomè§£å†³äº†ä»€ä¹ˆé—®é¢˜"><a href="#3-vueçš„è™šæ‹Ÿdomè§£å†³äº†ä»€ä¹ˆé—®é¢˜" class="headerlink" title="3.vueçš„è™šæ‹Ÿdomè§£å†³äº†ä»€ä¹ˆé—®é¢˜"></a>3.vueçš„è™šæ‹Ÿdomè§£å†³äº†ä»€ä¹ˆé—®é¢˜</h4><ul><li><strong>æ— éœ€æ‰‹åŠ¨æ“çºµdom</strong></li><li>è™šæ‹Ÿdomå¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œ<strong>è·¨å¹³å°</strong>æ“ä½œï¼Œä¾‹å¦‚åœ¨nodeç¯å¢ƒä¸­æ— æ³•åº”ç”¨çœŸå®domï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨è™šæ‹Ÿdom</li></ul><h4 id="4-è™šæ‹ŸDOMçš„å®ç°åŸç†"><a href="#4-è™šæ‹ŸDOMçš„å®ç°åŸç†" class="headerlink" title="4.è™šæ‹ŸDOMçš„å®ç°åŸç†"></a>4.è™šæ‹ŸDOMçš„å®ç°åŸç†</h4><p>è™šæ‹Ÿ DOM çš„å®ç°åŸç†ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ 3 éƒ¨åˆ†ï¼š</p><ul><li>ç”¨ JavaScript å¯¹è±¡æ¨¡æ‹ŸçœŸå® DOM æ ‘ï¼Œå¯¹çœŸå® DOM è¿›è¡ŒæŠ½è±¡ï¼›</li><li>diff ç®—æ³• â€” æ¯”è¾ƒä¸¤æ£µè™šæ‹Ÿ DOM æ ‘çš„å·®å¼‚ï¼›</li><li>pach ç®—æ³• â€” å°†ä¸¤ä¸ªè™šæ‹Ÿ DOM å¯¹è±¡çš„å·®å¼‚åº”ç”¨åˆ°çœŸæ­£çš„ DOM æ ‘ã€‚</li></ul><h3 id="7-diff"><a href="#7-diff" class="headerlink" title="7.diff"></a>7.diff</h3><h4 id="1-å®ç°diffçš„æ€è·¯"><a href="#1-å®ç°diffçš„æ€è·¯" class="headerlink" title="1.å®ç°diffçš„æ€è·¯"></a>1.å®ç°diffçš„æ€è·¯</h4><ul><li>ç”¨JSæ¨¡æ‹ŸçœŸå®DOMèŠ‚ç‚¹</li><li>æŠŠè™šæ‹ŸDOMè½¬æ¢æˆçœŸå®DOMæ’å…¥é¡µé¢ä¸­</li><li>å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ¯”è¾ƒä¸¤æ£µæ ‘çš„å·®å¼‚ï¼Œç”Ÿæˆå·®å¼‚å¯¹è±¡</li><li>æ ¹æ®å·®å¼‚å¯¹è±¡æ›´æ–°çœŸå®DOM</li></ul><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203181739970.webp" alt="img"></p><h4 id="2-vueä¸­çš„keyçš„ä½œç”¨"><a href="#2-vueä¸­çš„keyçš„ä½œç”¨" class="headerlink" title="2.vueä¸­çš„keyçš„ä½œç”¨"></a>2.vueä¸­çš„keyçš„ä½œç”¨</h4><p>1.keyæ˜¯è™šæ‹ŸDOMå¯¹è±¡çš„æ ‡è¯†ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVueä¼šæ ¹æ®<strong>æ–°æ•°æ®</strong>ç”Ÿæˆ<strong>æ–°çš„è™šæ‹ŸDOM</strong>ï¼ŒéšåVueè¿›è¡Œ<strong>æ–°è™šæ‹ŸDOM</strong>ä¸<strong>æ—§è™šæ‹ŸDOM</strong>çš„å·®å¼‚æ¯”è¾ƒ</p><p>2.å¯¹æ¯”è§„åˆ™:</p><p>â€‹    (1).<strong>æ—§è™šæ‹ŸDOM</strong>ä¸­æ‰¾åˆ°äº†ä¸<strong>æ–°è™šæ‹ŸDOM</strong>ç›¸åŒçš„<strong>key</strong>:</p><p>â€‹          â‘ .è‹¥<strong>è™šæ‹ŸDOM</strong>ä¸­å†…å®¹<strong>æ²¡æœ‰å˜åŒ–</strong>ï¼Œç›´æ¥ä½¿ç”¨ä¹‹å‰çš„<strong>çœŸå®DOM</strong></p><p>â€‹          â‘¡.è‹¥<strong>è™šæ‹ŸDOM</strong>ä¸­<strong>å†…å®¹å˜äº†</strong>ï¼Œåˆ™ç”Ÿæˆ<strong>æ–°çš„çœŸå®DOM</strong>ï¼Œéšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„<strong>çœŸå®DOM</strong></p><p>â€‹    (2).<strong>æ—§è™šæ‹ŸDOM</strong>ä¸­æœªæ‰¾åˆ°ä¸<strong>æ–°è™šæ‹ŸDOM</strong>ç›¸åŒçš„<strong>key</strong></p><p>â€‹            åˆ›å»ºæ–°çš„<strong>çœŸå®DOM</strong>,éšåæ¸²æŸ“åˆ°é¡µé¢</p><p>   3.ç”¨<strong>index</strong>ä½œä¸º<strong>key</strong>å¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜:</p><p>â€‹      (1).è‹¥å¯¹æ•°æ®è¿›è¡Œ<strong>é€†åºæ·»åŠ </strong>ã€<strong>é€†åºåˆ é™¤</strong>ç­‰<strong>ç ´åé¡ºåºçš„æ“ä½œ</strong>ä¼šäº§ç”Ÿ<strong>æ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–°</strong>ï¼Œç•Œ                    é¢æ•ˆæœæ²¡æœ‰é—®é¢˜ï¼Œ<strong>ä½†æ˜¯æ‰§è¡Œæ•ˆç‡å¾ˆä½</strong></p><p>â€‹      (2).å¦‚æœç»“æ„ä¸­è¿˜åŒ…å«<strong>è¾“å…¥ç±»çš„DOM</strong>:ä¼šäº§ç”Ÿ<strong>é”™è¯¯DOMæ›´æ–°</strong>ï¼Œ<strong>ç•Œé¢æœ‰é—®é¢˜</strong></p><p>â€‹    4.å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©keyï¼Ÿ</p><p>â€‹        (1).æœ€å¥½ä½¿ç”¨<strong>æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†</strong>ä½œä¸º<strong>key</strong>ï¼Œæ¯”å¦‚idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼</p><p>â€‹        (2).å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„<strong>é€†åºæ·»åŠ </strong>ã€<strong>é€†åºåˆ é™¤</strong>ç­‰<strong>ç ´åé¡ºåºçš„æ“ä½œ</strong>ï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œ                    <strong>ä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„</strong></p><p><strong>indexä½œä¸ºkeyå’Œidä½œä¸ºkeyçš„åŒºåˆ«</strong></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203181741532.png" alt="image-20210819211653838"></p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203181741864.png" alt="image-20210819211812731"></p><h3 id="8-Vue-computed-watch"><a href="#8-Vue-computed-watch" class="headerlink" title="8.Vue computed/watch"></a>8.Vue computed/watch</h3><h4 id="1-computed-å’Œ-watch-çš„åŒºåˆ«å’Œè¿ç”¨çš„åœºæ™¯ï¼Ÿ"><a href="#1-computed-å’Œ-watch-çš„åŒºåˆ«å’Œè¿ç”¨çš„åœºæ™¯ï¼Ÿ" class="headerlink" title="1.computed å’Œ watch çš„åŒºåˆ«å’Œè¿ç”¨çš„åœºæ™¯ï¼Ÿ"></a>1.computed å’Œ watch çš„åŒºåˆ«å’Œè¿ç”¨çš„åœºæ™¯ï¼Ÿ</h4><p><strong>computedï¼š</strong> æ˜¯è®¡ç®—å±æ€§ï¼Œä¾èµ–å…¶å®ƒå±æ€§å€¼ï¼Œå¹¶ä¸” computed çš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰å®ƒä¾èµ–çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜ï¼Œä¸‹ä¸€æ¬¡è·å– computed çš„å€¼æ—¶æ‰ä¼šé‡æ–°è®¡ç®— computed  çš„å€¼ï¼›</p><p><strong>watchï¼š</strong> æ›´å¤šçš„æ˜¯ã€Œè§‚å¯Ÿã€çš„ä½œç”¨ï¼Œç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒ ï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œå›è°ƒè¿›è¡Œåç»­æ“ä½œï¼›</p><p><strong>è¿ç”¨åœºæ™¯ï¼š</strong></p><ul><li>å½“æˆ‘ä»¬éœ€è¦è¿›è¡Œæ•°å€¼è®¡ç®—ï¼Œå¹¶ä¸”ä¾èµ–äºå…¶å®ƒæ•°æ®æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ computedï¼Œå› ä¸ºå¯ä»¥åˆ©ç”¨ computed çš„ç¼“å­˜ç‰¹æ€§ï¼Œé¿å…æ¯æ¬¡è·å–å€¼æ—¶ï¼Œéƒ½è¦é‡æ–°è®¡ç®—ï¼›</li><li>å½“æˆ‘ä»¬éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œåº”è¯¥ä½¿ç”¨ watchï¼Œä½¿ç”¨ watch é€‰é¡¹å…è®¸æˆ‘ä»¬æ‰§è¡Œå¼‚æ­¥æ“ä½œ ( è®¿é—®ä¸€ä¸ª API )ï¼Œé™åˆ¶æˆ‘ä»¬æ‰§è¡Œè¯¥æ“ä½œçš„é¢‘ç‡ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ã€‚è¿™äº›éƒ½æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„ã€‚</li></ul><h3 id="9-Vueå’ŒReactæœ‰ä»€ä¹ˆä¸åŒ"><a href="#9-Vueå’ŒReactæœ‰ä»€ä¹ˆä¸åŒ" class="headerlink" title="9.Vueå’ŒReactæœ‰ä»€ä¹ˆä¸åŒ"></a>9.Vueå’ŒReactæœ‰ä»€ä¹ˆä¸åŒ</h3><h5 id="ç›¸åŒç‚¹ï¼š"><a href="#ç›¸åŒç‚¹ï¼š" class="headerlink" title="ç›¸åŒç‚¹ï¼š"></a>ç›¸åŒç‚¹ï¼š</h5><p>1ï¼Œéƒ½ä½¿ç”¨äº†<strong>Virtual DOM</strong>ã€‚</p><p>2ï¼Œéƒ½æä¾›äº†å“åº”å¼å’Œç»„ä»¶åŒ–çš„è§†å›¾ç»„ä»¶ã€‚</p><p>3ï¼Œéƒ½å°†æ³¨æ„åŠ›é›†ä¸­ä¿æŒåœ¨æ ¸å¿ƒåº“ï¼Œè€Œå°†å…¶ä»–åŠŸèƒ½å¦‚è·¯ç”±å’Œå…¨å±€çŠ¶æ€ç®¡ç†äº¤ç»™ç›¸å…³åº“ã€‚</p><h5 id="ä¸åŒç‚¹ï¼š"><a href="#ä¸åŒç‚¹ï¼š" class="headerlink" title="ä¸åŒç‚¹ï¼š"></a>ä¸åŒç‚¹ï¼š</h5><p>1ï¼ŒReactä¸­ï¼Œå½“æŸç»„ä»¶çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå®ƒä¼šä»¥è¯¥ç»„ä»¶ä¸ºæ ¹ï¼Œé‡æ–°æ¸²æŸ“æ•´ä¸ªç»„ä»¶å­æ ‘ï¼Œè€Œåœ¨Vueä¸­ï¼Œç»„ä»¶çš„ä¾èµ–æ˜¯åœ¨æ¸²æŸ“çš„è¿‡ç¨‹ä¸­è‡ªåŠ¨è¿½è¸ªçš„ï¼Œæ‰€ä»¥ç³»ç»Ÿèƒ½å‡†ç¡®çŸ¥æ™“å“ªä¸ªç»„ä»¶ç¡®å®éœ€è¦è¢«é‡æ–°æ¸²æŸ“ã€‚</p><p>2ï¼ŒVueçš„è·¯ç”±åº“å’ŒçŠ¶æ€ç®¡ç†åº“éƒ½ç”±å®˜æ–¹ç»´æŠ¤æ”¯æŒä¸”ä¸æ ¸å¿ƒåº“åŒæ­¥æ›´æ–°ï¼Œè€ŒReacté€‰æ‹©æŠŠè¿™äº›é—®é¢˜äº¤ç»™ç¤¾åŒºç»´æŠ¤ï¼Œå› æ­¤ç”Ÿæ€æ›´ä¸°å¯Œã€‚</p><p>3ï¼ŒVue-cliè„šæ‰‹æ¶å¯è¿›è¡Œé…ç½®</p><hr><hr><h2 id="4-ç½‘ç»œ"><a href="#4-ç½‘ç»œ" class="headerlink" title="4.ç½‘ç»œ"></a>4.ç½‘ç»œ</h2><h3 id="1-HTTP"><a href="#1-HTTP" class="headerlink" title="1.HTTP"></a>1.HTTP</h3><h4 id="1-å¸¸è§çš„çŠ¶æ€ç å’Œä½œç”¨"><a href="#1-å¸¸è§çš„çŠ¶æ€ç å’Œä½œç”¨" class="headerlink" title="1.å¸¸è§çš„çŠ¶æ€ç å’Œä½œç”¨"></a>1.å¸¸è§çš„çŠ¶æ€ç å’Œä½œç”¨</h4><p><strong>1xx</strong></p><hr><p><strong>1xxï¼šè¡¨ç¤ºè¯·æ±‚å·²ç»è¢«æ¥æ”¶,ä½†éœ€è¦è¿›è¡Œåç»­å¤„ç†</strong></p><p><strong>100</strong>:è¡¨ç¤ºå®¢æˆ·ç«¯åº”è¯¥ç»§ç»­å‘é€è¯·æ±‚</p><p><strong>101</strong>:è¡¨ç¤ºéœ€è¦åˆ‡æ¢åè®®</p><p><strong>2xx</strong></p><hr><p><strong>è¯·æ±‚å·²æˆåŠŸè¢«æœåŠ¡å™¨æ¥æ”¶</strong></p><p><strong>200</strong>:è¯·æ±‚å·²ç»æˆåŠŸ,è¯·æ±‚æ‰€å¸Œæœ›çš„å“åº”å¤´æˆ–æ•°æ®ä½“å°†éšæ­¤å“åº”è¿”å›</p><p><strong>201</strong>ï¼šè¯·æ±‚å·²ç»è¢«å®ç°,å¹¶ä¸”æœ‰ä¸€ä¸ªæ–°çš„èµ„æºå·²ç»ä¾æ®è¯·æ±‚çš„éœ€è¦è€Œåˆ›å»º</p><p><strong>202</strong>ï¼šæœåŠ¡å™¨å·²ç»æ¥å—è¯·æ±‚,ä½†å°šæœªå¤„ç†</p><p><strong>204</strong>:æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚,ä½†ä¸éœ€è¦è¿”å›ä»»ä½•å®ä½“å†…å®¹</p><p><strong>205</strong>ï¼šæœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†ä¸éœ€è¦è¿”å›ä»»ä½•å®ä½“å†…å®¹</p><p><strong>3xx</strong></p><hr><p><strong>é€šå¸¸è¿™ç±»çŠ¶æ€ç ç”¨æ¥é‡å®šå‘,é‡å®šå‘ç›®æ ‡åœ¨æœ¬æ¬¡å“åº”çš„locationå¤´å­—æ®µä¸­æŒ‡æ˜</strong></p><p>**301(æ°¸ä¹…é‡å®šå‘)**ï¼šè¢«è¯·æ±‚çš„èµ„æºå·²ç»æ°¸ä¹…çš„ç§»åŠ¨åˆ°æ–°ä½ç½®ï¼Œ301é€šå¸¸ç”¨äºç½‘ç«™è¿ç§»æ—¶ï¼ŒæœåŠ¡å™¨å¯¹æ—§çš„URLè¿›è¡Œ301é‡å®šå‘åˆ°æ–°çš„URLã€‚</p><p>**302(ä¸´æ—¶é‡å®šå‘)**ï¼šè¯·æ±‚çš„èµ„æºç°åœ¨ä¸´æ—¶ä»ä¸åŒçš„uriå“åº”è¯·æ±‚</p><p><strong>303</strong>ï¼šè¯·æ±‚çš„å“åº”å¯ä»¥åœ¨å¦ä¸€ä¸ªuriä¸Šè¢«æ‰¾åˆ°</p><p>**â˜…304(èµ„æºæœªè¢«ä¿®æ”¹)**ï¼šè¡¨ç¤ºä¸Šæ¬¡è¯·æ±‚è‡³ä»Šï¼Œæ–‡æ¡£çš„å†…å®¹å¹¶æ²¡æœ‰æ”¹å˜ï¼Œå®¢æˆ·ç«¯å¯ä»¥åˆ©ç”¨è¿™ä¸ªçŠ¶æ€ç åšå‡ºç›¸åº”çš„ç¼“å­˜å¤„ç†</p><p><strong>4xx</strong></p><hr><p><strong>è¡¨ç¤ºå®¢æˆ·ç«¯å‘ç”Ÿäº†é”™è¯¯å¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†</strong></p><p><strong>400</strong>ï¼šå‘ç”Ÿäº†è¯­æ³•é”™è¯¯å¯¼è‡´å½“å‰è¯·æ±‚æ— æ³•è¢«æœåŠ¡å™¨ç†è§£.</p><p><strong>401</strong>:è¡¨ç¤ºå½“å‰è¯·æ±‚éœ€è¦ç”¨æˆ·éªŒè¯</p><p><strong>403</strong>ï¼šè¡¨ç¤ºæœåŠ¡å™¨å·²ç»ç†è§£è¯·æ±‚ä½†æ˜¯æ‹’ç»æ‰§è¡Œå®ƒ</p><p><strong>404</strong>ï¼šè¡¨ç¤ºè¯·æ±‚çš„èµ„æºæ²¡æœ‰åœ¨æœåŠ¡å™¨ä¸Šè¢«å‘ç°</p><p><strong>405</strong>:è¡¨ç¤ºè¯·æ±‚çš„æ–¹æ³•ä¸èƒ½è¢«ç”¨äºè¯·æ±‚ç›¸åº”çš„èµ„æº</p><p><strong>413</strong>ï¼šè¡¨ç¤ºæœåŠ¡å™¨æ‹’ç»å¤„ç†å½“å‰è¯·æ±‚,å› ä¸ºè¯¥è¯·æ±‚æäº¤çš„å®ä½“æ•°æ®å¤§å°è¶…è¿‡äº†æœåŠ¡å™¨æ„¿æ„æˆ–è€…èƒ½å¤„ç†çš„èŒƒå›´</p><p><strong>5xx</strong></p><hr><p><strong>è¡¨ç¤ºæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‡ºç°äº†é”™è¯¯</strong></p><p><strong>500</strong>ï¼šé€šå¸¸æ˜¯ä»£ç å‡ºé”™ï¼Œåå°å‡ºç°bug</p><p><strong>502</strong>ï¼šä½œä¸ºç½‘å…³æˆ–è€…ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ¥æ”¶åˆ°æ— æ•ˆçš„å“åº”ã€‚</p><p><strong>504</strong>ï¼šä½œä¸ºç½‘å…³æˆ–è€…ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œæœªèƒ½åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°å“åº”ã€‚æ³¨æ„ä¸502çš„åŒºåˆ«ï¼š502æ˜¯æ¥æ”¶åˆ°äº†æ— æ•ˆå“åº”æ¯”å¦‚<code>Connection Refused</code>ï¼› 504æ˜¯å“åº”è¶…æ—¶ï¼Œé€šå¸¸æ˜¯è¢«å¢™äº†ã€‚</p><hr><h4 id="2-ä»‹ç»ä¸€ä¸‹httpç¼“å­˜ç­–ç•¥"><a href="#2-ä»‹ç»ä¸€ä¸‹httpç¼“å­˜ç­–ç•¥" class="headerlink" title="2.ä»‹ç»ä¸€ä¸‹httpç¼“å­˜ç­–ç•¥"></a>2.ä»‹ç»ä¸€ä¸‹httpç¼“å­˜ç­–ç•¥</h4><p>HTTPçš„ç¼“å­˜å±äºå®¢æˆ·ç«¯ç¼“å­˜,æˆ‘ä»¬äººä¸ºæµè§ˆå™¨å­˜åœ¨ä¸€ä¸ªç¼“å­˜æ•°æ®åº“ï¼Œç”¨äºå‚¨å­˜ä¸€äº›ä¸ç»å¸¸å˜åŒ–çš„é™æ€æ–‡ä»¶(å›¾ç‰‡ï¼Œcssï¼Œjsç­‰)ï¼Œæˆ‘ä»¬å°†ç¼“å­˜åˆ†ä¸º<strong>å¼ºåˆ¶ç¼“å­˜</strong>å’Œ<strong>åå•†ç¼“å­˜</strong></p><h5 id="ç¼“å­˜è§„åˆ™"><a href="#ç¼“å­˜è§„åˆ™" class="headerlink" title="ç¼“å­˜è§„åˆ™"></a>ç¼“å­˜è§„åˆ™</h5><h6 id="å¼ºåˆ¶ç¼“å­˜"><a href="#å¼ºåˆ¶ç¼“å­˜" class="headerlink" title="å¼ºåˆ¶ç¼“å­˜"></a>å¼ºåˆ¶ç¼“å­˜</h6><p>å½“ç¼“å­˜æ•°æ®åº“ä¸­å·²ç»æœ‰æ‰€è¯·æ±‚çš„æ•°æ®æ—¶ï¼Œå®¢æˆ·ç«¯ç›´æ¥ä»ç¼“å­˜æ•°æ®åº“ä¸­è·å–æ•°æ®ï¼Œå½“ç¼“å­˜æ•°æ®åº“ä¸­æ²¡æœ‰æ‰€è¯·æ±‚çš„æ•°æ®æ—¶ï¼Œå®¢æˆ·ç«¯æ‰ä¼šä»æœåŠ¡ç«¯è·å–æ•°æ®</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191430961.webp" alt="img"></p><h6 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h6><p>å®¢æˆ·ç«¯ä¼šä»ç¼“å­˜æ•°æ®åº“ä¸­è·å–åˆ°ä¸€ä¸ªç¼“å­˜æ•°æ®çš„æ ‡è¯†,å¾—åˆ°æ ‡è¯†åè¯·æ±‚æœåŠ¡ç«¯éªŒè¯æ˜¯å¦å¤±æ•ˆã€‚å¦‚æœæ²¡æœ‰å¤±æ•ˆæœåŠ¡ç«¯ä¼šè¿”å›304çŠ¶æ€ç ï¼Œè¯´æ˜å®¢æˆ·ç«¯è¯·æ±‚çš„æ–‡æ¡£è¿˜æ˜¯æ–°é²œçš„(ä¸ç¼“å­˜æ–‡æ¡£ç›¸åŒ),æ­¤æ—¶å®¢æˆ·ç«¯ç›´æ¥ä»ç¼“å­˜ä¸­è·å–æ‰€è¯·æ±‚çš„æ•°æ®,å¦‚æœæ ‡è¯†å¤±æ•ˆï¼ŒæœåŠ¡ç«¯ä¼šè¿”å›æ›´æ–°åçš„æ•°æ®</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191439631.webp" alt="img"></p><p>ä¸¤ç±»ç¼“å­˜æœºåˆ¶å¯ä»¥åŒæ—¶å­˜åœ¨,å¼ºåˆ¶ç¼“å­˜çš„ä¼˜å…ˆçº§é«˜äºåå•†ç¼“å­˜ï¼Œæµè§ˆå™¨åœ¨åŠ è½½èµ„æºæ—¶ï¼Œä¼šå…ˆåˆ¤æ–­æ˜¯å¦å‘½ä¸­<strong>å¼ºç¼“å­˜</strong>å†éªŒè¯æ˜¯å‘½ä¸­<strong>åå•†ç¼“å­˜</strong>ã€‚</p><hr><h5 id="ç¼“å­˜æ–¹æ¡ˆ"><a href="#ç¼“å­˜æ–¹æ¡ˆ" class="headerlink" title="ç¼“å­˜æ–¹æ¡ˆ"></a>ç¼“å­˜æ–¹æ¡ˆ</h5><h6 id="å¼ºåˆ¶ç¼“å­˜-1"><a href="#å¼ºåˆ¶ç¼“å­˜-1" class="headerlink" title="å¼ºåˆ¶ç¼“å­˜"></a>å¼ºåˆ¶ç¼“å­˜</h6><p>å¯¹äºå¼ºåˆ¶ç¼“å­˜ï¼ŒæœåŠ¡å™¨å“åº”çš„headerä¸­ä¼šç”¨ä¸¤ä¸ªå­—æ®µæ¥è¡¨æ˜â€”â€”Expireså’ŒCache-Controlã€‚</p><p><strong>Expires</strong></p><p>è¿™ä¸ªå­—æ®µåŒ…å«äº†ä¸€ä¸ªæ—¶é—´ï¼Œè¿‡äº†è¿™ä¸ªæ—¶é—´ï¼Œå“åº”å°†ä¼šå¤±æ•ˆã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>Expire</code> è¿™ä¸ªå­—æ®µè¡¨ç¤ºç¼“å­˜åˆ°æœŸæ—¶é—´ï¼Œæˆ‘ä»¬æ¥æ‰“å¼€ä¸€ä¸ªç½‘ç«™å¹¶æŸ¥çœ‹ <code>Response Header</code> çœ‹çœ‹è¿™ä¸ªå­—æ®µï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Expires:Fri, 27 Oct 2017 07:55:30 GMT</span><br></pre></td></tr></table></figure><p>å¯èƒ½åœ¨ä½ æŸ¥çœ‹è¿™çš„æ—¶å€™å‘ç°æ—¶é—´ä¸å¯¹å•Šï¼Œæ€ä¹ˆéƒ½å·²ç»æ˜¯è¿‡å»äº† ~</p><p><code>GMT</code> è¡¨ç¤ºçš„æ˜¯æ ¼æ—å¨æ²»æ—¶é—´ï¼Œå’ŒåŒ—äº¬æ—¶é—´ç›¸å·®8å°æ—¶ã€‚</p><p>ä¸Šé¢çš„è¿™ä¸ªæ—¶é—´è¡¨ç¤ºçš„æ˜¯ <code>2017å¹´10æœˆ27æ—¥15:55:30</code>ã€‚</p><p>é€šè¿‡è®¾ç½® <code>Expire</code> æ¥è®¾ç½®ç¼“å­˜æœ‰ä¸€ä¸ªè‡´å‘½ç¼ºç‚¹ï¼š</p><p>å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªæ˜¯ä¸ªç»å¯¹æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä¿®æ”¹äº†å®¢æˆ·ç«¯çš„æœ¬åœ°æ—¶é—´ï¼Œæ˜¯ä¸æ˜¯å°±ä¼šå¯¼è‡´åˆ¤æ–­ç¼“å­˜å¤±æ•ˆäº†å‘¢ã€‚</p><p><strong>Cache-Control</strong></p><p>æ—¢ç„¶ä¸èƒ½è®¾ç½®ç»å¯¹æ—¶é—´ï¼Œé‚£æˆ‘å°±è®¾ç½®ä¸ªç›¸å¯¹æ—¶é—´å‘—ã€‚</p><p>åœ¨ <code>HTTP/1.1</code> ä¸­ï¼Œå¢åŠ äº†ä¸€ä¸ªå­—æ®µ <code>Cache-Control</code> ï¼Œå®ƒåŒ…å«ä¸€ä¸ª <code>max-age</code> å±æ€§ï¼Œè¯¥å­—æ®µè¡¨ç¤ºèµ„æºç¼“å­˜çš„æœ€å¤§æœ‰æ•ˆæ—¶é—´ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªç›¸å¯¹æ—¶é—´ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control:max-age=600</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè¡¨ç¤ºçš„å°±æ˜¯æœ€å¤§æœ‰æ•ˆæ—¶é—´æ˜¯ <code>600s</code> ï¼Œå¯¹çš„ï¼Œå®ƒçš„å•ä½æ˜¯ç§’ã€‚</p><p><code>Cache-Control</code> é™¤äº† <code>max-age</code> å±æ€§ä¹‹å¤–è¿˜æœ‰ä¸€äº›å±æ€§ï¼š</p><ul><li>no-cacheï¼šéœ€è¦è¿›è¡Œåå•†ç¼“å­˜ï¼Œå‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ç¡®è®¤æ˜¯å¦ä½¿ç”¨ç¼“å­˜ã€‚</li><li>no-storeï¼šç¦æ­¢ä½¿ç”¨ç¼“å­˜ï¼Œæ¯ä¸€æ¬¡éƒ½è¦é‡æ–°è¯·æ±‚æ•°æ®ã€‚</li><li>publicï¼šé»˜è®¤è®¾ç½®ã€‚</li><li>privateï¼šä¸èƒ½è¢«å¤šç”¨æˆ·å…±äº«ã€‚</li></ul><p>ç°åœ¨åŸºæœ¬ä¸Šéƒ½ä¼šåŒæ—¶è®¾ç½® <code>Expire</code> å’Œ <code>Cache-Control</code> ï¼Œ<code>Cache-Control</code> çš„ä¼˜å…ˆçº§åˆ«æ›´é«˜ã€‚</p><hr><h6 id="åå•†ç¼“å­˜-1"><a href="#åå•†ç¼“å­˜-1" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h6><p>åå•†ç¼“å­˜éœ€è¦è¿›è¡Œå¯¹æ¯”åˆ¤æ–­æ˜¯å¦å¯ä»¥ä½¿ç”¨ç¼“å­˜ã€‚æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ•°æ®æ—¶ï¼ŒæœåŠ¡å™¨ä¼šå°†ç¼“å­˜æ ‡è¯†ä¸æ•°æ®ä¸€èµ·å“åº”ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å°†å®ƒä»¬å¤‡ä»½è‡³ç¼“å­˜ä¸­ã€‚å†æ¬¡è¯·æ±‚æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šå°†ç¼“å­˜ä¸­çš„æ ‡è¯†å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ ¹æ®æ­¤æ ‡è¯†åˆ¤æ–­ã€‚è‹¥æœªå¤±æ•ˆï¼Œè¿”å›304çŠ¶æ€ç ï¼Œæµè§ˆå™¨æ‹¿åˆ°æ­¤çŠ¶æ€ç å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ç¼“å­˜æ•°æ®äº†ã€‚ å¯¹äºåå•†ç¼“å­˜æ¥è¯´ï¼Œç¼“å­˜æ ‡è¯†æˆ‘ä»¬éœ€è¦ç€é‡ç†è§£ä¸€ä¸‹ï¼Œä¸‹é¢æˆ‘ä»¬å°†ç€é‡ä»‹ç»å®ƒçš„ä¸¤ç§ç¼“å­˜æ–¹æ¡ˆã€‚</p><p><strong>Last-Modifiedï¼ŒIf-Modified-Since</strong></p><p>æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚èµ„æºçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨è¿”å›çš„ <code>header</code> ä¸Šä¼šå¸¦æœ‰ä¸€ä¸ª <code>Last-Modified</code> å­—æ®µï¼Œè¡¨ç¤ºèµ„æº<strong>æœ€åä¿®æ”¹</strong>çš„æ—¶é—´ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Last-Modified: Fri, 27 Oct 2017 07:55:30 GMT</span><br></pre></td></tr></table></figure><p>åŒæ ·çš„ï¼Œè¿™æ˜¯ä¸€ä¸ª <code>GMT</code> çš„ç»å¯¹æ—¶é—´ã€‚</p><p>å½“æµè§ˆå™¨å†æ¬¡è¯·æ±‚è¯¥èµ„æºæ—¶ï¼Œè¯·æ±‚å¤´ä¸­ä¼šå¸¦æœ‰ä¸€ä¸ª <code>If-Modified-Since</code> å­—æ®µï¼Œè¿™ä¸ªå€¼æ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚è¿”å›çš„ <code>Last-Modified</code> çš„å€¼ã€‚æœåŠ¡å™¨æ”¶åˆ°è¿™ä¸ªè¯·æ±‚åï¼Œå°† <code>If-Modified-Since</code> å’Œå½“å‰çš„ <code>Last-Modified</code> è¿›è¡Œå¯¹æ¯”ã€‚å¦‚æœç›¸ç­‰ï¼Œåˆ™è¯´æ˜èµ„æºæœªä¿®æ”¹ï¼Œè¿”å› <code>304</code>ï¼Œæµè§ˆå™¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚</p><p>wellï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯æœ‰ç¼ºç‚¹çš„ï¼š</p><ul><li>æœ€å°å•ä½æ˜¯ç§’ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœæˆ‘çŸ­æ—¶é—´å†…èµ„æºå‘ç”Ÿäº†æ”¹å˜ï¼Œ<code>Last-Modified</code> å¹¶ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼›</li><li>å‘¨æœŸæ€§å˜åŒ–ã€‚å¦‚æœè¿™ä¸ªèµ„æºåœ¨ä¸€ä¸ªå‘¨æœŸå†…ä¿®æ”¹å›åŸæ¥çš„æ ·å­äº†ï¼Œæˆ‘ä»¬è®¤ä¸ºæ˜¯å¯ä»¥ä½¿ç”¨ç¼“å­˜çš„ï¼Œä½†æ˜¯ <code>Last-Modified</code> å¯ä¸è¿™æ ·è®¤ä¸ºã€‚</li></ul><p>æ‰€ä»¥ï¼Œåæ¥åˆå¼•å…¥ä¸€ä¸ª <code>Etag</code>ã€‚</p><p><strong>Etag</strong></p><p><code>Etag</code> ä¸€èˆ¬æ˜¯ç”±æ–‡ä»¶å†…å®¹ <code>hash</code> ç”Ÿæˆçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¯ä»¥ä¿è¯èµ„æºçš„å”¯ä¸€æ€§ï¼Œèµ„æºå‘ç”Ÿæ”¹å˜å°±ä¼šå¯¼è‡´ <code>Etag</code> å‘ç”Ÿæ”¹å˜ã€‚</p><p>åŒæ ·åœ°ï¼Œåœ¨æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚èµ„æºæ—¶ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ª <code>Etag</code> æ ‡è¯†ã€‚å½“å†æ¬¡è¯·æ±‚è¯¥èµ„æºæ—¶ï¼Œ ä¼šé€šè¿‡ <code>If-no-match</code> å­—æ®µå°† <code>Etag</code> å‘é€å›æœåŠ¡å™¨ï¼Œç„¶åæœåŠ¡å™¨è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰ï¼Œåˆ™è¿”å› <code>304</code> è¡¨ç¤ºæœªä¿®æ”¹ã€‚</p><p><strong><code>Last-Modified</code> å’Œ <code>Etag</code> æ˜¯å¯ä»¥åŒæ—¶è®¾ç½®çš„ï¼ŒæœåŠ¡å™¨ä¼šä¼˜å…ˆæ ¡éªŒ <code>Etag</code>ï¼Œå¦‚æœ <code>Etag</code> ç›¸ç­‰å°±ä¼šç»§ç»­æ¯”å¯¹ <code>Last-Modified</code>ï¼Œæœ€åæ‰ä¼šå†³å®šæ˜¯å¦è¿”å› <code>304</code>ã€‚</strong></p><hr><h5 id="ç¼“å­˜çš„ä¼˜ç‚¹"><a href="#ç¼“å­˜çš„ä¼˜ç‚¹" class="headerlink" title="ç¼“å­˜çš„ä¼˜ç‚¹"></a><strong>ç¼“å­˜çš„ä¼˜ç‚¹</strong></h5><ul><li>å‡å°‘äº†å†—ä½™çš„æ•°æ®ä¼ é€’ï¼ŒèŠ‚çœå®½å¸¦æµé‡</li><li>å‡å°‘äº†æœåŠ¡å™¨çš„è´Ÿæ‹…ï¼Œå¤§å¤§æé«˜äº†ç½‘ç«™æ€§èƒ½</li><li>åŠ å¿«äº†å®¢æˆ·ç«¯åŠ è½½ç½‘é¡µçš„é€Ÿåº¦ è¿™ä¹Ÿæ­£æ˜¯HTTPç¼“å­˜å±äºå®¢æˆ·ç«¯ç¼“å­˜çš„åŸå› ã€‚</li></ul><hr><p>å½“æµè§ˆå™¨å†æ¬¡è®¿é—®ä¸€ä¸ªå·²ç»è®¿é—®è¿‡çš„èµ„æºæ—¶ï¼Œå®ƒä¼šè¿™æ ·åšï¼š</p><ol><li>çœ‹çœ‹æ˜¯å¦å‘½ä¸­å¼ºç¼“å­˜ï¼Œå¦‚æœå‘½ä¸­ï¼Œå°±ç›´æ¥ä½¿ç”¨ç¼“å­˜äº†ï¼›</li><li>å¦‚æœæ²¡æœ‰å‘½ä¸­å¼ºç¼“å­˜ï¼Œå°±å‘è¯·æ±‚åˆ°æœåŠ¡å™¨æ£€æŸ¥æ˜¯å¦å‘½ä¸­åå•†ç¼“å­˜ï¼›</li><li>å¦‚æœå‘½ä¸­åå•†ç¼“å­˜ï¼ŒæœåŠ¡å™¨ä¼šè¿”å› <code>304</code> å‘Šè¯‰æµè§ˆå™¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼›</li><li>å¦åˆ™ï¼Œè¿”å›æœ€æ–°çš„èµ„æºã€‚</li></ol><hr><h4 id="3-ä»‹ç»ä¸€ä¸‹keep-alive"><a href="#3-ä»‹ç»ä¸€ä¸‹keep-alive" class="headerlink" title="3.ä»‹ç»ä¸€ä¸‹keep-alive"></a>3.ä»‹ç»ä¸€ä¸‹keep-alive</h4><h5 id="1-ä»€ä¹ˆæ˜¯keep-alive"><a href="#1-ä»€ä¹ˆæ˜¯keep-alive" class="headerlink" title="1.ä»€ä¹ˆæ˜¯keep-alive?"></a>1.<strong>ä»€ä¹ˆæ˜¯keep-alive?</strong></h5><p>keep-alive æ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ä¸€ä¸ªçº¦å®šï¼Œå¦‚æœå¼€å¯ keep-aliveï¼Œåˆ™æœåŠ¡ç«¯åœ¨è¿”å› response åä¸å…³é—­ TCP è¿æ¥ï¼›åŒæ ·çš„ï¼Œåœ¨æ¥æ”¶å®Œå“åº”æŠ¥æ–‡åï¼Œå®¢æˆ·ç«¯ä¹Ÿä¸å…³é—­è¿æ¥ï¼Œå‘é€ä¸‹ä¸€ä¸ª HTTP è¯·æ±‚æ—¶ä¼šé‡ç”¨è¯¥è¿æ¥ã€‚</p><p>åœ¨ HTTP/1.0 åè®®ä¸­ï¼Œå¦‚æœè¯·æ±‚å¤´ä¸­åŒ…å«ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connection: keep-alive</span><br></pre></td></tr></table></figure><p>åˆ™ä»£è¡¨å¼€å¯ keep-aliveï¼Œè€ŒæœåŠ¡ç«¯çš„è¿”å›æŠ¥æ–‡å¤´ä¸­ï¼Œä¹Ÿä¼šåŒ…å«ç›¸åŒçš„å†…å®¹ã€‚</p><p>åœ¨ HTTP/1.1 åè®®ä¸­ï¼Œé»˜è®¤å¼€å¯ keep-aliveï¼Œé™¤éæ˜¾å¼åœ°å…³é—­å®ƒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connection: close</span><br></pre></td></tr></table></figure><p>keep-alive æŠ€æœ¯åˆ›å»ºçš„ç›®çš„ï¼Œå°±æ˜¯èƒ½åœ¨å¤šæ¬¡ HTTP ä¹‹é—´é‡ç”¨åŒä¸€ä¸ª TCP è¿æ¥ï¼Œä»è€Œå‡å°‘åˆ›å»º/å…³é—­å¤šä¸ª TCP è¿æ¥çš„å¼€é”€ï¼ˆåŒ…æ‹¬å“åº”æ—¶é—´ã€CPU èµ„æºã€å‡å°‘æ‹¥å µç­‰ï¼‰ï¼Œå‚è€ƒå¦‚ä¸‹ç¤ºæ„å›¾ï¼ˆæ¥æºï¼šç»´åŸºç™¾ç§‘ï¼‰ï¼š</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191521396.png" alt="image-20220319152129292"></p><p>ç„¶è€Œå¤©ä¸‹æ²¡æœ‰å…è´¹çš„åˆé¤ï¼Œå¦‚æœå®¢æˆ·ç«¯åœ¨æ¥æ”¶å®Œæ‰€æœ‰çš„ä¿¡æ¯ä¹‹åè¿˜æ²¡æœ‰å…³é—­è¿æ¥ï¼Œåˆ™æœåŠ¡ç«¯ç›¸åº”çš„èµ„æºè¿˜åœ¨è¢«å ç”¨ï¼ˆå°½ç®¡å·²ç»æ²¡ç”¨äº†ï¼‰ã€‚ä¾‹å¦‚ Tomcat çš„ BIO å®ç°ä¸­ï¼Œæœªå…³é—­çš„è¿æ¥ä¼šå ç”¨å¯¹åº”çš„å¤„ç†çº¿ç¨‹ï¼Œå¦‚æœä¸€ä¸ªé•¿è¿æ¥å®é™…ä¸Šå·²ç»å¤„ç†å®Œæ¯•ï¼Œä½†å…³é—­çš„è¶…æ—¶æ—¶é—´æœªåˆ°ï¼Œåˆ™è¯¥çº¿ç¨‹ä¼šä¸€ç›´è¢«å ç”¨ï¼ˆä½¿ç”¨ NIO çš„å®ç°æ²¡æœ‰è¯¥é—®é¢˜ï¼‰ã€‚</p><p>æ˜¾ç„¶ï¼Œå¦‚æœå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ç¡®éœ€è¦è¿›è¡Œå¤šæ¬¡é€šä¿¡ï¼Œåˆ™å¼€å¯ keep-alive æ˜¯æ›´å¥½çš„é€‰æ‹©ï¼Œä¾‹å¦‚åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œé€šå¸¸å¾®æœåŠ¡çš„ä½¿ç”¨æ–¹å’Œæä¾›æ–¹ä¼šé•¿æœŸæœ‰äº¤æµï¼Œæ­¤æ—¶æœ€å¥½å¼€å¯ keep-aliveã€‚</p><p>åœ¨ä¸€äº› TPS/QPS å¾ˆé«˜çš„ REST æœåŠ¡ä¸­ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯çŸ­è¿æ¥ï¼ˆå³æ²¡æœ‰å¼€å¯keep-aliveï¼‰ï¼Œåˆ™å¾ˆå¯èƒ½å‘ç”Ÿå®¢æˆ·ç«¯ç«¯å£è¢«å æ»¡çš„æƒ…å½¢ã€‚è¿™æ˜¯ç”±äºçŸ­æ—¶é—´å†…ä¼šåˆ›å»ºå¤§é‡TCP è¿æ¥ï¼Œè€Œåœ¨ TCP å››æ¬¡æŒ¥æ‰‹ç»“æŸåï¼Œå®¢æˆ·ç«¯çš„ç«¯å£ä¼šå¤„äº TIME_WAITä¸€æ®µæ—¶é—´(2*MSL)ï¼Œè¿™æœŸé—´ç«¯å£ä¸ä¼šè¢«é‡Šæ”¾ï¼Œä»è€Œå¯¼è‡´ç«¯å£è¢«å æ»¡ã€‚è¿™ç§æƒ…å†µä¸‹æœ€å¥½ä½¿ç”¨é•¿è¿æ¥ã€‚</p><h3 id="2-DNS"><a href="#2-DNS" class="headerlink" title="2.DNS"></a>2.DNS</h3><h4 id="ä»€ä¹ˆæ˜¯DNS"><a href="#ä»€ä¹ˆæ˜¯DNS" class="headerlink" title="ä»€ä¹ˆæ˜¯DNS?"></a>ä»€ä¹ˆæ˜¯DNS?</h4><p><strong>DNSï¼ˆDomain Name Systemï¼ŒåŸŸåç³»ç»Ÿï¼‰</strong>ï¼Œæœ€åˆï¼Œç”±äºipé•¿ä¸”éš¾è®°ï¼Œé€šè¿‡ipè®¿é—®ç½‘ç«™ä¸æ–¹ä¾¿ã€‚ã€‚æ‰€ä»¥åæ¥é€šè¿‡å‘æ˜äº†DNSæœåŠ¡å™¨ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬è®¿é—®ç½‘ç«™è¾“å…¥ç½‘ç«™åŸŸåï¼ŒDNSæœåŠ¡å™¨å°±è§£ææˆ‘ä»¬çš„åŸŸåä¸ºipã€‚è¿™æ ·æˆ‘ä»¬å®é™…è®¿é—®çš„å°±æ˜¯å¯¹åº”çš„ipåœ°å€å•¦ã€‚</p><p>æŠ½è±¡ç‚¹<strong>DNSå°±æ˜¯ ä¸€ä¸ªè®°å½•ipåœ°å€çš„è¶…çº§åˆ†å¸ƒå¼æ•°æ®åº“ã€‚</strong></p><h4 id="DNSåŸŸåè§£æè¿‡ç¨‹"><a href="#DNSåŸŸåè§£æè¿‡ç¨‹" class="headerlink" title="DNSåŸŸåè§£æè¿‡ç¨‹"></a>DNSåŸŸåè§£æè¿‡ç¨‹</h4><p>å½“ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥<a href="http://www.baidu.comæ—¶/">www.baidu.comæ—¶</a></p><ul><li><p>ç¬¬1æ­¥ï¼ŒæŸ¥æ‰¾<strong>æµè§ˆå™¨ç¼“å­˜</strong>ã€‚</p><blockquote><p>æµè§ˆå™¨ä¼šæ£€æŸ¥ç¼“å­˜ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªåŸŸåå¯¹åº”çš„è§£æè¿‡çš„IPåœ°å€ï¼Œå¦‚æœç¼“å­˜ä¸­æœ‰ï¼Œè¿™ä¸ªè§£æè¿‡ç¨‹å°±å°†ç»“æŸã€‚æµè§ˆå™¨ç¼“å­˜åŸŸåä¹Ÿæ˜¯æœ‰é™åˆ¶çš„ï¼Œä¸ä»…æµè§ˆå™¨ç¼“å­˜å¤§å°æœ‰é™åˆ¶ï¼Œè€Œä¸”ç¼“å­˜çš„æ—¶é—´ä¹Ÿæœ‰é™åˆ¶ï¼Œé€šå¸¸æƒ…å†µä¸‹ä¸ºå‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶ä¸ç­‰ã€‚è¿™ä¸ªç¼“å­˜æ—¶é—´å¤ªé•¿å’Œå¤ªçŸ­éƒ½ä¸å¥½ï¼Œå¦‚æœç¼“å­˜æ—¶é—´å¤ªé•¿ï¼Œä¸€æ—¦åŸŸåè¢«è§£æåˆ°çš„IPæœ‰å˜åŒ–ï¼Œä¼šå¯¼è‡´è¢«å®¢æˆ·ç«¯ç¼“å­˜çš„åŸŸåæ— æ³•è§£æåˆ°å˜åŒ–åçš„IPåœ°å€ï¼Œä»¥è‡´è¯¥åŸŸåä¸èƒ½æ­£å¸¸è§£æï¼Œè¿™æ®µæ—¶é—´å†…æœ‰å¯èƒ½ä¼šæœ‰ä¸€éƒ¨åˆ†ç”¨æˆ·æ— æ³•è®¿é—®ç½‘ç«™ã€‚å¦‚æœæ—¶é—´è®¾ç½®å¤ªçŸ­ï¼Œä¼šå¯¼è‡´ç”¨æˆ·æ¯æ¬¡è®¿é—®ç½‘ç«™éƒ½è¦é‡æ–°è§£æä¸€æ¬¡åŸŸåã€‚</p></blockquote></li><li><p>ç¬¬2æ­¥ï¼ŒæŸ¥æ‰¾<strong>ç³»ç»Ÿç¼“å­˜</strong>ã€‚</p><blockquote><p>å¦‚æœç”¨æˆ·çš„æµè§ˆå™¨ç¼“å­˜ä¸­æ²¡æœ‰ï¼Œæµè§ˆå™¨ä¼šæŸ¥æ‰¾æ“ä½œç³»ç»Ÿç¼“å­˜ä¸­æ˜¯å¦æœ‰è¿™ä¸ªåŸŸåå¯¹åº”çš„DNSè§£æç»“æœã€‚å…¶å®æ“ä½œç³»ç»Ÿä¹Ÿä¼šæœ‰ä¸€ä¸ªåŸŸåè§£æçš„è¿‡ç¨‹ï¼Œåœ¨Windowsä¸­å¯ä»¥é€šè¿‡C:\Windows\System32\drivers\etc\hostsæ–‡ä»¶æ¥è®¾ç½®ï¼Œä½ å¯ä»¥å°†ä»»ä½•åŸŸåè§£æåˆ°ä»»ä½•èƒ½å¤Ÿè®¿é—®çš„IPåœ°å€ã€‚å¦‚æœä½ åœ¨è¿™é‡ŒæŒ‡å®šäº†ä¸€ä¸ªåŸŸåå¯¹åº”çš„IPåœ°å€ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¼šé¦–å…ˆä½¿ç”¨è¿™ä¸ªIPåœ°å€ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨æµ‹è¯•æ—¶å¯ä»¥å°†ä¸€ä¸ªåŸŸåè§£æåˆ°ä¸€å°æµ‹è¯•æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·ä¸ç”¨ä¿®æ”¹ä»»ä½•ä»£ç å°±èƒ½æµ‹è¯•åˆ°å•ç‹¬æœåŠ¡å™¨ä¸Šçš„ä»£ç çš„ä¸šåŠ¡é€»è¾‘æ˜¯å¦æ­£ç¡®ã€‚æ­£æ˜¯å› ä¸ºæœ‰è¿™ç§æœ¬åœ°DNSè§£æçš„è§„ç¨‹ï¼Œæ‰€ä»¥é»‘å®¢å°±æœ‰å¯èƒ½é€šè¿‡ä¿®æ”¹ä½ çš„åŸŸåè§£ææ¥æŠŠç‰¹å®šçš„åŸŸåè§£æåˆ°å®ƒæŒ‡å®šçš„IPåœ°å€ä¸Šï¼Œå¯¼è‡´è¿™äº›åŸŸåè¢«åŠ«æŒã€‚</p></blockquote></li><li><p>ç¬¬3æ­¥ï¼ŒæŸ¥æ‰¾<strong>è·¯ç”±å™¨ç¼“å­˜</strong>ã€‚</p><blockquote><p>å¦‚æœç³»ç»Ÿç¼“å­˜ä¸­ä¹Ÿæ‰¾ä¸åˆ°ï¼Œé‚£ä¹ˆæŸ¥è¯¢è¯·æ±‚å°±ä¼šå‘å‘è·¯ç”±å™¨ï¼Œå®ƒä¸€èˆ¬ä¼šæœ‰è‡ªå·±çš„DNSç¼“å­˜ã€‚</p></blockquote></li><li><p>ç¬¬4æ­¥ï¼ŒæŸ¥æ‰¾<strong>ISP DNS ç¼“å­˜</strong>ã€‚</p><blockquote><p>è¿æ°”å®åœ¨ä¸å¥½ï¼Œå°±åªèƒ½æŸ¥è¯¢ISP DNS ç¼“å­˜æœåŠ¡å™¨äº†ã€‚åœ¨æˆ‘ä»¬çš„ç½‘ç»œé…ç½®ä¸­éƒ½ä¼šæœ‰â€DNSæœåŠ¡å™¨åœ°å€â€è¿™ä¸€é¡¹ï¼Œæ“ä½œç³»ç»Ÿä¼šæŠŠè¿™ä¸ªåŸŸåå‘é€ç»™è¿™é‡Œè®¾ç½®çš„DNSï¼Œä¹Ÿå°±æ˜¯æœ¬åœ°åŒºçš„åŸŸåæœåŠ¡å™¨ï¼Œé€šå¸¸æ˜¯æä¾›ç»™ä½ æ¥å…¥äº’è”ç½‘çš„åº”ç”¨æä¾›å•†ã€‚è¿™ä¸ªä¸“é—¨çš„åŸŸåè§£ææœåŠ¡å™¨æ€§èƒ½éƒ½ä¼šå¾ˆå¥½ï¼Œå®ƒä»¬ä¸€èˆ¬éƒ½ä¼šç¼“å­˜åŸŸåè§£æç»“æœï¼Œå½“ç„¶ç¼“å­˜æ—¶é—´æ˜¯å—åŸŸåçš„å¤±æ•ˆæ—¶é—´æ§åˆ¶çš„ï¼Œä¸€èˆ¬ç¼“å­˜ç©ºé—´ä¸æ˜¯å½±å“åŸŸåå¤±æ•ˆçš„ä¸»è¦å› ç´ ã€‚å¤§çº¦80%çš„åŸŸåè§£æéƒ½åˆ°è¿™é‡Œå°±å·²ç»å®Œæˆäº†ï¼Œæ‰€ä»¥ISP DNSä¸»è¦æ‰¿æ‹…äº†åŸŸåçš„è§£æå·¥ä½œã€‚</p></blockquote></li><li><p>ç¬¬5æ­¥ï¼Œ<strong>é€’å½’æœç´¢</strong>ã€‚</p><blockquote><p>ã€€æœ€æ— å¥ˆçš„æƒ…å†µå‘ç”Ÿäº†, åœ¨å‰é¢éƒ½æ²¡æœ‰åŠæ³•å‘½ä¸­çš„DNSç¼“å­˜çš„æƒ…å†µä¸‹,(1)æœ¬åœ° DNSæœåŠ¡å™¨å³å°†è¯¥è¯·æ±‚è½¬å‘åˆ°äº’è”ç½‘ä¸Šçš„æ ¹åŸŸï¼ˆå³ä¸€ä¸ªå®Œæ•´åŸŸåæœ€åé¢çš„é‚£ä¸ªç‚¹ï¼Œé€šå¸¸çœç•¥ä¸å†™ï¼‰ã€‚(2)æ ¹åŸŸå°†æ‰€è¦æŸ¥è¯¢åŸŸåä¸­çš„é¡¶çº§åŸŸï¼ˆå‡è®¾è¦æŸ¥è¯¢ke.qq.comï¼Œè¯¥åŸŸåçš„é¡¶çº§åŸŸå°±æ˜¯comï¼‰çš„æœåŠ¡å™¨IPåœ°å€è¿”å›åˆ°æœ¬åœ°DNSã€‚(3) æœ¬åœ°DNSæ ¹æ®è¿”å›çš„IPåœ°å€ï¼Œå†å‘é¡¶çº§åŸŸï¼ˆå°±æ˜¯comåŸŸï¼‰å‘é€è¯·æ±‚ã€‚(4) comåŸŸæœåŠ¡å™¨å†å°†åŸŸåä¸­çš„äºŒçº§åŸŸï¼ˆå³ke.qq.comä¸­çš„qqï¼‰çš„IPåœ°å€è¿”å›ç»™æœ¬åœ°DNSã€‚(5) æœ¬åœ°DNSå†å‘äºŒçº§åŸŸå‘é€è¯·æ±‚è¿›è¡ŒæŸ¥è¯¢ã€‚(6) ä¹‹åä¸æ–­é‡å¤è¿™æ ·çš„è¿‡ç¨‹ï¼Œç›´åˆ°æœ¬åœ°DNSæœåŠ¡å™¨å¾—åˆ°æœ€ç»ˆçš„æŸ¥è¯¢ç»“æœï¼Œå¹¶è¿”å›åˆ°ä¸»æœºã€‚è¿™æ—¶å€™ä¸»æœºæ‰èƒ½é€šè¿‡åŸŸåè®¿é—®è¯¥ç½‘ç«™ã€‚</p></blockquote></li></ul><h4 id="DNSçš„å®‰å…¨é—®é¢˜"><a href="#DNSçš„å®‰å…¨é—®é¢˜" class="headerlink" title="DNSçš„å®‰å…¨é—®é¢˜"></a>DNSçš„å®‰å…¨é—®é¢˜</h4><p>1ã€DNSæ¬ºéª—ï¼šDNSæ¬ºéª—å³åŸŸåä¿¡æ¯æ¬ºéª—æ˜¯æœ€å¸¸è§çš„DNSå®‰å…¨é—®é¢˜ã€‚å½“ä¸€ä¸ªDNSæœåŠ¡å™¨æ‰å…¥é™·é˜±ï¼Œä½¿ç”¨äº†æ¥è‡ªä¸€ä¸ªæ¶æ„DNSæœåŠ¡å™¨çš„é”™è¯¯ä¿¡æ¯ï¼Œé‚£ä¹ˆè¯¥DNSæœåŠ¡å™¨å°±è¢«æ¬ºéª—äº†ã€‚DNSæ¬ºéª—ä¼šä½¿é‚£äº›æ˜“å—æ”»å‡»çš„DNSæœåŠ¡å™¨äº§ç”Ÿè®¸å¤šå®‰å…¨é—®é¢˜ï¼Œä¾‹å¦‚ï¼šå°†ç”¨æˆ·å¼•å¯¼åˆ°é”™è¯¯çš„äº’è”ç½‘ç«™ç‚¹ï¼Œæˆ–è€…å‘é€ä¸€ä¸ªç”µå­é‚®ä»¶åˆ°ä¸€ä¸ªæœªç»æˆæƒçš„é‚®ä»¶æœåŠ¡å™¨ã€‚ç½‘ç»œæ”»å‡»è€…é€šå¸¸é€šè¿‡ä¸¤ç§æ–¹æ³•è¿›è¡ŒDNSæ¬ºéª—ã€‚</p><ul><li>ç¼“å­˜æ„ŸæŸ“ï¼šé»‘å®¢ä¼šç†Ÿç»ƒçš„ä½¿ç”¨DNSè¯·æ±‚ï¼Œå°†æ•°æ®æ”¾å…¥ä¸€ä¸ªæ²¡æœ‰è®¾é˜²çš„DNSæœåŠ¡å™¨çš„ç¼“å­˜å½“ä¸­ã€‚è¿™äº›ç¼“å­˜ä¿¡æ¯ä¼šåœ¨å®¢æˆ·è¿›è¡ŒDNSè®¿é—®æ—¶è¿”å›ç»™å®¢æˆ·ï¼Œä»è€Œå°†å®¢æˆ·å¼•å¯¼åˆ°å…¥ä¾µè€…æ‰€è®¾ç½®çš„è¿è¡Œæœ¨é©¬çš„WebæœåŠ¡å™¨æˆ–é‚®ä»¶æœåŠ¡å™¨ä¸Šï¼Œç„¶åé»‘å®¢ä»è¿™äº›æœåŠ¡å™¨ä¸Šè·å–ç”¨æˆ·ä¿¡æ¯ã€‚<ul><li>DNSä¿¡æ¯åŠ«æŒï¼šå…¥ä¾µè€…é€šè¿‡ç›‘å¬å®¢æˆ·ç«¯å’ŒDNSæœåŠ¡å™¨çš„å¯¹è¯ï¼Œé€šè¿‡çŒœæµ‹æœåŠ¡å™¨å“åº”ç»™å®¢æˆ·ç«¯çš„DNSæŸ¥è¯¢IDã€‚æ¯ä¸ªDNSæŠ¥æ–‡åŒ…æ‹¬ä¸€ä¸ªç›¸å…³è”çš„16ä½IDå·ï¼ŒDNSæœåŠ¡å™¨æ ¹æ®è¿™ä¸ªIDå·è·å–è¯·æ±‚æºä½ç½®ã€‚é»‘å®¢åœ¨DNSæœåŠ¡å™¨ä¹‹å‰å°†è™šå‡çš„å“åº”äº¤ç»™ç”¨æˆ·ï¼Œä»è€Œæ¬ºéª—å®¢æˆ·ç«¯å»è®¿é—®æ¶æ„çš„ç½‘ç«™ã€‚</li><li>DNSé‡å®šå‘ï¼šæ”»å‡»è€…èƒ½å¤Ÿå°†DNSåç§°æŸ¥è¯¢é‡å®šå‘åˆ°æ¶æ„DNSæœåŠ¡å™¨ã€‚è¿™æ ·æ”»å‡»è€…å¯ä»¥è·å¾—DNSæœåŠ¡å™¨çš„å†™æƒé™</li></ul></li></ul><p>2ã€æ‹’ç»æœåŠ¡æ”»å‡» ã€€ã€€é»‘å®¢ä¸»è¦åˆ©ç”¨ä¸€äº›DNSè½¯ä»¶çš„æ¼æ´ï¼Œå¦‚åœ¨BIND 9ç‰ˆæœ¬ï¼ˆç‰ˆæœ¬9.2.0ä»¥å‰çš„ 9ç³»åˆ—ï¼‰å¦‚æœæœ‰äººå‘è¿è¡ŒBINDçš„è®¾å¤‡å‘é€ç‰¹å®šçš„DNSæ•°æ®åŒ…è¯·æ±‚ï¼ŒBINDå°±ä¼šè‡ªåŠ¨å…³é—­ã€‚æ”»å‡»è€…åªèƒ½ä½¿BINDå…³é—­ï¼Œè€Œæ— æ³•åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„å‘½ä»¤ã€‚å¦‚æœå¾—ä¸åˆ°DNSæœåŠ¡ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿä¸€åœºç¾éš¾ï¼šç”±äºç½‘å€ä¸èƒ½è§£æä¸ºIPåœ°å€ï¼Œç”¨æˆ·å°†æ— æ–¹è®¿é—®äº’è”ç½‘ã€‚è¿™æ ·ï¼ŒDNSäº§ç”Ÿçš„é—®é¢˜å°±å¥½åƒæ˜¯äº’è”ç½‘æœ¬èº«æ‰€äº§ç”Ÿçš„é—®é¢˜ï¼Œè¿™å°†å¯¼è‡´å¤§é‡çš„æ··ä¹±ã€‚</p><p>3ã€åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡» ã€€ã€€DDOS æ”»å‡»é€šè¿‡ä½¿ç”¨æ”»å‡»è€…æ§åˆ¶çš„å‡ åå°æˆ–å‡ ç™¾å°è®¡ç®—æœºæ”»å‡»ä¸€å°ä¸»æœºï¼Œä½¿å¾—æœåŠ¡æ‹’ç»æ”»å‡»æ›´éš¾ä»¥é˜²èŒƒï¼Œæ›´éš¾ä»¥é€šè¿‡é˜»å¡å•ä¸€æ”»å‡»æºä¸»æœºçš„æ•°æ®æµï¼Œæ¥é˜²èŒƒæœåŠ¡æ‹’ç»æ”»å‡»ã€‚</p><p>4ã€ç¼“å†²åŒºæ¼æ´æº¢å‡ºæ”»å‡» ã€€ã€€é»‘å®¢åˆ©ç”¨DNSæœåŠ¡å™¨è½¯ä»¶å­˜åœ¨æ¼æ´ï¼Œæ¯”å¦‚å¯¹ç‰¹å®šçš„è¾“å…¥æ²¡æœ‰è¿›è¡Œä¸¥æ ¼æ£€æŸ¥ï¼Œé‚£å¹ºæœ‰å¯èƒ½è¢«æ”»å‡»è€…åˆ©ç”¨ï¼Œæ”»å‡»è€…æ„é€ ç‰¹æ®Šçš„ç•¸å½¢æ•°æ®åŒ…æ¥å¯¹DNSæœåŠ¡å™¨è¿›è¡Œç¼“å†²åŒºæº¢å‡ºæ”»å‡»ã€‚å¦‚æœè¿™ä¸€æ”»å‡»æˆåŠŸï¼Œå°±ä¼šé€ æˆDNSæœåŠ¡åœæ­¢ï¼Œæˆ–è€…æ”»å‡»è€…èƒ½å¤Ÿåœ¨DNSæœåŠ¡å™¨ä¸Šæ‰§è¡Œå…¶è®¾å®šçš„ä»»æ„ä»£ç ã€‚</p><h4 id="DNSæœ‰å…³çš„ç½‘ç»œæ€§èƒ½ä¼˜åŒ–"><a href="#DNSæœ‰å…³çš„ç½‘ç»œæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="DNSæœ‰å…³çš„ç½‘ç»œæ€§èƒ½ä¼˜åŒ–"></a>DNSæœ‰å…³çš„ç½‘ç»œæ€§èƒ½ä¼˜åŒ–</h4><p>1ã€å‡å°‘DNSæŸ¥æ‰¾ï¼Œé¿å…é‡å®šå‘ ã€€ã€€æµè§ˆå™¨DNSç¼“å­˜ ã€è®¡ç®—æœºDNSç¼“å­˜ã€ æœåŠ¡å™¨DNSç¼“å­˜ã€ä½¿ç”¨Keep-Aliveç‰¹æ€§ æ¥å‡å°‘DNSæŸ¥æ‰¾ã€‚è€ƒè™‘å½±å“DNSç¼“å­˜çš„å› ç´ ï¼š</p><ul><li><p>æœåŠ¡å™¨å¯ä»¥è®¾ç½®TTLå€¼è¡¨ç¤ºDNSè®°å½•çš„å­˜æ´»æ—¶é—´ã€‚æœ¬æœºDNSç¼“å­˜å°†æ ¹æ®è¿™ä¸ªTTLå€¼åˆ¤æ–­DNSè®°å½•ä»€ä¹ˆæ—¶å€™è¢«æŠ›å¼ƒï¼Œè¿™ä¸ªTTLå€¼ä¸€èˆ¬éƒ½ä¸ä¼šè®¾ç½®å¾ˆå¤§ï¼Œä¸»è¦æ˜¯è€ƒè™‘åˆ°å¿«é€Ÿæ•…éšœè½¬ç§»çš„é—®é¢˜ã€‚</p></li><li><p>æµè§ˆå™¨DNSç¼“å­˜ä¹Ÿæœ‰è‡ªå·±çš„è¿‡æœŸæ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´æ˜¯ç‹¬ç«‹äºæœ¬æœºDNSç¼“å­˜çš„ï¼Œç›¸å¯¹ä¹Ÿæ¯”è¾ƒçŸ­ï¼Œä¾‹å¦‚chromeåªæœ‰1åˆ†é’Ÿå·¦å³ã€‚</p></li><li><p>æµè§ˆå™¨DNSè®°å½•çš„æ•°é‡ä¹Ÿæœ‰é™åˆ¶ï¼Œå¦‚æœçŸ­æ—¶é—´å†…è®¿é—®äº†å¤§é‡ä¸åŒåŸŸåçš„ç½‘ç«™ï¼Œåˆ™è¾ƒæ—©çš„DNSè®°å½•å°†è¢«æŠ›å¼ƒï¼Œå¿…é¡»é‡æ–°æŸ¥æ‰¾ã€‚ä¸è¿‡å³ä½¿æµè§ˆå™¨ä¸¢å¼ƒäº†DNSè®°å½•ï¼Œæ“ä½œç³»ç»Ÿçš„DNSç¼“å­˜ä¹Ÿæœ‰å¾ˆå¤§æœºç‡ä¿ç•™ç€è¯¥è®°å½•ï¼Œè¿™æ ·å¯ä»¥é¿å…é€šè¿‡ç½‘ç»œæŸ¥è¯¢è€Œå¸¦æ¥çš„å»¶è¿Ÿã€‚</p><p>2ã€DNSçš„é¢„è§£æ</p><ul><li>å¯ä»¥é€šè¿‡ç”¨metaä¿¡æ¯æ¥å‘ŠçŸ¥æµè§ˆå™¨, æˆ‘è¿™é¡µé¢è¦åšDNSé¢„è§£æ</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv=&quot;x-dns-prefetch-control&quot; content=&quot;on&quot; /&gt;</span><br></pre></td></tr></table></figure><ul><li>å¯ä»¥ä½¿ç”¨linkæ ‡ç­¾æ¥å¼ºåˆ¶å¯¹DNSåšé¢„è§£æ:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;http://ke.qq.com/&quot; /&gt;</span><br></pre></td></tr></table></figure><ul><li>å½“å®¢æˆ·ç«¯çš„DNSç¼“å­˜ä¸ºç©ºæ—¶ï¼ŒDNSæŸ¥æ‰¾çš„æ•°é‡ä¸Webé¡µé¢ä¸­å”¯ä¸€ä¸»æœºåçš„æ•°é‡ç›¸ç­‰ã€‚å‡å°‘å”¯ä¸€ä¸»æœºåçš„æ•°é‡å°±å¯ä»¥å‡å°‘DNSæŸ¥æ‰¾çš„æ•°é‡ã€‚è¾ƒå°‘çš„åŸŸåæ¥å‡å°‘DNSæŸ¥æ‰¾ï¼ˆ2-4ä¸ªä¸»æœºï¼‰</li></ul><p>æœ¬æ–‡æ˜¯å‰ç«¯ä¸è®¡ç®—æœºç½‘ç»œåŸ¹è®­çš„ä¸€ç‚¹æ€»ç»“ï¼Œå…³äºDNSè§£æè¿‡ç¨‹åšäº†ç®€çŸ­çš„ä»‹ç»ï¼Œç›¸å…³çš„å®‰å…¨é˜²èŒƒå’Œç½‘ç»œæ€§èƒ½ä¼˜åŒ–ï¼Œè¿˜éœ€è¦æ›´å¤šçš„å­¦ä¹ ã€‚</p><h3 id="3-TCP"><a href="#3-TCP" class="headerlink" title="3.TCP"></a>3.TCP</h3><h4 id="ä»€ä¹ˆæ˜¯TCP-IP"><a href="#ä»€ä¹ˆæ˜¯TCP-IP" class="headerlink" title="ä»€ä¹ˆæ˜¯TCP/IP?"></a>ä»€ä¹ˆæ˜¯TCP/IP?</h4><p><strong>TCP/IPæ˜¯ä¸€ç±»åè®®ç³»ç»Ÿã€‚ä»–æ˜¯ç”¨äºç½‘ç»œé€šä¿¡çš„ä¸€å¥—åè®®é›†åˆ</strong></p><p>ä¼ ç»Ÿä¸Šæ¥è¯´TCP/IPè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå››å±‚åè®®</p><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191608064.webp" alt="img"></p><p><strong>1ç½‘ç»œæ¥å£å±‚:</strong></p><p><strong>ä¸»è¦æ˜¯æŒ‡ç‰©ç†å±‚æ¬¡çš„ä¸€äº›æ¥å£,æ¯”å¦‚ç”µç¼†ç­‰ï¼</strong></p><ol start="2"><li><strong>ç½‘ç»œå±‚:</strong></li></ol><p><strong>æä¾›ç‹¬ç«‹äºç¡¬ä»¶çš„é€»è¾‘å¯»å€,å®ç°ç‰©ç†åœ°å€ä¸é€»è¾‘åœ°å€çš„è½¬æ¢ï¼</strong></p><p><strong>åœ¨ TCP / IP åè®®æ—ä¸­ï¼Œç½‘ç»œå±‚åè®®åŒ…æ‹¬ IP åè®®ï¼ˆç½‘é™…åè®®ï¼‰ï¼ŒICMP åè®®ï¼ˆ Internet äº’è”ç½‘æ§åˆ¶æŠ¥æ–‡åè®®ï¼‰ï¼Œä»¥åŠ IGMP åè®®ï¼ˆ Internet ç»„ç®¡ç†åè®®ï¼‰.</strong></p><ol start="3"><li><strong>ä¼ è¾“å±‚:</strong></li></ol><p><strong>ä¸ºç½‘ç»œæä¾›äº†æµé‡æ§åˆ¶,é”™è¯¯æ§åˆ¶å’Œç¡®è®¤æœåŠ¡.</strong></p><p><strong>åœ¨ TCP / IP åè®®æ—ä¸­æœ‰ä¸¤ä¸ªäº’ä¸ç›¸åŒçš„ä¼ è¾“åè®®ï¼š TCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰å’Œ UDPï¼ˆç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰.</strong></p><ol start="4"><li><strong>åº”ç”¨å±‚:</strong></li></ol><p><strong>ä¸ºç½‘ç»œæ’é”™,æ–‡ä»¶ä¼ è¾“,è¿œç¨‹æ§åˆ¶å’Œ Internet æ“ä½œæä¾›å…·ä½“çš„åº”ç”¨ç¨‹åº</strong></p><h4 id="TCPçš„ä¸‰æ¬¡æ¡æ‰‹"><a href="#TCPçš„ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="TCPçš„ä¸‰æ¬¡æ¡æ‰‹"></a>TCPçš„ä¸‰æ¬¡æ¡æ‰‹</h4><h5 id="ä¸‰æ¬¡æ¡æ‰‹æµç¨‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹æµç¨‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹æµç¨‹"></a>ä¸‰æ¬¡æ¡æ‰‹æµç¨‹</h5><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191611193.webp" alt="img"></p><ul><li>å®¢æˆ·ç«¯å‘é€SYNï¼Œè¡¨æ˜è¦å‘æœåŠ¡å™¨å»ºç«‹è¿æ¥ã€‚åŒæ—¶å¸¦ä¸Šåºåˆ—å·ISN</li><li>æœåŠ¡å™¨è¿”å›ACKï¼ˆåºå·ä¸ºå®¢æˆ·ç«¯åºåˆ—å·+1ï¼‰ä½œä¸ºç¡®è®¤ã€‚åŒæ—¶å‘é€SYNä½œä¸ºåº”ç­”ï¼ˆSYNçš„åºåˆ—å·ä¸ºæœåŠ¡ç«¯å”¯ä¸€çš„åºå·ï¼‰</li><li>å®¢æˆ·ç«¯å‘é€ACKç¡®è®¤æ”¶åˆ°å›å¤ï¼ˆåºåˆ—å·ä¸ºæœåŠ¡ç«¯åºåˆ—å·+1ï¼‰</li></ul><h5 id="ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹?"></a>ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹?</h5><p>tcpè¿æ¥æ˜¯å…¨åŒå·¥çš„ï¼Œæ•°æ®åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šèƒ½åŒæ—¶ä¼ é€’ã€‚</p><p>æ‰€ä»¥è¦<strong>ç¡®ä¿åŒæ–¹ï¼ŒåŒæ—¶èƒ½å‘æ•°æ®å’Œæ”¶æ•°æ®</strong></p><p><strong>ç¬¬ä¸€æ¬¡æ¡æ‰‹</strong>ï¼šè¯æ˜äº†å‘é€æ–¹èƒ½å‘æ•°æ®</p><p><strong>ç¬¬äºŒæ¬¡æ¡æ‰‹</strong>ï¼šackç¡®ä¿äº†æ¥æ”¶æ–¹èƒ½æ”¶æ•°æ®ï¼Œsynç¡®ä¿äº†æ¥æ”¶æ–¹èƒ½å‘æ•°æ®</p><p><strong>ç¬¬ä¸‰æ¬¡æ¡æ‰‹</strong>ï¼šç¡®ä¿äº†å‘é€æ–¹èƒ½æ”¶æ•°æ®</p><p>å®é™…ä¸Šæ˜¯å››ä¸ªç»´åº¦çš„ä¿¡æ¯äº¤æ¢ï¼Œä¸è¿‡ä¸­é—´ä¸¤æ­¥åˆå¹¶ä¸ºä¸€æ¬¡æ¡æ‰‹äº†ã€‚</p><p>å››æ¬¡æ¡æ‰‹æµªè´¹ï¼Œä¸¤æ¬¡æ¡æ‰‹ä¸èƒ½ä¿è¯â€œåŒæ–¹åŒæ—¶å…·å¤‡æ”¶å‘åŠŸèƒ½â€</p><h4 id="TCPçš„å››æ¬¡æŒ¥æ‰‹"><a href="#TCPçš„å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="TCPçš„å››æ¬¡æŒ¥æ‰‹"></a>TCPçš„å››æ¬¡æŒ¥æ‰‹</h4><h5 id="å››æ¬¡æŒ¥æ‰‹æµç¨‹"><a href="#å››æ¬¡æŒ¥æ‰‹æµç¨‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹æµç¨‹"></a>å››æ¬¡æŒ¥æ‰‹æµç¨‹</h5><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191637291.webp" alt="img"></p><ul><li>ä¸»åŠ¨å…³é—­çš„ä¸€æ–¹å‘é€FINï¼Œè¡¨ç¤ºè¦å•æ–¹é¢å…³é—­æ•°æ®çš„ä¼ è¾“</li><li>æœåŠ¡ç«¯æ”¶åˆ°FINåï¼Œå‘é€ä¸€ä¸ªACKä½œä¸ºç¡®è®¤ï¼ˆåºåˆ—å·ä¸ºæ”¶åˆ°çš„åºåˆ—å·+1ï¼‰</li><li>ç­‰æœåŠ¡å™¨æ•°æ®ä¼ è¾“å®Œæ¯•ï¼Œä¹Ÿå‘é€ä¸€ä¸ªFINæ ‡è¯†ï¼Œè¡¨ç¤ºå…³é—­è¿™ä¸ªæ–¹å‘çš„æ•°æ®ä¼ è¾“</li><li>å®¢æˆ·ç«¯å›å¤ACKä»¥ç¡®è®¤å›å¤</li></ul><h5 id="ä¸ºä»€ä¹ˆæ˜¯å››æ¬¡æŒ¥æ‰‹"><a href="#ä¸ºä»€ä¹ˆæ˜¯å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="ä¸ºä»€ä¹ˆæ˜¯å››æ¬¡æŒ¥æ‰‹?"></a>ä¸ºä»€ä¹ˆæ˜¯å››æ¬¡æŒ¥æ‰‹?</h5><ul><li>å› ä¸ºtcpè¿æ¥æ˜¯å…¨åŒå·¥çš„ï¼Œæ•°æ®åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šèƒ½åŒæ—¶ä¼ é€’ã€‚</li><li>åŒæ—¶tcpæ”¯æŒåŠå…³é—­ï¼ˆå‘é€ä¸€æ–¹ç»“æŸå‘é€è¿˜èƒ½æ¥æ”¶æ•°æ®çš„åŠŸèƒ½ï¼‰ã€‚</li><li>å› æ­¤æ¯ä¸ªæ–¹å‘éƒ½è¦å•ç‹¬å…³é—­ï¼Œä¸”æ”¶åˆ°å…³ç³»é€šçŸ¥éœ€è¦å‘é€ç¡®è®¤å›å¤</li></ul><h3 id="TCPå»ºç«‹è¿æ¥å’Œå…³é—­è¿æ¥å¯¹åº”çš„çŠ¶æ€"><a href="#TCPå»ºç«‹è¿æ¥å’Œå…³é—­è¿æ¥å¯¹åº”çš„çŠ¶æ€" class="headerlink" title="TCPå»ºç«‹è¿æ¥å’Œå…³é—­è¿æ¥å¯¹åº”çš„çŠ¶æ€"></a>TCPå»ºç«‹è¿æ¥å’Œå…³é—­è¿æ¥å¯¹åº”çš„çŠ¶æ€</h3><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203191643424.webp" alt="img"></p><h3 id="4-HTTPS"><a href="#4-HTTPS" class="headerlink" title="4.HTTPS"></a>4.HTTPS</h3><h4 id="HTTPSçš„å·¥ä½œåŸç†"><a href="#HTTPSçš„å·¥ä½œåŸç†" class="headerlink" title="HTTPSçš„å·¥ä½œåŸç†"></a>HTTPSçš„å·¥ä½œåŸç†</h4><p><strong>ä»€ä¹ˆæ˜¯HTTPS?</strong></p><p><strong>HTTPSæ˜¯åœ¨HTTPä¸Šå»ºç«‹SSLåŠ å¯†å±‚å¹¶å¯¹ä¼ è¾“æ•°æ®è¿›è¡ŒåŠ å¯†ã€‚æ˜¯HTTPåè®®çš„å®‰å…¨ç‰ˆ</strong></p><p>ç°åœ¨ä»–è¢«å¹¿æ³›ç”¨äºä¸‡ç»´ç½‘ä¸Šå®‰å…¨æ•æ„Ÿçš„é€šè®¯ï¼Œä¾‹å¦‚äº¤æ˜“æ”¯ä»˜æ–¹é¢</p><p>HTTPSçš„ä¸»è¦ä½œç”¨æ˜¯:</p><ul><li>å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œå¹¶å»ºç«‹ä¸€ä¸ªä¿¡æ¯å®‰å…¨é€šé“ï¼Œæ¥ä¿è¯ä¼ è¾“è¿‡ç¨‹ä¸­çš„æ•°æ®å®‰å…¨</li><li>å¯¹ç½‘ç«™æœåŠ¡å™¨è¿›è¡ŒçœŸå®èº«ä»½è®¤è¯</li></ul><p><strong>ä¸ºä»€ä¹ˆéœ€è¦https?</strong></p><p>åŸæœ¬çš„httpåè®®ä¸­æœ‰å¯èƒ½å­˜åœ¨ä¿¡æ¯çªƒå–æˆ–è€…èº«ä»½ä¼ªè£…ç­‰å®‰å…¨é—®é¢˜ã€‚ä½¿ç”¨httpsé€šä¿¡æœºåˆ¶å¯ä»¥æœ‰æ•ˆåœ°ç»“è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p><strong>httpåè®®å­˜åœ¨çš„é—®é¢˜:</strong></p><ul><li>é€šä¿¡ä½¿ç”¨æ˜æ–‡(ä¸åŠ å¯†),å¯èƒ½ä¼šè¢«çªƒå¬</li><li>æ— æ³•è¯æ˜æŠ¥æ–‡çš„å®Œæ•´æ€§ï¼Œæ‰€ä»¥å¯èƒ½é­ç¯¡æ”¹</li><li>ä¸éªŒè¯é€šä¿¡æ–¹çš„èº«ä»½ï¼Œå› æ­¤æœ‰å¯èƒ½é­é‡ä¼ªè£…</li></ul><p><strong>httpsçš„ä¼˜åŠ¿:</strong></p><ul><li><strong>æ•°æ®éšç§æ€§</strong>ï¼šå†…å®¹ç»è¿‡å †æˆåŠ å¯†ï¼Œæ¯ä¸ªè¿æ¥ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„åŠ å¯†å¯†åŒ™</li><li><strong>æ•°æ®å®Œæ•´æ€§</strong>ï¼šå†…å®¹ä¼ è¾“ç»è¿‡å®Œæ•´æ€§æ ¡éªŒ</li><li><strong>èº«ä»½è®¤è¯</strong>ï¼šç¬¬ä¸‰æ–¹æ— æ³•ä¼ªé€ æœåŠ¡å™¨(å®¢æˆ·ç«¯)èº«ä»½</li></ul><h4 id="HTTPSå’ŒHTTPæœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#HTTPSå’ŒHTTPæœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="HTTPSå’ŒHTTPæœ‰ä»€ä¹ˆåŒºåˆ«"></a>HTTPSå’ŒHTTPæœ‰ä»€ä¹ˆåŒºåˆ«</h4><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203201056419.webp" alt="img"></p><p>HTTPSå¹¶éæ˜¯åº”ç”¨å±‚çš„ä¸€ç§æ–°åè®®ã€‚åªæ˜¯HTTPé€šä¿¡æ¥å£éƒ¨åˆ†ç”¨SSLå’ŒTLSåè®®ä»£æ›¿è€Œå·²ã€‚</p><p>é€šå¸¸ï¼ŒHTTPç›´æ¥å’ŒTCPé€šä¿¡ã€‚å½“ä½¿ç”¨SSLæ—¶ï¼Œåˆ™æ¼”å˜æˆå…ˆå’ŒSSLé€šä¿¡ï¼Œå†ç”±SSLå’ŒTCPé€šä¿¡äº†ã€‚ç®€è¨€ä¹‹ï¼Œ<strong>æ‰€è°“HTTPSï¼Œå…¶å®å°±æ˜¯èº«æŠ«SSLåè®®è¿™å±‚å¤–å£³çš„HTTP</strong>ã€‚</p><p>åœ¨é‡‡ç”¨SSLåï¼ŒHTTPå°±æ‹¥æœ‰äº†HTTPSçš„åŠ å¯†ã€è¯ä¹¦å’Œå®Œæ•´æ€§ä¿æŠ¤è¿™äº›åŠŸèƒ½ã€‚ä¹Ÿå°±æ˜¯è¯´<strong>HTTPåŠ ä¸ŠåŠ å¯†å¤„ç†å’Œè®¤è¯ä»¥åŠå®Œæ•´æ€§ä¿æŠ¤åå³æ˜¯HTTPS</strong>ã€‚</p><ul><li>HTTP æ˜¯æ˜æ–‡ä¼ è¾“åè®®ï¼ŒHTTPS åè®®æ˜¯ç”± SSL+HTTP åè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯” HTTP åè®®å®‰å…¨ã€‚</li></ul><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203201057264.webp" alt="img"></p><p>å…³äºå®‰å…¨æ€§ï¼Œç”¨æœ€ç®€å•çš„æ¯”å–»å½¢å®¹ä¸¤è€…çš„å…³ç³»å°±æ˜¯å¡è½¦è¿è´§ï¼ŒHTTPä¸‹çš„è¿è´§è½¦æ˜¯æ•ç¯·çš„ï¼Œè´§ç‰©éƒ½æ˜¯æš´éœ²çš„ã€‚è€Œhttpsåˆ™æ˜¯å°é—­é›†è£…ç®±è½¦ï¼Œå®‰å…¨æ€§è‡ªç„¶æå‡ä¸å°‘ã€‚</p><ul><li>HTTPSæ¯”HTTPæ›´åŠ å®‰å…¨ï¼Œå¯¹æœç´¢å¼•æ“æ›´å‹å¥½ï¼Œåˆ©äºSEO,è°·æ­Œã€ç™¾åº¦ä¼˜å…ˆç´¢å¼•HTTPSç½‘é¡µ;</li><li>HTTPSéœ€è¦ç”¨åˆ°SSLè¯ä¹¦ï¼Œè€ŒHTTPä¸ç”¨;</li><li>HTTPSæ ‡å‡†ç«¯å£443ï¼ŒHTTPæ ‡å‡†ç«¯å£80;</li><li>HTTPSåŸºäºä¼ è¾“å±‚ï¼ŒHTTPåŸºäºåº”ç”¨å±‚;</li><li>HTTPSåœ¨æµè§ˆå™¨æ˜¾ç¤ºç»¿è‰²å®‰å…¨é”ï¼ŒHTTPæ²¡æœ‰æ˜¾ç¤º;</li></ul><h3 id="5-CDN"><a href="#5-CDN" class="headerlink" title="5.CDN"></a>5.CDN</h3><h4 id="CDNæ˜¯ä»€ä¹ˆ"><a href="#CDNæ˜¯ä»€ä¹ˆ" class="headerlink" title="CDNæ˜¯ä»€ä¹ˆ?"></a>CDNæ˜¯ä»€ä¹ˆ?</h4><p>CDNçš„å…¨ç§°æ˜¯Content Delivery Networkï¼Œå³<strong>å†…å®¹åˆ†å‘ç½‘ç»œ</strong>ã€‚</p><p><strong>å…¶åŸºæœ¬æ€è·¯æ˜¯å°½å¯èƒ½é¿å¼€äº’è”ç½‘ä¸Šæœ‰å¯èƒ½å½±å“æ•°æ®ä¼ è¾“é€Ÿåº¦å’Œç¨³å®šæ€§çš„ç“¶é¢ˆå’Œç¯èŠ‚ï¼Œä½¿å†…å®¹ä¼ è¾“çš„æ›´å¿«ã€æ›´ç¨³å®š</strong>ã€‚é€šè¿‡åœ¨ç½‘ç»œå„å¤„æ”¾ç½®èŠ‚ç‚¹æœåŠ¡å™¨æ‰€æ„æˆçš„åœ¨ç°æœ‰çš„äº’è”ç½‘åŸºç¡€ä¹‹ä¸Šçš„ä¸€å±‚æ™ºèƒ½è™šæ‹Ÿç½‘ç»œï¼ŒCDNç³»ç»Ÿèƒ½å¤Ÿå®æ—¶åœ°æ ¹æ®ç½‘ç»œæµé‡å’Œå„èŠ‚ç‚¹çš„è¿æ¥ã€è´Ÿè½½çŠ¶å†µä»¥åŠåˆ°ç”¨æˆ·çš„è·ç¦»å’Œå“åº”æ—¶é—´ç­‰ç»¼åˆä¿¡æ¯å°†ç”¨æˆ·çš„è¯·æ±‚é‡æ–°å¯¼å‘ç¦»ç”¨æˆ·æœ€è¿‘çš„æœåŠ¡èŠ‚ç‚¹ä¸Šã€‚å…¶ç›®çš„æ˜¯ä½¿ç”¨æˆ·å¯å°±è¿‘å–å¾—æ‰€éœ€å†…å®¹ï¼Œè§£å†³ Internetç½‘ç»œæ‹¥æŒ¤çš„çŠ¶å†µï¼Œæé«˜ç”¨æˆ·è®¿é—®ç½‘ç«™çš„å“åº”é€Ÿåº¦ã€‚</p><p>åœ¨ä¸åŒåœ°åŸŸçš„ç”¨æˆ·è®¿é—®ç½‘ç«™çš„å“åº”é€Ÿåº¦å­˜åœ¨å·®å¼‚,ä¸ºäº†æé«˜ç”¨æˆ·è®¿é—®çš„å“åº”é€Ÿåº¦ã€ä¼˜åŒ–ç°æœ‰Internetä¸­ä¿¡æ¯çš„æµåŠ¨,éœ€è¦åœ¨ç”¨æˆ·å’ŒæœåŠ¡å™¨é—´åŠ å…¥ä¸­é—´å±‚CDN. ä½¿ç”¨æˆ·èƒ½ä»¥æœ€å¿«çš„é€Ÿåº¦ï¼Œä»æœ€æ¥è¿‘ç”¨æˆ·çš„åœ°æ–¹è·å¾—æ‰€éœ€çš„ä¿¡æ¯ï¼Œå½»åº•è§£å†³ç½‘ç»œæ‹¥å¡ï¼Œæé«˜å“åº”é€Ÿåº¦ï¼Œæ˜¯ç›®å‰å¤§å‹ç½‘ç«™ä½¿ç”¨çš„æµè¡Œçš„åº”ç”¨æ–¹æ¡ˆ.</p><p><strong>CDNçš„åŸºæœ¬å·¥ä½œè¿‡ç¨‹ï¼š</strong></p><ul><li>å½“ç”¨æˆ·ç‚¹å‡»ç½‘ç«™é¡µé¢ä¸Šçš„å†…å®¹URLï¼Œå…ˆç»è¿‡æœ¬åœ°DNSç³»ç»Ÿè§£æï¼Œå¦‚æœæœ¬åœ°DNSæœåŠ¡å™¨æ²¡æœ‰ç›¸åº”åŸŸåçš„ç¼“å­˜ï¼Œåˆ™æœ¬åœ°DNSç³»ç»Ÿä¼šå°†åŸŸåçš„è§£ææƒäº¤ç»™CNAMEæŒ‡å‘çš„CDNä¸“ç”¨DNSæœåŠ¡å™¨ã€‚</li><li>CDNçš„DNSæœåŠ¡å™¨å°†CDNçš„å…¨å±€è´Ÿè½½å‡è¡¡è®¾å¤‡IPåœ°å€è¿”å›ç»™ç”¨æˆ·ã€‚</li><li>ç”¨æˆ·å‘CDNçš„å…¨å±€è´Ÿè½½å‡è¡¡è®¾å¤‡å‘èµ·URLè®¿é—®è¯·æ±‚ã€‚</li><li>CDNå…¨å±€è´Ÿè½½å‡è¡¡è®¾å¤‡æ ¹æ®ç”¨æˆ·IPåœ°å€ï¼Œä»¥åŠç”¨æˆ·è¯·æ±‚çš„URLï¼Œé€‰æ‹©ä¸€å°ç”¨æˆ·æ‰€å±åŒºåŸŸçš„åŒºåŸŸè´Ÿè½½å‡è¡¡è®¾å¤‡ï¼Œå¹¶å°†è¯·æ±‚è½¬å‘åˆ°æ­¤è®¾å¤‡ä¸Šã€‚</li><li>åŸºäºä»¥ä¸‹è¿™äº›æ¡ä»¶çš„ç»¼åˆåˆ†æä¹‹åï¼ŒåŒºåŸŸè´Ÿè½½å‡è¡¡è®¾å¤‡ä¼šé€‰æ‹©ä¸€ä¸ªæœ€ä¼˜çš„ç¼“å­˜æœåŠ¡å™¨èŠ‚ç‚¹ï¼Œå¹¶ä»ç¼“å­˜æœåŠ¡å™¨èŠ‚ç‚¹å¤„å¾—åˆ°ç¼“å­˜æœåŠ¡å™¨çš„IPåœ°å€ï¼Œæœ€ç»ˆå°†å¾—åˆ°çš„IPåœ°å€è¿”å›ç»™å…¨å±€è´Ÿè½½å‡è¡¡è®¾å¤‡ï¼š</li><li>æ ¹æ®ç”¨æˆ·IPåœ°å€ï¼Œåˆ¤æ–­å“ªä¸€ä¸ªè¾¹ç¼˜èŠ‚ç‚¹è·ç”¨æˆ·æœ€è¿‘ï¼›</li><li>æ ¹æ®ç”¨æˆ·æ‰€è¯·æ±‚çš„URLä¸­æºå¸¦çš„å†…å®¹åç§°ï¼Œåˆ¤æ–­å“ªä¸€ä¸ªè¾¹ç¼˜èŠ‚ç‚¹ä¸Šæœ‰ç”¨æˆ·æ‰€éœ€å†…å®¹ï¼›</li><li>æŸ¥è¯¢å„ä¸ªè¾¹ç¼˜èŠ‚ç‚¹å½“å‰çš„è´Ÿè½½æƒ…å†µï¼Œåˆ¤æ–­å“ªä¸€ä¸ªè¾¹ç¼˜èŠ‚ç‚¹å°šæœ‰æœåŠ¡èƒ½åŠ›ã€‚</li><li>å…¨å±€è´Ÿè½½å‡è¡¡è®¾å¤‡æŠŠæœåŠ¡å™¨çš„IPåœ°å€è¿”å›ç»™ç”¨æˆ·ã€‚</li><li>ç”¨æˆ·å‘ç¼“å­˜æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç¼“å­˜æœåŠ¡å™¨å“åº”ç”¨æˆ·è¯·æ±‚ï¼Œå°†ç”¨æˆ·æ‰€éœ€å†…å®¹ä¼ é€åˆ°ç”¨æˆ·ç»ˆç«¯ã€‚å¦‚æœè¿™å°ç¼“å­˜æœåŠ¡å™¨ä¸Šå¹¶æ²¡æœ‰ç”¨æˆ·æƒ³è¦çš„å†…å®¹ï¼Œè€ŒåŒºåŸŸå‡è¡¡è®¾å¤‡ä¾ç„¶å°†å®ƒåˆ†é…ç»™äº†ç”¨æˆ·ï¼Œé‚£ä¹ˆè¿™å°æœåŠ¡å™¨å°±è¦å‘å®ƒçš„ä¸Šä¸€çº§ç¼“å­˜æœåŠ¡å™¨è¯·æ±‚å†…å®¹ï¼Œç›´è‡³è¿½æº¯åˆ°ç½‘ç«™çš„æºæœåŠ¡å™¨å°†å†…å®¹æ‹‰åˆ°æœ¬åœ°ã€‚</li></ul><p><strong>CDNçš„åº”ç”¨åœºæ™¯:</strong></p><ul><li>ç”¨æˆ·é‡å¤§çš„ç›´æ’­å¹³å°ï¼Œéœ€è¦å¿«é€Ÿã€ä½å»¶è¿Ÿçš„è·å–å„ç±»ç›´æ’­ä¿¡æ¯</li><li>ç”µå­å•†åŠ¡ç½‘ç«™</li><li>å¤§å‹ä¼ä¸š</li></ul><p>æ—¢ç„¶CDNçš„æ ¸å¿ƒä½œç”¨æ˜¯æé«˜ç½‘ç»œçš„è®¿é—®é€Ÿåº¦ï¼Œé‚£ä¹ˆå…¶ç”¨æˆ·ä¹Ÿå°±æ˜¯è®¿é—®é‡å¾ˆå¤§çš„ç½‘ç«™ï¼Œä¾‹å¦‚ICP ã€ISPã€å¤§å‹ä¼ä¸šã€ç”µå­å•†åŠ¡ç½‘ç«™å’Œæ”¿åºœç½‘ç«™ç­‰ã€‚åˆ©ç”¨CDNæŠ€æœ¯ï¼Œè¿™äº›ç½‘ç«™æ— éœ€æŠ•èµ„æ˜‚è´µçš„å„ç±»æœåŠ¡å™¨ï¼Œè®¾ç«‹åˆ†ç«™ç‚¹ã€‚é€šè¿‡é‡‡ç”¨CDNï¼ŒCDNå°†è´Ÿè´£ä¿¡æ¯ä¼ é€’å·¥ä½œï¼Œä¿è¯ä¿¡æ¯æ­£å¸¸ä¼ è¾“ï¼Œè€ŒæŠ€æœ¯äººå‘˜åªéœ€è¦ç»´æŠ¤ç½‘ç«™å†…å®¹ï¼Œä¸éœ€è¦è€ƒè™‘æµé‡é—®é¢˜ã€‚è¿™æ ·ï¼Œç½‘ç«™å¯ä¿è¯ç”¨æˆ·å¾—åˆ°æ›´å¤šçš„æ–°ä¸šåŠ¡ï¼Œå¯ä»¥å¿«é€Ÿè®¿é—®ç½‘ç»œä¸Šçš„å†…å®¹ï¼Œè·å¾—æ›´å¥½çš„æœåŠ¡è´¨é‡ã€‚ä¸¾ä¸ªä¾‹å­æ¥è®²ï¼Œå¯¹äºè®¿é—®é‡æ¯”è¾ƒå¤§ï¼Œè€Œè¢«è®¿é—®å†…å®¹æ›´æ–°å‘¨æœŸæ¯”è¾ƒé•¿çš„ç½‘ç«™ï¼Œå¦‚æ”¿åºœç½‘ç«™ï¼Œç”¨æˆ·å¾€å¾€è¿›è¡Œå¤§é‡çš„æŸ¥è¯¢å·¥ä½œã€‚è¿™ç±»ç½‘ç«™æ¯”è¾ƒé€‚åˆé‡‡ç”¨CDNã€‚è¿˜æœ‰ï¼Œå¤§å®¶æ˜¯å¦æ³¨æ„åˆ°ï¼Œåœ¨æ‰€è°“çš„å®½å¸¦ç¤¾åŒºä¸­ï¼Œç“¶é¢ˆæ˜¯ç¤¾åŒºçš„å¯¹å¤–å‡ºå£ã€‚è¿™æ ·ï¼Œå¦‚æœé‡‡ç”¨CDNæ— ç–‘å¯¹ç¤¾åŒºç”¨æˆ·ä½¿ç”¨è§†é¢‘ç‚¹æ’­ã€ç½‘ç»œæ•™è‚²ç­‰å®½å¸¦åº”ç”¨æä¾›äº†ä¿è¯ã€‚</p><h3 id="6-ä»è¾“å…¥urlåˆ°é¡µé¢å±•ç¤ºå‘ç”Ÿäº†ä»€ä¹ˆ"><a href="#6-ä»è¾“å…¥urlåˆ°é¡µé¢å±•ç¤ºå‘ç”Ÿäº†ä»€ä¹ˆ" class="headerlink" title="6.ä»è¾“å…¥urlåˆ°é¡µé¢å±•ç¤ºå‘ç”Ÿäº†ä»€ä¹ˆ"></a>6.ä»è¾“å…¥urlåˆ°é¡µé¢å±•ç¤ºå‘ç”Ÿäº†ä»€ä¹ˆ</h3><p>æ€»ä½“æ¥è¯´åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹:</p><ol><li><strong>DNSè§£æ</strong></li><li><strong>TCPè¿æ¥</strong></li><li><strong>å‘é€HTTPè¯·æ±‚</strong></li><li><strong>æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å›HTTPæŠ¥æ–‡</strong></li><li><strong>æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢</strong></li><li><strong>è¿æ¥ç»“æŸ</strong></li></ol><p>å…·ä½“è¿‡ç¨‹ï¼š</p><ol><li>ç”¨æˆ·è¾“å…¥URLï¼Œæµè§ˆå™¨ä¼šæ ¹æ®ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯åˆ¤æ–­æ˜¯æœç´¢è¿˜æ˜¯ç½‘å€ï¼Œå¦‚æœæ˜¯æœç´¢å†…å®¹ï¼Œå°±å°†æœç´¢å†…å®¹+é»˜è®¤æœç´¢å¼•æ“åˆæˆæ–°çš„URLï¼›å¦‚æœç”¨æˆ·è¾“å…¥çš„å†…å®¹ç¬¦åˆURLè§„åˆ™ï¼Œæµè§ˆå™¨å°±ä¼šæ ¹æ®URLåè®®ï¼Œåœ¨è¿™æ®µå†…å®¹ä¸ŠåŠ ä¸Šåè®®åˆæˆåˆæ³•çš„URL </li><li>ç”¨æˆ·è¾“å…¥å®Œå†…å®¹ï¼ŒæŒ‰ä¸‹å›è½¦é”®ï¼Œæµè§ˆå™¨å¯¼èˆªæ æ˜¾ç¤ºloadingçŠ¶æ€ï¼Œä½†æ˜¯é¡µé¢è¿˜æ˜¯å‘ˆç°å‰ä¸€ä¸ªé¡µé¢ï¼Œè¿™æ˜¯å› ä¸ºæ–°é¡µé¢çš„å“åº”æ•°æ®è¿˜æ²¡æœ‰è·å¾—</li><li>æµè§ˆå™¨è¿›ç¨‹æµè§ˆå™¨æ„å»ºè¯·æ±‚è¡Œä¿¡æ¯ï¼Œä¼šé€šè¿‡è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰å°†URLè¯·æ±‚å‘é€ç»™ç½‘ç»œè¿›ç¨‹ GET /index.html HTTP1.1 </li><li>ç½‘ç»œè¿›ç¨‹è·å–åˆ°URLï¼Œå…ˆå»æœ¬åœ°ç¼“å­˜ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰ç¼“å­˜æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œæ‹¦æˆªè¯·æ±‚ï¼Œç›´æ¥200è¿”å›ï¼›å¦åˆ™ï¼Œè¿›å…¥ç½‘ç»œè¯·æ±‚è¿‡ç¨‹</li><li>ç½‘ç»œè¿›ç¨‹è¯·æ±‚DNSè¿”å›åŸŸåå¯¹åº”çš„IPå’Œç«¯å£å·ï¼Œå¦‚æœä¹‹å‰DNSæ•°æ®ç¼“å­˜æœåŠ¡ç¼“å­˜è¿‡å½“å‰åŸŸåä¿¡æ¯ï¼Œå°±ä¼šç›´æ¥è¿”å›ç¼“å­˜ä¿¡æ¯ï¼›å¦åˆ™ï¼Œå‘èµ·è¯·æ±‚è·å–æ ¹æ®åŸŸåè§£æå‡ºæ¥çš„IPå’Œç«¯å£å·ï¼Œå¦‚æœæ²¡æœ‰ç«¯å£å·ï¼Œhttpé»˜è®¤80ï¼Œhttpsé»˜è®¤443ã€‚å¦‚æœæ˜¯httpsè¯·æ±‚ï¼Œè¿˜éœ€è¦å»ºç«‹TLSè¿æ¥ã€‚</li><li>Chrome æœ‰ä¸ªæœºåˆ¶ï¼ŒåŒä¸€ä¸ªåŸŸååŒæ—¶æœ€å¤šåªèƒ½å»ºç«‹ 6 ä¸ªTCP è¿æ¥ï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªåŸŸåä¸‹åŒæ—¶æœ‰ 10 ä¸ªè¯·æ±‚å‘ç”Ÿï¼Œé‚£ä¹ˆå…¶ä¸­ 4 ä¸ªè¯·æ±‚ä¼šè¿›å…¥æ’é˜Ÿç­‰å¾…çŠ¶æ€ï¼Œç›´è‡³è¿›è¡Œä¸­çš„è¯·æ±‚å®Œæˆã€‚å¦‚æœå½“å‰è¯·æ±‚æ•°é‡å°‘äº6ä¸ªï¼Œä¼šç›´æ¥å»ºç«‹TCPè¿æ¥ã€‚</li><li>TCPä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œhttpè¯·æ±‚åŠ ä¸ŠTCPå¤´éƒ¨â€”â€”åŒ…æ‹¬æºç«¯å£å·ã€ç›®çš„ç¨‹åºç«¯å£å·å’Œç”¨äºæ ¡éªŒæ•°æ®å®Œæ•´æ€§çš„åºå·ï¼Œå‘ä¸‹ä¼ è¾“</li><li>ç½‘ç»œå±‚åœ¨æ•°æ®åŒ…ä¸ŠåŠ ä¸ŠIPå¤´éƒ¨â€”â€”åŒ…æ‹¬æºIPåœ°å€å’Œç›®çš„IPåœ°å€ï¼Œç»§ç»­å‘ä¸‹ä¼ è¾“åˆ°åº•å±‚</li><li>åº•å±‚é€šè¿‡ç‰©ç†ç½‘ç»œä¼ è¾“ç»™ç›®çš„æœåŠ¡å™¨ä¸»æœº </li><li>ç›®çš„æœåŠ¡å™¨ä¸»æœºç½‘ç»œå±‚æ¥æ”¶åˆ°æ•°æ®åŒ…ï¼Œè§£æå‡ºIPå¤´éƒ¨ï¼Œè¯†åˆ«å‡ºæ•°æ®éƒ¨åˆ†ï¼Œå°†è§£å¼€çš„æ•°æ®åŒ…å‘ä¸Šä¼ è¾“åˆ°ä¼ è¾“å±‚ </li><li>ç›®çš„æœåŠ¡å™¨ä¸»æœºä¼ è¾“å±‚è·å–åˆ°æ•°æ®åŒ…ï¼Œè§£æå‡ºTCPå¤´éƒ¨ï¼Œè¯†åˆ«ç«¯å£ï¼Œå°†è§£å¼€çš„æ•°æ®åŒ…å‘ä¸Šä¼ è¾“åˆ°åº”ç”¨å±‚ </li><li>åº”ç”¨å±‚HTTPè§£æè¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ï¼Œå¦‚æœéœ€è¦é‡å®šå‘ï¼ŒHTTPç›´æ¥è¿”å›HTTPå“åº”æ•°æ®çš„çŠ¶æ€code301æˆ–è€…302ï¼ŒåŒæ—¶åœ¨è¯·æ±‚å¤´çš„Locationå­—æ®µä¸­é™„ä¸Šé‡å®šå‘åœ°å€ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®codeå’ŒLocationè¿›è¡Œé‡å®šå‘æ“ä½œï¼›å¦‚æœä¸æ˜¯é‡å®šå‘ï¼Œé¦–å…ˆæœåŠ¡å™¨ä¼šæ ¹æ® è¯·æ±‚å¤´ä¸­çš„If-None-Match çš„å€¼æ¥åˆ¤æ–­è¯·æ±‚çš„èµ„æºæ˜¯å¦è¢«æ›´æ–°ï¼Œå¦‚æœæ²¡æœ‰æ›´æ–°ï¼Œå°±è¿”å›304çŠ¶æ€ç ï¼Œç›¸å½“äºå‘Šè¯‰æµè§ˆå™¨ä¹‹å‰çš„ç¼“å­˜è¿˜å¯ä»¥ä½¿ç”¨ï¼Œå°±ä¸è¿”å›æ–°æ•°æ®äº†ï¼›å¦åˆ™ï¼Œè¿”å›æ–°æ•°æ®ï¼Œ200çš„çŠ¶æ€ç ï¼Œå¹¶ä¸”å¦‚æœæƒ³è¦æµè§ˆå™¨ç¼“å­˜æ•°æ®çš„è¯ï¼Œå°±åœ¨ç›¸åº”å¤´ä¸­åŠ å…¥å­—æ®µï¼š Cache-Control:Max-age=2000 å“åº”æ•°æ®åˆé¡ºç€åº”ç”¨å±‚â€”â€”ä¼ è¾“å±‚â€”â€”ç½‘ç»œå±‚â€”â€”ç½‘ç»œå±‚â€”â€”ä¼ è¾“å±‚â€”â€”åº”ç”¨å±‚çš„é¡ºåºè¿”å›åˆ°ç½‘ç»œè¿›ç¨‹ </li><li><strong>æ•°æ®ä¼ è¾“å®Œæˆï¼ŒTCPå››æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥</strong>ã€‚å¦‚æœï¼Œæµè§ˆå™¨æˆ–è€…æœåŠ¡å™¨åœ¨HTTPå¤´éƒ¨åŠ ä¸Šå¦‚ä¸‹ä¿¡æ¯ï¼ŒTCPå°±ä¸€ç›´ä¿æŒè¿æ¥ã€‚ä¿æŒTCPè¿æ¥å¯ä»¥çœä¸‹ä¸‹æ¬¡éœ€è¦å»ºç«‹è¿æ¥çš„æ—¶é—´ï¼Œæç¤ºèµ„æºåŠ è½½é€Ÿåº¦ Connection:Keep-Alive </li><li>ç½‘ç»œè¿›ç¨‹å°†è·å–åˆ°çš„æ•°æ®åŒ…è¿›è¡Œè§£æï¼Œæ ¹æ®å“åº”å¤´ä¸­çš„Content-typeæ¥åˆ¤æ–­å“åº”æ•°æ®çš„ç±»å‹ï¼Œå¦‚æœæ˜¯å­—èŠ‚æµç±»å‹ï¼Œå°±å°†è¯¥è¯·æ±‚äº¤ç»™ä¸‹è½½ç®¡ç†å™¨ï¼Œè¯¥å¯¼èˆªæµç¨‹ç»“æŸï¼Œä¸å†è¿›è¡Œï¼›å¦‚æœæ˜¯text/htmlç±»å‹ï¼Œå°±é€šçŸ¥æµè§ˆå™¨è¿›ç¨‹è·å–åˆ°æ–‡æ¡£å‡†å¤‡æ¸²æŸ“ </li><li>æµè§ˆå™¨è¿›ç¨‹è·å–åˆ°é€šçŸ¥ï¼Œæ ¹æ®å½“å‰é¡µé¢Bæ˜¯å¦æ˜¯ä»é¡µé¢Aæ‰“å¼€çš„å¹¶ä¸”å’Œé¡µé¢Aæ˜¯å¦æ˜¯åŒä¸€ä¸ªç«™ç‚¹ï¼ˆæ ¹åŸŸåå’Œåè®®ä¸€æ ·å°±è¢«è®¤ä¸ºæ˜¯åŒä¸€ä¸ªç«™ç‚¹ï¼‰ï¼Œå¦‚æœæ»¡è¶³ä¸Šè¿°æ¡ä»¶ï¼Œå°±å¤ç”¨ä¹‹å‰ç½‘é¡µçš„è¿›ç¨‹ï¼Œå¦åˆ™ï¼Œæ–°åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„æ¸²æŸ“è¿›ç¨‹</li><li>æµè§ˆå™¨ä¼šå‘å‡ºâ€œæäº¤æ–‡æ¡£â€çš„æ¶ˆæ¯ç»™æ¸²æŸ“è¿›ç¨‹ï¼Œæ¸²æŸ“è¿›ç¨‹æ”¶åˆ°æ¶ˆæ¯åï¼Œä¼šå’Œç½‘ç»œè¿›ç¨‹å»ºç«‹ä¼ è¾“æ•°æ®çš„â€œç®¡é“â€ï¼Œæ–‡æ¡£æ•°æ®ä¼ è¾“å®Œæˆåï¼Œæ¸²æŸ“è¿›ç¨‹ä¼šè¿”å›â€œç¡®è®¤æäº¤â€çš„æ¶ˆæ¯ç»™æµè§ˆå™¨è¿›ç¨‹ </li><li>æµè§ˆå™¨æ”¶åˆ°â€œç¡®è®¤æäº¤â€çš„æ¶ˆæ¯åï¼Œä¼šæ›´æ–°æµè§ˆå™¨çš„é¡µé¢çŠ¶æ€ï¼ŒåŒ…æ‹¬äº†å®‰å…¨çŠ¶æ€ã€åœ°å€æ çš„ URLã€å‰è¿›åé€€çš„å†å²çŠ¶æ€ï¼Œå¹¶æ›´æ–°webé¡µé¢ï¼Œæ­¤æ—¶çš„webé¡µé¢æ˜¯ç©ºç™½é¡µ </li><li>æ¸²æŸ“è¿›ç¨‹å¯¹æ–‡æ¡£è¿›è¡Œé¡µé¢è§£æå’Œå­èµ„æºåŠ è½½ï¼ŒHTML é€šè¿‡HTM è§£æå™¨è½¬æˆDOM Treeï¼ˆäºŒå‰æ ‘ç±»ä¼¼ç»“æ„çš„ä¸œè¥¿ï¼‰ï¼ŒCSSæŒ‰ç…§CSS è§„åˆ™å’ŒCSSè§£é‡Šå™¨è½¬æˆCSSOM TREEï¼Œä¸¤ä¸ªtreeç»“åˆï¼Œå½¢æˆrender treeï¼ˆä¸åŒ…å«HTMLçš„å…·ä½“å…ƒç´ å’Œå…ƒç´ è¦ç”»çš„å…·ä½“ä½ç½®ï¼‰ï¼Œé€šè¿‡Layoutå¯ä»¥è®¡ç®—å‡ºæ¯ä¸ªå…ƒç´ å…·ä½“çš„å®½é«˜é¢œè‰²ä½ç½®ï¼Œç»“åˆèµ·æ¥ï¼Œå¼€å§‹ç»˜åˆ¶ï¼Œæœ€åæ˜¾ç¤ºåœ¨å±å¹•ä¸­æ–°é¡µé¢æ˜¾ç¤ºå‡ºæ¥</li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯çŸ¥è¯†æ‚çƒ© </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
            <tag> Http </tag>
            
            <tag> CSS </tag>
            
            <tag> Webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¢è¯•é¢˜æ•´ç†</title>
      <link href="/2022/03/04/%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/"/>
      <url>/2022/03/04/%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€CSSé—®é¢˜"><a href="#ä¸€ã€CSSé—®é¢˜" class="headerlink" title="ä¸€ã€CSSé—®é¢˜"></a>ä¸€ã€CSSé—®é¢˜</h1><h4 id="1-flexå¸ƒå±€"><a href="#1-flexå¸ƒå±€" class="headerlink" title="1.flexå¸ƒå±€"></a>1.flexå¸ƒå±€</h4><blockquote><p>display:flex; åœ¨çˆ¶å…ƒç´ è®¾ç½®ï¼Œå­å…ƒç´ å—å¼¹æ€§ç›’å½±å“ï¼Œé»˜è®¤æ’æˆä¸€è¡Œï¼Œå¦‚æœè¶…å‡ºä¸€è¡Œï¼ŒæŒ‰æ¯”ä¾‹å‹ç¼© flex:1; å­å…ƒç´ è®¾ç½®ï¼Œè®¾ç½®å­å…ƒç´ å¦‚ä½•åˆ†é…çˆ¶å…ƒç´ çš„ç©ºé—´ï¼Œflex:1,å­å…ƒç´ å®½åº¦å æ»¡æ•´ä¸ªçˆ¶å…ƒç´ align-items:center å®šä¹‰å­å…ƒç´ åœ¨çˆ¶å®¹å™¨ä¸­çš„å¯¹é½æ–¹å¼ï¼Œcenter å‚ç›´å±…ä¸­justify-content:center è®¾ç½®å­å…ƒç´ åœ¨çˆ¶å…ƒç´ ä¸­å±…ä¸­ï¼Œå‰ææ˜¯å­å…ƒç´ æ²¡æœ‰æŠŠçˆ¶å…ƒç´ å æ»¡ï¼Œè®©å­å…ƒç´ æ°´å¹³å±…ä¸­ã€‚</p></blockquote><h4 id="2-css3çš„æ–°ç‰¹æ€§"><a href="#2-css3çš„æ–°ç‰¹æ€§" class="headerlink" title="2.css3çš„æ–°ç‰¹æ€§"></a>2.css3çš„æ–°ç‰¹æ€§</h4><blockquote><p>transtion transition-property è§„å®šè®¾ç½®è¿‡æ¸¡æ•ˆæœçš„ CSS å±æ€§çš„åç§°ã€‚</p></blockquote><blockquote><p>transition-duration è§„å®šå®Œæˆè¿‡æ¸¡æ•ˆæœéœ€è¦å¤šå°‘ç§’æˆ–æ¯«ç§’ã€‚</p></blockquote><blockquote><p>transition-timing-function è§„å®šé€Ÿåº¦æ•ˆæœçš„é€Ÿåº¦æ›²çº¿ã€‚</p></blockquote><blockquote><p>transition-delay å®šä¹‰è¿‡æ¸¡æ•ˆæœä½•æ—¶å¼€å§‹ã€‚</p></blockquote><blockquote><p>animationå±æ€§å¯ä»¥åƒFlashåˆ¶ä½œåŠ¨ç”»ä¸€æ ·ï¼Œé€šè¿‡æ§åˆ¶å…³é”®å¸§æ¥æ§åˆ¶åŠ¨ç”»çš„æ¯ä¸€æ­¥ï¼Œå®ç°æ›´ä¸ºå¤æ‚çš„åŠ¨ç”»æ•ˆæœã€‚</p></blockquote><blockquote><p>ainimationå®ç°åŠ¨ç”»æ•ˆæœä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p></blockquote><blockquote><p>é€šè¿‡ç±»ä¼¼FlashåŠ¨ç”»ä¸­çš„å¸§æ¥å£°æ˜ä¸€ä¸ªåŠ¨ç”»ï¼›</p></blockquote><blockquote><p>åœ¨animationå±æ€§ä¸­è°ƒç”¨å…³é”®å¸§å£°æ˜çš„åŠ¨ç”»ã€‚</p></blockquote><blockquote><p>translate 3Då»ºæ¨¡æ•ˆæœ</p></blockquote><h4 id="3-imgä¸­altå’Œtitleçš„åŒºåˆ«"><a href="#3-imgä¸­altå’Œtitleçš„åŒºåˆ«" class="headerlink" title="3.imgä¸­altå’Œtitleçš„åŒºåˆ«"></a>3.imgä¸­altå’Œtitleçš„åŒºåˆ«</h4><blockquote><p>å›¾ç‰‡ä¸­çš„ altå±æ€§æ˜¯åœ¨å›¾ç‰‡ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºæ—¶å‡ºç°çš„æ–‡æœ¬æç¤ºã€‚altæœ‰åˆ©äºSEOä¼˜åŒ–</p></blockquote><blockquote><p>å›¾ç‰‡ä¸­çš„ titleå±æ€§æ˜¯åœ¨é¼ æ ‡åœ¨ç§»åŠ¨åˆ°å…ƒç´ ä¸Šçš„æ–‡æœ¬æç¤ºã€‚</p></blockquote><h4 id="4-ç”¨çº¯CSSåˆ›å»ºä¸€ä¸ªä¸‰è§’å½¢"><a href="#4-ç”¨çº¯CSSåˆ›å»ºä¸€ä¸ªä¸‰è§’å½¢" class="headerlink" title="4.ç”¨çº¯CSSåˆ›å»ºä¸€ä¸ªä¸‰è§’å½¢"></a>4.ç”¨çº¯CSSåˆ›å»ºä¸€ä¸ªä¸‰è§’å½¢</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> &lt;style&gt;</span><br><span class="line">    div &#123;</span><br><span class="line">        width: 0;</span><br><span class="line">        height: 0;</span><br><span class="line">        border-top: 40px solid transparent;</span><br><span class="line">        border-left: 40px solid transparent;</span><br><span class="line">        border-right: 40px solid transparent;</span><br><span class="line">        border-bottom: 40px solid #ff0000;</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="5-å¦‚ä½•ç†è§£CSSçš„ç›’å­æ¨¡å‹ï¼Ÿ"><a href="#5-å¦‚ä½•ç†è§£CSSçš„ç›’å­æ¨¡å‹ï¼Ÿ" class="headerlink" title="5.å¦‚ä½•ç†è§£CSSçš„ç›’å­æ¨¡å‹ï¼Ÿ"></a>5.å¦‚ä½•ç†è§£CSSçš„ç›’å­æ¨¡å‹ï¼Ÿ</h4><blockquote><p>æ ‡å‡†ç›’å­æ¨¡å‹ï¼šå®½åº¦=å†…å®¹çš„å®½åº¦ï¼ˆcontentï¼‰+ border + padding</p></blockquote><blockquote><p>ä½ç‰ˆæœ¬IEç›’å­æ¨¡å‹ï¼šå®½åº¦=å†…å®¹å®½åº¦ï¼ˆcontent+border+padding)</p></blockquote><h4 id="6-å¦‚ä½•è®©ä¸€ä¸ªdivæ°´å¹³å±…ä¸­"><a href="#6-å¦‚ä½•è®©ä¸€ä¸ªdivæ°´å¹³å±…ä¸­" class="headerlink" title="6.å¦‚ä½•è®©ä¸€ä¸ªdivæ°´å¹³å±…ä¸­"></a>6.å¦‚ä½•è®©ä¸€ä¸ªdivæ°´å¹³å±…ä¸­</h4><blockquote><p>å·²çŸ¥å®½åº¦ï¼Œblockå…ƒç´  ï¼Œæ·»åŠ æ·»åŠ margin:0 autoå±æ€§ã€‚</p></blockquote><blockquote><p>å·²çŸ¥å®½åº¦ï¼Œç»å¯¹å®šä½çš„å±…ä¸­ ï¼Œä¸Šä¸‹å·¦å³éƒ½ä¸º0ï¼Œmargin:auto</p></blockquote><h4 id="7-å¦‚ä½•è®©ä¸€ä¸ªdivæ°´å¹³å‚ç›´å±…ä¸­"><a href="#7-å¦‚ä½•è®©ä¸€ä¸ªdivæ°´å¹³å‚ç›´å±…ä¸­" class="headerlink" title="7.å¦‚ä½•è®©ä¸€ä¸ªdivæ°´å¹³å‚ç›´å±…ä¸­"></a>7.å¦‚ä½•è®©ä¸€ä¸ªdivæ°´å¹³å‚ç›´å±…ä¸­</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">position: relative / fixed; /* ç›¸å¯¹å®šä½æˆ–ç»å¯¹å®šä½å‡å¯ */</span><br><span class="line">width:500px;</span><br><span class="line">height:300px;</span><br><span class="line">top: 50%;</span><br><span class="line">left: 50%;</span><br><span class="line">margin-top:-150px;</span><br><span class="line">margin-left:-250px;</span><br><span class="line"> å¤–è¾¹è·ä¸ºè‡ªèº«å®½é«˜çš„ä¸€åŠ */</span><br><span class="line">background-color: pink; /* æ–¹ä¾¿çœ‹æ•ˆæœ */</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">.container &#123;</span><br><span class="line">display: flex;</span><br><span class="line">align-items: center; /* å‚ç›´å±…ä¸­ */</span><br><span class="line">justify-content: center; /* æ°´å¹³å±…ä¸­ */</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line">.container div &#123;</span><br><span class="line">width: 100px; /* å¯çœ */</span><br><span class="line">height: 100px; /* å¯çœ */</span><br><span class="line">background-color: pink; /* æ–¹ä¾¿çœ‹æ•ˆæœ */</span><br><span class="line">&#125;  </span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="8-å¦‚ä½•æ¸…é™¤æµ®åŠ¨ï¼Ÿ"><a href="#8-å¦‚ä½•æ¸…é™¤æµ®åŠ¨ï¼Ÿ" class="headerlink" title="8.å¦‚ä½•æ¸…é™¤æµ®åŠ¨ï¼Ÿ"></a>8.å¦‚ä½•æ¸…é™¤æµ®åŠ¨ï¼Ÿ</h4><blockquote><p>clearæ¸…é™¤æµ®åŠ¨ï¼ˆæ·»åŠ ç©ºdivæ³•ï¼‰åœ¨æµ®åŠ¨å…ƒç´ ä¸‹æ–¹æ·»åŠ ç©ºdiv,å¹¶ç»™è¯¥å…ƒç´ å†™cssæ ·å¼ {clear:both;height:0;overflow:hidden;}</p></blockquote><blockquote><p>ç»™æµ®åŠ¨å…ƒç´ çˆ¶çº§è®¾ç½®é«˜åº¦</p></blockquote><blockquote><p>çˆ¶çº§åŒæ—¶æµ®åŠ¨ï¼ˆéœ€è¦ç»™çˆ¶çº§åŒçº§å…ƒç´ æ·»åŠ æµ®åŠ¨ï¼‰</p></blockquote><blockquote><p>çˆ¶çº§è®¾ç½®æˆinline-blockï¼Œå…¶margin: 0 autoå±…ä¸­æ–¹å¼å¤±æ•ˆ</p></blockquote><blockquote><p>ç»™çˆ¶çº§æ·»åŠ overflow:hidden æ¸…é™¤æµ®åŠ¨æ–¹æ³•</p></blockquote><blockquote><p>ä¸‡èƒ½æ¸…é™¤æ³• afterä¼ªç±» æ¸…æµ®åŠ¨ï¼ˆç°åœ¨ä¸»æµæ–¹æ³•ï¼Œæ¨èä½¿ç”¨ï¼‰</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">float_div:after&#123;</span><br><span class="line">content:&quot;.&quot;;</span><br><span class="line">clear:both;</span><br><span class="line">display:block;</span><br><span class="line">height:0;</span><br><span class="line">overflow:hidden;</span><br><span class="line">visibility:hidden;</span><br><span class="line">&#125;</span><br><span class="line">.float_div&#123;</span><br><span class="line">zoom:1</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="9-css3å®ç°ä¸‰æ å¸ƒå±€ï¼Œå·¦å³å›ºå®šï¼Œä¸­é—´è‡ªé€‚åº”"><a href="#9-css3å®ç°ä¸‰æ å¸ƒå±€ï¼Œå·¦å³å›ºå®šï¼Œä¸­é—´è‡ªé€‚åº”" class="headerlink" title="9.css3å®ç°ä¸‰æ å¸ƒå±€ï¼Œå·¦å³å›ºå®šï¼Œä¸­é—´è‡ªé€‚åº”"></a>9.css3å®ç°ä¸‰æ å¸ƒå±€ï¼Œå·¦å³å›ºå®šï¼Œä¸­é—´è‡ªé€‚åº”</h4><blockquote><p>åœ£æ¯å¸ƒå±€/åŒé£ç¿¼å¸ƒå±€</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"> &lt;style&gt;</span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        .middle,</span><br><span class="line">        .left,</span><br><span class="line">        .right &#123;</span><br><span class="line">            position: relative;</span><br><span class="line">            float: left;</span><br><span class="line">            min-height: 130px;</span><br><span class="line">        &#125;</span><br><span class="line">        .container &#123;</span><br><span class="line">            padding: 0 220px 0 200px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line">        .left &#123;</span><br><span class="line">            margin-left: -100%;</span><br><span class="line">            left: -200px;</span><br><span class="line">            width: 200px;</span><br><span class="line">            background: red;</span><br><span class="line">        &#125;</span><br><span class="line">        .right &#123;</span><br><span class="line">            margin-left: -220px;</span><br><span class="line">            right: -220px;</span><br><span class="line">            width: 220px;</span><br><span class="line">            background: green;</span><br><span class="line">        &#125;</span><br><span class="line">        .middle &#123;</span><br><span class="line">            width: 100%;</span><br><span class="line">            background: blue;</span><br><span class="line">            word-break: break-all;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&#x27;container&#x27;&gt;</span><br><span class="line">        &lt;div class=&#x27;middle&#x27;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;div class=&#x27;left&#x27;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;div class=&#x27;right&#x27;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="10-display-none-å’Œ-visibility-hiddençš„åŒºåˆ«"><a href="#10-display-none-å’Œ-visibility-hiddençš„åŒºåˆ«" class="headerlink" title="10.display:none å’Œ visibility: hiddençš„åŒºåˆ«"></a>10.display:none å’Œ visibility: hiddençš„åŒºåˆ«</h4><blockquote><p>display:none éšè—å¯¹åº”çš„å…ƒç´ ï¼Œåœ¨æ–‡æ¡£å¸ƒå±€ä¸­ä¸å†ç»™å®ƒåˆ†é…ç©ºé—´ï¼Œå®ƒå„è¾¹çš„å…ƒç´ ä¼šåˆæ‹¢ï¼Œå°±å½“ä»–ä»æ¥ä¸å­˜åœ¨ã€‚</p></blockquote><blockquote><p>visibility:hidden éšè—å¯¹åº”çš„å…ƒç´ ï¼Œä½†æ˜¯åœ¨æ–‡æ¡£å¸ƒå±€ä¸­ä»ä¿ç•™åŸæ¥çš„ç©ºé—´ã€‚</p></blockquote><h4 id="11-CSSä¸­-link-å’Œ-import-çš„åŒºåˆ«æ˜¯ï¼Ÿ"><a href="#11-CSSä¸­-link-å’Œ-import-çš„åŒºåˆ«æ˜¯ï¼Ÿ" class="headerlink" title="11.CSSä¸­ link å’Œ@import çš„åŒºåˆ«æ˜¯ï¼Ÿ"></a>11.CSSä¸­ link å’Œ@import çš„åŒºåˆ«æ˜¯ï¼Ÿ</h4><blockquote><p>linkå±äºHTMLæ ‡ç­¾ï¼Œè€Œ@importæ˜¯CSSæä¾›çš„é¡µé¢è¢«åŠ è½½çš„æ—¶ï¼Œlinkä¼šåŒæ—¶è¢«åŠ è½½ï¼Œè€Œ@importå¼•ç”¨çš„CSSä¼šç­‰åˆ°é¡µé¢è¢«åŠ è½½å®Œå†åŠ è½½</p></blockquote><blockquote><p>importåªåœ¨IE5ä»¥ä¸Šæ‰èƒ½è¯†åˆ«ï¼Œè€Œlinkæ˜¯HTMLæ ‡ç­¾ï¼Œæ— å…¼å®¹é—®é¢˜</p></blockquote><blockquote><p>linkæ–¹å¼çš„æ ·å¼çš„æƒé‡ é«˜äº@importçš„æƒé‡.</p></blockquote><h4 id="12-positionçš„absoluteä¸fixedå…±åŒç‚¹ä¸ä¸åŒç‚¹"><a href="#12-positionçš„absoluteä¸fixedå…±åŒç‚¹ä¸ä¸åŒç‚¹" class="headerlink" title="12.positionçš„absoluteä¸fixedå…±åŒç‚¹ä¸ä¸åŒç‚¹"></a>12.positionçš„absoluteä¸fixedå…±åŒç‚¹ä¸ä¸åŒç‚¹</h4><blockquote><p>å…±åŒç‚¹ï¼š æ”¹å˜è¡Œå†…å…ƒç´ çš„å‘ˆç°æ–¹å¼ï¼Œdisplayè¢«ç½®ä¸ºblock è®©å…ƒç´ è„±ç¦»æ™®é€šæµï¼Œä¸å æ®ç©ºé—´ é»˜è®¤ä¼šè¦†ç›–åˆ°éå®šä½å…ƒç´ ä¸Š</p></blockquote><blockquote><p>ä¸åŒç‚¹ï¼š absoluteçš„â€æ ¹å…ƒç´ â€œæ˜¯å¯ä»¥è®¾ç½®çš„ fixedçš„â€æ ¹å…ƒç´ â€œå›ºå®šä¸ºæµè§ˆå™¨çª—å£ã€‚å½“ä½ æ»šåŠ¨ç½‘é¡µï¼Œfixedå…ƒç´ ä¸æµè§ˆå™¨çª—å£ä¹‹é—´çš„è·ç¦»æ˜¯ä¸å˜çš„ã€‚</p></blockquote><h4 id="13-transitionå’Œanimationçš„åŒºåˆ«"><a href="#13-transitionå’Œanimationçš„åŒºåˆ«" class="headerlink" title="13..transitionå’Œanimationçš„åŒºåˆ«"></a>13..transitionå’Œanimationçš„åŒºåˆ«</h4><blockquote><p>Animationå’Œtransitionå¤§éƒ¨åˆ†å±æ€§æ˜¯ç›¸åŒçš„ï¼Œä»–ä»¬éƒ½æ˜¯éšæ—¶é—´æ”¹å˜å…ƒç´ çš„å±æ€§å€¼ï¼Œä»–ä»¬çš„ä¸»è¦åŒºåˆ«æ˜¯transitionéœ€è¦è§¦å‘ä¸€ä¸ªäº‹ä»¶æ‰èƒ½æ”¹å˜å±æ€§ï¼Œ è€Œanimationä¸éœ€è¦è§¦å‘ä»»ä½•äº‹ä»¶çš„æƒ…å†µä¸‹æ‰ä¼šéšæ—¶é—´æ”¹å˜å±æ€§å€¼ï¼Œå¹¶ä¸”transitionä¸º2å¸§ï¼Œä»from â€¦. toï¼Œè€Œanimationå¯ä»¥ä¸€å¸§ä¸€å¸§çš„ã€‚</p></blockquote><blockquote><p>transition è§„å®šåŠ¨ç”»çš„åå­—  è§„å®šå®Œæˆè¿‡æ¸¡æ•ˆæœéœ€è¦å¤šå°‘ç§’æˆ–æ¯«ç§’  è§„å®šé€Ÿåº¦æ•ˆæœ  å®šä¹‰è¿‡æ¸¡æ•ˆæœä½•æ—¶å¼€å§‹ animation  æŒ‡å®šè¦ç»‘å®šåˆ°é€‰æ‹©å™¨çš„å…³é”®å¸§çš„åç§°</p></blockquote><h4 id="14-CSSä¼˜å…ˆçº§"><a href="#14-CSSä¼˜å…ˆçº§" class="headerlink" title="14.CSSä¼˜å…ˆçº§"></a>14.CSSä¼˜å…ˆçº§</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ä¸åŒçº§åˆ«ï¼šæ€»ç»“æ’åºï¼š!important &gt; è¡Œå†…æ ·å¼&gt;IDé€‰æ‹©å™¨ &gt; ç±»é€‰æ‹©å™¨ &gt; æ ‡ç­¾ &gt; é€šé…ç¬¦ &gt; ç»§æ‰¿ &gt; æµè§ˆå™¨é»˜è®¤å±æ€§</span><br><span class="line">1.å±æ€§åé¢åŠ !import ä¼šè¦†ç›–é¡µé¢å†…ä»»ä½•ä½ç½®å®šä¹‰çš„å…ƒç´ æ ·å¼</span><br><span class="line">2.ä½œä¸ºstyleå±æ€§å†™åœ¨å…ƒç´ å†…çš„æ ·å¼</span><br><span class="line">3.idé€‰æ‹©å™¨</span><br><span class="line">4.ç±»é€‰æ‹©å™¨</span><br><span class="line">5.æ ‡ç­¾é€‰æ‹©å™¨</span><br><span class="line">6.é€šé…ç¬¦é€‰æ‹©å™¨ï¼ˆ*ï¼‰</span><br><span class="line">7.æµè§ˆå™¨è‡ªå®šä¹‰æˆ–ç»§æ‰¿</span><br><span class="line">**åŒä¸€çº§åˆ«ï¼šåå†™çš„ä¼šè¦†ç›–å…ˆå†™çš„**</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><blockquote><p>cssé€‰æ‹©å™¨çš„è§£æåŸåˆ™ï¼šé€‰æ‹©å™¨å®šä½DOMå…ƒç´ æ˜¯ä»å³å¾€å·¦çš„æ–¹å‘ï¼Œè¿™æ ·å¯ä»¥å°½æ—©çš„è¿‡æ»¤æ‰ä¸€äº›ä¸å¿…è¦çš„æ ·å¼è§„åˆ™å’Œå…ƒç´ </p></blockquote><h4 id="15-é›ªç¢§å›¾ï¼š"><a href="#15-é›ªç¢§å›¾ï¼š" class="headerlink" title="15.é›ªç¢§å›¾ï¼š"></a>15.é›ªç¢§å›¾ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">        å¤šä¸ªå›¾ç‰‡é›†æˆåœ¨ä¸€ä¸ªå›¾ç‰‡ä¸­çš„å›¾</span><br><span class="line">ä½¿ç”¨é›ªç¢§å›¾å¯ä»¥å‡å°‘ç½‘ç»œè¯·æ±‚çš„æ¬¡æ•°ï¼ŒåŠ å¿«å…è®¸çš„é€Ÿåº¦</span><br><span class="line">é€šè¿‡background-positionï¼Œå»å®šä½å›¾ç‰‡åœ¨å±å¹•çš„å“ªä¸ªä½ç½®</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h1 id="äºŒã€JSé—®é¢˜"><a href="#äºŒã€JSé—®é¢˜" class="headerlink" title="äºŒã€JSé—®é¢˜"></a>äºŒã€JSé—®é¢˜</h1><h4 id="1-typeofå’Œinstance-of-æ£€æµ‹æ•°æ®ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#1-typeofå’Œinstance-of-æ£€æµ‹æ•°æ®ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="1.typeofå’Œinstance of æ£€æµ‹æ•°æ®ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>1.typeofå’Œinstance of æ£€æµ‹æ•°æ®ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4><blockquote><p>ç›¸åŒç‚¹ï¼š éƒ½å¸¸ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºï¼Œæˆ–è€…æ˜¯ä»€ä¹ˆç±»å‹çš„ã€‚</p></blockquote><blockquote><p>ä¸åŒç‚¹ï¼š typeof        è¿”å›å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨æ¥è¯´æ˜å˜é‡çš„æ•°æ®ç±»å‹ instanceof        ç”¨äºåˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦å±äºæŸä¸ªå¯¹è±¡çš„å®ä¾‹.</p></blockquote><h4 id="16-ä½¿å…ƒç´ æ¶ˆå¤±çš„æ–¹æ³•"><a href="#16-ä½¿å…ƒç´ æ¶ˆå¤±çš„æ–¹æ³•" class="headerlink" title="16.ä½¿å…ƒç´ æ¶ˆå¤±çš„æ–¹æ³•"></a>16.ä½¿å…ƒç´ æ¶ˆå¤±çš„æ–¹æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">visibility:hiddenã€display:noneã€z-index=-1ã€opacityï¼š0</span><br><span class="line">1.opacityï¼š0,è¯¥å…ƒç´ éšè—èµ·æ¥äº†ï¼Œä½†ä¸ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œå¹¶ä¸”ï¼Œå¦‚æœè¯¥å…ƒç´ å·²ç»ç»‘å®šäº†ä¸€äº›äº‹ä»¶ï¼Œå¦‚clickäº‹ä»¶ä¹Ÿèƒ½è§¦å‘</span><br><span class="line">2.visibility:hidden,è¯¥å…ƒç´ éšè—èµ·æ¥äº†ï¼Œä½†ä¸ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œä½†æ˜¯ä¸ä¼šè§¦å‘è¯¥å…ƒç´ å·²ç»ç»‘å®šçš„äº‹ä»¶</span><br><span class="line">3.display:node, æŠŠå…ƒç´ éšè—èµ·æ¥ï¼Œå¹¶ä¸”ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œå¯ä»¥ç†è§£æˆåœ¨é¡µé¢ä¸­æŠŠè¯¥å…ƒç´ åˆ æ‰</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="è°ˆä¸€è°ˆæ·±å…‹éš†å’Œæµ…å…‹éš†ï¼Ÿ"><a href="#è°ˆä¸€è°ˆæ·±å…‹éš†å’Œæµ…å…‹éš†ï¼Ÿ" class="headerlink" title=".è°ˆä¸€è°ˆæ·±å…‹éš†å’Œæµ…å…‹éš†ï¼Ÿ"></a>.è°ˆä¸€è°ˆæ·±å…‹éš†å’Œæµ…å…‹éš†ï¼Ÿ</h4><blockquote><p>æµ…å…‹éš†: åªæ˜¯æ‹·è´äº†åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œè€Œå¼•ç”¨ç±»å‹æ•°æ®ï¼Œå¤åˆ¶åä¹Ÿæ˜¯ä¼šå‘ç”Ÿå¼•ç”¨ï¼Œæˆ‘ä»¬æŠŠè¿™ç§æ‹·è´å«åšâ€œï¼ˆæµ…å¤åˆ¶ï¼‰æµ…æ‹·è´â€ï¼Œæ¢å¥è¯è¯´ï¼Œæµ…å¤åˆ¶ä»…ä»…æ˜¯æŒ‡å‘è¢«å¤åˆ¶çš„å†…å­˜åœ°å€ï¼Œå¦‚æœåŸåœ°å€ä¸­å¯¹è±¡è¢«æ”¹å˜äº†ï¼Œé‚£ä¹ˆæµ…å¤åˆ¶å‡ºæ¥çš„å¯¹è±¡ä¹Ÿä¼šç›¸åº”æ”¹å˜ã€‚</p></blockquote><blockquote><p>æ·±å…‹éš†ï¼š åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå±æ€§ä¸­å¼•ç”¨çš„å…¶ä»–å¯¹è±¡ä¹Ÿä¼šè¢«å…‹éš†ï¼Œä¸å†æŒ‡å‘åŸæœ‰å¯¹è±¡åœ°å€ã€‚ JSON.parseã€JSON.stringify()</p></blockquote><h4 id="3-es6çš„æ–°ç‰¹æ€§éƒ½æœ‰å“ªäº›ï¼Ÿ"><a href="#3-es6çš„æ–°ç‰¹æ€§éƒ½æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="3.es6çš„æ–°ç‰¹æ€§éƒ½æœ‰å“ªäº›ï¼Ÿ"></a>3.es6çš„æ–°ç‰¹æ€§éƒ½æœ‰å“ªäº›ï¼Ÿ</h4><blockquote><p>letå®šä¹‰å—çº§ä½œç”¨åŸŸå˜é‡ æ²¡æœ‰å˜é‡çš„æå‡ï¼Œå¿…é¡»å…ˆå£°æ˜åä½¿ç”¨ letå£°æ˜çš„å˜é‡ï¼Œä¸èƒ½ä¸å‰é¢çš„letï¼Œvarï¼Œconsetå£°æ˜çš„å˜é‡é‡å</p></blockquote><blockquote><p>const å®šä¹‰åªè¯»å˜é‡ constå£°æ˜å˜é‡çš„åŒæ—¶å¿…é¡»èµ‹å€¼ï¼Œconstå£°æ˜çš„å˜é‡å¿…é¡»åˆå§‹åŒ–ï¼Œä¸€æ—¦åˆå§‹åŒ–å®Œæ¯•å°±ä¸å…è®¸ä¿®æ”¹ constå£°æ˜å˜é‡ä¹Ÿæ˜¯ä¸€ä¸ªå—çº§ä½œç”¨åŸŸå˜é‡ constå£°æ˜çš„å˜é‡æ²¡æœ‰â€œå˜é‡çš„æå‡â€ï¼Œå¿…é¡»å…ˆå£°æ˜åä½¿ç”¨ constå£°æ˜çš„å˜é‡ä¸èƒ½ä¸å‰é¢çš„letï¼Œ var ï¼Œ constå£°æ˜çš„å˜é‡é‡ constå®šä¹‰çš„å¯¹è±¡\æ•°ç»„ä¸­çš„å±æ€§å€¼å¯ä»¥ä¿®æ”¹,åŸºç¡€æ•°æ®ç±»å‹ä¸å¯ä»¥</p></blockquote><blockquote><p>ES6å¯ä»¥ç»™å½¢å‚å‡½æ•°è®¾ç½®é»˜è®¤å€¼</p></blockquote><blockquote><p>åœ¨æ•°ç»„ä¹‹å‰åŠ ä¸Šä¸‰ä¸ªç‚¹ï¼ˆâ€¦ï¼‰å±•å¼€è¿ç®—ç¬¦</p></blockquote><blockquote><p>æ•°ç»„çš„è§£æ„èµ‹å€¼ã€å¯¹è±¡çš„è§£æ„èµ‹å€¼</p></blockquote><blockquote><p>ç®­å¤´å‡½æ•°çš„ç‰¹ç‚¹ ç®­å¤´å‡½æ•°ç›¸å½“äºåŒ¿åå‡½æ•°ï¼Œæ˜¯ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°çš„ï¼Œä¸èƒ½è¢«new ç®­å¤´å‡½æ•°æ²¡æœ‰argumentså®å‚é›†åˆ,å–è€Œä»£ä¹‹ç”¨â€¦å‰©ä½™è¿ç®—ç¬¦è§£å†³ ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisã€‚ä»–çš„thisæ˜¯ç»§æ‰¿å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„this ç®­å¤´å‡½æ•°æ²¡æœ‰å‡½æ•°åŸå‹ ç®­å¤´å‡½æ•°ä¸èƒ½å½“åšGeneratorå‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨yieldå…³é”®å­— ä¸èƒ½ä½¿ç”¨callã€applyã€bindæ”¹å˜ç®­å¤´å‡½æ•°ä¸­thisæŒ‡å‘ Setæ•°æ®ç»“æ„ï¼Œæ•°ç»„å»é‡</p></blockquote><h4 id="4-å’Œ-åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#4-å’Œ-åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="4.==å’Œ===åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>4.==å’Œ===åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h4><blockquote><p>=èµ‹å€¼</p></blockquote><blockquote><p>==è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼›ç›¸ç­‰è¿”å›trueï¼Œä¸ç›¸ç­‰è¿”å›falseï¼› å…è®¸ä¸åŒæ•°æ®ç±»å‹ä¹‹é—´çš„æ¯”è¾ƒï¼› å¦‚æœæ˜¯ä¸åŒç±»å‹çš„æ•°æ®è¿›è¡Œï¼Œä¼šé»˜è®¤è¿›è¡Œæ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢ï¼› å¦‚æœæ˜¯å¯¹è±¡æ•°æ®ç±»å‹çš„æ¯”è¾ƒï¼Œæ¯”è¾ƒçš„æ˜¯ç©ºé—´åœ°å€</p></blockquote><blockquote><p>=== åªè¦æ•°æ®ç±»å‹ä¸ä¸€æ ·ï¼Œå°±è¿”å›falseï¼›</p></blockquote><h4 id="5-å¸¸è§çš„è®¾è®¡æ¨¡å¼æœ‰å“ªäº›ï¼Ÿ"><a href="#5-å¸¸è§çš„è®¾è®¡æ¨¡å¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="5.å¸¸è§çš„è®¾è®¡æ¨¡å¼æœ‰å“ªäº›ï¼Ÿ"></a>5.å¸¸è§çš„è®¾è®¡æ¨¡å¼æœ‰å“ªäº›ï¼Ÿ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1ã€jså·¥å‚æ¨¡å¼</span><br><span class="line">2ã€jsæ„é€ å‡½æ•°æ¨¡å¼</span><br><span class="line">3ã€jsåŸå‹æ¨¡å¼</span><br><span class="line">4ã€æ„é€ å‡½æ•°+åŸå‹çš„jsæ··åˆæ¨¡å¼</span><br><span class="line">5ã€æ„é€ å‡½æ•°+åŸå‹çš„åŠ¨æ€åŸå‹æ¨¡å¼</span><br><span class="line">6ã€è§‚å¯Ÿè€…æ¨¡å¼</span><br><span class="line">7ã€å‘å¸ƒè®¢é˜…æ¨¡å¼</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="6-call-bind-apply-çš„åŒºåˆ«ï¼Ÿ"><a href="#6-call-bind-apply-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="6.call bind apply çš„åŒºåˆ«ï¼Ÿ"></a>6.call bind apply çš„åŒºåˆ«ï¼Ÿ</h4><blockquote><p>call() å’Œapply()çš„ç¬¬ä¸€ä¸ªå‚æ•°ç›¸åŒï¼Œå°±æ˜¯æŒ‡å®šçš„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡å°±æ˜¯è¯¥å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p></blockquote><blockquote><p>call()å’Œapply()çš„åŒºåˆ«å°±åœ¨äºï¼Œä¸¤è€…ä¹‹é—´çš„å‚æ•°ã€‚</p></blockquote><blockquote><p>call()åœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¹‹åçš„ åç»­æ‰€æœ‰å‚æ•°å°±æ˜¯ä¼ å…¥è¯¥å‡½æ•°çš„å€¼ã€‚</p></blockquote><blockquote><p>apply() åªæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„å°±æ˜¯è¯¥å‡½æ•°çš„å‚æ•°ã€‚ bind() æ–¹æ³•å’Œå‰ä¸¤è€…ä¸åŒåœ¨äºï¼š bind() æ–¹æ³•ä¼šè¿”å›æ‰§è¡Œä¸Šä¸‹æ–‡è¢«æ”¹å˜çš„å‡½æ•°è€Œä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œå‰ä¸¤è€…æ˜¯    ç›´æ¥æ‰§è¡Œè¯¥å‡½æ•°ã€‚ä»–çš„å‚æ•°å’Œcall()ç›¸åŒã€‚</p></blockquote><h4 id="7-jsç»§æ‰¿æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"><a href="#7-jsç»§æ‰¿æ–¹å¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="7.jsç»§æ‰¿æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"></a>7.jsç»§æ‰¿æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h4><blockquote><p>åŸå‹é“¾ç»§æ‰¿ æ ¸å¿ƒï¼š å°†çˆ¶ç±»çš„å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹</p></blockquote><blockquote><p>æ„é€ ç»§æ‰¿ æ ¸å¿ƒï¼šä½¿ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æ¥å¢å¼ºå­ç±»å®ä¾‹ï¼Œç­‰äºæ˜¯å¤åˆ¶çˆ¶ç±»çš„å®ä¾‹å±æ€§ç»™å­ç±»</p></blockquote><blockquote><p>å®ä¾‹ç»§æ‰¿ æ ¸å¿ƒï¼šä¸ºçˆ¶ç±»å®ä¾‹æ·»åŠ æ–°ç‰¹æ€§ï¼Œä½œä¸ºå­ç±»å®ä¾‹è¿”å›</p></blockquote><blockquote><p>æ‹·è´ç»§æ‰¿</p></blockquote><blockquote><p>ç»„åˆç»§æ‰¿ æ ¸å¿ƒï¼šé€šè¿‡è°ƒç”¨çˆ¶ç±»æ„é€ ï¼Œç»§æ‰¿çˆ¶ç±»çš„å±æ€§å¹¶ä¿ç•™ä¼ å‚çš„ä¼˜ç‚¹ï¼Œç„¶åé€šè¿‡å°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œå®ç°    å‡½æ•°å¤ç”¨</p></blockquote><blockquote><p>å¯„ç”Ÿç»„åˆç»§æ‰¿ æ ¸å¿ƒï¼šé€šè¿‡å¯„ç”Ÿæ–¹å¼ï¼Œç æ‰çˆ¶ç±»çš„å®ä¾‹å±æ€§ï¼Œè¿™æ ·ï¼Œåœ¨è°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ çš„æ—¶å€™ï¼Œå°±ä¸ä¼šåˆå§‹åŒ–ä¸¤æ¬¡å®    ä¾‹æ–¹æ³•/å±æ€§ï¼Œé¿å…çš„ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹</p></blockquote><h4 id="8-ä½ æ€æ ·çœ‹å¾…é—­åŒ…ï¼Ÿ"><a href="#8-ä½ æ€æ ·çœ‹å¾…é—­åŒ…ï¼Ÿ" class="headerlink" title="8.ä½ æ€æ ·çœ‹å¾…é—­åŒ…ï¼Ÿ"></a>8.ä½ æ€æ ·çœ‹å¾…é—­åŒ…ï¼Ÿ</h4><blockquote><p>ä¸ªäººæ„Ÿè§‰ï¼Œç®€å•æ¥è¯´é—­åŒ…å°±æ˜¯åœ¨å‡½æ•°é‡Œé¢å£°æ˜å‡½æ•°ï¼Œæœ¬è´¨ä¸Šè¯´å°±æ˜¯åœ¨å‡½æ•°å†…éƒ¨å’Œå‡½æ•°å¤–éƒ¨æ­å»ºèµ·ä¸€åº§æ¡¥æ¢ï¼Œä½¿å¾—å­å‡½æ•°å¯ä»¥è®¿é—®çˆ¶å‡½æ•°ä¸­æ‰€æœ‰çš„å±€éƒ¨å˜é‡ï¼Œä½†æ˜¯åä¹‹ä¸å¯ä»¥ï¼Œè¿™åªæ˜¯é—­åŒ…çš„ä½œç”¨ä¹‹ä¸€ï¼Œå¦ä¸€ä¸ªä½œç”¨ï¼Œåˆ™æ˜¯ä¿æŠ¤å˜é‡ä¸å—å¤–ç•Œæ±¡æŸ“ï¼Œä½¿å…¶ä¸€ç›´å­˜åœ¨å†…å­˜ä¸­ï¼Œåœ¨å·¥ä½œä¸­æˆ‘ä»¬è¿˜æ˜¯å°‘ä½¿ç”¨é—­åŒ…çš„å¥½ï¼Œå› ä¸ºé—­åŒ…å¤ªæ¶ˆè€—å†…å­˜ï¼Œä¸åˆ°ä¸‡ä¸å¾—å·²çš„æ—¶å€™å°½é‡ä¸ä½¿ç”¨ã€‚</p></blockquote><h4 id="9-ä½ æ˜¯å¦‚ä½•ç†è§£åŸå‹å’ŒåŸå‹é“¾çš„ï¼Ÿ"><a href="#9-ä½ æ˜¯å¦‚ä½•ç†è§£åŸå‹å’ŒåŸå‹é“¾çš„ï¼Ÿ" class="headerlink" title="9.ä½ æ˜¯å¦‚ä½•ç†è§£åŸå‹å’ŒåŸå‹é“¾çš„ï¼Ÿ"></a>9.ä½ æ˜¯å¦‚ä½•ç†è§£åŸå‹å’ŒåŸå‹é“¾çš„ï¼Ÿ</h4><blockquote><p>æŠŠæ‰€æœ‰çš„å¯¹è±¡å…±ç”¨çš„å±æ€§å…¨éƒ¨æ”¾åœ¨å †å†…å­˜çš„ä¸€ä¸ªå¯¹è±¡ï¼ˆå…±ç”¨å±æ€§ç»„æˆçš„å¯¹è±¡ï¼‰ï¼Œç„¶åè®©æ¯ä¸€ä¸ªå¯¹è±¡çš„ __proto__å­˜å‚¨è¿™ä¸ªã€Œå…±ç”¨å±æ€§ç»„æˆçš„å¯¹è±¡ã€çš„åœ°å€ã€‚è€Œè¿™ä¸ªå…±ç”¨å±æ€§å°±æ˜¯åŸå‹ï¼ŒåŸå‹å‡ºç°çš„ç›®çš„å°±æ˜¯ä¸ºäº†å‡å°‘ä¸å¿…è¦çš„å†…å­˜æ¶ˆè€—ã€‚è€ŒåŸå‹é“¾å°±æ˜¯å¯¹è±¡é€šè¿‡__proto__å‘å½“å‰å®ä¾‹æ‰€å±ç±»çš„åŸå‹ä¸ŠæŸ¥æ‰¾å±æ€§æˆ–æ–¹æ³•çš„æœºåˆ¶ï¼Œå¦‚æœæ‰¾åˆ°Objectçš„åŸå‹ä¸Šè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°æƒ³è¦çš„å±æ€§æˆ–è€…æ˜¯æ–¹æ³•åˆ™æŸ¥æ‰¾ç»“æŸï¼Œæœ€ç»ˆä¼šè¿”å›undefined</p></blockquote><h4 id="10-æµè§ˆå™¨æ¸²æŸ“çš„ä¸»è¦æµç¨‹æ˜¯ä»€ä¹ˆ"><a href="#10-æµè§ˆå™¨æ¸²æŸ“çš„ä¸»è¦æµç¨‹æ˜¯ä»€ä¹ˆ" class="headerlink" title="10.æµè§ˆå™¨æ¸²æŸ“çš„ä¸»è¦æµç¨‹æ˜¯ä»€ä¹ˆ?"></a>10.æµè§ˆå™¨æ¸²æŸ“çš„ä¸»è¦æµç¨‹æ˜¯ä»€ä¹ˆ?</h4><blockquote><p>å°†htmlä»£ç æŒ‰ç…§æ·±åº¦ä¼˜å…ˆéå†æ¥ç”ŸæˆDOMæ ‘ã€‚ cssæ–‡ä»¶ä¸‹è½½å®Œåä¹Ÿä¼šè¿›è¡Œæ¸²æŸ“ï¼Œç”Ÿæˆç›¸åº”çš„CSSOMã€‚ å½“æ‰€æœ‰çš„cssæ–‡ä»¶ä¸‹è½½å®Œä¸”æ‰€æœ‰çš„CSSOMæ„å»ºç»“æŸåï¼Œå°±ä¼šå’ŒDOMä¸€èµ·ç”ŸæˆRender Treeã€‚ æ¥ä¸‹æ¥ï¼Œæµè§ˆå™¨å°±ä¼šè¿›å…¥Layoutç¯èŠ‚ï¼Œå°†æ‰€æœ‰çš„èŠ‚ç‚¹ä½ç½®è®¡ç®—å‡ºæ¥ã€‚ æœ€åï¼Œé€šè¿‡Paintingç¯èŠ‚å°†æ‰€æœ‰çš„èŠ‚ç‚¹å†…å®¹å‘ˆç°åˆ°å±å¹•ä¸Šã€‚</p></blockquote><h4 id="11-ä»è¾“å…¥urlåœ°å€åˆ°é¡µé¢ç›¸åº”éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"><a href="#11-ä»è¾“å…¥urlåœ°å€åˆ°é¡µé¢ç›¸åº”éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="11.ä»è¾“å…¥urlåœ°å€åˆ°é¡µé¢ç›¸åº”éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"></a>11.ä»è¾“å…¥urlåœ°å€åˆ°é¡µé¢ç›¸åº”éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1ã€æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥URLå¹¶æŒ‰ä¸‹å›è½¦ã€‚2ã€æµè§ˆå™¨æŸ¥æ‰¾å½“å‰URLæ˜¯å¦å­˜åœ¨ç¼“å­˜ï¼Œå¹¶æ¯”è¾ƒç¼“å­˜æ˜¯å¦è¿‡æœŸã€‚3ã€DNSè§£æURLå¯¹åº”çš„IPã€‚4ã€æ ¹æ®IPå»ºç«‹TCPè¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ã€‚5ã€HTTPå‘èµ·è¯·æ±‚ã€‚6ã€æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œæµè§ˆå™¨æ¥æ”¶HTTPå“åº”ã€‚7ã€æ¸²æŸ“é¡µé¢ï¼Œæ„å»ºDOMæ ‘ã€‚8ã€å…³é—­TCPè¿æ¥ï¼ˆå››æ¬¡æŒ¥æ‰‹ï¼‰å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="12-sessionã€cookieã€localStorageçš„åŒºåˆ«"><a href="#12-sessionã€cookieã€localStorageçš„åŒºåˆ«" class="headerlink" title="12.sessionã€cookieã€localStorageçš„åŒºåˆ«"></a>12.sessionã€cookieã€localStorageçš„åŒºåˆ«</h4><blockquote><p>ç›¸åŒç‚¹ éƒ½æ˜¯ä¿å­˜åœ¨æµè§ˆå™¨ç«¯ï¼Œä¸”åŒæºçš„ã€‚</p></blockquote><blockquote><p>ä¸åŒç‚¹</p></blockquote><ul><li>cookieæ•°æ®å§‹ç»ˆåœ¨åŒæºçš„httpè¯·æ±‚ä¸­æºå¸¦ï¼Œå³cookieåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨é—´æ¥å›ä¼ é€’ã€‚</li><li>è€ŒsessionStorageå’ŒlocalStorageä¸ä¼šè‡ªåŠ¨æŠŠæ•°æ®å‘ç»™æœåŠ¡å™¨ï¼Œä»…åœ¨æœ¬åœ°ä¿å­˜ã€‚</li><li>cookieæ•°æ®è¿˜æœ‰è·¯å¾„ï¼ˆpathï¼‰çš„æ¦‚å¿µï¼Œå¯ä»¥é™åˆ¶cookieåªå±äºæŸä¸ªè·¯å¾„ä¸‹ã€‚ å­˜å‚¨å¤§å°é™åˆ¶ä¹Ÿä¸åŒï¼Œcookieæ•°æ®ä¸èƒ½è¶…è¿‡4kï¼ŒåŒæ—¶å› ä¸ºæ¯æ¬¡httpè¯·æ±‚éƒ½ä¼šæºå¸¦cookieï¼Œæ‰€ä»¥cookieåªé€‚åˆä¿å­˜å¾ˆå°çš„æ•°æ®ã€‚</li><li>sessionStorageå’ŒlocalStorage è™½ç„¶ä¹Ÿæœ‰å­˜å‚¨å¤§å°çš„é™åˆ¶ï¼Œä½†æ¯”cookieå¤§å¾—å¤šï¼Œå¯ä»¥è¾¾åˆ°5Mæˆ–æ›´å¤§ã€‚ æ•°æ®æœ‰æ•ˆæœŸä¸åŒï¼ŒsessionStorageï¼šä»…åœ¨å½“å‰æµè§ˆå™¨çª—å£å…³é—­å‰æœ‰æ•ˆï¼Œè‡ªç„¶ä¹Ÿå°±ä¸å¯èƒ½æŒä¹…ä¿æŒï¼›</li><li>localStorageï¼šå§‹ç»ˆæœ‰æ•ˆï¼Œçª—å£æˆ–æµè§ˆå™¨å…³é—­ä¹Ÿä¸€ç›´ä¿å­˜ï¼Œå› æ­¤ç”¨ä½œæŒä¹…æ•°æ®ï¼›</li><li>cookieåªåœ¨è®¾ç½®çš„cookieè¿‡æœŸæ—¶é—´ä¹‹å‰ä¸€ç›´æœ‰æ•ˆï¼Œå³ä½¿çª—å£æˆ–æµè§ˆå™¨å…³é—­ã€‚ ä½œç”¨åŸŸä¸åŒï¼ŒsessionStorageä¸åœ¨ä¸åŒçš„æµè§ˆå™¨çª—å£ä¸­å…±äº«ï¼Œå³ä½¿æ˜¯åŒä¸€ä¸ªé¡µé¢ï¼›</li><li>localStorage åœ¨æ‰€æœ‰åŒæºçª—å£ä¸­éƒ½æ˜¯å…±äº«çš„ï¼›cookieä¹Ÿæ˜¯åœ¨æ‰€æœ‰åŒæºçª—å£ä¸­éƒ½æ˜¯å…±äº«çš„ã€‚</li></ul><h4 id="13-jsä¸­è·¨åŸŸæ–¹æ³•"><a href="#13-jsä¸­è·¨åŸŸæ–¹æ³•" class="headerlink" title="13.jsä¸­è·¨åŸŸæ–¹æ³•"></a>13.jsä¸­è·¨åŸŸæ–¹æ³•</h4><blockquote><p>åŒæºç­–ç•¥ï¼ˆåè®®+ç«¯å£å·+åŸŸåè¦ç›¸åŒï¼‰</p></blockquote><blockquote><p>1ã€jsonpè·¨åŸŸ(åªèƒ½è§£å†³getï¼‰ åŸç†ï¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾ã€‚åˆ©ç”¨scriptæ ‡ç­¾çš„srcå±æ€§ä¸å—åŒæºç­–ç•¥é™åˆ¶ï¼Œå› ä¸ºæ‰€æœ‰çš„srcå±æ€§å’Œhrefå±æ€§éƒ½ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œå¯ä»¥è¯·æ±‚ç¬¬ä¸‰æ–¹æœåŠ¡å™¨èµ„æºå†…å®¹</p><blockquote><p>æ­¥éª¤ï¼š 1).å»åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾ 2).scriptçš„srcå±æ€§è®¾ç½®æ¥å£åœ°å€ 3).æ¥å£å‚æ•°ï¼Œå¿…é¡»è¦å¸¦ä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•°åï¼Œè¦ä¸ç„¶åå°æ— æ³•è¿”å›æ•°æ® 4).é€šè¿‡å®šä¹‰å‡½æ•°åå»æ¥å—è¿”å›çš„æ•°æ®</p></blockquote></blockquote><blockquote><p>2ã€document.domain åŸºç¡€åŸŸåç›¸åŒ å­åŸŸåä¸åŒ</p></blockquote><blockquote><p>3ã€window.name åˆ©ç”¨åœ¨ä¸€ä¸ªæµè§ˆå™¨çª—å£å†…ï¼Œè½½å…¥æ‰€æœ‰çš„åŸŸåéƒ½æ˜¯å…±äº«ä¸€ä¸ªwindow.name</p></blockquote><blockquote><p>4ã€æœåŠ¡å™¨è®¾ç½®å¯¹CORSçš„æ”¯æŒ åŸç†ï¼šæœåŠ¡å™¨è®¾ç½®Access-Control-Allow-Origin HTTPå“åº”å¤´ä¹‹åï¼Œæµè§ˆå™¨å°†ä¼šå…è®¸è·¨åŸŸè¯·æ±‚</p></blockquote><blockquote><p>5ã€åˆ©ç”¨h5æ–°ç‰¹æ€§window.postMessage()</p></blockquote><h4 id="14-å‰ç«¯æœ‰å“ªäº›é¡µé¢ä¼˜åŒ–æ–¹æ³•"><a href="#14-å‰ç«¯æœ‰å“ªäº›é¡µé¢ä¼˜åŒ–æ–¹æ³•" class="headerlink" title="14.å‰ç«¯æœ‰å“ªäº›é¡µé¢ä¼˜åŒ–æ–¹æ³•?"></a>14.å‰ç«¯æœ‰å“ªäº›é¡µé¢ä¼˜åŒ–æ–¹æ³•?</h4><ul><li>å‡å°‘ HTTPè¯·æ±‚æ•°</li><li>ä»è®¾è®¡å®ç°å±‚é¢ç®€åŒ–é¡µé¢</li><li>åˆç†è®¾ç½® HTTPç¼“å­˜</li><li>èµ„æºåˆå¹¶ä¸å‹ç¼©</li><li>åˆå¹¶ CSSå›¾ç‰‡ï¼Œå‡å°‘è¯·æ±‚æ•°çš„åˆä¸€ä¸ªå¥½åŠæ³•ã€‚</li><li>å°†å¤–éƒ¨è„šæœ¬ç½®åº•ï¼ˆå°†è„šæœ¬å†…å®¹åœ¨é¡µé¢ä¿¡æ¯å†…å®¹åŠ è½½åå†åŠ è½½ï¼‰</li><li>å¤šå›¾ç‰‡ç½‘é¡µä½¿ç”¨å›¾ç‰‡æ‡’åŠ è½½ã€‚</li><li>åœ¨jsä¸­å°½é‡å‡å°‘é—­åŒ…çš„ä½¿ç”¨</li><li>å°½é‡åˆå¹¶csså’Œjsæ–‡ä»¶</li><li>å°½é‡ä½¿ç”¨å­—ä½“å›¾æ ‡æˆ–è€…SVGå›¾æ ‡ï¼Œæ¥ä»£æ›¿ä¼ ç»Ÿçš„PNGç­‰æ ¼å¼çš„å›¾ç‰‡</li><li>å‡å°‘å¯¹DOMçš„æ“ä½œ</li><li>åœ¨JSä¸­é¿å…â€œåµŒå¥—å¾ªç¯â€å’Œ â€œæ­»å¾ªç¯â€</li><li>å°½å¯èƒ½ä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼ˆäº‹ä»¶ä»£ç†ï¼‰æ¥å¤„ç†äº‹ä»¶ç»‘å®šçš„æ“ä½œ</li></ul><h4 id="15-Ajaxçš„å››ä¸ªæ­¥éª¤"><a href="#15-Ajaxçš„å››ä¸ªæ­¥éª¤" class="headerlink" title="15.Ajaxçš„å››ä¸ªæ­¥éª¤"></a>15.Ajaxçš„å››ä¸ªæ­¥éª¤</h4><blockquote><p>1.åˆ›å»ºajaxå®ä¾‹</p></blockquote><blockquote><p>2.æ‰§è¡Œopen ç¡®å®šè¦è®¿é—®çš„é“¾æ¥ ä»¥åŠåŒæ­¥å¼‚æ­¥</p></blockquote><blockquote><p>3.ç›‘å¬è¯·æ±‚çŠ¶æ€</p></blockquote><blockquote><p>4.å‘é€è¯·æ±‚</p></blockquote><h4 id="16-æ•°ç»„å»é‡çš„æ–¹æ³•"><a href="#16-æ•°ç»„å»é‡çš„æ–¹æ³•" class="headerlink" title="16.æ•°ç»„å»é‡çš„æ–¹æ³•"></a>16.æ•°ç»„å»é‡çš„æ–¹æ³•</h4><blockquote><p>ES6çš„setå¯¹è±¡ å…ˆå°†åŸæ•°ç»„æ’åºï¼Œåœ¨ä¸ç›¸é‚»çš„è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸åŒåˆ™å­˜å…¥æ–°æ•°ç»„</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function unique(arr)&#123;    var arr2 = arr.sort();    var res = [arr2[0]];    for(var i=1;i&lt;arr2.length;i++)&#123;        if(arr2[i] !== res[res.length-1])&#123;        res.push(arr2[i]);    &#125;&#125;return res;&#125;åˆ©ç”¨ä¸‹æ ‡æŸ¥è¯¢ function unique(arr)&#123;    var newArr = [arr[0]];    for(var i=1;i&lt;arr.length;i++)&#123;        if(newArr.indexOf(arr[i]) == -1)&#123;        newArr.push(arr[i]);    &#125;&#125;return newArr;&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="17-ajaxä¸­getå’Œpostè¯·æ±‚çš„åŒºåˆ«"><a href="#17-ajaxä¸­getå’Œpostè¯·æ±‚çš„åŒºåˆ«" class="headerlink" title="17.ajaxä¸­getå’Œpostè¯·æ±‚çš„åŒºåˆ«"></a>17.ajaxä¸­getå’Œpostè¯·æ±‚çš„åŒºåˆ«</h4><ul><li>get ä¸€èˆ¬ç”¨äºè·å–æ•°æ®</li><li>getè¯·æ±‚å¦‚æœéœ€è¦ä¼ é€’å‚æ•°ï¼Œé‚£ä¹ˆä¼šé»˜è®¤å°†å‚æ•°æ‹¼æ¥åˆ°urlçš„åé¢ï¼›ç„¶åå‘é€ç»™æœåŠ¡å™¨ï¼›</li><li>getè¯·æ±‚ä¼ é€’å‚æ•°å¤§å°æ˜¯æœ‰é™åˆ¶çš„ï¼›æ˜¯æµè§ˆå™¨çš„åœ°å€æ æœ‰å¤§å°é™åˆ¶ï¼›</li><li>getå®‰å…¨æ€§è¾ƒä½</li><li>get ä¸€èˆ¬ä¼šèµ°ç¼“å­˜ï¼Œä¸ºäº†é˜²æ­¢èµ°ç¼“å­˜ï¼Œç»™urlåé¢æ¯æ¬¡æ‹¼çš„å‚æ•°ä¸åŒï¼›æ”¾åœ¨?åé¢ï¼Œä¸€èˆ¬ç”¨ä¸ªæ—¶é—´æˆ³</li><li>post ä¸€èˆ¬ç”¨äºå‘é€æ•°æ®</li><li>postä¼ é€’å‚æ•°ï¼Œéœ€è¦æŠŠå‚æ•°æ”¾è¿›è¯·æ±‚ä½“ä¸­ï¼Œå‘é€ç»™æœåŠ¡å™¨ï¼›</li><li>postè¯·æ±‚å‚æ•°æ”¾è¿›äº†è¯·æ±‚ä½“ä¸­ï¼Œå¯¹å¤§å°æ²¡æœ‰è¦æ±‚ï¼›</li><li>postå®‰å…¨æ€§æ¯”è¾ƒé«˜ï¼›</li><li>postè¯·æ±‚ä¸ä¼šèµ°ç¼“å­˜ï¼›</li><li></li></ul><h4 id="18-ajaxçš„çŠ¶æ€ç "><a href="#18-ajaxçš„çŠ¶æ€ç " class="headerlink" title="18.ajaxçš„çŠ¶æ€ç "></a>18.ajaxçš„çŠ¶æ€ç </h4><blockquote><p>2å¼€å¤´</p></blockquote><ul><li>200 : ä»£è¡¨è¯·æ±‚æˆåŠŸï¼›</li></ul><blockquote><p>3å¼€å¤´</p></blockquote><ul><li>301 : æ°¸ä¹…é‡å®šå‘ï¼›</li><li>302: ä¸´æ—¶è½¬ç§»</li><li>304 : è¯»å–ç¼“å­˜ [è¡¨ç¤ºæµè§ˆå™¨ç«¯æœ‰ç¼“å­˜ï¼Œå¹¶ä¸”æœåŠ¡ç«¯æœªæ›´æ–°ï¼Œä¸å†å‘æœåŠ¡ç«¯è¯·æ±‚èµ„æº]</li><li>307:ä¸´æ—¶é‡å®šå‘</li></ul><blockquote><p>ä»¥4å¼€å¤´çš„éƒ½æ˜¯å®¢æˆ·ç«¯çš„é—®é¢˜ï¼›</p></blockquote><ul><li>400 :æ•°æ®/æ ¼å¼é”™è¯¯</li><li>401: æƒé™ä¸å¤Ÿï¼›ï¼ˆèº«ä»½ä¸åˆæ ¼ï¼Œè®¿é—®ç½‘ç«™çš„æ—¶å€™ï¼Œç™»å½•å’Œä¸ç™»å½•æ˜¯ä¸ä¸€æ ·çš„ï¼‰</li><li>404 : è·¯å¾„é”™è¯¯ï¼Œæ‰¾ä¸åˆ°æ–‡ä»¶</li></ul><blockquote><p>ä»¥5å¼€å¤´éƒ½æ˜¯æœåŠ¡ç«¯çš„é—®é¢˜</p></blockquote><ul><li>500 : æœåŠ¡å™¨çš„é—®é¢˜</li><li>503: è¶…è´Ÿè·ï¼›</li></ul><h4 id="19-ç§»åŠ¨ç«¯çš„å…¼å®¹é—®é¢˜"><a href="#19-ç§»åŠ¨ç«¯çš„å…¼å®¹é—®é¢˜" class="headerlink" title="19.ç§»åŠ¨ç«¯çš„å…¼å®¹é—®é¢˜"></a>19.ç§»åŠ¨ç«¯çš„å…¼å®¹é—®é¢˜</h4><ul><li><p>ç»™ç§»åŠ¨ç«¯æ·»åŠ ç‚¹å‡»äº‹ä»¶ä¼šæœ‰300Sçš„å»¶è¿Ÿ å¦‚æœç”¨ç‚¹å‡»äº‹ä»¶ï¼Œéœ€è¦å¼•ä¸€ä¸ªfastclick.jsæ–‡ä»¶ï¼Œè§£å†³300sçš„å»¶è¿Ÿ ä¸€èˆ¬åœ¨ç§»åŠ¨ç«¯ç”¨ontouchstartã€ontouchmoveã€ontouchend</p></li><li><p>ç§»åŠ¨ç«¯ç‚¹é€é—®é¢˜,touchstart æ—©äº touchend æ—©äºclick,clickçš„è§¦å‘æ˜¯æœ‰å»¶è¿Ÿçš„ï¼Œè¿™ä¸ªæ—¶é—´å¤§æ¦‚åœ¨300mså·¦å³ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬tapè§¦å‘ä¹‹åè’™å±‚éšè—ï¼Œ æ­¤æ—¶ clickè¿˜æ²¡æœ‰è§¦å‘ï¼Œ300msä¹‹åç”±äºè’™å±‚éšè—ï¼Œæˆ‘ä»¬çš„clickè§¦å‘åˆ°äº†ä¸‹é¢çš„aé“¾æ¥ä¸Š å°½é‡éƒ½ä½¿ç”¨touchäº‹ä»¶æ¥æ›¿æ¢clickäº‹ä»¶ã€‚ä¾‹å¦‚ç”¨touchendäº‹ä»¶(æ¨è)ã€‚ ç”¨fastclickï¼Œ<a href="https://link.juejin.cn/?target=https://github.com/ftlabs/fastclick">github.com/ftlabs/fastâ€¦</a> ç”¨preventDefaulté˜»æ­¢aæ ‡ç­¾çš„click æ¶ˆé™¤ IE10 é‡Œé¢çš„é‚£ä¸ªå‰å· input:-ms-clear{display:none;}</p></li><li><p>è®¾ç½®ç¼“å­˜ æ‰‹æœºé¡µé¢é€šå¸¸åœ¨ç¬¬ä¸€æ¬¡åŠ è½½åä¼šè¿›è¡Œç¼“å­˜ï¼Œç„¶åæ¯æ¬¡åˆ·æ–°ä¼šä½¿ç”¨ç¼“å­˜è€Œä¸æ˜¯å»é‡æ–°å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚å¦‚æœä¸å¸Œæœ›ä½¿ç”¨ç¼“å­˜å¯ä»¥è®¾ç½®no-cacheã€‚</p></li><li><p>åœ†è§’BUG æŸäº›Androidæ‰‹æœºåœ†è§’å¤±æ•ˆ background-clip: padding-box; é˜²æ­¢æ‰‹æœºä¸­ç½‘é¡µæ”¾å¤§å’Œç¼©å° è¿™ç‚¹æ˜¯æœ€åŸºæœ¬çš„ï¼Œåšä¸ºæ‰‹æœºç½‘ç«™å¼€å‘è€…æ¥è¯´åº”è¯¥éƒ½çŸ¥é“çš„ï¼Œå°±æ˜¯è®¾ç½®metaä¸­çš„viewport</p></li><li><p>è®¾ç½®ç”¨æˆ·æˆªæ­¢ç¼©æ”¾ï¼Œä¸€èˆ¬å†™è§†å£çš„æ—¶å€™å°±å·²ç»å†™å¥½äº†ã€‚</p></li><li></li></ul><h4 id="20-JSä¸­åŒæ­¥å’Œå¼‚æ­¥-ä»¥åŠjsçš„äº‹ä»¶æµ"><a href="#20-JSä¸­åŒæ­¥å’Œå¼‚æ­¥-ä»¥åŠjsçš„äº‹ä»¶æµ" class="headerlink" title="20.JSä¸­åŒæ­¥å’Œå¼‚æ­¥,ä»¥åŠjsçš„äº‹ä»¶æµ"></a>20.JSä¸­åŒæ­¥å’Œå¼‚æ­¥,ä»¥åŠjsçš„äº‹ä»¶æµ</h4><blockquote><p>åŒæ­¥ï¼šåœ¨åŒä¸€æ—¶é—´å†…åšä¸€ä»¶äº‹æƒ…</p></blockquote><blockquote><p>å¼‚æ­¥ï¼šåœ¨åŒä¸€æ—¶é—´å†…åšå¤šä¸ªäº‹æƒ… JSæ˜¯å•çº¿ç¨‹çš„ï¼Œæ¯æ¬¡åªèƒ½åšä¸€ä»¶äº‹æƒ…ï¼ŒJSè¿è¡Œåœ¨æµè§ˆå™¨ä¸­ï¼Œæµè§ˆå™¨æ˜¯å¤šçº¿ç¨‹çš„ï¼Œå¯ä»¥åœ¨åŒä¸€æ—¶é—´æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚</p></blockquote><h4 id="21-JSä¸­å¸¸è§çš„å¼‚æ­¥ä»»åŠ¡"><a href="#21-JSä¸­å¸¸è§çš„å¼‚æ­¥ä»»åŠ¡" class="headerlink" title="21.JSä¸­å¸¸è§çš„å¼‚æ­¥ä»»åŠ¡"></a>21.JSä¸­å¸¸è§çš„å¼‚æ­¥ä»»åŠ¡</h4><blockquote><p>å®šæ—¶å™¨ã€ajaxã€äº‹ä»¶ç»‘å®šã€å›è°ƒå‡½æ•°ã€async awaitã€promise</p></blockquote><h4 id="22-TCPçš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹"><a href="#22-TCPçš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹" class="headerlink" title="22.TCPçš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹"></a>22.TCPçš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹</h4><blockquote><p>ä¸‰æ¬¡æ¡æ‰‹</p></blockquote><ul><li>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘é€ä¸€ä¸ªSYNç ç»™æœåŠ¡å™¨ï¼Œè¦æ±‚å»ºç«‹æ•°æ®è¿æ¥ï¼›</li><li>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼š æœåŠ¡å™¨SYNå’Œè‡ªå·±å¤„ç†ä¸€ä¸ªSYNï¼ˆæ ‡å¿—ï¼‰ï¼›å«SYN+ACKï¼ˆç¡®è®¤åŒ…ï¼‰ï¼›å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå¯ä»¥å»ºç«‹è¿æ¥</li><li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼š å®¢æˆ·ç«¯å†æ¬¡å‘é€ACKå‘æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨éªŒè¯ACKæ²¡æœ‰é—®é¢˜ï¼Œåˆ™å»ºç«‹èµ·è¿æ¥ï¼›</li></ul><blockquote><p>å››æ¬¡æŒ¥æ‰‹</p></blockquote><ul><li>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼š å®¢æˆ·ç«¯å‘é€FIN(ç»“æŸ)æŠ¥æ–‡ï¼Œé€šçŸ¥æœåŠ¡å™¨æ•°æ®å·²ç»ä¼ è¾“å®Œæ¯•ï¼›</li><li>ç¬¬äºŒæ¬¡æŒ¥æ‰‹: æœåŠ¡å™¨æ¥æ”¶åˆ°ä¹‹åï¼Œé€šçŸ¥å®¢æˆ·ç«¯æˆ‘æ”¶åˆ°äº†SYN,å‘é€ACK(ç¡®è®¤)ç»™å®¢æˆ·ç«¯ï¼Œæ•°æ®è¿˜æ²¡æœ‰ä¼ è¾“å®Œæˆ</li><li>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼š æœåŠ¡å™¨å·²ç»ä¼ è¾“å®Œæ¯•ï¼Œå†æ¬¡å‘é€FINé€šçŸ¥å®¢æˆ·ç«¯ï¼Œæ•°æ®å·²ç»ä¼ è¾“å®Œæ¯•</li><li>ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼š å®¢æˆ·ç«¯å†æ¬¡å‘é€ACK,è¿›å…¥TIME_WAITçŠ¶æ€ï¼›æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å…³é—­è¿æ¥ï¼›</li></ul><h4 id="23-ä¸ºä»€ä¹ˆå»ºç«‹è¿æ¥æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œæ–­å¼€è¿æ¥æ˜¯å››æ¬¡æŒ¥æ‰‹å‘¢"><a href="#23-ä¸ºä»€ä¹ˆå»ºç«‹è¿æ¥æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œæ–­å¼€è¿æ¥æ˜¯å››æ¬¡æŒ¥æ‰‹å‘¢" class="headerlink" title="23.ä¸ºä»€ä¹ˆå»ºç«‹è¿æ¥æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œæ–­å¼€è¿æ¥æ˜¯å››æ¬¡æŒ¥æ‰‹å‘¢?"></a>23.ä¸ºä»€ä¹ˆå»ºç«‹è¿æ¥æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œæ–­å¼€è¿æ¥æ˜¯å››æ¬¡æŒ¥æ‰‹å‘¢?</h4><blockquote><blockquote><p>å»ºç«‹è¿æ¥çš„æ—¶å€™ï¼Œ æœåŠ¡å™¨åœ¨LISTENçŠ¶æ€ä¸‹ï¼Œæ”¶åˆ°å»ºç«‹è¿æ¥è¯·æ±‚çš„SYNæŠ¥æ–‡åï¼ŒæŠŠACKå’ŒSYNæ”¾åœ¨ä¸€ä¸ªæŠ¥æ–‡é‡Œå‘é€ç»™å®¢æˆ·ç«¯ã€‚ è€Œå…³é—­è¿æ¥æ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°å¯¹æ–¹çš„FINæŠ¥æ–‡æ—¶ï¼Œä»…ä»…è¡¨ç¤ºå¯¹æ–¹ä¸å†å‘é€æ•°æ®äº†ä½†æ˜¯è¿˜èƒ½æ¥æ”¶æ•°æ®ï¼Œè€Œè‡ªå·±ä¹Ÿæœªå¿…å…¨éƒ¨æ•°æ®éƒ½å‘é€ç»™å¯¹æ–¹äº†ï¼Œæ‰€ä»¥å·±æ–¹å¯ä»¥ç«‹å³å…³é—­ï¼Œä¹Ÿå¯ä»¥å‘é€ä¸€äº›æ•°æ®ç»™å¯¹æ–¹åï¼Œå†å‘é€FINæŠ¥æ–‡ç»™å¯¹æ–¹æ¥è¡¨ç¤ºåŒæ„ç°åœ¨å…³é—­è¿æ¥ï¼Œå› æ­¤ï¼Œå·±æ–¹ACKå’ŒFINä¸€èˆ¬éƒ½ä¼šåˆ†å¼€å‘é€ï¼Œä»è€Œå¯¼è‡´å¤šäº†ä¸€æ¬¡ã€‚</p></blockquote></blockquote><h4 id="24-DOM-diffåŸç†"><a href="#24-DOM-diffåŸç†" class="headerlink" title="24.DOM diffåŸç†"></a>24.DOM diffåŸç†</h4><blockquote><ul><li>å¦‚æœå…ƒç´ ç±»å‹å‘ç”Ÿå˜åŒ–ï¼Œç›´æ¥æ›¿æ¢</li><li>å¦‚æœæ˜¯æ–‡æœ¬ï¼Œåˆ™æ¯”è¾ƒæ–‡æœ¬é‡Œé¢çš„å†…å®¹ï¼Œæ˜¯å¦æœ‰å·®å¼‚ï¼Œå¦‚æœæ˜¯å…ƒç´ å°±éœ€è¦æ¯”è¾ƒå½“å‰å…ƒç´ çš„å±æ€§æ˜¯å¦ç›¸ç­‰,ä¼šå…ˆæ¯”è¾ƒkeyï¼Œ åœ¨æ¯”è¾ƒç±»å‹ ä¸ºä»€ä¹ˆ reactä¸­å¾ªç¯ å»ºè®®ä¸è¦ä½¿ç”¨ç´¢å¼• ,å¦‚æœçº¯ä¸ºäº†å±•ç¤º é‚£å¯ä»¥ä½¿ç”¨ç´¢å¼•</li></ul></blockquote><h4 id="25-ä½œç”¨åŸŸ"><a href="#25-ä½œç”¨åŸŸ" class="headerlink" title="25.ä½œç”¨åŸŸ"></a>25.ä½œç”¨åŸŸ</h4><blockquote><p>å…¨å±€ä½œç”¨åŸŸ</p></blockquote><ul><li>æµè§ˆå™¨æ‰“å¼€ä¸€ä¸ªé¡µé¢æ—¶ï¼Œæµè§ˆå™¨ä¼šç»™JSä»£ç æä¾›ä¸€ä¸ªå…¨å±€çš„è¿è¡Œç¯å¢ƒï¼Œé‚£ä¹ˆè¿™ä¸ªç¯å¢ƒå°±æ˜¯å…¨å±€ä½œç”¨åŸŸ ä¸€ä¸ªé¡µé¢åªæœ‰ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸï¼Œå…¨å±€ä½œç”¨åŸŸä¸‹æœ‰ä¸€ä¸ªwindowå¯¹è±¡ windowæ˜¯å…¨å±€ä½œç”¨åŸŸä¸‹çš„æœ€å¤§çš„ä¸€ä¸ªå†…ç½®å¯¹è±¡ï¼ˆå…¨å±€ä½œç”¨åŸŸä¸‹å®šä¹‰çš„å˜é‡å’Œå‡½æ•°éƒ½ä¼šå­˜å‚¨åœ¨windowä¸‹ï¼‰ å¦‚æœæ˜¯å…¨å±€å˜é‡ï¼Œéƒ½ä¼šç»™windowæ–°å¢ä¸€ä¸ªé”®å€¼å¯¹ï¼›å±æ€§åå°±æ˜¯å˜é‡åï¼Œå±æ€§å€¼å°±æ˜¯å˜é‡æ‰€å­˜å‚¨çš„å€¼ å¦‚æœå˜é‡åªè¢«varè¿‡ï¼Œé‚£ä¹ˆå­˜å‚¨å€¼æ˜¯undefined åœ¨ç§æœ‰ä½œç”¨åŸŸä¸­æ˜¯å¯ä»¥è·å–åˆ°å…¨å±€å˜é‡çš„ï¼Œä½†æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ä¸èƒ½è·å–ç§æœ‰å˜é‡</li></ul><blockquote><p>ç§æœ‰ä½œç”¨åŸŸ</p></blockquote><ul><li>å‡½æ•°æ‰§è¡Œä¼šå½¢æˆä¸€ä¸ªæ–°çš„ç§æœ‰çš„ä½œç”¨åŸŸï¼ˆæ‰§è¡Œå¤šæ¬¡ï¼Œå½¢æˆå¤šä¸ªç§æœ‰ä½œç”¨åŸŸï¼‰ ç§æœ‰ä½œç”¨åŸŸåœ¨å…¨å±€ä½œç”¨åŸŸä¸­å½¢æˆï¼Œå…·æœ‰åŒ…å«çš„å…³ç³»ï¼› åœ¨ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸä¸­ï¼Œå¯ä»¥æœ‰å¾ˆå¤šä¸ªç§æœ‰ä½œç”¨åŸŸ åœ¨ç§æœ‰ä½œç”¨åŸŸä¸‹å®šä¹‰çš„å˜é‡éƒ½æ˜¯ç§æœ‰å˜é‡ å½¢å‚ä¹Ÿæ˜¯ç§æœ‰å˜é‡ å‡½æ•°ä½“ä¸­é€šè¿‡functionå®šä¹‰çš„å‡½æ•°ä¹Ÿæ˜¯ç§æœ‰çš„ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸èƒ½ä½¿ç”¨ï¼›</li></ul><blockquote><p>å—çº§ä½œç”¨åŸŸ</p></blockquote><ul><li>es6ä¸­æ–°å¼•å…¥çš„ä¸€ç§ä½œç”¨åŸŸ åœ¨jsä¸­å¸¸è§åˆ°çš„if{}ã€for{}ã€while{}ã€try{}ã€catch{}ã€switch case{}éƒ½æ˜¯å—çº§ä½œç”¨åŸŸ var obj = {} //å¯¹è±¡çš„å¤§æ‹¬å·ä¸æ˜¯å—çº§ä½œç”¨åŸŸ å—çº§ä½œç”¨åŸŸä¸­çš„åŒä¸€å˜é‡ä¸èƒ½è¢«é‡å¤å£°æ˜ï¼ˆå—çº§ä¸‹varå’Œfunctionä¸èƒ½é‡åï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼‰ ä½œç”¨åŸŸé“¾</li></ul><blockquote><p>ä¸Šçº§ä½œç”¨åŸŸ</p></blockquote><ul><li>å‡½æ•°åœ¨å“ªé‡Œå®šä¹‰ï¼Œä»–çš„ä¸Šä¸€çº§ä½œç”¨åŸŸå°±æ˜¯å“ªï¼Œå’Œå‡½æ•°åœ¨å“ªä¸ªä½œç”¨åŸŸä¸‹æ‰§è¡Œæ²¡æœ‰å…³ç³» ä½œç”¨åŸŸé“¾ï¼šå½“è·å–å˜é‡æ‰€å¯¹åº”çš„å€¼æ—¶ï¼Œé¦–å…ˆçœ‹å˜é‡æ˜¯å¦æ˜¯ç§æœ‰å˜é‡ï¼Œå¦‚æœä¸æ˜¯ç§æœ‰å˜é‡ï¼Œè¦ç»§ç»­å‘ä¸Šä¸€çº§ä½œç”¨åŸŸä¸­æŸ¥æ‰¾ï¼Œå¦‚æœä¸Šä¸€çº§ä¹Ÿæ²¡æœ‰ï¼Œé‚£ä¹ˆä¼šç»§ç»­å‘ä¸Šä¸€çº§æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°å…¨å±€ä½œç”¨åŸŸä¸ºæ­¢ï¼›å¦‚æœå…¨å±€ä½œç”¨åŸŸä¹Ÿæ²¡æœ‰ï¼Œåˆ™ä¼šæŠ¥é”™ï¼›è¿™æ ·ä¸€çº§ä¸€çº§å‘ä¸ŠæŸ¥æ‰¾ï¼Œå°±ä¼šå½¢æˆä½œç”¨åŸŸé“¾ å½“å‰ä½œç”¨åŸŸæ²¡æœ‰çš„ï¼Œåˆ™ä¼šç»§ç»­å‘ä¸Šä¸€çº§ä½œç”¨åŸŸæŸ¥æ‰¾ å½“å‰å‡½æ•°çš„ä¸Šä¸€çº§ä½œç”¨åŸŸè·Ÿå‡½æ•°åœ¨å“ªä¸ªä½œç”¨åŸŸä¸‹æ‰§è¡Œæ²¡æœ‰å…³ç³»ï¼Œåªè·Ÿå‡½æ•°åœ¨å“ªå®šä¹‰æœ‰å…³ï¼ˆé‡ç‚¹ï¼‰</li></ul><h4 id="26-Promiseå¤„ç†å¼‚æ­¥"><a href="#26-Promiseå¤„ç†å¼‚æ­¥" class="headerlink" title="26.Promiseå¤„ç†å¼‚æ­¥"></a>26.Promiseå¤„ç†å¼‚æ­¥</h4><blockquote><p>ä»–æ˜¯ES6ä¸­æ–°å¢åŠ çš„ä¸€ä¸ªç±»ï¼ˆnew Promiseï¼‰,ç›®çš„æ˜¯ä¸ºäº†ç®¡ç†JSä¸­çš„å¼‚æ­¥ç¼–ç¨‹çš„ï¼Œæ‰€ä»¥æŠŠä»–ç§°ä¸ºâ€œPromiseè®¾è®¡æ¨¡å¼â€ new Promise ç»å†ä¸‰ä¸ªçŠ¶æ€ï¼špadding(å‡†å¤‡çŠ¶æ€ï¼šåˆå§‹åŒ–æˆåŠŸã€å¼€å§‹æ‰§è¡Œå¼‚æ­¥çš„ä»»åŠ¡)ã€fullfilled(æˆåŠŸçŠ¶æ€)ã€rejected(å¤±è´¥çŠ¶æ€)== Promiseæœ¬èº«æ˜¯åŒæ­¥ç¼–ç¨‹çš„ï¼Œä»–å¯ä»¥ç®¡ç†å¼‚æ­¥æ“ä½œçš„ï¼ˆé‡ç‚¹ï¼‰ï¼Œnew Promiseçš„æ—¶å€™ï¼Œä¼šæŠŠä¼ é€’çš„å‡½æ•°ç«‹å³æ‰§è¡Œ Promiseå‡½æ•°å¤©ç”Ÿæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œresolve(å½“å¼‚æ­¥æ“ä½œæ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡Œresolveæ–¹æ³•),rejected(å½“å¼‚æ­¥æ“ä½œå¤±è´¥ï¼Œæ‰§è¡Œrejectæ–¹æ³•) then()æ–¹æ³•ä¸­æœ‰ä¸¤ä¸ªå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªä¼ é€’çš„å‡½æ•°æ˜¯resolve,ç¬¬äºŒä¸ªä¼ é€’çš„å‡½æ•°æ˜¯reject ajaxä¸­falseä»£è¡¨åŒæ­¥ï¼Œtrueä»£è¡¨å¼‚æ­¥ï¼Œå¦‚æœä½¿ç”¨å¼‚æ­¥ï¼Œä¸ç­‰ajaxå½»åº•å®Œæˆ</p></blockquote><h4 id="27-mapå’ŒforEachçš„åŒºåˆ«"><a href="#27-mapå’ŒforEachçš„åŒºåˆ«" class="headerlink" title="27.mapå’ŒforEachçš„åŒºåˆ«"></a>27.mapå’ŒforEachçš„åŒºåˆ«</h4><blockquote><p>ç›¸åŒç‚¹</p></blockquote><ul><li>éƒ½æ˜¯å¾ªç¯éå†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ forEachå’Œmapæ–¹æ³•é‡Œæ¯æ¬¡æ‰§è¡ŒåŒ¿åå‡½æ•°éƒ½æ”¯æŒ3ä¸ªå‚æ•°ï¼Œå‚æ•°åˆ†åˆ«æ˜¯itemï¼ˆå½“å‰æ¯ä¸€é¡¹ï¼‰ã€indexï¼ˆç´¢å¼•å€¼ï¼‰ã€arrï¼ˆåŸæ•°ç»„ï¼‰ï¼Œéœ€è¦ç”¨å“ªä¸ªçš„æ—¶å€™å°±å†™å“ªä¸ª åŒ¿åå‡½æ•°ä¸­çš„thiséƒ½æ˜¯æŒ‡å‘window åªèƒ½éå†æ•°ç»„</li></ul><blockquote><p>ä¸åŒç‚¹</p></blockquote><ul><li>mapæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ä¸ºåŸå§‹æ•°ç»„è°ƒç”¨å‡½æ•°å¤„ç†åçš„å€¼ã€‚(åŸæ•°ç»„è¿›è¡Œå¤„ç†ä¹‹åå¯¹åº”çš„ä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚) map()æ–¹æ³•ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ map()æ–¹æ³•ä¸ä¼šå¯¹ç©ºæ•°ç»„è¿›è¡Œæ£€æµ‹ forEach()æ–¹æ³•ç”¨äºè°ƒç”¨æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼Œå°†å…ƒç´ ä¼ ç»™å›è°ƒå‡½æ•°.(æ²¡æœ‰returnï¼Œè¿”å›å€¼æ˜¯undefinedï¼‰</li></ul><blockquote><blockquote><p><strong>æ³¨æ„</strong>ï¼šforEachå¯¹äºç©ºæ•°ç»„æ˜¯ä¸ä¼šè°ƒç”¨å›è°ƒå‡½æ•°çš„ã€‚</p></blockquote></blockquote><h4 id="28-async-awaitå‡½æ•°"><a href="#28-async-awaitå‡½æ•°" class="headerlink" title="28.async awaitå‡½æ•°"></a>28.async awaitå‡½æ•°</h4><blockquote><p>async/awaitå‡½æ•°æ˜¯å¼‚æ­¥ä»£ç çš„æ–°æ–¹å¼</p></blockquote><blockquote><p>async/awaitæ˜¯åŸºäºpromiseå®ç°çš„</p></blockquote><blockquote><p>async/awaitä½¿å¼‚æ­¥ä»£ç æ›´åƒåŒæ­¥ä»£ç </p></blockquote><blockquote><p>await åªèƒ½åœ¨asyncå‡½æ•°ä¸­ä½¿ç”¨ï¼Œä¸èƒ½å†æ™®é€šå‡½æ•°ä¸­ä½¿ç”¨ï¼Œè¦æˆå¯¹å‡ºç°</p></blockquote><blockquote><p>é»˜è®¤è¿”å›ä¸€ä¸ªpromiseå®ä¾‹ï¼Œä¸èƒ½è¢«æ”¹å˜</p></blockquote><blockquote><p>awaitä¸‹é¢çš„ä»£ç æ˜¯å¼‚æ­¥ï¼Œåé¢çš„ä»£ç æ˜¯åŒæ­¥çš„</p></blockquote><h4 id="29-thisæŒ‡å‘"><a href="#29-thisæŒ‡å‘" class="headerlink" title="29.thisæŒ‡å‘"></a>29.thisæŒ‡å‘</h4><blockquote><ul><li>å…¨å±€ä½œç”¨åŸŸä¸‹çš„thisæŒ‡å‘window</li><li>å¦‚æœç»™å…ƒç´ çš„äº‹ä»¶è¡Œä¸ºç»‘å®šå‡½æ•°ï¼Œé‚£ä¹ˆå‡½æ•°ä¸­çš„thisæŒ‡å‘å½“å‰è¢«ç»‘å®šçš„é‚£ä¸ªå…ƒç´ </li><li>å‡½æ•°ä¸­çš„thisï¼Œè¦çœ‹å‡½æ•°æ‰§è¡Œå‰æœ‰æ²¡æœ‰ . , æœ‰ . çš„è¯ï¼Œç‚¹å‰é¢æ˜¯è°ï¼Œthiså°±æŒ‡å‘è°ï¼Œå¦‚æœæ²¡æœ‰ç‚¹ï¼ŒæŒ‡å‘window</li><li>è‡ªæ‰§è¡Œå‡½æ•°ä¸­çš„thisæ°¸è¿œæŒ‡å‘window</li><li>å®šæ—¶å™¨ä¸­å‡½æ•°çš„thisæŒ‡å‘window</li><li>æ„é€ å‡½æ•°ä¸­çš„thisæŒ‡å‘å½“å‰çš„å®ä¾‹</li><li>callã€applyã€bindå¯ä»¥æ”¹å˜å‡½æ•°çš„thisæŒ‡å‘</li><li>ç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰thisï¼Œå¦‚æœè¾“å‡ºthisï¼Œå°±ä¼šè¾“å‡ºç®­å¤´å‡½æ•°å®šä¹‰æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸä¸­çš„this</li></ul></blockquote><h4 id="30-åŸå‹"><a href="#30-åŸå‹" class="headerlink" title="30.åŸå‹"></a>30.åŸå‹</h4><blockquote><blockquote><p>æ‰€æœ‰çš„å‡½æ•°æ•°æ®ç±»å‹éƒ½å¤©ç”Ÿè‡ªå¸¦ä¸€ä¸ªprototypeå±æ€§ï¼Œè¯¥å±æ€§çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ prototypeçš„å±æ€§å€¼ä¸­å¤©ç”Ÿè‡ªå¸¦ä¸€ä¸ªconstructorå±æ€§ï¼Œå…¶constructorå±æ€§å€¼æŒ‡å‘å½“å‰åŸå‹æ‰€å±çš„ç±» æ‰€æœ‰çš„å¯¹è±¡æ•°æ®ç±»å‹ï¼Œéƒ½å¤©ç”Ÿè‡ªå¸¦ä¸€ä¸ª_proto_å±æ€§ï¼Œè¯¥å±æ€§çš„å±æ€§å€¼æŒ‡å‘å½“å‰å®ä¾‹æ‰€å±ç±»çš„åŸå‹</p></blockquote></blockquote><h4 id="31-å¼‚æ­¥å›è°ƒï¼ˆå¦‚ä½•è§£å†³å›è°ƒåœ°ç‹±ï¼‰"><a href="#31-å¼‚æ­¥å›è°ƒï¼ˆå¦‚ä½•è§£å†³å›è°ƒåœ°ç‹±ï¼‰" class="headerlink" title="31.å¼‚æ­¥å›è°ƒï¼ˆå¦‚ä½•è§£å†³å›è°ƒåœ°ç‹±ï¼‰"></a>31.å¼‚æ­¥å›è°ƒï¼ˆå¦‚ä½•è§£å†³å›è°ƒåœ°ç‹±ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">promiseã€generatorã€async/awaitpromiseï¼š 1.æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥ä¼ é€’å¼‚æ­¥æ“ä½œçš„ä¿¡æ¯ã€‚ä»£è¡¨ç€æŸä¸ªæœªæ¥æ‰ä¼šçŸ¥é“ç»“æœçš„æ—¶é—´ï¼Œå¹¶æœªè¿™ä¸ªäº‹ä»¶æä¾›ç»Ÿä¸€çš„apiï¼Œä¾›è¿›å¼‚æ­¥å¤„ç†  2.æœ‰äº†è¿™ä¸ªå¯¹è±¡ï¼Œå°±å¯ä»¥è®©å¼‚æ­¥æ“ä½œä»¥åŒæ­¥çš„æ“ä½œçš„æµç¨‹æ¥è¡¨è¾¾å‡ºæ¥ï¼Œé¿å…å±‚å±‚åµŒå¥—çš„å›è°ƒåœ°ç‹±  3.promiseä»£è¡¨ä¸€ä¸ªå¼‚æ­¥çŠ¶æ€ï¼Œæœ‰ä¸‰ä¸ªçŠ¶æ€pendingï¼ˆè¿›è¡Œä¸­ï¼‰ï¼ŒResolve(ä»¥å®Œæˆï¼‰ï¼ŒRejectï¼ˆå¤±è´¥ï¼‰  4.ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šåœ¨å˜ã€‚ä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°ç»“æœã€‚ä»è¿›è¡Œä¸­å˜ä¸ºä»¥å®Œæˆæˆ–è€…å¤±è´¥promise.all() é‡Œé¢çŠ¶æ€éƒ½æ”¹å˜ï¼Œé‚£å°±ä¼šè¾“å‡ºï¼Œå¾—åˆ°ä¸€ä¸ªæ•°ç»„promise.race() é‡Œé¢åªæœ‰ä¸€ä¸ªçŠ¶æ€å˜ä¸ºrejectedæˆ–è€…fulfilledå³è¾“å‡ºpromis.finally()ä¸ç®¡æŒ‡å®šä¸ç®¡Promiseå¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œï¼ˆæœ¬è´¨ä¸Šè¿˜æ˜¯thenæ–¹æ³•çš„ç‰¹ä¾‹ï¼‰å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="32-å‰ç«¯äº‹ä»¶æµ"><a href="#32-å‰ç«¯äº‹ä»¶æµ" class="headerlink" title="32.å‰ç«¯äº‹ä»¶æµ"></a>32.å‰ç«¯äº‹ä»¶æµ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">äº‹ä»¶æµæè¿°çš„æ˜¯ä»é¡µé¢ä¸­æ¥å—äº‹ä»¶çš„é¡ºåºï¼Œäº‹ä»¶ æ•è·é˜¶æ®µ å¤„äºç›®æ ‡é˜¶æ®µ äº‹ä»¶å†’æ³¡é˜¶æ®µ addeventListener æœ€åè¿™ä¸ªå¸ƒå°”å€¼å‚æ•°å¦‚æœæ˜¯trueï¼Œè¡¨ç¤ºåœ¨æ•è·é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºï¼›å¦‚æœæ˜¯falseï¼Œè¡¨ç¤ºåœ¨å†’æ³¡é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºã€‚  1ã€äº‹ä»¶æ•è·é˜¶æ®µï¼šå®é™…ç›®æ ‡divåœ¨æ•è·é˜¶æ®µä¸ä¼šæ¥å—äº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯åœ¨æ•è·é˜¶æ®µï¼Œäº‹ä»¶ä»documentåˆ°&lt;html&gt;å†åˆ°&lt;body&gt;å°±åœæ­¢äº†ã€‚      2ã€å¤„äºç›®æ ‡é˜¶æ®µï¼šäº‹ä»¶åœ¨divå‘ç”Ÿå¹¶å¤„ç†ï¼Œä½†æ˜¯äº‹ä»¶å¤„ç†ä¼šè¢«çœ‹æˆæ˜¯å†’æ³¡é˜¶æ®µçš„ä¸€éƒ¨åˆ†ã€‚      3ã€å†’æ³¡é˜¶æ®µï¼šäº‹ä»¶åˆä¼ æ’­å›æ–‡æ¡£   é˜»æ­¢å†’æ³¡äº‹ä»¶event.stopPropagation()  function stopBubble(e) &#123;    if (e &amp;&amp; e.stopPropagation) &#123; // å¦‚æœæä¾›äº†äº‹ä»¶å¯¹è±¡event è¿™è¯´æ˜ä¸æ˜¯IEæµè§ˆå™¨      e.stopPropagation()    &#125; else &#123;      window.event.cancelBubble = true //IEæ–¹å¼é˜»æ­¢å†’æ³¡          &#125;     &#125;   é˜»æ­¢é»˜è®¤è¡Œä¸ºevent.preventDefault() function stopDefault(e) &#123;    if (e &amp;&amp; e.preventDefault) &#123;      e.preventDefault()    &#125; else &#123;      // IEæµè§ˆå™¨é˜»æ­¢å‡½æ•°å™¨é»˜è®¤åŠ¨ä½œçš„è¡Œä¸º      window.event.returnValue = false    &#125;  &#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="33-äº‹ä»¶å¦‚ä½•å…ˆæ•è·åå†’æ³¡ï¼Ÿ"><a href="#33-äº‹ä»¶å¦‚ä½•å…ˆæ•è·åå†’æ³¡ï¼Ÿ" class="headerlink" title="33.äº‹ä»¶å¦‚ä½•å…ˆæ•è·åå†’æ³¡ï¼Ÿ"></a>33.äº‹ä»¶å¦‚ä½•å…ˆæ•è·åå†’æ³¡ï¼Ÿ</h4><blockquote><p>åœ¨DOMæ ‡å‡†äº‹ä»¶æ¨¡å‹ä¸­ï¼Œæ˜¯å…ˆæ•è·åå†’æ³¡ã€‚ä½†æ˜¯å¦‚æœè¦å®ç°å…ˆå†’æ³¡åæ•è·çš„æ•ˆæœï¼Œ å¯¹äºåŒä¸€ä¸ªäº‹ä»¶ï¼Œç›‘å¬æ•è·å’Œå†’æ³¡ï¼Œåˆ†åˆ«å¯¹åº”ç›¸åº”çš„å¤„ç†å‡½æ•°ï¼Œç›‘å¬åˆ°æ•è·äº‹ä»¶ï¼Œå…ˆæš‚ç¼“æ‰§è¡Œï¼Œç›´åˆ°å†’æ³¡äº‹ä»¶è¢«æ•è·åå†æ‰§è¡Œæ•è·äº‹ä»¶ã€‚</p></blockquote><ul><li>å“ªäº›äº‹ä»¶ä¸æ”¯æŒå†’æ³¡äº‹ä»¶ï¼šé¼ æ ‡äº‹ä»¶ï¼šmouserleave  mouseenter ç„¦ç‚¹äº‹ä»¶ï¼šblur focus UIäº‹ä»¶ï¼šscroll resize</li></ul><h4 id="34-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¯¹è±¡è¿˜æ˜¯æ•°ç»„ï¼ˆprototype-toString-call-ï¼‰ã€‚"><a href="#34-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¯¹è±¡è¿˜æ˜¯æ•°ç»„ï¼ˆprototype-toString-call-ï¼‰ã€‚" class="headerlink" title="34. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¯¹è±¡è¿˜æ˜¯æ•°ç»„ï¼ˆprototype.toString.call()ï¼‰ã€‚"></a>34. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¯¹è±¡è¿˜æ˜¯æ•°ç»„ï¼ˆprototype.toString.call()ï¼‰ã€‚</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åƒä¸‡ä¸è¦ä½¿ç”¨typeofæ¥åˆ¤æ–­å¯¹è±¡å’Œæ•°ç»„ï¼Œå› ä¸ºè¿™ç§ç±»å‹éƒ½ä¼šè¿”å›objectã€‚å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><blockquote><p>typeOf()æ˜¯åˆ¤æ–­åŸºæœ¬ç±»å‹çš„Boolean,Numberï¼Œsymbol, undefined, Stringã€‚ å¯¹äºå¼•ç”¨ç±»å‹ï¼šé™¤functionï¼Œéƒ½è¿”å›object   nullè¿”å›objectã€‚</p></blockquote><blockquote><p>installOf() ç”¨æ¥åˆ¤æ–­Aæ˜¯å¦æ˜¯Bçš„å®ä¾‹ï¼Œinstallofæ£€æŸ¥çš„æ˜¯åŸå‹ã€‚</p></blockquote><blockquote><p>toString() æ˜¯Objectçš„åŸå‹æ–¹æ³•ï¼Œå¯¹äº Object å¯¹è±¡ï¼Œç›´æ¥è°ƒç”¨ toString()  å°±èƒ½è¿”å› [Object Object] ã€‚è€Œå¯¹äºå…¶ä»–å¯¹è±¡ï¼Œåˆ™éœ€è¦é€šè¿‡ call / apply æ¥è°ƒç”¨æ‰èƒ½è¿”å›æ­£ç¡®çš„ç±»å‹ä¿¡æ¯ã€‚</p></blockquote><blockquote><p>hasOwnProperty()æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºå¯¹è±¡è‡ªèº«å±æ€§ä¸­æ˜¯å¦å…·æœ‰æŒ‡å®šçš„å±æ€§ï¼Œè¯¥æ–¹æ³•ä¼šå¿½ç•¥æ‰é‚£äº›ä»åŸå‹é“¾ä¸Šç»§æ‰¿åˆ°çš„å±æ€§ã€‚</p></blockquote><blockquote><p>isProperty()æ–¹æ³•æµ‹è¯•ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚</p></blockquote><h4 id="35-setTimeout-å’Œ-setIntervalçš„æœºåˆ¶"><a href="#35-setTimeout-å’Œ-setIntervalçš„æœºåˆ¶" class="headerlink" title="35.setTimeout å’Œ setIntervalçš„æœºåˆ¶"></a>35.setTimeout å’Œ setIntervalçš„æœºåˆ¶</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å› ä¸ºjsæ˜¯å•çº¿ç¨‹çš„ã€‚æµè§ˆå™¨é‡åˆ°etTimeout å’Œ setIntervalä¼šå…ˆæ‰§è¡Œå®Œå½“å‰çš„ä»£ç å—ï¼Œåœ¨æ­¤ä¹‹å‰ä¼šæŠŠå®šæ—¶å™¨æ¨å…¥æµè§ˆå™¨çš„å¾…æ‰§è¡Œæ—¶é—´é˜Ÿåˆ—é‡Œé¢ï¼Œç­‰åˆ°æµè§ˆå™¨æ‰§è¡Œå®Œå½“å‰ä»£ç ä¹‹åä¼šçœ‹ä¸‹äº‹ä»¶é˜Ÿåˆ—é‡Œæœ‰æ²¡æœ‰ä»»åŠ¡ï¼Œæœ‰çš„è¯æ‰æ‰§è¡Œå®šæ—¶å™¨é‡Œçš„ä»£ç å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="36-spliceå’Œsliceã€mapå’ŒforEachã€-filter-ã€reduce-çš„åŒºåˆ«"><a href="#36-spliceå’Œsliceã€mapå’ŒforEachã€-filter-ã€reduce-çš„åŒºåˆ«" class="headerlink" title="36.spliceå’Œsliceã€mapå’ŒforEachã€ filter()ã€reduce()çš„åŒºåˆ«"></a>36.spliceå’Œsliceã€mapå’ŒforEachã€ filter()ã€reduce()çš„åŒºåˆ«</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.slice(start,end):æ–¹æ³•å¯ä»¥ä»å·²æœ‰æ•°ç»„ä¸­è¿”å›é€‰å®šçš„å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œ åŒ…å«ä»startåˆ°endï¼ˆä¸åŒ…å«è¯¥å…ƒç´ ï¼‰çš„æ•°ç»„æ–¹æ³•æ³¨æ„ï¼šè¯¥æ–¹æ³•ä¸ä¼šæ›´æ–°åŸæ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªå­æ•°ç»„ 2.splice():è¯¥æ–¹æ³•æƒ³æˆ–è€…ä»æ•°ç»„ä¸­æ·»åŠ æˆ–åˆ é™¤é¡¹ç›®ï¼Œè¿”å›è¢«åˆ é™¤çš„é¡¹ç›®ã€‚ï¼ˆè¯¥æ–¹æ³•ä¼šæ”¹å˜åŸæ•°ç»„ï¼‰splice(index, howmany,item1,...itemx)Â·indexå‚æ•°ï¼šå¿…é¡»ï¼Œæ•´æ•°è§„å®šæ·»åŠ æˆ–åˆ é™¤çš„ä½ç½®ï¼Œä½¿ç”¨è´Ÿæ•°ï¼Œä»æ•°ç»„å°¾éƒ¨è§„å®šä½ç½®Â·howmanyå‚æ•°ï¼šå¿…é¡»ï¼Œè¦åˆ é™¤çš„æ•°é‡ï¼ŒÂ·item1..itemx:å¯é€‰ï¼Œå‘æ•°ç»„æ·»åŠ æ–°é¡¹ç›®3.map()ï¼šä¼šè¿”å›ä¸€ä¸ªå…¨æ–°çš„æ•°ç»„ã€‚ä½¿ç”¨äºæ”¹å˜æ•°æ®å€¼çš„æ—¶å€™ã€‚ä¼šåˆ†é…å†…å­˜å­˜å‚¨ç©ºé—´æ•°ç»„å¹¶è¿”å›ï¼ŒforEachï¼ˆï¼‰ä¸ä¼šè¿”å›æ•°æ®4.forEach(): ä¸ä¼šè¿”å›ä»»ä½•æœ‰ä»·å€¼çš„ä¸œè¥¿ï¼Œå¹¶ä¸”ä¸æ‰“ç®—æ”¹å˜æ•°æ®ï¼Œå•çº¯çš„åªæ˜¯æƒ³ç”¨æ•°æ®åšä¸€äº›äº‹æƒ…ï¼Œä»–å…è®¸callbackæ›´æ”¹åŸå§‹æ•°ç»„çš„å…ƒç´ 5.reduce(): æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå€¼ï¼ˆä»å·¦åˆ°å³ï¼‰å¼€å§‹ç¼©å‡ï¼Œæœ€ç»ˆè®¡ç®—ä¸€ä¸ªå€¼ï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„çš„å€¼6.filter(): æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œæ–°æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯é€šè¿‡æ£€æŸ¥æŒ‡å®šæ•°ç»„ä¸­ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰å…ƒç´ ã€‚å®ƒé‡Œé¢é€šè¿‡functionå»åšå¤„ç†å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h1 id="VUEé—®é¢˜"><a href="#VUEé—®é¢˜" class="headerlink" title="VUEé—®é¢˜"></a>VUEé—®é¢˜</h1><h4 id="1-èŠèŠå¯¹vueçš„ç†è§£"><a href="#1-èŠèŠå¯¹vueçš„ç†è§£" class="headerlink" title="1.èŠèŠå¯¹vueçš„ç†è§£"></a>1.èŠèŠå¯¹vueçš„ç†è§£</h4><blockquote><p>vueæ˜¯ä¸€ä¸ªæ¸è¿›å¼çš„JSæ¡†æ¶ã€‚ä»–æ˜“ç”¨ï¼Œçµæ´»ï¼Œé«˜æ•ˆï¼› å¯ä»¥æŠŠä¸€ä¸ªé¡µé¢åˆ†éš”æˆå¤šä¸ªç»„ä»¶ï¼›å½“å…¶ä»–é¡µé¢æœ‰ç±»ä¼¼åŠŸèƒ½æ—¶ï¼Œç›´æ¥è®©å°è£…çš„ç»„ä»¶è¿›è¡Œå¤ç”¨ï¼› ä»–æ˜¯æ„å»ºç”¨æˆ·ç•Œé¢çš„å£°æ˜å¼æ¡†æ¶ï¼Œåªå…³å¿ƒå›¾å±‚ï¼›ä¸å…³å¿ƒå…·ä½“æ˜¯å¦‚ä½•å®ç°çš„</p></blockquote><h4 id="2-V-modelçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#2-V-modelçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="2.V-modelçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>2.V-modelçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h4><blockquote><p>Vueçš„åŒå‘æ•°æ®ç»‘å®šæ˜¯ç”±æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…è®¢é˜…è€…å®ç°çš„ã€‚ æ•°æ®åŠ«æŒæ˜¯é€šè¿‡Object.defineProperty()æ¥åŠ«æŒå¯¹è±¡æ•°æ®çš„setterå’Œgetteræ“ä½œã€‚ åœ¨æ•°æ®å˜åŠ¨æ—¶ä½œä½ æƒ³åšçš„äº‹</p><ul><li>åŸç† é€šè¿‡Observeræ¥ç›‘å¬è‡ªå·±çš„modelæ•°æ®å˜åŒ–ï¼Œé€šè¿‡Compileæ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼Œæœ€ç»ˆåˆ©ç”¨Watcheræ­èµ·Observerå’ŒCompileä¹‹é—´çš„é€šä¿¡æ¡¥æ¢ï¼Œè¾¾åˆ°æ•°æ®å˜åŒ–-&gt;è§†å›¾æ›´æ–° åœ¨åˆå§‹åŒ–vueå®ä¾‹æ—¶ï¼Œéå†dataè¿™ä¸ªå¯¹è±¡ï¼Œç»™æ¯ä¸€ä¸ªé”®å€¼å¯¹åˆ©ç”¨Object.definedPropertyå¯¹dataçš„é”®å€¼å¯¹æ–°å¢getå’Œsetæ–¹æ³•ï¼Œåˆ©ç”¨äº†äº‹ä»¶ç›‘å¬DOMçš„æœºåˆ¶ï¼Œè®©è§†å›¾å»æ”¹å˜æ•°æ®</li></ul></blockquote><h4 id="3-è°ˆè°ˆå¯¹ç”Ÿå‘½å‘¨æœŸçš„ç†è§£"><a href="#3-è°ˆè°ˆå¯¹ç”Ÿå‘½å‘¨æœŸçš„ç†è§£" class="headerlink" title="3.è°ˆè°ˆå¯¹ç”Ÿå‘½å‘¨æœŸçš„ç†è§£"></a>3.è°ˆè°ˆå¯¹ç”Ÿå‘½å‘¨æœŸçš„ç†è§£</h4><ul><li>beforeCreateé˜¶æ®µï¼švueå®ä¾‹çš„æŒ‚è½½å…ƒç´ elå’Œæ•°æ®å¯¹è±¡dataéƒ½æ˜¯undefinedï¼Œè¿˜æ²¡æœ‰åˆå§‹åŒ–ã€‚</li><li>createdé˜¶æ®µï¼švueå®ä¾‹çš„æ•°æ®å¯¹è±¡dataæœ‰äº†ï¼Œå¯ä»¥è®¿é—®é‡Œé¢çš„æ•°æ®å’Œæ–¹æ³•ï¼ŒæœªæŒ‚è½½åˆ°DOMï¼Œelè¿˜æ²¡æœ‰</li><li>beforeMounté˜¶æ®µï¼švueå®ä¾‹çš„elå’Œdataéƒ½åˆå§‹åŒ–äº†ï¼Œä½†æ˜¯æŒ‚è½½ä¹‹å‰ä¸ºè™šæ‹Ÿçš„domèŠ‚ç‚¹</li><li>mountedé˜¶æ®µï¼švueå®ä¾‹æŒ‚è½½åˆ°çœŸå®DOMä¸Šï¼Œå°±å¯ä»¥é€šè¿‡DOMè·å–DOMèŠ‚ç‚¹</li><li>beforeUpdateé˜¶æ®µï¼šå“åº”å¼æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹ŸDOMæ‰“è¡¥ä¸ä¹‹å‰ï¼Œé€‚åˆåœ¨æ›´æ–°ä¹‹å‰è®¿é—®ç°æœ‰çš„DOMï¼Œæ¯”å¦‚æ‰‹åŠ¨ç§»é™¤å·²æ·»åŠ çš„äº‹ä»¶ç›‘å¬å™¨</li><li>updatedé˜¶æ®µï¼šè™šæ‹ŸDOMé‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹åè°ƒç”¨ï¼Œç»„æˆæ–°çš„DOMå·²ç»æ›´æ–°ï¼Œé¿å…åœ¨è¿™ä¸ªé’©å­å‡½æ•°ä¸­æ“ä½œæ•°æ®ï¼Œé˜²æ­¢æ­»å¾ªç¯</li><li>beforeDestroyé˜¶æ®µï¼šå®ä¾‹é”€æ¯å‰è°ƒç”¨ï¼Œå®ä¾‹è¿˜å¯ä»¥ç”¨ï¼Œthisèƒ½è·å–åˆ°å®ä¾‹ï¼Œå¸¸ç”¨äºé”€æ¯å®šæ—¶å™¨ï¼Œè§£ç»‘äº‹ä»¶</li><li>destroyedé˜¶æ®µï¼šå®ä¾‹é”€æ¯åè°ƒç”¨ï¼Œè°ƒç”¨åæ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹éƒ½ä¼šè¢«é”€æ¯</li></ul><h4 id="4-VUEå’ŒREACTæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#4-VUEå’ŒREACTæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="4.VUEå’ŒREACTæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>4.VUEå’ŒREACTæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4><blockquote><p>reactæ•´ä½“æ˜¯å‡½æ•°å¼çš„æ€æƒ³ï¼ŒæŠŠç»„ä»¶è®¾è®¡æˆçº¯ç»„ä»¶ï¼ŒçŠ¶æ€å’Œé€»è¾‘é€šè¿‡å‚æ•°ä¼ å…¥ï¼Œæ‰€ä»¥åœ¨reactä¸­ï¼Œæ˜¯å•å‘æ•°æ®æµï¼›</p></blockquote><blockquote><p>vueçš„æ€æƒ³æ˜¯å“åº”å¼çš„ï¼Œä¹Ÿå°±æ˜¯åŸºäºæ˜¯æ•°æ®å¯å˜çš„ï¼Œé€šè¿‡å¯¹æ¯ä¸€ä¸ªå±æ€§å»ºç«‹Watcheræ¥ç›‘å¬ï¼Œå½“å±æ€§å˜åŒ–çš„æ—¶å€™ï¼Œå“åº”å¼çš„æ›´æ–°å¯¹åº”çš„è™šæ‹Ÿdomã€‚</p></blockquote><h4 id="5-vuexçš„æµç¨‹"><a href="#5-vuexçš„æµç¨‹" class="headerlink" title="5.vuexçš„æµç¨‹"></a>5.vuexçš„æµç¨‹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">é¡µé¢é€šè¿‡mapActionå¼‚æ­¥æäº¤äº‹ä»¶åˆ°actionã€‚actioné€šè¿‡commitæŠŠå¯¹åº”å‚æ•°åŒæ­¥æäº¤åˆ°mutationã€‚mutationä¼šä¿®æ”¹stateä¸­å¯¹äºçš„å€¼ã€‚ æœ€åé€šè¿‡getteræŠŠå¯¹åº”å€¼è·‘å‡ºå»ï¼Œåœ¨é¡µé¢çš„è®¡ç®—å±æ€§ä¸­é€šè¿‡mapGetteræ¥åŠ¨æ€è·å–stateä¸­çš„å€¼å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="6-vuexæœ‰å“ªå‡ ç§çŠ¶æ€å’Œå±æ€§"><a href="#6-vuexæœ‰å“ªå‡ ç§çŠ¶æ€å’Œå±æ€§" class="headerlink" title="6.vuexæœ‰å“ªå‡ ç§çŠ¶æ€å’Œå±æ€§"></a>6.vuexæœ‰å“ªå‡ ç§çŠ¶æ€å’Œå±æ€§</h4><blockquote><ul><li>stateä¸­ä¿å­˜ç€å…±æœ‰æ•°æ®ï¼Œæ•°æ®æ˜¯å“åº”å¼çš„</li><li>getterå¯ä»¥å¯¹stateè¿›è¡Œè®¡ç®—æ“ä½œï¼Œä¸»è¦ç”¨æ¥è¿‡æ»¤ä¸€äº›æ•°æ®ï¼Œå¯ä»¥åœ¨å¤šç»„ä»¶ä¹‹é—´å¤ç”¨</li><li>mutationså®šä¹‰çš„æ–¹æ³•åŠ¨æ€ä¿®æ”¹stateä¸­çš„æ•°æ®ï¼Œé€šè¿‡commitæäº¤æ–¹æ³•ï¼Œæ–¹æ³•å¿…é¡»æ˜¯åŒæ­¥çš„</li><li>actionså°†mutationsé‡Œé¢å¤„ç†æ•°æ®çš„æ–¹æ³•å˜æˆå¼‚æ­¥çš„ï¼Œå°±æ˜¯å¼‚æ­¥æ“ä½œæ•°æ®ï¼Œé€šstore.dispatchæ¥åˆ†å‘actionsï¼ŒæŠŠå¼‚æ­¥çš„æ–¹æ³•å†™åœ¨actionsä¸­ï¼Œé€šè¿‡commitæäº¤mutationsï¼Œè¿›è¡Œä¿®æ”¹æ•°æ®ã€‚</li><li>modulesï¼šæ¨¡å—åŒ–vuex</li></ul></blockquote><h4 id="7-vueè·¯ç”±çš„ä¸¤ç§æ¨¡å¼"><a href="#7-vueè·¯ç”±çš„ä¸¤ç§æ¨¡å¼" class="headerlink" title="7.vueè·¯ç”±çš„ä¸¤ç§æ¨¡å¼"></a>7.vueè·¯ç”±çš„ä¸¤ç§æ¨¡å¼</h4><blockquote><ul><li>hash â€”â€”å³åœ°å€æ URLä¸­çš„#ç¬¦å·ï¼ˆæ­¤hsah ä¸æ˜¯å¯†ç å­¦é‡Œçš„æ•£åˆ—è¿ç®—ï¼‰ hash è™½ç„¶å‡ºç°URLä¸­ï¼Œä½†ä¸ä¼šè¢«åŒ…å«åœ¨HTTPè¯·æ±‚ä¸­ï¼Œå¯¹åç«¯å®Œå…¨æ²¡æœ‰å½±å“ï¼Œå› æ­¤æ”¹å˜hashä¸ä¼šé‡æ–°åŠ è½½é¡µé¢ã€‚</li><li>history â€”â€”åˆ©ç”¨äº†HTML5 History Interface ä¸­æ–°å¢çš„pushState() å’ŒreplaceState() æ–¹æ³•</li></ul><p>è¿™ä¸¤ä¸ªæ–¹æ³•åº”ç”¨äºæµè§ˆå™¨çš„å†å²è®°å½•ç«™ï¼Œåœ¨å½“å‰å·²æœ‰çš„backã€forwardã€go çš„åŸºç¡€ä¹‹ä¸Šï¼Œå®ƒä»¬æä¾›äº†å¯¹å†å²è®°å½•è¿›è¡Œä¿®æ”¹çš„åŠŸèƒ½ã€‚åªæ˜¯å½“å®ƒä»¬æ‰§è¡Œä¿®æ”¹æ˜¯ï¼Œè™½ç„¶æ”¹å˜äº†å½“å‰çš„URLï¼Œä½†ä½ æµè§ˆå™¨ä¸ä¼šç«‹å³å‘åç«¯å‘é€è¯·æ±‚ã€‚</p></blockquote><h4 id="8-vueä¸­-key-å€¼çš„ä½œç”¨"><a href="#8-vueä¸­-key-å€¼çš„ä½œç”¨" class="headerlink" title="8.vueä¸­ key å€¼çš„ä½œç”¨"></a>8.vueä¸­ key å€¼çš„ä½œç”¨</h4><blockquote><p>å½“ Vue.js ç”¨v-foræ­£åœ¨æ›´æ–°å·²æ¸²æŸ“è¿‡çš„å…ƒç´ åˆ—è¡¨æ—¶ï¼Œå®ƒé»˜è®¤ç”¨â€œå°±åœ°å¤ç”¨â€ç­–ç•¥ã€‚ å¦‚æœæ•°æ®é¡¹çš„é¡ºåºè¢«æ”¹å˜ï¼ŒVue å°†ä¸ä¼šç§»åŠ¨ DOM å…ƒç´ æ¥åŒ¹é…æ•°æ®é¡¹çš„é¡ºåºï¼Œè€Œæ˜¯ç®€å•å¤ç”¨æ­¤å¤„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ç¡®ä¿å®ƒåœ¨ç‰¹å®šç´¢å¼•ä¸‹æ˜¾ç¤ºå·²è¢«æ¸²æŸ“è¿‡çš„æ¯ä¸ªå…ƒç´ ã€‚</p></blockquote><blockquote><p>keyçš„ä½œç”¨ä¸»è¦æ˜¯ä¸ºäº†é«˜æ•ˆçš„æ›´æ–°è™šæ‹ŸDOMã€‚</p></blockquote><h4 id="9-routeå’Œ-routerçš„åŒºåˆ«"><a href="#9-routeå’Œ-routerçš„åŒºåˆ«" class="headerlink" title="9$routeå’Œ$routerçš„åŒºåˆ«"></a>9<code>$route</code>å’Œ<code>$router</code>çš„åŒºåˆ«</h4><blockquote><ul><li>$routeæ˜¯â€œè·¯ç”±ä¿¡æ¯å¯¹è±¡â€ï¼ŒåŒ…æ‹¬pathï¼Œparamsï¼Œhashï¼Œqueryï¼ŒfullPathï¼Œmatchedï¼Œnameç­‰è·¯ç”±ä¿¡æ¯å‚æ•°ã€‚</li><li>$routeræ˜¯â€œè·¯ç”±å®ä¾‹â€å¯¹è±¡åŒ…æ‹¬äº†è·¯ç”±çš„è·³è½¬æ–¹æ³•ï¼Œé’©å­å‡½æ•°ç­‰ã€‚</li></ul></blockquote><h4 id="10-vue-routerå®ˆå«"><a href="#10-vue-routerå®ˆå«" class="headerlink" title="10.vue-routerå®ˆå«"></a>10.vue-routerå®ˆå«</h4><blockquote><ul><li>å¯¼èˆªå®ˆå« router.beforeEach å…¨å±€å‰ç½®å®ˆå«</li></ul></blockquote><ul><li>to: Route: å³å°†è¦è¿›å…¥çš„ç›®æ ‡ï¼ˆè·¯ç”±å¯¹è±¡ï¼‰</li><li>from: Route: å½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”±</li><li>next: Function: ä¸€å®šè¦è°ƒç”¨è¯¥æ–¹æ³•æ¥ resolve è¿™ä¸ªé’©å­ã€‚ï¼ˆä¸€å®šè¦ç”¨è¿™ä¸ªå‡½æ•°æ‰èƒ½å»åˆ°ä¸‹ä¸€ä¸ªè·¯ç”±ï¼Œå¦‚æœä¸ç”¨å°±æ‹¦æˆªï¼‰ æ‰§è¡Œæ•ˆæœä¾èµ– next æ–¹æ³•çš„è°ƒç”¨å‚æ•°ã€‚</li><li>next(): è¿›è¡Œç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªé’©å­ã€‚å¦‚æœå…¨éƒ¨é’©å­æ‰§è¡Œå®Œäº†ï¼Œåˆ™å¯¼èˆªçš„çŠ¶æ€å°±æ˜¯ confirmed (ç¡®è®¤çš„)ã€‚</li><li>next(false): å–æ¶ˆè¿›å…¥è·¯ç”±ï¼Œurlåœ°å€é‡ç½®ä¸ºfromè·¯ç”±åœ°å€(ä¹Ÿå°±æ˜¯å°†è¦ç¦»å¼€çš„è·¯ç”±åœ°å€)ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// main.js å…¥å£æ–‡ä»¶    import router from &#x27;./router&#x27;; // å¼•å…¥è·¯ç”±    router.beforeEach((to, from, next) =&gt; &#123;       next();    &#125;);    router.beforeResolve((to, from, next) =&gt; &#123;      next();    &#125;);    router.afterEach((to, from) =&gt; &#123;      console.log(&#x27;afterEach å…¨å±€åç½®é’©å­&#x27;);    &#125;);å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è·¯ç”±ç‹¬äº«çš„å®ˆå« ä½ å¯ä»¥åœ¨è·¯ç”±é…ç½®ä¸Šç›´æ¥å®šä¹‰ beforeEnter å®ˆå«</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const router = new VueRouter(&#123;  routes: [    &#123;      path: &#x27;/foo&#x27;,      component: Foo,      beforeEnter: (to, from, next) =&gt; &#123;        // ...      &#125;    &#125;  ]&#125;)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç»„ä»¶å†…çš„å®ˆå« ä½ å¯ä»¥åœ¨è·¯ç”±ç»„ä»¶å†…ç›´æ¥å®šä¹‰ä»¥ä¸‹è·¯ç”±å¯¼èˆªå®ˆå«</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const Foo = &#123;  template: `...`,  beforeRouteEnter (to, from, next) &#123;    // åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢« confirm å‰è°ƒç”¨    // ä¸ï¼èƒ½ï¼è·å–ç»„ä»¶å®ä¾‹ `this`    // å› ä¸ºå½“å®ˆå«æ‰§è¡Œå‰ï¼Œç»„ä»¶å®ä¾‹è¿˜æ²¡è¢«åˆ›å»º  &#125;,  beforeRouteUpdate (to, from, next) &#123;    // åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨    // ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ /foo/:idï¼Œåœ¨ /foo/1 å’Œ /foo/2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ    // ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚    // å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`  &#125;,  beforeRouteLeave (to, from, next) &#123;    // å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨ï¼Œæˆ‘ä»¬ç”¨å®ƒæ¥ç¦æ­¢ç”¨æˆ·ç¦»å¼€    // å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`    // æ¯”å¦‚è¿˜æœªä¿å­˜è‰ç¨¿ï¼Œæˆ–è€…åœ¨ç”¨æˆ·ç¦»å¼€å‰ï¼Œ    å°†setIntervalé”€æ¯ï¼Œé˜²æ­¢ç¦»å¼€ä¹‹åï¼Œå®šæ—¶å™¨è¿˜åœ¨è°ƒç”¨ã€‚  &#125;&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="11-axiosæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿæè¿°ä½¿ç”¨å®ƒå®ç°ç™»å½•åŠŸèƒ½çš„æµç¨‹ï¼Ÿ"><a href="#11-axiosæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿæè¿°ä½¿ç”¨å®ƒå®ç°ç™»å½•åŠŸèƒ½çš„æµç¨‹ï¼Ÿ" class="headerlink" title="11.axiosæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿæè¿°ä½¿ç”¨å®ƒå®ç°ç™»å½•åŠŸèƒ½çš„æµç¨‹ï¼Ÿ"></a>11.axiosæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿæè¿°ä½¿ç”¨å®ƒå®ç°ç™»å½•åŠŸèƒ½çš„æµç¨‹ï¼Ÿ</h4><blockquote><p>è¯·æ±‚åå°èµ„æºçš„æ¨¡å—ã€‚</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install axios -Sè£…å¥½å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><blockquote><p>ç„¶åå‘é€çš„æ˜¯è·¨åŸŸï¼Œéœ€åœ¨é…ç½®æ–‡ä»¶ä¸­config/index.jsè¿›è¡Œè®¾ç½®ã€‚åå°å¦‚æœæ˜¯Tp5åˆ™å®šä¹‰ä¸€ä¸ªèµ„æºè·¯ç”±ã€‚ jsä¸­ä½¿ç”¨importè¿›æ¥ï¼Œç„¶å.getæˆ–.postã€‚è¿”å›åœ¨.thenå‡½æ•°ä¸­å¦‚æœæˆåŠŸï¼Œå¤±è´¥åˆ™æ˜¯åœ¨.catchå‡½æ•°ä¸­</p></blockquote><h4 id="12-vueä¿®é¥°ç¬¦"><a href="#12-vueä¿®é¥°ç¬¦" class="headerlink" title="12.vueä¿®é¥°ç¬¦"></a>12.vueä¿®é¥°ç¬¦</h4><ul><li>stopï¼šé˜»æ­¢äº‹ä»¶çš„å†’æ³¡</li><li>preventï¼šé˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸º</li><li>onceï¼šåªè§¦å‘ä¸€æ¬¡</li><li>selfï¼šåªè§¦å‘è‡ªå·±çš„äº‹ä»¶è¡Œä¸ºæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œ</li></ul><h4 id="13-vueé¡¹ç›®ä¸­çš„æ€§èƒ½ä¼˜åŒ–"><a href="#13-vueé¡¹ç›®ä¸­çš„æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="13.vueé¡¹ç›®ä¸­çš„æ€§èƒ½ä¼˜åŒ–"></a>13.vueé¡¹ç›®ä¸­çš„æ€§èƒ½ä¼˜åŒ–</h4><blockquote><p>1.ä¸è¦åœ¨æ¨¡æ¿é‡Œé¢å†™è¿‡å¤šè¡¨è¾¾å¼</p></blockquote><blockquote><p>2.å¾ªç¯è°ƒç”¨å­ç»„ä»¶æ—¶æ·»åŠ key</p></blockquote><blockquote><p>3.é¢‘ç¹åˆ‡æ¢çš„ä½¿ç”¨v-showï¼Œä¸é¢‘ç¹åˆ‡æ¢çš„ä½¿ç”¨v-if</p></blockquote><blockquote><p>4.å°½é‡å°‘ç”¨floatï¼Œå¯ä»¥ç”¨flex</p></blockquote><blockquote><p>5.æŒ‰éœ€åŠ è½½ï¼Œå¯ä»¥ç”¨requireæˆ–è€…import()æŒ‰éœ€åŠ è½½éœ€è¦çš„ç»„ä»¶</p></blockquote><blockquote><p>6.è·¯ç”±æ‡’åŠ è½½</p></blockquote><h4 id="14-vue-extendå’Œvue-component"><a href="#14-vue-extendå’Œvue-component" class="headerlink" title="14.vue.extendå’Œvue.component"></a>14.vue.extendå’Œvue.component</h4><blockquote><ul><li>extend æ˜¯æ„é€ ä¸€ä¸ªç»„ä»¶çš„è¯­æ³•å™¨ã€‚ ç„¶åè¿™ä¸ªç»„ä»¶ä½ å¯ä»¥ä½œç”¨åˆ°Vue.componentè¿™ä¸ªå…¨å±€æ³¨å†Œæ–¹æ³•é‡Œ è¿˜å¯ä»¥åœ¨ä»»æ„vueæ¨¡æ¿é‡Œä½¿ç”¨ç»„ä»¶ã€‚ ä¹Ÿå¯ä»¥ä½œç”¨åˆ°vueå®ä¾‹æˆ–è€…æŸä¸ªç»„ä»¶ä¸­çš„componentså±æ€§ä¸­å¹¶åœ¨å†…éƒ¨ä½¿ç”¨appleç»„ä»¶ã€‚</li><li>Vue.component ä½ å¯ä»¥åˆ›å»º ï¼Œä¹Ÿå¯ä»¥å–ç»„ä»¶ã€‚</li></ul></blockquote><h3 id="å¸¸è§çš„å…¼å®¹é—®é¢˜"><a href="#å¸¸è§çš„å…¼å®¹é—®é¢˜" class="headerlink" title="å¸¸è§çš„å…¼å®¹é—®é¢˜"></a>å¸¸è§çš„å…¼å®¹é—®é¢˜</h3><blockquote><p>png24ä½çš„å›¾ç‰‡åœ¨iE6æµè§ˆå™¨ä¸Šå‡ºç°èƒŒæ™¯ è§£å†³æ–¹æ¡ˆæ˜¯åšæˆPNG8.ä¹Ÿå¯ä»¥å¼•ç”¨ä¸€æ®µè„šæœ¬å¤„ç†.</p></blockquote><blockquote><p>æµè§ˆå™¨é»˜è®¤çš„marginå’Œpaddingä¸åŒã€‚ è§£å†³æ–¹æ¡ˆæ˜¯åŠ ä¸€ä¸ªå…¨å±€çš„*{margin:0;padding:0;}æ¥ç»Ÿä¸€ã€‚</p></blockquote><blockquote><p>IE6åŒè¾¹è·bug:å—å±æ€§æ ‡ç­¾floatåï¼Œåˆæœ‰æ¨ªè¡Œçš„marginæƒ…å†µä¸‹ï¼Œåœ¨ie6æ˜¾ç¤ºmarginæ¯”è®¾ç½®çš„å¤§ã€‚</p></blockquote><blockquote><p>æµ®åŠ¨ieäº§ç”Ÿçš„åŒå€è·ç¦»ï¼ˆIE6åŒè¾¹è·é—®é¢˜ï¼šåœ¨IE6ä¸‹ï¼Œå¦‚æœå¯¹å…ƒç´ è®¾ç½®äº†æµ®åŠ¨ï¼ŒåŒæ—¶åˆè®¾ç½®äº†margin-leftæˆ–margin-rightï¼Œmarginå€¼ä¼šåŠ å€ã€‚ï¼‰ #box{ float:left; width:10px; margin:0 0 0 100px;}</p></blockquote><h1 id="Reacté—®é¢˜"><a href="#Reacté—®é¢˜" class="headerlink" title="Reacté—®é¢˜"></a>Reacté—®é¢˜</h1><h4 id="1-reactå’Œvueçš„åŒºåˆ«"><a href="#1-reactå’Œvueçš„åŒºåˆ«" class="headerlink" title="1.reactå’Œvueçš„åŒºåˆ«"></a>1.reactå’Œvueçš„åŒºåˆ«</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">=&gt;  ç›¸åŒç‚¹ï¼š1.æ•°æ®é©±åŠ¨é¡µé¢ï¼Œæä¾›å“åº”å¼çš„è¯•å›¾ç»„ä»¶2.éƒ½æœ‰virtual DOM,ç»„ä»¶åŒ–çš„å¼€å‘ï¼Œé€šè¿‡propså‚æ•°è¿›è¡Œçˆ¶å­ä¹‹é—´ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œéƒ½å®ç°äº†webComponentsè§„èŒƒ3.æ•°æ®æµåŠ¨å•å‘ï¼Œéƒ½æ”¯æŒæœåŠ¡å™¨çš„æ¸²æŸ“SSR4.éƒ½æœ‰æ”¯æŒnativeçš„æ–¹æ³•ï¼Œreactæœ‰React nativeï¼Œ vueæœ‰wexx=&gt;  ä¸åŒç‚¹ï¼š1.æ•°æ®ç»‘å®šï¼šVueå®ç°äº†åŒå‘çš„æ•°æ®ç»‘å®šï¼Œreactæ•°æ®æµåŠ¨æ˜¯å•å‘çš„2.æ•°æ®æ¸²æŸ“ï¼šå¤§è§„æ¨¡çš„æ•°æ®æ¸²æŸ“ï¼Œreactæ›´å¿«3.ä½¿ç”¨åœºæ™¯ï¼šReacté…åˆReduxæ¶æ„é€‚åˆå¤§è§„æ¨¡å¤šäººåä½œå¤æ‚é¡¹ç›®ï¼ŒVueé€‚åˆå°å¿«çš„é¡¹ç›®4.å¼€å‘é£æ ¼ï¼šreactæ¨èåšæ³•jsx + inline styleæŠŠhtmlå’Œcsséƒ½å†™åœ¨jsäº†    vueæ˜¯é‡‡ç”¨webpack + vue-loaderå•æ–‡ä»¶ç»„ä»¶æ ¼å¼ï¼Œhtml, js, cssåŒä¸€ä¸ªæ–‡ä»¶å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="2-reduxä¸­çš„reducerï¼ˆçº¯å‡½æ•°ï¼‰"><a href="#2-reduxä¸­çš„reducerï¼ˆçº¯å‡½æ•°ï¼‰" class="headerlink" title="2.reduxä¸­çš„reducerï¼ˆçº¯å‡½æ•°ï¼‰"></a>2.reduxä¸­çš„reducerï¼ˆçº¯å‡½æ•°ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Reduxæ•°æ®æµé‡Œï¼Œreduceså…¶å®æ˜¯æ ¹æ®ä¹‹å‰çš„çŠ¶æ€ï¼ˆprevious stateï¼‰å’Œç°æœ‰çš„actionï¼ˆcurrent actionï¼‰æ›´æ–°state(è¿™ä¸ªstateå¯ä»¥ç†è§£ä¸ºä¸Šä¸‹ç´¯åŠ å™¨çš„ç»“æœï¼‰æ¯æ¬¡redux reducerè¢«æ‰§è¡Œæ—¶ï¼Œstateå’Œactionè¢«ä¼ å…¥ï¼Œè¿™ä¸ªstateæ ¹æ®actionè¿›è¡Œç´¯åŠ æˆ–è€…æ˜¯&#x27;è‡ªèº«æ¶ˆå‡&#x27;(reduce),è¿›è€Œè¿”å›æœ€æ–°çš„state,è¿™ä¹Ÿå°±æ˜¯å…¸å‹reduceå‡½æ•°çš„ç”¨æ³•ï¼šstate -&gt;  action -&gt;  stateå¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="3-reactçš„refs"><a href="#3-reactçš„refs" class="headerlink" title="3.reactçš„refs"></a>3.reactçš„refs</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">refså°±æƒ³ä¸€ä¸ªé€ƒç”Ÿçª—ï¼Œå…è®¸æˆ‘ä»¬ä¹‹é—´è®¿é—®domå…ƒç´ æˆ–è€…ç»„ä»¶å®ä¾‹ï¼Œå¯ä»¥å‘ç»„ä»¶æ·»åŠ ä¸€ä¸ªrefå±æ€§çš„å€¼æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå®ƒå°†æ¥å—åœ°åŸdomå…ƒç´ æˆ–ç»„ä»¶çš„å·²æŒ‚åœ¨å®ä¾‹ï¼Œä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="4-reactä¸­çš„keys"><a href="#4-reactä¸­çš„keys" class="headerlink" title="4.reactä¸­çš„keys"></a>4.reactä¸­çš„keys</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¸®ç»„æˆ‘ä»¬è·Ÿè¸ªå“ªäº›é¡¹ç›®å·²æ›´æ”¹ã€æ·»åŠ ã€ä»åˆ—è¡¨ä¸­åˆ é™¤ï¼Œkeyæ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ä»¥è®©æˆ‘ä»¬é«˜æ•ˆçš„å»å®šä½å…ƒç´ ï¼Œå¹¶ä¸”æ“ä½œå®ƒå¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="5-Reactçš„ç”Ÿå‘½å‘¨æœŸ"><a href="#5-Reactçš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="5.Reactçš„ç”Ÿå‘½å‘¨æœŸ"></a>5.Reactçš„ç”Ÿå‘½å‘¨æœŸ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä¸‰ä¸ªçŠ¶æ€ï¼šMounting(å·²æ’å…¥çœŸå®çš„DOMï¼‰  Updating(æ­£åœ¨è¢«é‡æ–°æ¸²æŸ“)  Unmounting(å·²ç§»é™¤çœŸå®çš„DOM)componentDIdMount åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“åè°ƒç”¨ï¼Œåªåœ¨å®¢æœç«¯ã€‚ä¹‹åç»„ä»¶å·²ç»ç”Ÿæˆå¯¹åº”çš„DOMç»“æ„ï¼ŒcomponentDidUpdate åœ¨ç»„ä»¶å®Œæˆæ›´æ–°åç«‹å³è°ƒç”¨ï¼Œåœ¨å‡ºåˆå§‹åŒ–æ˜¯ä¸ä¼šè°ƒç”¨å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="6-Reactå­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼"><a href="#6-Reactå­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼" class="headerlink" title="6.Reactå­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼"></a>6.Reactå­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶é€šè¿‡props ç»™å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶åˆ™æ˜¯é€šè¿‡è°ƒç”¨çˆ¶ç»„ä»¶ä¼ ç»™å®ƒçš„å‡½æ•°ç»™çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ã€‚å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="7-ä¸ºä»€ä¹ˆè™šæ‹ŸDOMä¼šæé«˜æ€§èƒ½-www-zhihu-com-question-29â€¦"><a href="#7-ä¸ºä»€ä¹ˆè™šæ‹ŸDOMä¼šæé«˜æ€§èƒ½-www-zhihu-com-question-29â€¦" class="headerlink" title="7.ä¸ºä»€ä¹ˆè™šæ‹ŸDOMä¼šæé«˜æ€§èƒ½ www.zhihu.com/question/29â€¦"></a>7.ä¸ºä»€ä¹ˆè™šæ‹ŸDOMä¼šæé«˜æ€§èƒ½ <a href="https://link.juejin.cn/?target=https://www.zhihu.com/question/29504639?sort=created">www.zhihu.com/question/29â€¦</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è™šæ‹ŸDOMç›¸å½“äºåœ¨jså’ŒçœŸå®domä¸­é—´åŠ äº†ä¸€ä¸ªç¼“å­˜ï¼Œåˆ©ç”¨dom diffç®—æ³•é¿å…äº†æ²¡æœ‰å¿…è¦çš„doomæ“ä½œï¼Œä»è€Œæé«˜æ€§èƒ½å…·ä½“å®ç°æ­¥éª¤ï¼šÂ·ç”¨JavaScriptå¯¹è±¡ç»“æ„è¡¨ç¤ºDOMæ ‘çš„ç»“æ„ï¼›ç„¶åç”¨è¿™ä¸ªæ ‘æ„å»ºä¸€ä¸ªçœŸæ­£çš„DOMæ ‘ï¼Œæ’åˆ°æ–‡æ¡£ä¸­        Â·å½“çŠ¶æ€å˜æ›´çš„æ—¶å€™ï¼Œé‡æ–°æ„é€ ä¸€æ£µæ ‘çš„å¯¹è±¡æ ‘ï¼Œç„¶åç”¨æ–°çš„æ ‘å’Œæ—§çš„æ ‘è¿›è¡Œå¯¹æ¯”ï¼Œè®°å½•ä¸¤æ£µæ ‘å·®å¼‚Â·æŠŠ2æ‰€è®°å½•çš„å·®å¼‚åº”ç”¨åˆ°æ­¥éª¤1æ‰€æ„å»ºçš„çœŸæ­£çš„DOMæ ‘ä¸Šï¼Œè¯•å›¾å°±æ›´æ–°äº†ã€‚å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="8-diffç®—æ³•"><a href="#8-diffç®—æ³•" class="headerlink" title="8.diffç®—æ³•"></a>8.diffç®—æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.æŠŠæ ‘å½¢ç»“æ„æŒ‰ç…§å±‚çº§åˆ†è§£ï¼Œåªæ¯”è¾ƒåŒçº§å…ƒç´ 2.ç»™åˆ—è¡¨ç»“æ„çš„æ¯ä¸ªå•å…ƒæ·»åŠ keyå±æ€§ï¼Œæ–¹ä¾¿æ¯”è¾ƒã€‚åœ¨å®é™…ä»£ç ä¸­ï¼Œä¼šå¯¹æ–°æ—§ä¸¤æ£µæ ‘è¿›è¡Œä¸€ä¸ªæ·±åº¦ä¼˜å…ˆçš„éå†ï¼Œè¿™æ ·æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šæœ‰ä¸€ä¸ªæ ‡è®°3.åœ¨æ·±åº¦ä¼˜å…ˆéå†çš„æ—¶å€™ï¼Œæ¯éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹å°±æŠŠè¯¥èŠ‚ç‚¹å’Œæ–°çš„æ ‘è¿›è¡Œå¯¹æ¯”ã€‚å¦‚æœæœ‰å·®å¼‚çš„è¯å°±è®°å½•åˆ°ä¸€ä¸ªå¯¹è±¡é‡Œé¢Vritual DOM ç®—æ³•ä¸»è¦å®ç°ä¸Šé¢æ­¥éª¤çš„ä¸‰ä¸ªå‡½æ•°ï¼šelementï¼Œ diffï¼Œ patchã€‚ç„¶åå°±å¯ä»¥å®é™…çš„è¿›è¡Œä½¿ç”¨reactåªä¼šåŒ¹é…ç›¸åŒçš„classçš„componentï¼ˆè¿™é‡Œçš„classæŒ‡çš„æ˜¯ç»„ä»¶çš„åå­—ï¼‰åˆå¹¶æ“ä½œï¼Œæ¡ç”¨componentçš„setStateæ–¹æ³•çš„æ—¶å€™ï¼ŒReactå°†å…¶æ ‡è®°ä¸ºdirty.åˆ°æ¯ä¸€ä¸ªæ—¶é—´å¾ªç¯å€Ÿå®¿ï¼ŒReactæ£€æŸ¥æ‰€æœ‰æ ‡è®°dirtyçš„componenté‡æ–°ç»˜åˆ¶4.é€‰æ‹©æ€§å­æ ‘æ¸²æŸ“ã€‚å¯ä»¥é‡å†™shouldComponentUpdateæé«˜diffçš„æ€§èƒ½å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="9-ç®€è¿°ä¸‹fluxçš„æ€æƒ³"><a href="#9-ç®€è¿°ä¸‹fluxçš„æ€æƒ³" class="headerlink" title="9.ç®€è¿°ä¸‹fluxçš„æ€æƒ³"></a>9.ç®€è¿°ä¸‹fluxçš„æ€æƒ³</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fluxçš„æœ€å¤§ç‰¹ç‚¹ï¼Œå°±æ˜¯æ•°æ®çš„â€˜å•å‘æµåŠ¨â€™1.ç”¨æˆ·è®¿é—®View2.Viewå‘å‡ºç”¨æˆ·çš„Action3.Dispatcheræ”¶åˆ°Action,è¦æ±‚stateè¿›è¡Œç›¸åº”çš„æ›´æ–°4.storeæ›´æ–°åï¼Œå‘å‡ºä¸€ä¸ªâ€˜changeâ€™äº‹ä»¶åï¼Œæ›´æ–°é¡µé¢å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="10-reacæ€§èƒ½ä¼˜åŒ–æ˜¯å“ªä¸ªå‘¨æœŸå‡½"><a href="#10-reacæ€§èƒ½ä¼˜åŒ–æ˜¯å“ªä¸ªå‘¨æœŸå‡½" class="headerlink" title="10.reacæ€§èƒ½ä¼˜åŒ–æ˜¯å“ªä¸ªå‘¨æœŸå‡½"></a>10.reacæ€§èƒ½ä¼˜åŒ–æ˜¯å“ªä¸ªå‘¨æœŸå‡½</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shouldComponentUpdate è¿™ä¸ªæ–¹æ³•ç”¨æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒç”¨renderæ–¹æ³•é‡æ–°æç»˜dom.å› ä¸ºdomçš„æç»˜éå¸¸æ¶ˆè€—æ€§èƒ½ï¼Œå¦‚æœæˆ‘ä»¬åœ¨shouldComponentUpdateæ–¹æ³•ä¸­èƒ½å¤Ÿå†™å‡ºæ›´ä¼˜åŒ–çš„dom diffç®—æ³•ï¼Œå¯ä»¥æå¤§çš„æé«˜æ€§èƒ½å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="11-reactæ€ä¹ˆåˆ’åˆ†ä¸šåŠ¡ç»„ä»¶å’ŒæŠ€æœ¯ç»„ä»¶"><a href="#11-reactæ€ä¹ˆåˆ’åˆ†ä¸šåŠ¡ç»„ä»¶å’ŒæŠ€æœ¯ç»„ä»¶" class="headerlink" title="11.reactæ€ä¹ˆåˆ’åˆ†ä¸šåŠ¡ç»„ä»¶å’ŒæŠ€æœ¯ç»„ä»¶"></a>11.reactæ€ä¹ˆåˆ’åˆ†ä¸šåŠ¡ç»„ä»¶å’ŒæŠ€æœ¯ç»„ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ ¹æ®ç»„ä»¶çš„èŒè´£é€šå¸¸æŠŠç»„ä»¶åˆ†ä¸ºUIç»„ä»¶å’Œå®¹å™¨ç»„ä»¶UIç»„ä»¶è´Ÿè´£UIçš„å‘ˆç°ï¼Œå®¹å™¨ç»„ä»¶è´Ÿè´£ç®¡ç†æ•°æ®å’Œé€»è¾‘ä¸¤è€…é€šè¿‡React-reduxæä¾›connectæ–¹æ³•è”ç³»èµ·æ¥å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="12-setState"><a href="#12-setState" class="headerlink" title="12.setState"></a>12.setState</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setStateé€šè¿‡ä¸€ä¸ªé˜Ÿåˆ—æœºåˆ¶å®ç°stateæ›´æ–°ï¼Œå½“æ‰§è¡ŒsetStateæ—¶ï¼Œä¼šå°†éœ€è¦æ›´æ–°çš„stateå¾ˆåæ”¾å…¥çŠ¶æ€é˜Ÿåˆ—è€Œä¸ä¼šç«‹å³æ›´æ–°this.stateï¼Œé˜Ÿåˆ—æœºåˆ¶å¯ä»¥é«˜æ•ˆåœ°æ‰¹é‡æ›´æ–°stateã€‚å¦‚æœä¸é€šè¿‡setStateè€Œç›´æ¥ä¿®æ”¹this.stateçš„å€¼é‚£ä¹ˆè¯¥stateå°†ä¸ä¼šè¢«æ”¾å…¥çŠ¶æ€é˜Ÿåˆ—ä¸­ã€‚å½“ä¸‹æ¬¡è°ƒç”¨setStateå¹¶å¯¹çŠ¶æ€é˜Ÿåˆ—è¿›è¡Œåˆå¹¶æ—¶ï¼Œå°±ä¼šå¿½ç•¥ä¹‹å‰ä¿®æ”¹çš„stateï¼Œé€ æˆä¸å¯é¢„çŸ¥çš„é”™è¯¯åŒæ—¶ï¼Œä¹Ÿåˆ©ç”¨äº†é˜Ÿåˆ—æœºåˆ¶å®ç°äº†setStateçš„å¼‚æ­¥æ›´æ–°ï¼Œé¿å…äº†é¢‘ç¹çš„é‡å¤æ›´æ–°stateåŒæ­¥æ›´æ–°state:setState å‡½æ•°å¹¶ä¸ä¼šé˜»å¡ç­‰å¾…çŠ¶æ€æ›´æ–°å®Œæ¯•ï¼Œå› æ­¤ setNetworkActivityIndicatorVisible æœ‰å¯èƒ½å…ˆäºæ•°æ®æ¸²æŸ“å®Œæ¯•å°±æ‰§è¡Œã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨setStateçš„å¼‚æ­¥æ“ä½œç»“æŸå¹¶ä¸”ç»„ä»¶å·²ç»é‡æ–°æ¸²æŸ“çš„æ—¶å€™æ‰§è¡Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå›è°ƒæ¥æ‹¿åˆ°æ›´æ–°çš„stateçš„å€¼ï¼Œå®ç°ä»£ç çš„åŒæ­¥ä¾‹å­ï¼šcomponentDidMount() &#123;fetch(&#x27;https://test.com&#x27;)    .then((res) =&gt; res.json())    .then(    (data) =&gt; &#123;this.setState(&#123; data:data &#125;);StatusBar.setNetworkActivityIndicatorVisible(false);        &#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h1 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h1><h4 id="ä¸€ã€webpackæ‰“åŒ…æ–‡ä»¶ä½“ç§¯è¿‡å¤§ï¼Ÿï¼ˆæœ€ç»ˆæ‰“åŒ…ä¸ºä¸€ä¸ªjsæ–‡ä»¶ï¼‰"><a href="#ä¸€ã€webpackæ‰“åŒ…æ–‡ä»¶ä½“ç§¯è¿‡å¤§ï¼Ÿï¼ˆæœ€ç»ˆæ‰“åŒ…ä¸ºä¸€ä¸ªjsæ–‡ä»¶ï¼‰" class="headerlink" title="ä¸€ã€webpackæ‰“åŒ…æ–‡ä»¶ä½“ç§¯è¿‡å¤§ï¼Ÿï¼ˆæœ€ç»ˆæ‰“åŒ…ä¸ºä¸€ä¸ªjsæ–‡ä»¶ï¼‰"></a>ä¸€ã€webpackæ‰“åŒ…æ–‡ä»¶ä½“ç§¯è¿‡å¤§ï¼Ÿï¼ˆæœ€ç»ˆæ‰“åŒ…ä¸ºä¸€ä¸ªjsæ–‡ä»¶ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.å¼‚æ­¥åŠ è½½æ¨¡å—2.æå–ç¬¬ä¸‰åº“3.ä»£ç å‹ç¼©4.å»é™¤ä¸å¿…è¦çš„æ’ä»¶å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="äºŒã€å¦‚ä½•ä¼˜åŒ–webpackæ„å»ºçš„æ€§èƒ½"><a href="#äºŒã€å¦‚ä½•ä¼˜åŒ–webpackæ„å»ºçš„æ€§èƒ½" class="headerlink" title="äºŒã€å¦‚ä½•ä¼˜åŒ–webpackæ„å»ºçš„æ€§èƒ½"></a>äºŒã€å¦‚ä½•ä¼˜åŒ–webpackæ„å»ºçš„æ€§èƒ½</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä¸€ã€å‡å°‘ä»£ç ä½“ç§¯ 1.ä½¿ç”¨CommonsChunksPlugin æå–å¤šä¸ªchunkä¹‹é—´çš„é€šç”¨æ¨¡å—ï¼Œå‡å°‘æ€»ä½“ä»£ç ä½“ç§¯ 2.æŠŠéƒ¨åˆ†ä¾èµ–è½¬ç§»åˆ°CDNä¸Šï¼Œé¿å…æ¯æ¬¡ç¼–è¯‘è¿‡ç¨‹éƒ½ç”±Webpackå¤„ç† 3.å¯¹ä¸€äº›ç»„ä»¶åº“é‡‡ç”¨æŒ‰éœ€åŠ è½½ï¼Œé¿å…æ— ç”¨çš„ä»£ç äºŒã€å‡å°‘ç›®å½•æ£€ç´¢èŒƒå›´ Â·åœ¨ä½¿ç”¨loaderçš„æ—¶å€™ï¼Œé€šè¿‡åˆ¶å®šexcludeå’Œincludeé€‰é¡¹ï¼Œå‡å°‘loaderéå†çš„ç›®å½•èŒƒå›´ï¼Œä»è€ŒåŠ å¿«webpackç¼–è¯‘é€Ÿåº¦ä¸‰ã€å‡å°‘æ£€ç´¢è·¯ç»ï¼šresolve.aliaså¯ä»¥é…ç½®webpackæ¨¡å—è§£æçš„åˆ«åï¼Œå¯¹äºæ¯”è¾ƒæ·±çš„è§£æè·¯ç»ï¼Œå¯ä»¥å¯¹å…¶é…ç½®aliaså¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ä¸‰ã€ç§»åŠ¨ç«¯çš„æ€§èƒ½ä¼˜åŒ–"><a href="#ä¸‰ã€ç§»åŠ¨ç«¯çš„æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="ä¸‰ã€ç§»åŠ¨ç«¯çš„æ€§èƒ½ä¼˜åŒ–"></a>ä¸‰ã€ç§»åŠ¨ç«¯çš„æ€§èƒ½ä¼˜åŒ–</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1ã€é¦–å±åŠ è½½å’ŒæŒ‰éœ€åŠ è½½ï¼Œæ‡’åŠ è½½  2ã€èµ„æºé¢„åŠ è½½  3ã€å›¾ç‰‡å‹ç¼©å¤„ç†ï¼Œä½¿ç”¨base64å†…åµŒå›¾ç‰‡  4ã€åˆç†ç¼“å­˜domå¯¹è±¡  5ã€ä½¿ç”¨touchstartä»£æ›¿clickï¼ˆclick 300æ¯«ç§’çš„å»¶è¿Ÿï¼‰  6ã€åˆ©ç”¨transform:translateZ(0)ï¼Œå¼€å¯ç¡¬ä»¶GUPåŠ é€Ÿ  7ã€ä¸æ»¥ç”¨webå­—ä½“ï¼Œä¸æ»¥ç”¨floatï¼ˆå¸ƒå±€è®¡ç®—æ¶ˆè€—æ€§èƒ½ï¼‰ï¼Œå‡å°‘font-sizeå£°æ˜  8ã€ä½¿ç”¨viewportå›ºå®šå±å¹•æ¸²æŸ“ï¼ŒåŠ é€Ÿé¡µé¢æ¸²æŸ“å†…å®¹  9ã€å°½é‡ä½¿ç”¨äº‹ä»¶ä»£ç†ï¼Œé¿å…ç›´æ¥äº‹ä»¶ç»‘å®šå¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="å››ã€Vueçš„SPA-å¦‚ä½•ä¼˜åŒ–åŠ è½½é€Ÿåº¦"><a href="#å››ã€Vueçš„SPA-å¦‚ä½•ä¼˜åŒ–åŠ è½½é€Ÿåº¦" class="headerlink" title="å››ã€Vueçš„SPA å¦‚ä½•ä¼˜åŒ–åŠ è½½é€Ÿåº¦"></a>å››ã€Vueçš„SPA å¦‚ä½•ä¼˜åŒ–åŠ è½½é€Ÿåº¦</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.å‡å°‘å…¥å£æ–‡ä»¶ä½“ç§¯2.é™æ€èµ„æºæœ¬åœ°ç¼“å­˜3.å¼€å¯Gzipå‹ç¼©4.ä½¿ç”¨SSR,nuxt.jså¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="äº”ã€ç§»åŠ¨ç«¯300mså»¶è¿Ÿ"><a href="#äº”ã€ç§»åŠ¨ç«¯300mså»¶è¿Ÿ" class="headerlink" title="äº”ã€ç§»åŠ¨ç«¯300mså»¶è¿Ÿ"></a>äº”ã€ç§»åŠ¨ç«¯300mså»¶è¿Ÿ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç”±æ¥ï¼š300æ¯«ç±³å»¶è¿Ÿè§£å†³çš„æ˜¯åŒå‡»ç¼©æ”¾ã€‚åŒå‡»ç¼©æ”¾ï¼Œæ‰‹æŒ‡åœ¨å±å¹•å¿«é€Ÿç‚¹å‡»ä¸¤æ¬¡ã€‚safariæµè§ˆå™¨å°±ä¼šå°†ç½‘é¡µç¼©æ”¾å€¼åŸå§‹æ¯”ä¾‹ã€‚ç”±äºç”¨æˆ·å¯ä»¥åŒå‡»ç¼©æ”¾æˆ–è€…æ˜¯æ»šåŠ¨çš„æ“ä½œï¼Œå½“ç”¨æˆ·ç‚¹å‡»å±å¹•ä¸€æ¬¡ä¹‹åï¼Œæµè§ˆå™¨å¹¶ä¸ä¼šåˆ¤æ–­ç”¨æˆ·ç¡®å®è¦æ‰“å¼€è‡³è¿™ä¸ªé“¾æ¥ï¼Œè¿˜æ˜¯æƒ³è¦è¿›è¡ŒåŒå‡»æ“ä½œå› æ­¤ï¼Œsafairæµè§ˆå™¨å°±ä¼šç­‰å¾…300msï¼Œç”¨æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦åœ¨æ¬¡ç‚¹å‡»äº†å±å¹•       è§£å†³æ–¹æ¡ˆï¼š1.ç¦ç”¨ç¼©æ”¾ï¼Œè®¾ç½®metaæ ‡ç­¾ user-scalable=no  2.fastclick.jsåŸç†ï¼šFastClickçš„å®ç°åŸç†æ˜¯åœ¨æ£€æŸ¥åˆ°touchendäº‹ä»¶çš„æ—¶å€™ï¼Œä¼šé€šè¿‡domè‡ªå®šä¹‰äº‹ä»¶ç«‹å³      å‘å‡ºclickäº‹ä»¶ï¼Œå¹¶æŠŠæµè§ˆå™¨åœ¨300msä¹‹åçœŸæ­£çš„clickäº‹ä»¶é˜»æ­¢æ‰fastclick.jsè¿˜å¯ä»¥è§£å†³ç©¿é€é—®é¢˜å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="å…­ã€é¡µé¢çš„é‡æ„ï¼›"><a href="#å…­ã€é¡µé¢çš„é‡æ„ï¼›" class="headerlink" title="å…­ã€é¡µé¢çš„é‡æ„ï¼›"></a>å…­ã€é¡µé¢çš„é‡æ„ï¼›</h4><blockquote><p>åœ¨ä¸æ”¹å˜å¤–éƒ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œç®€åŒ–ç»“æ„ã€æ·»åŠ å¯è¯»æ€§</p></blockquote><h1 id="æœåŠ¡å™¨ç«¯"><a href="#æœåŠ¡å™¨ç«¯" class="headerlink" title="æœåŠ¡å™¨ç«¯"></a>æœåŠ¡å™¨ç«¯</h1><h4 id="ä¸€ã€çŠ¶æ€ç ï¼š"><a href="#ä¸€ã€çŠ¶æ€ç ï¼š" class="headerlink" title="ä¸€ã€çŠ¶æ€ç ï¼š"></a>ä¸€ã€çŠ¶æ€ç ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2XXï¼ˆæˆåŠŸå¤„ç†äº†è¯·æ±‚çŠ¶æ€ï¼‰      200 æœåŠ¡å™¨å·²ç»æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œå¹¶æä¾›äº†è¯·æ±‚çš„ç½‘é¡µ      201 ç”¨æˆ·æ–°å»ºæˆ–ä¿®æ”¹æ•°æ®æˆåŠŸ      202 ä¸€ä¸ªè¯·æ±‚å·²ç»è¿›å…¥åå°      204 ç”¨æˆ·åˆ é™¤æˆåŠŸ  3XXï¼ˆæ¯æ¬¡è¯·æ±‚ä½¿ç”¨çš„é‡å®šå‘ä¸è¦è¶…è¿‡5æ¬¡ï¼‰      304 ç½‘é¡µä¸Šæ¬¡è¯·æ±‚æ²¡æœ‰æ›´æ–°ï¼ŒèŠ‚çœå¸¦å®½å’Œå¼€é”€  4XXï¼ˆè¡¨ç¤ºè¯·æ±‚å¯èƒ½å‡ºé”™ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†ï¼‰      400 æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•      401 ç”¨æˆ·æ²¡æœ‰æƒé™ï¼ˆç”¨æˆ·åï¼Œå¯†ç è¾“å…¥é”™è¯¯ï¼‰      403 ç”¨æˆ·å¾—åˆ°æˆæƒï¼ˆ401ç›¸åï¼‰ï¼Œä½†æ˜¯è®¿é—®è¢«ç¦æ­¢      404 æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µï¼Œ  5XXï¼ˆè¡¨ç¤ºæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„æ—¶å€™å‘ç”Ÿå†…éƒ¨é”™è¯¯ï¼‰      500 æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚      503 æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆè¶…è½½æˆ–åœæœºç»´æŠ¤ï¼‰     å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="äºŒã€304çš„ç¼“å­˜åŸç†ï¼ˆæ·»åŠ Etagæ ‡ç­¾-last-modifiedï¼‰-304-ç½‘é¡µä¸Šæ¬¡è¯·æ±‚æ²¡æœ‰æ›´æ–°ï¼ŒèŠ‚çœå¸¦å®½å’Œå¼€é”€"><a href="#äºŒã€304çš„ç¼“å­˜åŸç†ï¼ˆæ·»åŠ Etagæ ‡ç­¾-last-modifiedï¼‰-304-ç½‘é¡µä¸Šæ¬¡è¯·æ±‚æ²¡æœ‰æ›´æ–°ï¼ŒèŠ‚çœå¸¦å®½å’Œå¼€é”€" class="headerlink" title="äºŒã€304çš„ç¼“å­˜åŸç†ï¼ˆæ·»åŠ Etagæ ‡ç­¾.last-modifiedï¼‰ 304 ç½‘é¡µä¸Šæ¬¡è¯·æ±‚æ²¡æœ‰æ›´æ–°ï¼ŒèŠ‚çœå¸¦å®½å’Œå¼€é”€"></a>äºŒã€304çš„ç¼“å­˜åŸç†ï¼ˆæ·»åŠ Etagæ ‡ç­¾.last-modifiedï¼‰ 304 ç½‘é¡µä¸Šæ¬¡è¯·æ±‚æ²¡æœ‰æ›´æ–°ï¼ŒèŠ‚çœå¸¦å®½å’Œå¼€é”€</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.æœåŠ¡å™¨é¦–å…ˆäº§ç”ŸEtag,æœåŠ¡å™¨å¯åœ¨ç¨åä½¿ç”¨å®ƒæ¥åˆ¤æ–­é¡µé¢æ˜¯å¦è¢«ä¿®æ”¹ã€‚æœ¬è´¨ä¸Šï¼Œå®¢æˆ·ç«¯é€šè¿‡è¯¥è®°å·ä¼ å›æœåŠ¡å™¨è¦æ±‚æœåŠ¡å™¨éªŒè¯ï¼ˆå®¢æˆ·ç«¯ï¼‰ç¼“å­˜ï¼‰2.304æ˜¯HTTPçš„çŠ¶æ€ç ï¼ŒæœåŠ¡å™¨ç”¨æ¥æ ‡è¯†è¿™ä¸ªæ–‡ä»¶æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä¸è¿”å›å†…å®¹ï¼Œæµè§ˆå™¨æ¥å—åˆ°è¿™ä¸ªçŠ¶æ€ç ä¼šå»å»æ‰¾æµè§ˆå™¨ç¼“å­˜çš„æ–‡ä»¶3.æµç¨‹ï¼šå®¢æˆ·ç«¯è¯·æ±‚ä¸€ä¸ªé¡µé¢Aã€‚æœåŠ¡å™¨è¿”å›é¡µé¢Aï¼Œå¹¶åœ¨Aä¸ŠåŠ ä¸€ä¸ªTageå®¢æœç«¯æ¸²æŸ“è¯¥é¡µé¢ï¼Œå¹¶æŠŠTageä¹Ÿå­˜å‚¨åœ¨ç¼“å­˜ä¸­ã€‚å®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚é¡µé¢Aå¹¶å°†ä¸Šæ¬¡è¯·æ±‚çš„èµ„æºå’ŒETageä¸€èµ·ä¼ é€’ç»™æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æ£€æŸ¥Tage.å¹¶ä¸”åˆ¤æ–­å‡ºè¯¥é¡µé¢è‡ªä¸Šæ¬¡å®¢æˆ·ç«¯è¯·æ±‚ä¹‹åæœªè¢«ä¿®æ”¹ã€‚ç›´æ¥è¿”å›304last-modified: å®¢æœç«¯è¯·æ±‚èµ„æºï¼ŒåŒæ—¶æœ‰ä¸€ä¸ªlast-modifiedçš„å±æ€§æ ‡è®°æ­¤æ–‡ä»¶åœ¨æœåŠ¡å™¨æœ€åä¿®æ”¹çš„æ—¶é—´å®¢æœç«¯ç¬¬äºŒæ¬¡è¯·æ±‚æ­¤urlæ—¶ï¼Œæ ¹æ®httpåè®®ã€‚æµè§ˆå™¨ä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªIf-Modified-SinceæŠ¥å¤´ï¼Œè¯¢é—®è¯¥äº‹ä»¶ä¹‹åæ–‡ä»¶æ˜¯å¦è¢«ä¿®æ”¹ï¼Œæ²¡ä¿®æ”¹è¿”å›304 æœ‰äº†Last-Modifiedï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç”¨ETagï¼Ÿ  1ã€å› ä¸ºå¦‚æœåœ¨ä¸€ç§’é’Ÿä¹‹å†…å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œä¸¤æ¬¡æ›´æ”¹ï¼ŒLast-Modifiedå°±ä¼šä¸æ­£ç¡®ï¼ˆLastâ€”Modifiedä¸èƒ½è¯†åˆ«ç§’å•ä½çš„ä¿®æ”¹ï¼‰  2ã€æŸäº›æœåŠ¡å™¨ä¸èƒ½ç²¾ç¡®çš„å¾—åˆ°æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´  3ã€ä¸€äº›æ–‡ä»¶ä¹Ÿè¡Œä¼šå‘¨æœŸæ–°çš„æ›´æ”¹ï¼Œä½†æ˜¯ä»–çš„å†…å®¹å¹¶ä¸æ”¹å˜ï¼ˆä»…ä»…æ”¹å˜ä¿®æ”¹çš„äº‹ä»¶ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¹¶ä¸å¸Œæœ›å®¢æˆ·ç«¯è®¤ä¸ºæ–‡ä»¶è¢«ä¿®æ”¹ï¼Œè€Œé‡æ–°GetETagï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç”¨Last-Modifiedï¼Ÿ  1ã€ä¸¤è€…äº’è¡¥ï¼ŒETagçš„åˆ¤æ–­çš„ç¼ºé™·ï¼Œæ¯”å¦‚ä¸€äº›å›¾ç‰‡ç­‰é™æ€æ–‡ä»¶çš„ä¿®æ”¹  2ã€å¦‚æœæ¯æ¬¡æ‰«æå†…å®¹éƒ½ç”ŸæˆETagæ¯”è¾ƒï¼Œæ˜¾ç„¶è¦æ¯”ç›´æ¥æ¯”è¾ƒä¿®æ”¹æ—¶é—´æ…¢çš„å¤šã€‚ETagæ˜¯è¢«è¯·æ±‚å˜é‡çš„å®ä½“å€¼ï¼ˆæ–‡ä»¶çš„ç´¢å¼•èŠ‚ï¼Œå¤§å°å’Œæœ€åä¿®æ”¹çš„æ—¶é—´çš„Hashå€¼ï¼‰  1ã€ETagçš„å€¼æœåŠ¡å™¨ç«¯å¯¹æ–‡ä»¶çš„ç´¢å¼•èŠ‚ï¼Œå¤§å°å’Œæœ€åçš„ä¿®æ”¹çš„äº‹ä»¶è¿›è¡ŒHashåå¾—åˆ°çš„ã€‚å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ä¸‰ã€get-postçš„åŒºåˆ«"><a href="#ä¸‰ã€get-postçš„åŒºåˆ«" class="headerlink" title="ä¸‰ã€get/postçš„åŒºåˆ«"></a>ä¸‰ã€get/postçš„åŒºåˆ«</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.getæ•°æ®æ˜¯å­˜æ”¾åœ¨urlä¹‹åï¼Œä»¥ï¼Ÿåˆ†å‰²urlå’Œä¼ è¾“æ•°æ®ï¼Œå‚æ•°ä¹‹é—´ä»¥&amp;ç›¸è¿ï¼› postæ–¹æ³•æ˜¯æŠŠæäº¤çš„æ•°æ®æ”¾åœ¨httpåŒ…çš„Bodyä¸­2.getæäº¤çš„æ•°æ®å¤§å°æœ‰é™åˆ¶ï¼Œï¼ˆå› ä¸ºæµè§ˆå™¨å¯¹urlçš„é•¿åº¦æœ‰é™åˆ¶ï¼‰ï¼Œpostçš„æ–¹æ³•æäº¤çš„æ•°æ®æ²¡æœ‰é™åˆ¶3.getéœ€è¦request.queryStringæ¥è·å–å˜é‡çš„å€¼ï¼Œè€Œpostæ–¹å¼é€šè¿‡request.fromæ¥è·å–å˜é‡çš„å€¼4.getçš„æ–¹æ³•æäº¤æ•°æ®ï¼Œä¼šå¸¦æ¥å®‰å…¨é—®é¢˜ï¼Œæ¯”å¦‚ç™»å½•ä¸€ä¸ªé¡µé¢ï¼Œé€šè¿‡getçš„æ–¹å¼æäº¤æ•°æ®ï¼Œç”¨æˆ·åå’Œå¯†ç å°±ä¼šå‡ºç°åœ¨urlä¸Šå¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="å››ã€httpåè®®çš„ç†è§£"><a href="#å››ã€httpåè®®çš„ç†è§£" class="headerlink" title="å››ã€httpåè®®çš„ç†è§£"></a>å››ã€httpåè®®çš„ç†è§£</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.è¶…æ–‡æœ¬çš„ä¼ è¾“åè®®ï¼Œæ˜¯ç”¨äºä»ä¸‡ç»´ç½‘æœåŠ¡å™¨è¶…æ–‡æœ¬ä¼ è¾“åˆ°æœ¬åœ°èµ„æºçš„ä¼ è¾“åè®®2.åŸºäºTCP/IPé€šä¿¡åè®®æ¥ä¼ é€’æ•°æ®ï¼ˆHTMLï¼Œå›¾ç‰‡èµ„æºï¼‰3.åŸºäºè¿ç”¨å±‚çš„é¢å‘å¯¹è±¡çš„åè®®ï¼Œç”±äºå…¶ç®€æ´ã€å¿«é€Ÿçš„æ–¹æ³•ã€é€‚ç”¨äºåˆ†å¸ƒå¼è¶…åª’ä½“ä¿¡æ¯ç³»ç»Ÿ4.httpè¯·æ±‚ä¿¡æ¯requestï¼šè¯·æ±‚è¡Œï¼ˆrequest lineï¼‰ã€è¯·æ±‚å¤´éƒ¨ï¼ˆheaderï¼‰,ç©ºè¡Œå’Œè¯·æ±‚æ•°æ®å››éƒ¨åˆ†æ„æˆè¯·æ±‚è¡Œï¼Œç”¨æ¥è¯´æ˜è¯·æ±‚ç±»å‹,è¦è®¿é—®çš„èµ„æºä»¥åŠæ‰€ä½¿ç”¨çš„HTTPç‰ˆæœ¬.è¯·æ±‚å¤´éƒ¨ï¼Œç”¨æ¥è¯´æ˜æœåŠ¡å™¨è¦ä½¿ç”¨çš„é™„åŠ ä¿¡æ¯ç©ºè¡Œï¼Œè¯·æ±‚å¤´éƒ¨åé¢çš„ç©ºè¡Œæ˜¯å¿…é¡»çš„è¯·æ±‚æ•°æ®ä¹Ÿå«ä¸»ä½“ï¼Œå¯ä»¥æ·»åŠ ä»»æ„çš„å…¶ä»–æ•°æ®ã€‚5.httpç›¸åº”ä¿¡æ¯ResponseçŠ¶æ€è¡Œã€æ¶ˆæ¯æŠ¥å¤´ã€ç©ºè¡Œå’Œå“åº”æ­£æ–‡çŠ¶æ€è¡Œï¼Œç”±HTTPåè®®ç‰ˆæœ¬å·ï¼Œ çŠ¶æ€ç ï¼Œ çŠ¶æ€æ¶ˆæ¯ ä¸‰éƒ¨åˆ†ç»„æˆæ¶ˆæ¯æŠ¥å¤´ï¼Œç”¨æ¥è¯´æ˜å®¢æˆ·ç«¯è¦ä½¿ç”¨çš„ä¸€äº›é™„åŠ ä¿¡æ¯ç©ºè¡Œï¼Œæ¶ˆæ¯æŠ¥å¤´åé¢çš„ç©ºè¡Œæ˜¯å¿…é¡»çš„å“åº”æ­£æ–‡ï¼ŒæœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯çš„æ–‡æœ¬ä¿¡æ¯ã€‚å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="äº”ã€httpå’Œhttps"><a href="#äº”ã€httpå’Œhttps" class="headerlink" title="äº”ã€httpå’Œhttps"></a>äº”ã€httpå’Œhttps</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpsï¼šæ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„HTTPé€šé“ï¼Œç®€å•è®²æ˜¯HTTPçš„å®‰å…¨ç‰ˆæœ¬ï¼Œé€šè¿‡SSLåŠ å¯†httpï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚æ˜¯ä¸€ä¸ªå®¢æœç«¯å’ŒæœåŠ¡å™¨ç«¯è¯·æ±‚å’Œåº”ç­”çš„æ ‡å‡†ï¼ˆtcpï¼‰,ä½¿æµè§ˆå™¨æ›´åŠ é«˜æ•ˆï¼Œä½¿ç½‘ç»œä¼ è¾“å‡å°‘å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="å…­ã€http1-0-1-1-2-0çš„åŒºåˆ«"><a href="#å…­ã€http1-0-1-1-2-0çš„åŒºåˆ«" class="headerlink" title="å…­ã€http1.0 1.1 2.0çš„åŒºåˆ«"></a>å…­ã€http1.0 1.1 2.0çš„åŒºåˆ«</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">é•¿è¿æ¥ï¼šHTTP1.0éœ€è¦ä½¿ç”¨keep-aliveå‚æ•°æ¥å‘ŠçŸ¥æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªé•¿è¿æ¥ï¼Œè€ŒHTP1.1é»˜è®¤æ”¯æŒé•¿è¿æ¥èŠ‚çº¦å®½å¸¦ï¼šHTTP1.1æ”¯æŒåªå‘é€ä¸€ä¸ªheaderä¿¡æ¯ï¼ˆä¸å¸¦ä»»ä½•bodyä¿¡æ¯ï¼‰hoståŸŸï¼ˆè®¾ç½®è™šæ‹Ÿç«™ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œweb serverä¸Šçš„å¤šä¸ªè™šæ‹Ÿç«™ç‚¹å¯ä»¥å…±äº«åŒä¸€ä¸ªipç«¯å£ï¼‰ï¼šHTTP1.0æ²¡æœ‰hoståŸŸ1.http2é‡‡ç”¨çš„äºŒè¿›åˆ¶æ–‡æœ¬ä¼ è¾“æ•°æ®ï¼Œè€Œéhttp1æ–‡æœ¬æ ¼å¼ï¼ŒäºŒè¿›åˆ¶åœ¨åè®®çš„è§£æå’Œæ‰©å±•æ›´å¥½2.æ•°æ®å‹ç¼©ï¼šå¯¹ä¿¡æ¯å¤´é‡‡ç”¨äº†HPACKè¿›è¡Œå‹ç¼©ä¼ è¾“ï¼ŒèŠ‚çœäº†ä¿¡æ¯å¤´å¸¦æ¥çš„ç½‘ç»œæµé‡3.å¤šè·¯å¤ç”¨ï¼šä¸€ä¸ªè¿æ¥å¯ä»¥å¹¶å‘å¤„ç†å¤šä¸ªè¯·æ±‚4.æœåŠ¡å™¨æ¨é€ï¼šæˆ‘ä»¬å¯¹æ”¯æŒHTTP2.0çš„web serverè¯·æ±‚æ•°æ®çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šé¡ºä¾¿æŠŠä¸€äº›å®¢æˆ·ç«¯éœ€è¦çš„èµ„æºä¸€èµ·æ¨é€åˆ°å®¢æˆ·ç«¯ï¼Œå…å¾—å®¢æˆ·ç«¯å†æ¬¡åˆ›å»ºè¿æ¥å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ç«¯è·å–ã€‚è¿™ç§æ–¹å¼éå¸¸åˆé€‚åŠ è½½é™æ€èµ„æºå¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ä¸ƒã€webç¼“å­˜"><a href="#ä¸ƒã€webç¼“å­˜" class="headerlink" title="ä¸ƒã€webç¼“å­˜"></a>ä¸ƒã€webç¼“å­˜</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.webç¼“å­˜å°±æ˜¯å­˜åœ¨äºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„ä¸€ä¸ªå‰¯æœ¬ã€å½“ä½ ç¬¬ä¸€ä¸ªå‘å‡ºè¯·æ±‚åï¼Œç¼“å­˜æ ¹æ®è¯·æ±‚ä¿å­˜è¾“å‡ºå†…å®¹çš„å‰¯æœ¬2.ç¼“å­˜çš„å¥½å¤„        ï¼ˆ1ï¼‰å‡å°‘ä¸å¿…è¦çš„è¯·æ±‚    ï¼ˆ2ï¼‰é™ä½æœåŠ¡å™¨çš„å‹åŠ›ï¼Œå‡å°‘æœåŠ¡å™¨çš„æ¶ˆè€—    ï¼ˆ3ï¼‰é™ä½ç½‘ç»œå»¶è¿Ÿï¼ŒåŠ å¿«é¡µé¢æ‰“å¼€é€Ÿåº¦ï¼ˆç›´æ¥è¯»å–æµè§ˆå™¨çš„æ•°æ®ï¼‰å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="å…«ã€å¸¸è§çš„webå®‰å…¨åŠé˜²æŠ¤åŸç†"><a href="#å…«ã€å¸¸è§çš„webå®‰å…¨åŠé˜²æŠ¤åŸç†" class="headerlink" title="å…«ã€å¸¸è§çš„webå®‰å…¨åŠé˜²æŠ¤åŸç†"></a>å…«ã€å¸¸è§çš„webå®‰å…¨åŠé˜²æŠ¤åŸç†</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.sqlæ³¨å…¥åŸç†ï¼šæ˜¯å°†sqlä»£ç ä¼ªè£…åˆ°è¾“å…¥å‚æ•°ä¸­ï¼Œä¼ é€’åˆ°æœåŠ¡å™¨è§£æå¹¶æ‰§è¡Œçš„ä¸€ç§æ”»å‡»æ‰‹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ            åœ¨ä¸€äº›å¯¹serverç«¯å‘èµ·çš„è¯·æ±‚å‚æ•°ä¸­æ¤å…¥ä¸€äº›sqlä»£ç ï¼Œserverç«¯åœ¨æ‰§è¡Œsqlæ“ä½œæ—¶ï¼Œä¼šæ‹¼æ¥å¯¹åº”å‚æ•°ï¼Œ            åŒæ—¶ä¹Ÿå°†ä¸€äº›sqlæ³¨å…¥æ”»å‡»çš„â€œsqlâ€æ‹¼æ¥èµ·æ¥ï¼Œå¯¼è‡´ä¼šæ‰§è¡Œä¸€äº›é¢„æœŸä¹‹å¤–çš„æ“ä½œã€‚é˜²èŒƒï¼š1.å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œæ ¡éªŒ       2.ä¸é€‚ç”¨åŠ¨æ€æ‹¼æ¥sql2.XSSï¼ˆè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰ï¼šå¾€webé¡µé¢æ’å…¥æ¶æ„çš„htmlæ ‡ç­¾æˆ–è€…jsä»£ç ã€‚        ä¸¾ä¾‹å­ï¼šåœ¨è®ºå›æ”¾ç½®ä¸€ä¸ªçœ‹æ˜¯å®‰å…¨çš„é“¾æ¥ï¼Œçªƒå–cookieä¸­çš„ç”¨æˆ·ä¿¡æ¯é˜²èŒƒï¼š1.å°½é‡é‡‡ç”¨postè€Œä¸ä½¿ç”¨getæäº¤è¡¨å•      2.é¿å…cookieä¸­æ³„æ¼ç”¨æˆ·çš„éšå¼3.CSRF(è·¨ç«™è¯·æ±‚ä¼ªè£…ï¼‰ï¼šé€šè¿‡ä¼ªè£…æ¥è‡ªå—ä¿¡ä»»ç”¨æˆ·çš„è¯·æ±‚ä¸¾ä¾‹å­ï¼šé»„è½¶è€å¸ˆçš„webappéŸ³ä¹è¯·æ±‚æ•°æ®å°±æ˜¯åˆ©ç”¨CSRFè·¨ç«™è¯·æ±‚ä¼ªè£…æ¥è·å–QQéŸ³ä¹çš„æ•°æ®é˜²èŒƒï¼šåœ¨å®¢æœç«¯é¡µé¢å¢åŠ ä¼ªéšæœºæ•°ï¼Œé€šè¿‡éªŒè¯ç XSSå’ŒCSRFçš„åŒºåˆ«ï¼š   1.XSSæ˜¯è·å–ä¿¡æ¯ï¼Œä¸éœ€è¦æå‰çŸ¥é“å…¶ä»–ç”¨æˆ·é¡µé¢çš„ä»£ç å’Œæ•°æ®åŒ…   2.CSRFä»£æ›¿ç”¨æˆ·å®ŒæˆæŒ‡å®šçš„åŠ¨ä½œï¼Œéœ€è¦çŸ¥é“å…¶ä»–é¡µé¢çš„ä»£ç å’Œæ•°æ®åŒ…å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ä¹ã€CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰"><a href="#ä¹ã€CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰" class="headerlink" title="ä¹ã€CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰"></a>ä¹ã€CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.å°½å¯èƒ½çš„é¿å¼€äº’è”ç½‘æœ‰å¯èƒ½å½±å“æ•°æ®ä¼ è¾“é€Ÿåº¦å’Œç¨³å®šæ€§çš„ç“¶é¢ˆå’Œç¯èŠ‚ã€‚ä½¿å†…å®¹ä¼ è¾“çš„æ›´å¿«æ›´ç¨³å®šã€‚2.å…³é”®æŠ€æœ¯ï¼šå†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ä¸­3.åŸºæœ¬åŸç†ï¼šå¹¿æ³›é‡‡ç”¨å„ç§ç¼“å­˜æœåŠ¡å™¨ï¼Œå°†è¿™äº›ç¼“å­˜æœåŠ¡å™¨åˆ†å¸ƒåˆ°ç”¨æˆ·è®¿é—®ç›¸å¯¹çš„åœ°åŒºæˆ–è€…ç½‘ç»œä¸­ã€‚å½“ç”¨æˆ·è®¿é—®ç½‘ç»œæ—¶åˆ©ç”¨å…¨å±€è´Ÿè½½æŠ€æœ¯    å°†ç”¨æˆ·çš„è®¿é—®æŒ‡å‘è·ç¦»æœ€è¿‘çš„ç¼“å­˜æœåŠ¡å™¨ï¼Œç”±ç¼“å­˜æœåŠ¡å™¨ç›´æ¥ç›¸åº”ç”¨æˆ·çš„è¯·æ±‚ï¼ˆå…¨å±€è´Ÿè½½æŠ€æœ¯ï¼‰å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="åã€TCPä¸‰æ¬¡æ¡æ‰‹-å®¢æœç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½éœ€è¦ç¡®è®¤å„è‡ªå¯æ”¶å‘ï¼‰"><a href="#åã€TCPä¸‰æ¬¡æ¡æ‰‹-å®¢æœç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½éœ€è¦ç¡®è®¤å„è‡ªå¯æ”¶å‘ï¼‰" class="headerlink" title="åã€TCPä¸‰æ¬¡æ¡æ‰‹    (å®¢æœç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½éœ€è¦ç¡®è®¤å„è‡ªå¯æ”¶å‘ï¼‰"></a>åã€TCPä¸‰æ¬¡æ¡æ‰‹    (å®¢æœç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½éœ€è¦ç¡®è®¤å„è‡ªå¯æ”¶å‘ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®¢æœç«¯å‘cèµ·è¯·æ±‚è¿æ¥æœåŠ¡å™¨ç«¯sç¡®è®¤ï¼ŒæœåŠ¡å™¨ç«¯ä¹Ÿå‘èµ·è¿æ¥ç¡®è®¤å®¢æœç«¯ç¡®è®¤ã€‚ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æœç«¯å‘é€ä¸€ä¸ªè¯·æ±‚è¿æ¥ï¼ŒæœåŠ¡å™¨ç«¯åªèƒ½ç¡®è®¤è‡ªå·±å¯ä»¥æ¥å—å®¢æœç«¯å‘é€çš„æŠ¥æ–‡æ®µç¬¬äºŒæ¬¡æ¡æ‰‹ï¼š æœåŠ¡ç«¯å‘å®¢æœç«¯å‘é€ä¸€ä¸ªé“¾æ¥ï¼Œç¡®è®¤å®¢æœç«¯æ”¶åˆ°è‡ªå·±å‘é€çš„æŠ¥æ–‡æ®µç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼š æœåŠ¡å™¨ç«¯ç¡®è®¤å®¢æœç«¯æ”¶åˆ°äº†è‡ªå·±å‘é€çš„æŠ¥æ–‡æ®µå¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="åä¸€ã€ä»è¾“å…¥urlåˆ°è·å–é¡µé¢çš„å®Œæ•´è¿‡ç¨‹-blog-csdn-net-samjustin1-â€¦"><a href="#åä¸€ã€ä»è¾“å…¥urlåˆ°è·å–é¡µé¢çš„å®Œæ•´è¿‡ç¨‹-blog-csdn-net-samjustin1-â€¦" class="headerlink" title="åä¸€ã€ä»è¾“å…¥urlåˆ°è·å–é¡µé¢çš„å®Œæ•´è¿‡ç¨‹  blog.csdn.net/samjustin1/â€¦"></a>åä¸€ã€ä»è¾“å…¥urlåˆ°è·å–é¡µé¢çš„å®Œæ•´è¿‡ç¨‹  <a href="https://link.juejin.cn/?target=https://blog.csdn.net/samjustin1/article/details/52650520">blog.csdn.net/samjustin1/â€¦</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.æŸ¥è¯¢NDS(åŸŸåè§£æ),è·å–åŸŸåå¯¹åº”çš„IPåœ°å€  æŸ¥è¯¢æµè§ˆå™¨ç¼“å­˜2.æµè§ˆå™¨ä¸æœåŠ¡å™¨å»ºç«‹tcpé“¾æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰3.æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€httpè¯·æ±‚(è¯·æ±‚å’Œä¼ è¾“æ•°æ®ï¼‰4.æœåŠ¡å™¨æ¥å—åˆ°è¿™ä¸ªè¯·æ±‚åï¼Œæ ¹æ®è·¯ç»å‚æ•°ï¼Œç»è¿‡åç«¯çš„ä¸€äº›å¤„ç†ç”Ÿæˆhtmlä»£ç è¿”å›ç»™æµè§ˆå™¨5.æµè§ˆå™¨æ‹¿åˆ°å®Œæ•´çš„htmlé¡µé¢ä»£ç å¼€å§‹è§£æå’Œæ¸²æŸ“ï¼Œå¦‚æœé‡åˆ°å¤–éƒ¨çš„cssæˆ–è€…jsï¼Œå›¾ç‰‡ä¸€æ ·çš„æ­¥éª¤6.æµè§ˆå™¨æ ¹æ®æ‹¿åˆ°çš„èµ„æºå¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“ï¼ŒæŠŠä¸€ä¸ªå®Œæ•´çš„é¡µé¢å‘ˆç°å‡ºæ¥å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="åäºŒã€æµè§ˆå™¨æ¸²æŸ“åŸç†åŠæµç¨‹-DOM-gt-CSSOM-gt-render-gt-layout-gt-print"><a href="#åäºŒã€æµè§ˆå™¨æ¸²æŸ“åŸç†åŠæµç¨‹-DOM-gt-CSSOM-gt-render-gt-layout-gt-print" class="headerlink" title="åäºŒã€æµè§ˆå™¨æ¸²æŸ“åŸç†åŠæµç¨‹ DOM -&gt; CSSOM -&gt; render -&gt; layout -&gt; print"></a>åäºŒã€æµè§ˆå™¨æ¸²æŸ“åŸç†åŠæµç¨‹ DOM -&gt; CSSOM -&gt; render -&gt; layout -&gt; print</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æµç¨‹ï¼šè§£æhtmlä»¥åŠæ„å»ºdomæ ‘ -&gt; æ„å»ºrenderæ ‘ -&gt;  å¸ƒå±€renderæ ‘ -&gt; ç»˜åˆ¶renderæ ‘æ¦‚å¿µï¼š1.æ„å»ºDOMæ ‘ï¼š æ¸²æŸ“å¼•æ“è§£æHTMLæ–‡æ¡£ï¼Œé¦–å…ˆå°†æ ‡ç­¾è½¬æ¢æˆDOMæ ‘ä¸­çš„DOM node(åŒ…æ‹¬jsç”Ÿæˆçš„æ ‡ç­¾)ç”Ÿæˆå†…å®¹æ ‘      2.æ„å»ºæ¸²æŸ“æ ‘ï¼š è§£æå¯¹åº”çš„cssæ ·å¼æ–‡ä»¶ä¿¡æ¯ï¼ˆåŒ…æ‹¬jsç”Ÿæˆçš„æ ·å¼å’Œå¤–éƒ¨çš„cssï¼‰      3.å¸ƒå±€æ¸²æŸ“æ ‘ï¼šä»æ ¹èŠ‚ç‚¹é€’å½’è°ƒç”¨ï¼Œè®¡ç®—æ¯ä¸€ä¸ªå…ƒç´ çš„å¤§å°ï¼Œä½ç½®ç­‰ã€‚ç»™å‡ºæ¯ä¸ªèŠ‚ç‚¹æ‰€åœ¨çš„å±å¹•çš„ç²¾å‡†ä½ç½®      4.ç»˜åˆ¶æ¸²æŸ“æ ‘ï¼šéå†æ¸²æŸ“æ ‘ï¼Œä½¿ç”¨UIåç«¯å±‚æ¥ç»˜åˆ¶æ¯ä¸€ä¸ªèŠ‚ç‚¹é‡ç»˜ï¼šå½“ç›’å­çš„ä½ç½®ã€å¤§å°ä»¥åŠå…¶ä»–å±æ€§ï¼Œä¾‹å¦‚é¢œè‰²ã€å­—ä½“å¤§å°ç­‰åˆ°ç¡®å®šä¸‹æ¥ä¹‹åï¼Œæµè§ˆå™¨ä¾¿æŠŠè¿™äº›é¢œè‰²éƒ½æŒ‰ç…§å„è‡ªçš„ç‰¹æ€§ç»˜åˆ¶ä¸€éï¼Œå°†å†…å®¹å‘ˆç°åœ¨é¡µé¢ä¸Šè§¦å‘é‡ç»˜çš„æ¡ä»¶ï¼šæ”¹å˜å…ƒç´ å¤–è§‚å±æ€§ã€‚å¦‚ï¼šcolorï¼Œbackground-colorç­‰é‡ç»˜æ˜¯æŒ‡ä¸€ä¸ªå…ƒç´ å¤–è§‚çš„æ”¹å˜æ‰€è§¦å‘çš„æµè§ˆå™¨è¡Œä¸ºï¼Œæµè§ˆå™¨ä¼šæ ¹æ®å…ƒç´ çš„æ–°å±æ€§é‡æ–°ç»˜åˆ¶ï¼Œä½¿å…ƒç´ å‘ˆç°æ–°çš„å¤–è§‚æ³¨æ„ï¼štableåŠå…¶å†…éƒ¨å…ƒç´ éœ€è¦å¤šæ¬¡è®¡ç®—æ‰èƒ½ç¡®å®šå¥½å…¶åœ¨æ¸²æŸ“æ ‘ä¸­èŠ‚ç‚¹çš„å±æ€§å€¼ï¼Œæ¯”åŒç­‰å…ƒç´ è¦å¤šå‘æ—¶é—´ï¼Œè¦å°½é‡é¿å…ä½¿ç”¨tableå¸ƒå±€é‡æ’ï¼ˆé‡æ„/å›æµ/reflowï¼‰ï¼š å½“æ¸²æŸ“ä¹¦ä¸­çš„ä¸€éƒ¨åˆ†ï¼ˆæˆ–å…¨éƒ¨ï¼‰å› ä¸ºå…ƒç´ çš„è§„æ¨¡å°ºå¯¸ï¼Œå¸ƒå±€ï¼Œéšè—ç­‰æ”¹å˜è€Œéœ€è¦é‡æ–°æ„å»ºï¼Œè¿™å°±æ˜¯å›æµã€‚æ¯ä¸ªé¡µé¢éƒ½éœ€è¦ä¸€æ¬¡å›æµï¼Œå°±æ˜¯é¡µé¢ç¬¬ä¸€æ¬¡æ¸²æŸ“çš„æ—¶å€™é‡æ’ä¸€å®šä¼šå½±å“é‡ç»˜ï¼Œä½†æ˜¯é‡ç»˜ä¸ä¸€å®šä¼šå½±å“é‡æ’å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="åä¸‰ã€ä¸ºä»€ä¹ˆcssæ”¾åœ¨é¡¶éƒ¨è€Œjså†™åœ¨åé¢"><a href="#åä¸‰ã€ä¸ºä»€ä¹ˆcssæ”¾åœ¨é¡¶éƒ¨è€Œjså†™åœ¨åé¢" class="headerlink" title="åä¸‰ã€ä¸ºä»€ä¹ˆcssæ”¾åœ¨é¡¶éƒ¨è€Œjså†™åœ¨åé¢"></a>åä¸‰ã€ä¸ºä»€ä¹ˆcssæ”¾åœ¨é¡¶éƒ¨è€Œjså†™åœ¨åé¢</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.æµè§ˆå™¨é¢„å…ˆåŠ è½½cssåï¼Œå¯ä»¥ä¸å¿…ç­‰å¾…HTMLåŠ è½½å®Œæ¯•å°±å¯ä»¥æ¸²æŸ“é¡µé¢äº†2.å…¶å®HTMLæ¸²æŸ“å¹¶ä¸ä¼šç­‰åˆ°å®Œå…¨åŠ è½½å®Œåœ¨æ¸²æŸ“é¡µé¢ï¼Œè€Œæ˜¯ä¸€è¾¹è§£æDOMä¸€è¾¹æ¸²æŸ“ã€‚3.jså†™åœ¨å°¾éƒ¨ï¼Œä¸»è¦æ˜¯å› ä¸ºjsä¸»è¦æ‰®æ¼”äº‹ä»¶å¤„ç†çš„åŠŸèƒ½ï¼Œä¸€æ–¹é¢å¾ˆå¤šæ“ä½œæ˜¯åœ¨é¡µé¢æ¸²æŸ“åæ‰æ‰§è¡Œçš„ã€‚å¦ä¸€æ–¹é¢å¯ä»¥èŠ‚çœåŠ è½½æ—¶é—´ï¼Œä½¿é¡µé¢èƒ½å¤Ÿæ›´åŠ çš„åŠ è½½ï¼Œæé«˜ç”¨æˆ·çš„è‰¯å¥½ä½“éªŒä½†æ˜¯éšç€JSæŠ€æœ¯çš„å‘å±•ï¼ŒJSä¹Ÿå¼€å§‹æ‰¿æ‹…é¡µé¢æ¸²æŸ“çš„å·¥ä½œã€‚æ¯”å¦‚æˆ‘ä»¬çš„UIå…¶å®å¯ä»¥åˆ†è¢«å¯¹å¾…ï¼ŒæŠŠæ¸²æŸ“é¡µé¢çš„jsæ”¾åœ¨å‰é¢ï¼Œæ—¶é—´å¤„ç†çš„jsæ”¾åœ¨åé¢å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="åå››ã€å­˜å‚¨æ–¹å¼ä¸ä¼ è¾“æ–¹å¼"><a href="#åå››ã€å­˜å‚¨æ–¹å¼ä¸ä¼ è¾“æ–¹å¼" class="headerlink" title="åå››ã€å­˜å‚¨æ–¹å¼ä¸ä¼ è¾“æ–¹å¼"></a>åå››ã€å­˜å‚¨æ–¹å¼ä¸ä¼ è¾“æ–¹å¼</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.indexBD: æ˜¯h5çš„æœ¬åœ°å­˜å‚¨åº“ï¼ŒæŠŠä¸€äº›æ•°æ®å­˜å‚¨åˆ°æµè§ˆå™¨ä¸­ï¼Œæ²¡ç½‘ç»œï¼Œæµè§ˆå™¨å¯ä»¥ä»è¿™é‡Œè¯»å–æ•°æ®ï¼Œç¦»çº¿è¿ç”¨ã€‚5m2.Cookie: é€šè¿‡æµè§ˆå™¨è®°å½•ä¿¡æ¯ç¡®è®¤ç”¨æˆ·èº«ä»½ï¼Œæœ€å¤§4kb,è¿™ä¹Ÿå°±é™åˆ¶äº†ä¼ è¾“çš„æ•°æ®ï¼Œè¯·æ±‚çš„æ€§èƒ½ä¼šå—åˆ°å½±å“3.Session: æœåŠ¡å™¨ç«¯ä½¿ç”¨çš„ä¸€ç§è®°å½•å®¢æˆ·çŠ¶æ€çš„æœºåˆ¶ï¼ˆsession_idå­˜åœ¨set_cookieå‘é€åˆ°å®¢æœç«¯ï¼Œä¿å­˜ä¸ºcookieï¼‰4.localStroage: h5çš„æœ¬åœ°å­˜å‚¨ï¼Œæ•°æ®æ°¸ä¹…ä¿å­˜åœ¨å®¢æœç«¯å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="cookieï¼ŒsessionStorageï¼ŒlocalStorage"><a href="#cookieï¼ŒsessionStorageï¼ŒlocalStorage" class="headerlink" title="cookieï¼ŒsessionStorageï¼ŒlocalStorage"></a>cookieï¼ŒsessionStorageï¼ŒlocalStorage</h4><p>1ã€cookieï¼ŒsessionStorageï¼ŒlocalStorageæ˜¯å­˜æ”¾åœ¨å®¢æˆ·ç«¯ï¼Œsessionå¯¹è±¡æ•°æ®æ˜¯å­˜æ”¾åœ¨æœåŠ¡å™¨ä¸Š å®é™…ä¸Šæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´ä»…éœ€ä¼ é€’session idå³å¯ï¼ŒæœåŠ¡å™¨æ ¹æ®session-idæ‰¾åˆ°å¯¹åº”çš„ç”¨æˆ·sessionå¯¹è±¡ sessionå­˜å‚¨æ•°æ®æ›´å®‰å…¨ä¸€äº›ï¼Œä¸€èˆ¬å­˜æ”¾ç”¨æˆ·ä¿¡æ¯ï¼Œæµè§ˆå™¨åªé€‚åˆå­˜å‚¨ä¸€èˆ¬çš„æ•°æ® 2ã€cookieæ•°æ®å§‹ç»ˆåœ¨åŒæºçš„httpè¯·æ±‚ä¸­æºå¸¦ï¼Œåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨æ¥å›ä¼ é€’ï¼Œé‡Œé¢å­˜æ”¾ç€session-id sessionStorageï¼ŒlocalStorageä»…åœ¨æœ¬åœ°ä¿å­˜ 3ã€å¤§å°é™åˆ¶åŒºåˆ«ï¼Œcookieæ•°æ®ä¸è¶…è¿‡4kbï¼ŒlocalStorageåœ¨è°·æ­Œæµè§ˆä¸­2.6MB 4ã€æ•°æ®æœ‰æ•ˆæœŸä¸åŒï¼Œcookieåœ¨è®¾ç½®çš„ï¼ˆæœåŠ¡å™¨è®¾ç½®ï¼‰æœ‰æ•ˆæœŸå†…æœ‰æ•ˆï¼Œä¸ç®¡çª—å£å’Œæµè§ˆå™¨å…³é—­ sessionStorageä»…åœ¨å½“å‰æµè§ˆå™¨çª—å£å…³é—­å‰æœ‰æ•ˆï¼Œå…³é—­å³é”€æ¯ï¼ˆä¸´æ—¶å­˜å‚¨ï¼‰ localStorageå§‹ç»ˆæœ‰æ•ˆ</p><p>SessionStorageå’ŒlocalStorageåŒºåˆ«ï¼š 1.sessionStorageç”¨äºæœ¬åœ°å­˜å‚¨ä¸€ä¸ªä¼šè¯ï¼ˆsessionï¼‰ä¸­çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®åªæœ‰åœ¨ç”¨ä¸€ä¸ªä¼šè¯çš„é¡µé¢ä¸­æ‰èƒ½è¢«è®¿é—®ï¼ˆä¹Ÿå°±æ˜¯è¯´åœ¨ç¬¬ä¸€æ¬¡é€šä¿¡è¿‡ç¨‹ä¸­ï¼‰ å¹¶ä¸”åœ¨ä¼šè¯ç»“æŸåæ•°æ®ä¹Ÿéšä¹‹é”€æ¯ï¼Œä¸æ˜¯ä¸€ä¸ªæŒä¹…çš„æœ¬åœ°å­˜å‚¨ï¼Œä¼šè¯çº§åˆ«çš„å‚¨å­˜ 2.localStorageç”¨äºæŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œé™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™ä¸ä¼šè¿‡æœŸ</p><h4 id="tokenã€cookieã€sessionä¸‰è€…çš„ç†è§£ï¼Ÿï¼Ÿï¼Ÿï¼ï¼ï¼"><a href="#tokenã€cookieã€sessionä¸‰è€…çš„ç†è§£ï¼Ÿï¼Ÿï¼Ÿï¼ï¼ï¼" class="headerlink" title="tokenã€cookieã€sessionä¸‰è€…çš„ç†è§£ï¼Ÿï¼Ÿï¼Ÿï¼ï¼ï¼"></a>tokenã€cookieã€sessionä¸‰è€…çš„ç†è§£ï¼Ÿï¼Ÿï¼Ÿï¼ï¼ï¼</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1ã€tokenå°±æ˜¯ä»¤ç‰Œï¼Œæ¯”å¦‚ä½ æˆæƒ(ç™»å½•)ä¸€ä¸ªç¨‹åºæ—¶,ä»–å°±æ˜¯ä¸ªä¾æ®,åˆ¤æ–­ä½ æ˜¯å¦å·²ç»æˆæƒè¯¥è½¯ä»¶ï¼ˆæœ€å¥½çš„èº«ä»½è®¤è¯ï¼Œå®‰å…¨æ€§å¥½ï¼Œä¸”æ˜¯å”¯ä¸€çš„ï¼‰    ç”¨æˆ·èº«ä»½çš„éªŒè¯æ–¹å¼    2ã€cookieæ˜¯å†™åœ¨å®¢æˆ·ç«¯ä¸€ä¸ªtxtæ–‡ä»¶ï¼Œé‡Œé¢åŒ…æ‹¬ç™»å½•ä¿¡æ¯ä¹‹ç±»çš„ï¼Œè¿™æ ·ä½ ä¸‹æ¬¡åœ¨ç™»å½•æŸä¸ªç½‘ç«™ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨cookieè‡ªåŠ¨ç™»å½•ç”¨æˆ·å    æœåŠ¡å™¨ç”Ÿæˆï¼Œå‘é€åˆ°æµè§ˆå™¨ã€æµè§ˆå™¨ä¿å­˜ï¼Œä¸‹æ¬¡è¯·æ±‚å†æ¬¡å‘é€ç»™æœåŠ¡å™¨ï¼ˆå­˜æ”¾ç€ç™»å½•ä¿¡æ¯ï¼‰3ã€sessionæ˜¯ä¸€ç±»ç”¨æ¥å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¿å­˜çŠ¶æ€çš„è§£å†³æ–¹æ¡ˆï¼Œä¼šè¯å®Œæˆè¢«é”€æ¯ï¼ˆä»£è¡¨çš„å°±æ˜¯æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„ä¸€æ¬¡ä¼šè¯è¿‡ç¨‹ï¼‰    cookieä¸­å­˜æ”¾ç€sessionIDï¼Œè¯·æ±‚ä¼šå‘é€è¿™ä¸ªidã€‚sesionå› ä¸ºrequestå¯¹è±¡è€Œäº§ç”Ÿã€‚å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="åŸºäºTokençš„èº«ä»½éªŒè¯ï¼šï¼ˆæœ€ç®€å•çš„token-uidç”¨æˆ·å”¯ä¸€çš„èº«ä»½è¯†åˆ«-timeå½“å‰äº‹ä»¶æˆ³-signç­¾åï¼‰"><a href="#åŸºäºTokençš„èº«ä»½éªŒè¯ï¼šï¼ˆæœ€ç®€å•çš„token-uidç”¨æˆ·å”¯ä¸€çš„èº«ä»½è¯†åˆ«-timeå½“å‰äº‹ä»¶æˆ³-signç­¾åï¼‰" class="headerlink" title="åŸºäºTokençš„èº«ä»½éªŒè¯ï¼šï¼ˆæœ€ç®€å•çš„token: uidç”¨æˆ·å”¯ä¸€çš„èº«ä»½è¯†åˆ« + timeå½“å‰äº‹ä»¶æˆ³ + signç­¾åï¼‰"></a>åŸºäºTokençš„èº«ä»½éªŒè¯ï¼šï¼ˆæœ€ç®€å•çš„token: uidç”¨æˆ·å”¯ä¸€çš„èº«ä»½è¯†åˆ« + timeå½“å‰äº‹ä»¶æˆ³ + signç­¾åï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1ã€ç”¨æˆ·é€šè¿‡ç”¨æˆ·åå’Œå¯†ç å‘é€è¯·æ±‚  2ã€æœåŠ¡å™¨ç«¯éªŒè¯  3ã€æœåŠ¡å™¨ç«¯è¿”å›ä¸€ä¸ªå¸¦ç­¾åçš„tokenï¼Œç»™å®¢æˆ·ç«¯  4ã€å®¢æˆ·ç«¯å‚¨å­˜tokenï¼Œå¹¶ä¸”æ¯æ¬¡ç”¨äºå‘é€è¯·æ±‚  5ã€æœåŠ¡å™¨éªŒè¯tokenå¹¶ä¸”è¿”å›æ•°æ®  æ¯ä¸€æ¬¡è¯·æ±‚éƒ½éœ€è¦tokenå¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="cookieä¸sessionåŒºåˆ«"><a href="#cookieä¸sessionåŒºåˆ«" class="headerlink" title="cookieä¸sessionåŒºåˆ«"></a>cookieä¸sessionåŒºåˆ«</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1ã€cookieæ•°æ®å­˜æ”¾åœ¨å®¢æˆ·çš„æµè§ˆå™¨ä¸Šï¼Œsessionæ•°æ®æ”¾åœ¨æœåŠ¡å™¨ä¸Šã€‚  2ã€cookieä¸æ˜¯å¾ˆå®‰å…¨ï¼Œåˆ«äººå¯ä»¥åˆ†æå­˜æ”¾åœ¨æœ¬åœ°çš„COOKIEå¹¶è¿›è¡ŒCOOKIEæ¬ºéª—è€ƒè™‘åˆ°å®‰å…¨åº”å½“ä½¿ç”¨sessionã€‚  3ã€sessionä¼šåœ¨ä¸€å®šæ—¶é—´å†…ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šã€‚å½“è®¿é—®å¢å¤šï¼Œä¼šæ¯”è¾ƒå ç”¨ä½ æœåŠ¡å™¨çš„æ€§èƒ½è€ƒè™‘åˆ°å‡è½»æœåŠ¡å™¨æ€§èƒ½æ–¹é¢ï¼Œåº”å½“ä½¿ç”¨COOKIEã€‚  4ã€å•ä¸ªcookieä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡4Kï¼Œå¾ˆå¤šæµè§ˆå™¨éƒ½é™åˆ¶ä¸€ä¸ªç«™ç‚¹æœ€å¤šä¿å­˜20ä¸ªcookieã€‚å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="sessionä¸tokenåŒºåˆ«"><a href="#sessionä¸tokenåŒºåˆ«" class="headerlink" title="sessionä¸tokenåŒºåˆ«"></a>sessionä¸tokenåŒºåˆ«</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1ã€sessionè®¤è¯åªæ˜¯æŠŠç®€å•çš„Userçš„ä¿¡æ¯å­˜å‚¨Sessioné‡Œé¢ï¼ŒsessionIDä¸å¯é¢„æµ‹ï¼Œä¸€ç§è®¤è¯æ‰‹æ®µã€‚åªå­˜åœ¨æœåŠ¡ç«¯ï¼Œä¸èƒ½å…±äº«åˆ°å…¶ä»–çš„ç½‘ç«™å’Œç¬¬ä¸‰æ–¹App  2ã€tokenæ˜¯oAuth Tokenï¼Œæä¾›çš„æ˜¯è®¤è¯å’Œæˆæƒï¼Œè®¤è¯é’ˆå¯¹ç”¨æˆ·ï¼Œæˆæƒæ˜¯é’ˆå¯¹Appï¼Œç›®çš„å°±æ˜¯è®©æŸAPPæœ‰æƒè®¿é—®æŸç”¨æˆ·çš„çš„ä¿¡æ¯ã€‚Tokenæ˜¯å”¯ä¸€çš„ï¼Œ     tokenä¸èƒ½è½¬ç§»åˆ°å…¶ä»–çš„Appï¼Œä¹Ÿä¸èƒ½è½¬åˆ°å…¶ä»–ç”¨æˆ·ä¸Šã€‚ï¼ˆé€‚ç”¨äºAppï¼‰  3ã€sessionçš„çŠ¶æ€æ˜¯å­˜åœ¨æœåŠ¡å™¨ç«¯çš„ï¼Œå®¢æˆ·ç«¯åªå­˜åœ¨session idï¼Œ TokençŠ¶æ€æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="Cookieçš„å¼Šç«¯æœ‰å“ªäº›ï¼Ÿï¼Ÿï¼Ÿï¼ˆä¼˜åŠ¿ï¼šä¿å­˜å®¢æˆ·ç«¯æ•°æ®ï¼Œåˆ†æ‹…äº†æœåŠ¡å™¨å­˜å‚¨çš„è´Ÿæ‹…ï¼‰"><a href="#Cookieçš„å¼Šç«¯æœ‰å“ªäº›ï¼Ÿï¼Ÿï¼Ÿï¼ˆä¼˜åŠ¿ï¼šä¿å­˜å®¢æˆ·ç«¯æ•°æ®ï¼Œåˆ†æ‹…äº†æœåŠ¡å™¨å­˜å‚¨çš„è´Ÿæ‹…ï¼‰" class="headerlink" title="Cookieçš„å¼Šç«¯æœ‰å“ªäº›ï¼Ÿï¼Ÿï¼Ÿï¼ˆä¼˜åŠ¿ï¼šä¿å­˜å®¢æˆ·ç«¯æ•°æ®ï¼Œåˆ†æ‹…äº†æœåŠ¡å™¨å­˜å‚¨çš„è´Ÿæ‹…ï¼‰"></a>Cookieçš„å¼Šç«¯æœ‰å“ªäº›ï¼Ÿï¼Ÿï¼Ÿï¼ˆä¼˜åŠ¿ï¼šä¿å­˜å®¢æˆ·ç«¯æ•°æ®ï¼Œåˆ†æ‹…äº†æœåŠ¡å™¨å­˜å‚¨çš„è´Ÿæ‹…ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1ã€æ•°é‡å’Œé•¿åº¦çš„é™åˆ¶ã€‚æ¯ä¸ªç‰¹å®šçš„åŸŸåä¸‹æœ€å¤šç”Ÿæˆ20ä¸ªcookieï¼ˆchormeå’Œsafariæ²¡æœ‰é™åˆ¶ï¼‰  2ã€å®‰å…¨æ€§é—®é¢˜ã€‚å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h1 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h1><blockquote><p>ä¸€ã€è§‚å¯Ÿè€…æ¨¡å¼ï¼š<a href="https://juejin.cn/post/6844903513009422343">juejin.cn/post/684490â€¦</a>   <a href="https://juejin.cn/post/6844903603107266567">juejin.cn/post/684490â€¦</a> åœ¨è½¯ä»¶å¼€å‘è®¾è®¡ä¸­æ˜¯ä¸€ä¸ªå¯¹è±¡(subject)ï¼Œç»´æŠ¤ä¸€ç³»åˆ—ä¾èµ–ä»–çš„å¯¹è±¡ï¼ˆobserverï¼‰ï¼Œå½“ä»»ä½•çŠ¶æ€å‘ç”Ÿæ”¹å˜è‡ªåŠ¨é€šçŸ¥ä»–ä»¬ã€‚å¼ºä¾èµ–å…³ç³» ç®€å•ç†è§£ï¼šæ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå¯¹åº”çš„å¤„ç†å‡½æ•°å°±ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚ä¸€ä¸ªSubjet,ç”¨æ¥ç»´æŠ¤Observers,ä¸ºæŸäº›eventæ¥é€šçŸ¥ï¼ˆnotifyï¼‰è§‚å¯Ÿè€…</p></blockquote><blockquote><p>äºŒã€å‘å¸ƒ-è®¢é˜…è€…  æœ‰ä¸€ä¸ªä¿¡æ¯ä¸­ä»‹ï¼Œè¿‡æ»¤ è€¦åˆæ€§ä½ å®ƒå®šä¹‰äº†ä¸€ç§ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå¯ä»¥ä½¿å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡å¯¹ä¸€ä¸ªä¸»é¢˜å¯¹è±¡è¿›è¡Œç›‘å¬ï¼Œå½“è¿™ä¸ªä¸»é¢˜å¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¾èµ–çš„æ‰€æœ‰å¯¹è±¡éƒ½ä¼šè¢«é€šçŸ¥åˆ°ã€‚</p></blockquote><ul><li>-ä¸¤è€…çš„åŒºåˆ«ï¼š 1.è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œè§‚å¯Ÿè€…çŸ¥é“Subject ,ä¸¤è€…æ˜¯ç›¸å…³è”çš„ï¼Œè€Œå‘å‘å¸ƒè®¢é˜…è€…åªæœ‰é€šè¿‡ä¿¡æ¯ä»£ç†è¿›è¡Œé€šä¿¡ 2.åœ¨å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ï¼Œç»„ä»¶å¼æ¾æ•£è€¦åˆçš„ã€‚æ­£å¥½å’Œè§‚å¯Ÿè€…æ¨¡å¼ç›¸åã€‚ 3.è§‚å¯Ÿè€…å¤§éƒ¨åˆ†æ˜¯åŒæ­¥çš„ï¼Œæ¯”å¦‚äº‹ä»¶çš„è§¦å‘ã€‚Subjectå°±ä¼šè°ƒç”¨è§‚å¯Ÿè€…çš„æ–¹æ³•ã€‚è€Œå‘å¸ƒè®¢é˜…è€…å¤§å¤šæ•°æ˜¯å¼‚æ­¥çš„ï¼ˆï¼‰ 4.è§‚å¯Ÿè€…æ¨¡å¼éœ€è¦åœ¨å•ä¸ªåº”ç”¨ç¨‹åºåœ°å€ç©ºé—´ä¸­å®ç°ï¼Œè€Œå‘å¸ƒè®¢é˜…è€…æ›´åƒäº¤å‰åº”ç”¨æ¨¡å¼ã€‚</li></ul><h1 id="æ•°æ®ç»“æ„å’Œç®—æ³•"><a href="#æ•°æ®ç»“æ„å’Œç®—æ³•" class="headerlink" title="æ•°æ®ç»“æ„å’Œç®—æ³•"></a>æ•°æ®ç»“æ„å’Œç®—æ³•</h1><h4 id="ä¸€ã€ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¸¤ä¸ªé˜Ÿåˆ—å®ç°ä¸€ä¸ªæ ˆ-www-cnblogs-com-MrListeningâ€¦"><a href="#ä¸€ã€ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¸¤ä¸ªé˜Ÿåˆ—å®ç°ä¸€ä¸ªæ ˆ-www-cnblogs-com-MrListeningâ€¦" class="headerlink" title="ä¸€ã€ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¸¤ä¸ªé˜Ÿåˆ—å®ç°ä¸€ä¸ªæ ˆ www.cnblogs.com/MrListeningâ€¦"></a>ä¸€ã€ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¸¤ä¸ªé˜Ÿåˆ—å®ç°ä¸€ä¸ªæ ˆ <a href="https://link.juejin.cn/?target=https://www.cnblogs.com/MrListening/p/5697459.html">www.cnblogs.com/MrListeningâ€¦</a></h4><h4 id="äºŒã€çº¢é»‘æ ‘ï¼ˆè§£å†³äºŒå‰æ ‘ä¾æ¬¡æ’å…¥å¤šä¸ªèŠ‚ç‚¹æ—¶çš„çº¿å‹æ’åˆ—ï¼‰-juejin-cn-post-684490â€¦"><a href="#äºŒã€çº¢é»‘æ ‘ï¼ˆè§£å†³äºŒå‰æ ‘ä¾æ¬¡æ’å…¥å¤šä¸ªèŠ‚ç‚¹æ—¶çš„çº¿å‹æ’åˆ—ï¼‰-juejin-cn-post-684490â€¦" class="headerlink" title="äºŒã€çº¢é»‘æ ‘ï¼ˆè§£å†³äºŒå‰æ ‘ä¾æ¬¡æ’å…¥å¤šä¸ªèŠ‚ç‚¹æ—¶çš„çº¿å‹æ’åˆ—ï¼‰ juejin.cn/post/684490â€¦"></a>äºŒã€çº¢é»‘æ ‘ï¼ˆè§£å†³äºŒå‰æ ‘ä¾æ¬¡æ’å…¥å¤šä¸ªèŠ‚ç‚¹æ—¶çš„çº¿å‹æ’åˆ—ï¼‰ <a href="https://juejin.cn/post/6844903519632228365">juejin.cn/post/684490â€¦</a></h4><h4 id="ä¸‰ã€æœ€å°æ ˆçš„å®ç°ï¼ˆæŸ¥æ‰¾æœ€å°å…ƒç´ ï¼Œç”¨ä¸¤ä¸ªæ ˆé…åˆæ ˆå†…å…ƒç´ çš„ä¸‹æ ‡ï¼‰juejin-cn-post-684490â€¦"><a href="#ä¸‰ã€æœ€å°æ ˆçš„å®ç°ï¼ˆæŸ¥æ‰¾æœ€å°å…ƒç´ ï¼Œç”¨ä¸¤ä¸ªæ ˆé…åˆæ ˆå†…å…ƒç´ çš„ä¸‹æ ‡ï¼‰juejin-cn-post-684490â€¦" class="headerlink" title="ä¸‰ã€æœ€å°æ ˆçš„å®ç°ï¼ˆæŸ¥æ‰¾æœ€å°å…ƒç´ ï¼Œç”¨ä¸¤ä¸ªæ ˆé…åˆæ ˆå†…å…ƒç´ çš„ä¸‹æ ‡ï¼‰juejin.cn/post/684490â€¦"></a>ä¸‰ã€æœ€å°æ ˆçš„å®ç°ï¼ˆæŸ¥æ‰¾æœ€å°å…ƒç´ ï¼Œç”¨ä¸¤ä¸ªæ ˆé…åˆæ ˆå†…å…ƒç´ çš„ä¸‹æ ‡ï¼‰<a href="https://juejin.cn/post/6844903521280589831">juejin.cn/post/684490â€¦</a></h4><h4 id="å››ã€åå¤§æ’åº"><a href="#å››ã€åå¤§æ’åº" class="headerlink" title="å››ã€åå¤§æ’åº"></a>å››ã€åå¤§æ’åº</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.å†’æ³¡æ’åºï¼šé‡å¤èµ°è®¿è¿‡è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœä»–ä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ã€‚  å®ç°è¿‡ç¨‹ï¼š1.æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ª    2.å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·åœ¨æœ€åçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°    3.é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ª    4.é‡å¤æ­¥éª¤1-3ï¼Œç›´åˆ°æ’åºå®Œæˆã€‚2.é€‰æ‹©æ’åºï¼šé¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°å€¼ï¼Œæ”¾åœ¨æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åï¼Œåœ¨ä»å‰©ä¸‹æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°å€¼ï¼Œç„¶åæ”¾åœ¨ä¸æ’åºåºåˆ—çš„æœ«å°¾  å®ç°è¿‡ç¨‹ï¼š3.æ’å…¥æ’åºï¼šæ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­å†²åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥  å®ç°è¿‡ç¨‹ï¼š1.ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æ’åº    2.å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²æ’åºçš„å…ƒç´ åºåˆ—ä¸­å†²åå‘å‰æ‰«æ    3.å¦‚æœè¯¥å…ƒç´ ï¼ˆä»¥æ’åºï¼‰å¤§äºæ–°å…ƒç´ ï¼Œå°†å…ƒç´ å‘åç§»ä¸€ä½    4.åœ¨å–å‡ºä¸€ä¸ªå…ƒç´ ï¼Œæ¯”è¾ƒä¹‹å‰çš„ï¼Œç›´åˆ°æ‰¾åˆ°è‡ªå·±åˆé€‚çš„ä½ç½®4.æ¡¶æ’åºï¼šå°†æ•°æ®åˆ†å¸ƒåˆ°æœ‰é™æ•°é‡çš„æ¡¶é‡Œï¼Œæ¯ä¸ªæ¡¶åœ¨åˆ†åˆ«æ’åº1.å¿«é€Ÿæ’åºï¼šå¿«é€Ÿæ’åºä½¿ç”¨åˆ†æ²»æ³•æŠŠä¸€ä¸ªä¸²ï¼ˆlistï¼‰åˆ†ä¸ºä¸¤ä¸ªå­ä¸²ï¼ˆsub-listsï¼‰.å…·ä½“ç®—æ³•å®ç°  å®ç°è¿‡ç¨‹ï¼š1.ä»æ•°ç»„ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ï¼Œæˆä¸ºä¸€ä¸ªåŸºå‡†    2.é‡æ–°æ’åˆ—æ•°ç»„ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å°çš„æ‘†åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å¤§çš„æ‘†åœ¨åŸºå‡†åé¢ï¼ˆç›¸åŒçš„å¯ä»¥æ‘†åœ¨ä¸€è¾¹ï¼‰è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹åï¼Œè¯¥åŸºå‡†å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚æˆä¸ºåˆ†åŒºæ“ä½œã€‚    3.é€’å½’çš„æŠŠå°äºåŸºå‡†å€¼çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æ’åºç®—æ³•å®ç°ï¼š function quickSort (arr) &#123;if ï¼ˆarr.length &lt;= 1ï¼‰ &#123;return arr&#125;var destIndex = Math.floor(arr.length/2)var left = [], right = [];var dest = arr.splice(destIndex,1)[0];for (var i =0;i&lt;arr.length;i++)&#123;if (arr[i]&lt;dest) &#123;left.push(arr[i])&#125; else &#123;right.push(arr[i]) &#125;return quickSort(left).concat([dest],quickSort(right)2.å †æ’åºï¼šåˆ©ç”¨å¯¹è¿™ç§æ•°æ®ç»“æ„æ‰€æ¶‰åŠçš„ä¸€ç§æ’åºç®—æ³•ï¼Œå †ç§¯æ˜¯ä¸€ä¸ªè¿‘ä¹å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„ï¼Œå¹¶åŒæ—¶æ»¡è¶³å †ç§¯çš„æ€§è´¨ï¼šå³å­èŠ‚ç‚¹çš„é”®å€¼æˆ–ç´¢å¼•æ€»æ˜¯å°äºï¼ˆæˆ–å¤§äºï¼‰å®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚  å®ç°è¿‡ç¨‹ï¼š1.å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="äº”ã€æ•°ç»„å»é‡-juejin-cn-post-684490â€¦"><a href="#äº”ã€æ•°ç»„å»é‡-juejin-cn-post-684490â€¦" class="headerlink" title="äº”ã€æ•°ç»„å»é‡ juejin.cn/post/684490â€¦"></a>äº”ã€æ•°ç»„å»é‡ <a href="https://juejin.cn/post/6844903602197102605#heading-6">juejin.cn/post/684490â€¦</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.åŒé‡å¾ªç¯2.indexOf3.æ•°ç»„æ’åºå»é‡ æœ€å¿«ä½ Olongå¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="å…­ã€å­—ç¬¦ä¸²"><a href="#å…­ã€å­—ç¬¦ä¸²" class="headerlink" title="å…­ã€å­—ç¬¦ä¸²"></a>å…­ã€å­—ç¬¦ä¸²</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åˆ¤æ–­å›æ–‡å­—ç¬¦ä¸²ï¼šï¼ˆé€’å½’çš„æ€æƒ³ï¼‰1.å­—ç¬¦ä¸²åˆ†éš”ï¼Œå€’è½¬ï¼Œèšåˆ[...obj].reverse().join(&#x27;&#x27;)2.å­—ç¬¦ä¸²å¤´éƒ¨å’Œå°¾éƒ¨ï¼Œé€æ¬¡å‘ä¸­é—´æ£€æµ‹ å®ç°ï¼šfunction isPalindrome(line) &#123;line += &#x27;&#x27;;for (var i=0,j=line.length-1;i&lt;j;i++,j--) &#123;if (line.chartAt(i) !== line.chartAt(j) &#123;return false&#125;3.é€’å½’å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ä¸ƒã€äºŒåˆ†æŸ¥æ‰¾ï¼ˆæœ‰åºæ•°ç»„çš„æŸ¥æ‰¾ï¼‰"><a href="#ä¸ƒã€äºŒåˆ†æŸ¥æ‰¾ï¼ˆæœ‰åºæ•°ç»„çš„æŸ¥æ‰¾ï¼‰" class="headerlink" title="ä¸ƒã€äºŒåˆ†æŸ¥æ‰¾ï¼ˆæœ‰åºæ•°ç»„çš„æŸ¥æ‰¾ï¼‰"></a>ä¸ƒã€äºŒåˆ†æŸ¥æ‰¾ï¼ˆæœ‰åºæ•°ç»„çš„æŸ¥æ‰¾ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">äºŒåˆ†æŸ¥æ‰¾å¯ä»¥è§£å†³å·²æ’åºæ•°ç»„çš„æŸ¥æ‰¾é—®é¢˜ï¼Œå³åªè¦æ•°ç»„ä¸­åŒ…å«T(è¦æŸ¥æ‰¾çš„å€¼)ï¼Œé‚£ä¹ˆé€šè¿‡ä¸æ–­çš„ç¼©å°åŒ…å«Tçš„æ•°æ®èŒƒå›´ï¼Œå°±å¯ä»¥æœ€ç»ˆè¦æ‰¾åˆ°çš„æ•° (1) ä¸€å¼€å§‹,æ•°æ®èŒƒå›´è¦†ç›–æ•´ä¸ªæ•°ç»„ã€‚ (2) å°†æ•°ç»„çš„ä¸­é—´é¡¹ä¸Tè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœTæ¯”æ•°ç»„çš„ä¸­é—´é¡¹å°ï¼Œåˆ™åˆ°æ•°ç»„çš„å‰åŠéƒ¨åˆ†ç»§ç»­æŸ¥æ‰¾ï¼Œåä¹‹ï¼Œåˆ™åˆ°æ•°ç»„çš„ååŠéƒ¨åˆ†ç»§ç»­æŸ¥æ‰¾ã€‚ (3) å°±è¿™æ ·ï¼Œæ¯æ¬¡æŸ¥æ‰¾éƒ½å¯ä»¥æ’é™¤ä¸€åŠå…ƒç´ ï¼Œç›¸å½“äºèŒƒå›´ç¼©å°ä¸€åŠã€‚è¿™æ ·åå¤æ¯”è¾ƒï¼Œåå¤ç¼©å°èŒƒå›´ï¼Œæœ€ç»ˆä¼šåœ¨æ•°ç»„ä¸­æ‰¾åˆ°Tä»£ç å®ç°ï¼šfunction binarySearch (data, dest, start, end)&#123;var end = end || data.length-1;var start = start || 0;var m = Math.floor((start+end)/2);if (dest&lt;data[m])&#123;return binarySearch(data, dest, 0, m-1)&#125; else &#123;return binarySearch(data, dest, m+1, end)&#125;&#125;return falseå¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h1 id="æ‰‹å†™ä»£ç "><a href="#æ‰‹å†™ä»£ç " class="headerlink" title="æ‰‹å†™ä»£ç "></a>æ‰‹å†™ä»£ç </h1><h4 id="ä¸€ã€åŠ¨æ‰‹å®ç°ä¸€ä¸ªbindï¼ˆåŸç†é€šè¿‡applyï¼Œcallï¼‰"><a href="#ä¸€ã€åŠ¨æ‰‹å®ç°ä¸€ä¸ªbindï¼ˆåŸç†é€šè¿‡applyï¼Œcallï¼‰" class="headerlink" title="ä¸€ã€åŠ¨æ‰‹å®ç°ä¸€ä¸ªbindï¼ˆåŸç†é€šè¿‡applyï¼Œcallï¼‰"></a>ä¸€ã€åŠ¨æ‰‹å®ç°ä¸€ä¸ªbindï¼ˆåŸç†é€šè¿‡applyï¼Œcallï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä¸€å¥è¯æ¦‚æ‹¬ï¼š1.bind()è¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œå¹¶ä¸ä¼šç«‹å³æ‰§è¡Œã€‚    2.bindçš„ç¬¬ä¸€ä¸ªå‚æ•°å°†ä½œä¸ºä»–è¿è¡Œæ—¶çš„thisï¼Œä¹‹åçš„ä¸€ç³»åˆ—å‚æ•°å°†ä¼šåœ¨ä¼ é€’çš„å®å‚å‰ä¼ å…¥ä½œä¸ºä»–çš„å‚æ•°    3.bindè¿”å›å‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°ï¼Œå°±æ˜¯å¯ä»¥newçš„ï¼Œbindæ—¶æŒ‡å®šçš„thiså€¼å°±ä¼šæ¶ˆå¤±ï¼Œä½†ä¼ å…¥çš„å‚æ•°ä¾ç„¶ç”Ÿæ•ˆå¤åˆ¶ä»£ç Function.prototype.bind = function (obj, arg) &#123;   var arg = Array.prototype.slice.call(arguments, 1);   var context = this;   var bound = function (newArg) &#123;   arg = arg.concat(Array.prototype.slice.call(newArg);   return context.apply(obj, arg)&#125;  var F =  function () &#123;&#125;  // åœ¨newä¸€ä¸ªbindä¼šç”Ÿæˆæ–°å‡½æ•°ï¼Œå¿…é¡»çš„æ¡ä»¶å°±æ˜¯è¦ç»§æ‰¿åŸå‡½æ•°çš„åŸå‹ï¼Œå› æ­¤ç”¨åˆ°å¯„ç”Ÿç»§æ‰¿æ¥å®Œæˆæˆ‘ä»¬çš„è¿‡ç¨‹  F.prototype = context.prototype;  bound.prototype =  new F();  return bound;&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="äºŒã€-AJAX-ï¼ˆå¼‚æ­¥çš„javascriptå’Œxmlï¼‰"><a href="#äºŒã€-AJAX-ï¼ˆå¼‚æ­¥çš„javascriptå’Œxmlï¼‰" class="headerlink" title="äºŒã€ AJAX ï¼ˆå¼‚æ­¥çš„javascriptå’Œxmlï¼‰"></a>äºŒã€ AJAX ï¼ˆå¼‚æ­¥çš„javascriptå’Œxmlï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line">ajaxçš„åŸç†ï¼šç›¸å½“äºåœ¨ç”¨æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´åŠ ä¸€ä¸ªä¸­é—´å±‚ï¼ˆajaxå¼•æ“),ä½¿ç”¨æˆ·æ“ä½œä¸æœåŠ¡å™¨å“åº”å¼‚æ­¥åŒ–ã€‚</span><br><span class="line">ä¼˜ç‚¹ï¼šåœ¨ä¸åˆ·æ–°æ•´ä¸ªé¡µé¢çš„å‰æä¸‹ä¸æœåŠ¡å™¨é€šä¿¡ç»´æŠ¤æ•°æ®ã€‚ä¸ä¼šå¯¼è‡´é¡µé¢çš„é‡è½½</span><br><span class="line">      å¯ä»¥æŠŠå‰ç«¯æœåŠ¡å™¨çš„ä»»åŠ¡è½¬å«åˆ°å®¢æœç«¯æ¥å¤„ç†ï¼Œå‡è½»æœåŠ¡å™¨è´Ÿæ‹…ï¼ŒèŠ‚çœå®½å¸¦</span><br><span class="line">åŠ£åŠ¿ï¼šä¸æ”¯æŒbackã€‚å¯¹æœç´¢å¼•æ“çš„æ”¯æŒæ¯”è¾ƒå¼±ï¼›ä¸å®¹æ˜“è°ƒè¯•</span><br><span class="line">æ€ä¹ˆè§£å†³å‘¢ï¼Ÿé€šè¿‡location.hashå€¼æ¥è§£å†³Ajaxè¿‡ç¨‹ä¸­å¯¼è‡´çš„æµè§ˆå™¨å‰è¿›åé€€æŒ‰é”®å¤±æ•ˆï¼Œ</span><br><span class="line">è§£å†³ä»¥å‰è¢«äººå¸¸é‡åˆ°çš„é‡å¤åŠ è½½çš„é—®é¢˜ã€‚ä¸»è¦æ¯”è¾ƒå‰åçš„hashå€¼ï¼Œçœ‹å…¶æ˜¯å¦ç›¸ç­‰ï¼Œåœ¨åˆ¤æ–­æ˜¯å¦è§¦å‘ajax</span><br><span class="line">å¤åˆ¶ä»£ç </span><br><span class="line">function getData(url) &#123;</span><br><span class="line">    var xhr = new XMLHttpRequest();  // åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œåˆ›å»ºä¸€ä¸ªå¼‚æ­¥è°ƒç”¨çš„å¯¹è±¡</span><br><span class="line">    xhr.open(&#x27;get&#x27;, url, true)  // è®¾ç½®ä¸€ä¸ªhttpè¯·æ±‚ï¼Œè®¾ç½®è¯·æ±‚çš„æ–¹å¼ï¼Œurlä»¥åŠéªŒè¯èº«ä»½</span><br><span class="line">    xhr.send() //å‘é€ä¸€ä¸ªhttpè¯·æ±‚</span><br><span class="line">    xhr.onreadystatechange = function () &#123;  //è®¾ç½®ä¸€ä¸ªhttpè¯·æ±‚çŠ¶æ€çš„å‡½æ•°</span><br><span class="line">      if (xhr.readyState == 4 &amp;&amp; xhr.status ==200) &#123;</span><br><span class="line">        console.log(xhr.responseText)  // è·å–å¼‚æ­¥è°ƒç”¨è¿”å›çš„æ•°æ®</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  Promise(getData(url)).resolve(data =&gt; data)</span><br><span class="line"></span><br><span class="line"> AJAXçŠ¶æ€ç ï¼š0 - ï¼ˆæœªåˆå§‹åŒ–ï¼‰è¿˜æ²¡æœ‰è°ƒç”¨send()æ–¹æ³•</span><br><span class="line">     1 - ï¼ˆè½½å…¥ï¼‰å·²è°ƒç”¨sendæ–¹æ³•ï¼Œæ­£åœ¨å‘é€è¯·æ±‚</span><br><span class="line">     2 - ï¼ˆè½½å…¥å®Œæˆå‘¢ï¼‰send()æ–¹æ³•æ‰§è¡Œå®Œæˆ</span><br><span class="line">     3 - ï¼ˆäº¤äº’ï¼‰æ­£åœ¨è§£æç›¸åº”å†…å®¹</span><br><span class="line">     4 - ï¼ˆå®Œæˆï¼‰å“åº”å†…å®¹è§£æå®Œæˆï¼Œå¯ä»¥åœ¨å®¢æˆ·ç«¯è°ƒç”¨äº†</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### ä¸‰ã€å‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰</span><br><span class="line">```</span><br><span class="line"> function throttle (func, wait) &#123;</span><br><span class="line">        var timeout;</span><br><span class="line">        var previous = 0;</span><br><span class="line">        return function () &#123;</span><br><span class="line">            context = this;</span><br><span class="line">            args = arguments;</span><br><span class="line">            if (!timeout) &#123;</span><br><span class="line">                timeout = setTimeout(() =&gt; &#123;</span><br><span class="line">                    timeout = null;</span><br><span class="line">                    func.apply(context,args)</span><br><span class="line">                &#125;, wait);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### å››ã€å‡½æ•°é˜²æŠ–ï¼ˆdobounceï¼‰</span><br><span class="line">```</span><br><span class="line"> function debounce (func, wait) &#123;</span><br><span class="line">         var timeout;</span><br><span class="line">         return function() &#123;</span><br><span class="line">             var context = this;</span><br><span class="line">             var args = arguments;</span><br><span class="line">             clearTimeout(timeout);</span><br><span class="line">             timeout = setTimeout(() =&gt; &#123;</span><br><span class="line">                 func.apply(context,args)</span><br><span class="line">             &#125;, wait);</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### äº”ã€å®ç°ä¸€ä¸ªå‡½æ•°cloneï¼Œå¯ä»¥å¯¹JavaScriptä¸­çš„5ç§ä¸»è¦çš„æ•°æ®ç±»å‹ï¼ˆåŒ…æ‹¬Numberã€Stringã€Objectã€Arrayã€Booleanï¼‰è¿›è¡Œå€¼å¤åˆ¶</span><br><span class="line">```    </span><br><span class="line">    Object.prototype.clone = function() &#123;</span><br><span class="line">      var newObject = this.constructor === Array ? [] : &#123;&#125;  //å¯¹è±¡çš„æ·±æ‹·è´ è·å–å¯¹åº”çš„æ„é€ å‡½æ•° [] æˆ–è€… &#123;&#125;</span><br><span class="line">      for (let e in this) &#123; //éå†å¯¹è±¡çš„å±æ€§ in  this[e]</span><br><span class="line">        newObject[e] = typeof this[e] === &#x27;object&#x27; ? this[e].clone() : this[e]  //å¯¹è±¡ä¸­çš„å±æ€§å¦‚æœè¿˜æ˜¯å¯¹è±¡ é‚£å°±ç»§ç»­é€’å½’ å¦åˆ™å°±è¿”å›åŸºæœ¬çš„æ•°æ®ç±»å‹</span><br><span class="line">      &#125;</span><br><span class="line">      return newObject</span><br><span class="line">    &#125;</span><br><span class="line">```</span><br><span class="line"> </span><br><span class="line">#### å…­ã€å®ç°ä¸€ä¸ªç®€å•çš„Promise https://juejin.cn/post/6844903625769091079</span><br><span class="line">```</span><br><span class="line">class Promise &#123;</span><br><span class="line">  constructor (executor) &#123;   // executoré‡Œé¢æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå«resolveï¼ˆæˆåŠŸï¼‰ï¼Œä¸€ä¸ªå«rejectï¼ˆå¤±è´¥ï¼‰ã€‚</span><br><span class="line">    this.status = &#x27;pending&#x27;,</span><br><span class="line">    this.value = undefined;</span><br><span class="line">    this.reason = undefined;</span><br><span class="line">    // æˆåŠŸå­˜æ”¾çš„æ•°ç»„</span><br><span class="line">    this.onResolvedCallbacks = [];</span><br><span class="line">     // å¤±è´¥å­˜æ”¾æ³•æ•°ç»„</span><br><span class="line">     this.onRejectedCallbacks = [];</span><br><span class="line">    let resolve = (value) =&gt; &#123;</span><br><span class="line">      if (this.status == &#x27;pending&#x27;) &#123;</span><br><span class="line">        this.status = &#x27;resolve&#x27;;</span><br><span class="line">        this.value = value;</span><br><span class="line">        this.onResolvedCallbacks.forEach(fn =&gt; fn())</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let reject = (reason) =&gt; &#123;</span><br><span class="line">      if (this.status == &#x27;pending&#x27;) &#123;</span><br><span class="line">        this.status = &#x27;reject&#x27;;</span><br><span class="line">        this.reason = reason;</span><br><span class="line">        this.onRejectedCallbacks.forEach(fn =&gt; fn())</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    try&#123;</span><br><span class="line">      executor(resolve, reject);</span><br><span class="line">    &#125; catch (err) &#123;</span><br><span class="line">      reject(err);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; </span><br><span class="line">  then (onFullFilled,onRejected) &#123;</span><br><span class="line">    if (this.status == &#x27;resolved&#x27;) &#123;</span><br><span class="line">      onFullFilled(this.value)</span><br><span class="line">    &#125;</span><br><span class="line">    if (this.status == &#x27;rejectd&#x27;) &#123;</span><br><span class="line">      onRejected(this.reason);</span><br><span class="line">    &#125;</span><br><span class="line">    if (this.status == &#x27;pending&#x27;) &#123;</span><br><span class="line">      this.onResolvedCallbacks.push(()=&gt;&#123;</span><br><span class="line">        onFullFilled(this.value);</span><br><span class="line">      &#125;)</span><br><span class="line">      this.onRejectedCallbacks.push(()=&gt; &#123;</span><br><span class="line">          onRejected(this.reason);</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">   </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const p = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">      resolve(&#x27;hello world&#x27;)</span><br><span class="line">  &#125;, 1000);</span><br><span class="line">&#125;)</span><br><span class="line">p.then((data) =&gt;&#123;</span><br><span class="line">  console.log(data)</span><br><span class="line">&#125;,(err) =&gt;&#123;</span><br><span class="line">  console.log(err);</span><br><span class="line">&#125;)</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### ä¸ƒã€å‘å¸ƒè®¢é˜…è€…æ¨¡å¼ï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰</span><br><span class="line">```</span><br><span class="line">var event = &#123;&#125;; // å‘å¸ƒè€…</span><br><span class="line">event.clientList = [] //å‘å¸ƒè€…çš„ç¼“å­˜åˆ—è¡¨</span><br><span class="line"></span><br><span class="line">event.listen = function (fn) &#123;  // å¢åŠ è®¢é˜…è€…å‡½æ•°</span><br><span class="line">  this.clientList.push(fn)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">event.trigger = function () &#123;  // å‘å¸ƒä¿¡æ¯</span><br><span class="line">  for (var i =0;i&lt;this.clientList.length;i++) &#123;</span><br><span class="line">    var fn = this.clientList[i];</span><br><span class="line">    fn.apply(this, arguments);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">event.listen (function(time) &#123;</span><br><span class="line">  console.log(&#x27;æ­£å¼ä¸Šç­æ—¶é—´ä¸ºï¼š&#x27; +time)</span><br><span class="line">&#125;)</span><br><span class="line">event.trigger (&#x27;2018/7&#x27;)</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### å…«ã€æ‰‹åŠ¨å†™ä¸€ä¸ªnodeæœåŠ¡å™¨</span><br><span class="line">```</span><br><span class="line">const http = require(&#x27;http&#x27;);</span><br><span class="line">const fs = require(&#x27;fs&#x27;);</span><br><span class="line">const server = http.createServer((req,res) =&gt; &#123;</span><br><span class="line">if (reu.url == &#x27;/&#x27;) &#123;</span><br><span class="line">const indexFile = fs.createReadStream(&#x27;./index.html&#x27;)</span><br><span class="line">req.writeHead(200,&#123;&#x27;context-Type&#x27;:&#x27;text/html;charset = utf8&#125;)</span><br><span class="line">indexFile.pipe(res)</span><br><span class="line">&#125;</span><br><span class="line">server.listen(8080)</span><br><span class="line">```</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
            <tag> Http </tag>
            
            <tag> CSS </tag>
            
            <tag> Webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¢è¯•å¤ä¹ è·¯çº¿</title>
      <link href="/2022/03/01/%E9%9D%A2%E8%AF%95%E5%A4%8D%E4%B9%A0%E8%B7%AF%E7%BA%BF/"/>
      <url>/2022/03/01/%E9%9D%A2%E8%AF%95%E5%A4%8D%E4%B9%A0%E8%B7%AF%E7%BA%BF/</url>
      
        <content type="html"><![CDATA[<h2 id="1-JavaScript-åŸºç¡€"><a href="#1-JavaScript-åŸºç¡€" class="headerlink" title="1. JavaScript åŸºç¡€"></a>1. JavaScript åŸºç¡€</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132109771.png" alt="image-20220301163103625"></p><h2 id="2-CSS-åŸºç¡€"><a href="#2-CSS-åŸºç¡€" class="headerlink" title="2. CSS åŸºç¡€"></a>2. CSS åŸºç¡€</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132109578.png" alt="image-20220301162753126"></p><h2 id="3-æ¡†æ¶-Vue-ä¸ºä¸»"><a href="#3-æ¡†æ¶-Vue-ä¸ºä¸»" class="headerlink" title="3. æ¡†æ¶(Vue ä¸ºä¸»)"></a>3. æ¡†æ¶(Vue ä¸ºä¸»)</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132109505.png" alt="image-20220301162814498"></p><h2 id="4-å·¥ç¨‹åŒ–"><a href="#4-å·¥ç¨‹åŒ–" class="headerlink" title="4. å·¥ç¨‹åŒ–"></a>4. å·¥ç¨‹åŒ–</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132109106.png" alt="image-20220301162824681"></p><h2 id="5-æ€§èƒ½ä¼˜åŒ–"><a href="#5-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="5.æ€§èƒ½ä¼˜åŒ–"></a>5.æ€§èƒ½ä¼˜åŒ–</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132109562.png" alt="image-20220301162854191"></p><h2 id="6-TypeScript"><a href="#6-TypeScript" class="headerlink" title="6. TypeScript"></a>6. TypeScript</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132109633.png" alt="image-20220301162905975"></p><h2 id="7-ç½‘ç»œ"><a href="#7-ç½‘ç»œ" class="headerlink" title="7. ç½‘ç»œ"></a>7. ç½‘ç»œ</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132109531.png" alt="image-20220301162917274"></p><h2 id="8-è®¾è®¡æ¨¡å¼"><a href="#8-è®¾è®¡æ¨¡å¼" class="headerlink" title="8. è®¾è®¡æ¨¡å¼"></a>8. è®¾è®¡æ¨¡å¼</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132109065.png" alt="image-20220301162929421"></p><h2 id="9-æ•°æ®ç»“æ„-ç®—æ³•"><a href="#9-æ•°æ®ç»“æ„-ç®—æ³•" class="headerlink" title="9. æ•°æ®ç»“æ„/ç®—æ³•"></a>9. æ•°æ®ç»“æ„/ç®—æ³•</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132109602.png" alt="image-20220301162944459"></p><h2 id="10-å®‰å…¨"><a href="#10-å®‰å…¨" class="headerlink" title="10. å®‰å…¨"></a>10. å®‰å…¨</h2><p><img src="https://gitee.com/hnistzzm/typora-cloud-img/raw/master/202203132109601.png" alt="image-20220301162958144"></p>]]></content>
      
      
      
        <tags>
            
            <tag> å­¦ä¹ è·¯çº¿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptæ·±å…¥ä¹‹ä½œç”¨åŸŸé“¾</title>
      <link href="/2022/03/01/JavaScript%E6%B7%B1%E5%85%A5%E4%B9%8B%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE/"/>
      <url>/2022/03/01/JavaScript%E6%B7%B1%E5%85%A5%E4%B9%8B%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨<a href="https://github.com/mqyqingfeng/Blog/issues/4">ã€ŠJavaScriptæ·±å…¥ä¹‹æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆã€‹</a>ä¸­è®²åˆ°ï¼Œå½“JavaScriptä»£ç æ‰§è¡Œä¸€æ®µå¯æ‰§è¡Œä»£ç (executable code)æ—¶ï¼Œä¼šåˆ›å»ºå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡(execution context)ã€‚</p><p>å¯¹äºæ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œéƒ½æœ‰ä¸‰ä¸ªé‡è¦å±æ€§ï¼š</p><ul><li>å˜é‡å¯¹è±¡(Variable objectï¼ŒVO)</li><li>ä½œç”¨åŸŸé“¾(Scope chain)</li><li>this</li></ul><p>ä»Šå¤©é‡ç‚¹è®²è®²ä½œç”¨åŸŸé“¾ã€‚</p><h2 id="ä½œç”¨åŸŸé“¾"><a href="#ä½œç”¨åŸŸé“¾" class="headerlink" title="ä½œç”¨åŸŸé“¾"></a>ä½œç”¨åŸŸé“¾</h2><p>åœ¨<a href="https://github.com/mqyqingfeng/Blog/issues/5">ã€ŠJavaScriptæ·±å…¥ä¹‹å˜é‡å¯¹è±¡ã€‹</a>ä¸­è®²åˆ°ï¼Œå½“æŸ¥æ‰¾å˜é‡çš„æ—¶å€™ï¼Œä¼šå…ˆä»å½“å‰ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šä»çˆ¶çº§(è¯æ³•å±‚é¢ä¸Šçš„çˆ¶çº§)æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ä¸­æŸ¥æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ°å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡ã€‚è¿™æ ·ç”±å¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡æ„æˆçš„é“¾è¡¨å°±å«åšä½œç”¨åŸŸé“¾ã€‚</p><p>ä¸‹é¢ï¼Œè®©æˆ‘ä»¬ä»¥ä¸€ä¸ªå‡½æ•°çš„åˆ›å»ºå’Œæ¿€æ´»ä¸¤ä¸ªæ—¶æœŸæ¥è®²è§£ä½œç”¨åŸŸé“¾æ˜¯å¦‚ä½•åˆ›å»ºå’Œå˜åŒ–çš„ã€‚</p><h2 id="å‡½æ•°åˆ›å»º"><a href="#å‡½æ•°åˆ›å»º" class="headerlink" title="å‡½æ•°åˆ›å»º"></a>å‡½æ•°åˆ›å»º</h2><p>åœ¨<a href="https://github.com/mqyqingfeng/Blog/issues/3">ã€ŠJavaScriptæ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸã€‹</a>ä¸­è®²åˆ°ï¼Œå‡½æ•°çš„ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™å°±å†³å®šäº†ã€‚</p><p>è¿™æ˜¯å› ä¸ºå‡½æ•°æœ‰ä¸€ä¸ªå†…éƒ¨å±æ€§ [[scope]]ï¼Œå½“å‡½æ•°åˆ›å»ºçš„æ—¶å€™ï¼Œå°±ä¼šä¿å­˜æ‰€æœ‰çˆ¶å˜é‡å¯¹è±¡åˆ°å…¶ä¸­ï¼Œä½ å¯ä»¥ç†è§£ [[scope]] å°±æ˜¯æ‰€æœ‰çˆ¶å˜é‡å¯¹è±¡çš„å±‚çº§é“¾ï¼Œä½†æ˜¯æ³¨æ„ï¼š[[scope]] å¹¶ä¸ä»£è¡¨å®Œæ•´çš„ä½œç”¨åŸŸé“¾ï¼</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">    function bar() &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡½æ•°åˆ›å»ºæ—¶ï¼Œå„è‡ªçš„[[scope]]ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">foo.[[scope]] = [</span><br><span class="line">  globalContext.VO</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">bar.[[scope]] = [</span><br><span class="line">    fooContext.AO,</span><br><span class="line">    globalContext.VO</span><br><span class="line">];</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°æ¿€æ´»"><a href="#å‡½æ•°æ¿€æ´»" class="headerlink" title="å‡½æ•°æ¿€æ´»"></a>å‡½æ•°æ¿€æ´»</h2><p>å½“å‡½æ•°æ¿€æ´»æ—¶ï¼Œè¿›å…¥å‡½æ•°ä¸Šä¸‹æ–‡ï¼Œåˆ›å»º VO/AO åï¼Œå°±ä¼šå°†æ´»åŠ¨å¯¹è±¡æ·»åŠ åˆ°ä½œç”¨é“¾çš„å‰ç«¯ã€‚</p><p>è¿™æ—¶å€™æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ï¼Œæˆ‘ä»¬å‘½åä¸º Scopeï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scope = [AO].concat([[Scope]]);</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œä½œç”¨åŸŸé“¾åˆ›å»ºå®Œæ¯•ã€‚</p><h2 id="æ‹ä¸€æ‹"><a href="#æ‹ä¸€æ‹" class="headerlink" title="æ‹ä¸€æ‹"></a>æ‹ä¸€æ‹</h2><p>ä»¥ä¸‹é¢çš„ä¾‹å­ä¸ºä¾‹ï¼Œç»“åˆç€ä¹‹å‰è®²çš„å˜é‡å¯¹è±¡å’Œæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ä½œç”¨åŸŸé“¾å’Œå˜é‡å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var scope = &quot;global scope&quot;;</span><br><span class="line">function checkscope()&#123;</span><br><span class="line">    var scope2 = &#x27;local scope&#x27;;</span><br><span class="line">    return scope2;</span><br><span class="line">&#125;</span><br><span class="line">checkscope();</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p>1.checkscope å‡½æ•°è¢«åˆ›å»ºï¼Œä¿å­˜ä½œç”¨åŸŸé“¾åˆ° å†…éƒ¨å±æ€§[[scope]]</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">checkscope.[[scope]] = [</span><br><span class="line">    globalContext.VO</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>2.æ‰§è¡Œ checkscope å‡½æ•°ï¼Œåˆ›å»º checkscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œcheckscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ECStack = [</span><br><span class="line">    checkscopeContext,</span><br><span class="line">    globalContext</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>3.checkscope å‡½æ•°å¹¶ä¸ç«‹åˆ»æ‰§è¡Œï¼Œå¼€å§‹åšå‡†å¤‡å·¥ä½œï¼Œç¬¬ä¸€æ­¥ï¼šå¤åˆ¶å‡½æ•°[[scope]]å±æ€§åˆ›å»ºä½œç”¨åŸŸé“¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">checkscopeContext = &#123;</span><br><span class="line">    Scope: checkscope.[[scope]],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.ç¬¬äºŒæ­¥ï¼šç”¨ arguments åˆ›å»ºæ´»åŠ¨å¯¹è±¡ï¼Œéšååˆå§‹åŒ–æ´»åŠ¨å¯¹è±¡ï¼ŒåŠ å…¥å½¢å‚ã€å‡½æ•°å£°æ˜ã€å˜é‡å£°æ˜</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">checkscopeContext = &#123;</span><br><span class="line">    AO: &#123;</span><br><span class="line">        arguments: &#123;</span><br><span class="line">            length: 0</span><br><span class="line">        &#125;,</span><br><span class="line">        scope2: undefined</span><br><span class="line">    &#125;ï¼Œ</span><br><span class="line">    Scope: checkscope.[[scope]],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5.ç¬¬ä¸‰æ­¥ï¼šå°†æ´»åŠ¨å¯¹è±¡å‹å…¥ checkscope ä½œç”¨åŸŸé“¾é¡¶ç«¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">checkscopeContext = &#123;</span><br><span class="line">    AO: &#123;</span><br><span class="line">        arguments: &#123;</span><br><span class="line">            length: 0</span><br><span class="line">        &#125;,</span><br><span class="line">        scope2: undefined</span><br><span class="line">    &#125;,</span><br><span class="line">    Scope: [AO, [[Scope]]]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>6.å‡†å¤‡å·¥ä½œåšå®Œï¼Œå¼€å§‹æ‰§è¡Œå‡½æ•°ï¼Œéšç€å‡½æ•°çš„æ‰§è¡Œï¼Œä¿®æ”¹ AO çš„å±æ€§å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">checkscopeContext = &#123;</span><br><span class="line">    AO: &#123;</span><br><span class="line">        arguments: &#123;</span><br><span class="line">            length: 0</span><br><span class="line">        &#125;,</span><br><span class="line">        scope2: &#x27;local scope&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    Scope: [AO, [[Scope]]]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>7.æŸ¥æ‰¾åˆ° scope2 çš„å€¼ï¼Œè¿”å›åå‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå‡½æ•°ä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ECStack = [</span><br><span class="line">    globalContext</span><br><span class="line">];</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> ä½œç”¨åŸŸé“¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å²ä¸Šæœ€å¼ºvueæ€»ç»“---é¢è¯•å¼€å‘å…¨é å®ƒäº†</title>
      <link href="/2022/02/27/%E5%8F%B2%E4%B8%8A%E6%9C%80%E5%BC%BAvue%E6%80%BB%E7%BB%93-%E9%9D%A2%E8%AF%95%E5%BC%80%E5%8F%91%E5%85%A8%E9%9D%A0%E5%AE%83%E4%BA%86/"/>
      <url>/2022/02/27/%E5%8F%B2%E4%B8%8A%E6%9C%80%E5%BC%BAvue%E6%80%BB%E7%BB%93-%E9%9D%A2%E8%AF%95%E5%BC%80%E5%8F%91%E5%85%A8%E9%9D%A0%E5%AE%83%E4%BA%86/</url>
      
        <content type="html"><![CDATA[<h2 id="vueæ¡†æ¶ç¯‡"><a href="#vueæ¡†æ¶ç¯‡" class="headerlink" title="vueæ¡†æ¶ç¯‡"></a>vueæ¡†æ¶ç¯‡</h2><h3 id="vueçš„ä¼˜ç‚¹"><a href="#vueçš„ä¼˜ç‚¹" class="headerlink" title="vueçš„ä¼˜ç‚¹"></a>vueçš„ä¼˜ç‚¹</h3><p>è½»é‡çº§æ¡†æ¶ï¼šåªå…³æ³¨è§†å›¾å±‚ï¼Œæ˜¯ä¸€ä¸ªæ„å»ºæ•°æ®çš„è§†å›¾é›†åˆï¼Œå¤§å°åªæœ‰å‡ åkbï¼›</p><p>ç®€å•æ˜“å­¦ï¼šå›½äººå¼€å‘ï¼Œä¸­æ–‡æ–‡æ¡£ï¼Œä¸å­˜åœ¨è¯­è¨€éšœç¢ ï¼Œæ˜“äºç†è§£å’Œå­¦ä¹ ï¼›</p><p>åŒå‘æ•°æ®ç»‘å®šï¼šä¿ç•™äº†angularçš„ç‰¹ç‚¹ï¼Œåœ¨æ•°æ®æ“ä½œæ–¹é¢æ›´ä¸ºç®€å•ï¼›</p><p>ç»„ä»¶åŒ–ï¼šä¿ç•™äº†reactçš„ä¼˜ç‚¹ï¼Œå®ç°äº†htmlçš„å°è£…å’Œé‡ç”¨ï¼Œåœ¨æ„å»ºå•é¡µé¢åº”ç”¨æ–¹é¢æœ‰ç€ç‹¬ç‰¹çš„ä¼˜åŠ¿ï¼›</p><p>è§†å›¾ï¼Œæ•°æ®ï¼Œç»“æ„åˆ†ç¦»ï¼šä½¿æ•°æ®çš„æ›´æ”¹æ›´ä¸ºç®€å•ï¼Œä¸éœ€è¦è¿›è¡Œé€»è¾‘ä»£ç çš„ä¿®æ”¹ï¼Œåªéœ€è¦æ“ä½œæ•°æ®å°±èƒ½å®Œæˆç›¸å…³æ“ä½œï¼›</p><p>è™šæ‹ŸDOMï¼šdomæ“ä½œæ˜¯éå¸¸è€—è´¹æ€§èƒ½çš„ï¼Œä¸å†ä½¿ç”¨åŸç”Ÿçš„domæ“ä½œèŠ‚ç‚¹ï¼Œæå¤§è§£æ”¾domæ“ä½œï¼Œä½†å…·ä½“æ“ä½œçš„è¿˜æ˜¯domä¸è¿‡æ˜¯æ¢äº†å¦ä¸€ç§æ–¹å¼ï¼›</p><p>è¿è¡Œé€Ÿåº¦æ›´å¿«:ç›¸æ¯”è¾ƒä¸reactè€Œè¨€ï¼ŒåŒæ ·æ˜¯æ“ä½œè™šæ‹Ÿdomï¼Œå°±æ€§èƒ½è€Œè¨€ï¼Œvueå­˜åœ¨å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚</p><h3 id="è¯·è¯¦ç»†è¯´ä¸‹ä½ å¯¹vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ"><a href="#è¯·è¯¦ç»†è¯´ä¸‹ä½ å¯¹vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ" class="headerlink" title="è¯·è¯¦ç»†è¯´ä¸‹ä½ å¯¹vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ"></a>è¯·è¯¦ç»†è¯´ä¸‹ä½ å¯¹vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ</h3><p>æ€»å…±åˆ†ä¸º8ä¸ªé˜¶æ®µåˆ›å»ºå‰/åï¼Œè½½å…¥å‰/åï¼Œæ›´æ–°å‰/åï¼Œé”€æ¯å‰/åã€‚</p><blockquote><p>åˆ›å»ºå‰/åï¼š åœ¨beforeCreateé˜¶æ®µï¼Œvueå®ä¾‹çš„æŒ‚è½½å…ƒç´ elå’Œæ•°æ®å¯¹è±¡dataéƒ½ä¸ºundefinedï¼Œè¿˜æœªåˆå§‹åŒ–ã€‚åœ¨createdé˜¶æ®µï¼Œvueå®ä¾‹çš„æ•°æ®å¯¹è±¡dataæœ‰äº†ï¼Œelä¸ºundefinedï¼Œè¿˜æœªåˆå§‹åŒ–ã€‚</p></blockquote><blockquote><p>è½½å…¥å‰/åï¼šåœ¨beforeMounté˜¶æ®µï¼Œvueå®ä¾‹çš„$elå’Œdataéƒ½åˆå§‹åŒ–äº†ï¼Œä½†è¿˜æ˜¯æŒ‚è½½ä¹‹å‰ä¸ºè™šæ‹Ÿçš„domèŠ‚ç‚¹ï¼Œdata.messageè¿˜æœªæ›¿æ¢ã€‚åœ¨mountedé˜¶æ®µï¼Œvueå®ä¾‹æŒ‚è½½å®Œæˆï¼Œdata.messageæˆåŠŸæ¸²æŸ“ã€‚</p></blockquote><blockquote><p>æ›´æ–°å‰/åï¼šå½“dataå˜åŒ–æ—¶ï¼Œä¼šè§¦å‘beforeUpdateå’Œupdatedæ–¹æ³•</p></blockquote><blockquote><p>é”€æ¯å‰/åï¼šåœ¨æ‰§è¡Œdestroyæ–¹æ³•åï¼Œå¯¹dataçš„æ”¹å˜ä¸ä¼šå†è§¦å‘å‘¨æœŸå‡½æ•°ï¼Œè¯´æ˜æ­¤æ—¶vueå®ä¾‹å·²ç»è§£é™¤äº†äº‹ä»¶ç›‘å¬ä»¥åŠå’Œdomçš„ç»‘å®šï¼Œä½†æ˜¯domç»“æ„ä¾ç„¶å­˜åœ¨</p></blockquote><h3 id="ä¸ºä»€ä¹ˆvueç»„ä»¶ä¸­dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆvueç»„ä»¶ä¸­dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆvueç»„ä»¶ä¸­dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ"></a>ä¸ºä»€ä¹ˆvueç»„ä»¶ä¸­dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ</h3><p>å¯¹è±¡ä¸ºå¼•ç”¨ç±»å‹ï¼Œå½“å¤ç”¨ç»„ä»¶æ—¶ï¼Œç”±äºæ•°æ®å¯¹è±¡éƒ½æŒ‡å‘åŒä¸€ä¸ªdataå¯¹è±¡ï¼Œå½“åœ¨ä¸€ä¸ªç»„ä»¶ä¸­ä¿®æ”¹dataæ—¶ï¼Œå…¶ä»–é‡ç”¨çš„ç»„ä»¶ä¸­çš„dataä¼šåŒæ—¶è¢«ä¿®æ”¹ï¼›è€Œä½¿ç”¨è¿”å›å¯¹è±¡çš„å‡½æ•°ï¼Œç”±äºæ¯æ¬¡è¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡ï¼ˆObjectçš„å®ä¾‹ï¼‰ï¼Œå¼•ç”¨åœ°å€ä¸åŒï¼Œåˆ™ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚</p><h3 id="vueä¸­v-ifå’Œv-showæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#vueä¸­v-ifå’Œv-showæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="vueä¸­v-ifå’Œv-showæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>vueä¸­v-ifå’Œv-showæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>v-ifå’Œv-showçœ‹èµ·æ¥ä¼¼ä¹å·®ä¸å¤šï¼Œå½“æ¡ä»¶ä¸æˆç«‹æ—¶ï¼Œå…¶æ‰€å¯¹åº”çš„æ ‡ç­¾å…ƒç´ éƒ½ä¸å¯è§ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªé€‰é¡¹æ˜¯æœ‰åŒºåˆ«çš„:</p><p>1ã€v-ifåœ¨æ¡ä»¶åˆ‡æ¢æ—¶ï¼Œä¼šå¯¹æ ‡ç­¾è¿›è¡Œé€‚å½“çš„åˆ›å»ºå’Œé”€æ¯ï¼Œè€Œv-showåˆ™ä»…åœ¨åˆå§‹åŒ–æ—¶åŠ è½½ä¸€æ¬¡ï¼Œå› æ­¤v-ifçš„å¼€é”€ç›¸å¯¹æ¥è¯´ä¼šæ¯”v-showå¤§ã€‚</p><p>2ã€v-ifæ˜¯æƒ°æ€§çš„ï¼Œåªæœ‰å½“æ¡ä»¶ä¸ºçœŸæ—¶æ‰ä¼šçœŸæ­£æ¸²æŸ“æ ‡ç­¾ï¼›å¦‚æœåˆå§‹æ¡ä»¶ä¸ä¸ºçœŸï¼Œåˆ™v-ifä¸ä¼šå»æ¸²æŸ“æ ‡ç­¾ã€‚v-showåˆ™æ— è®ºåˆå§‹æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œéƒ½ä¼šæ¸²æŸ“æ ‡ç­¾ï¼Œå®ƒä»…ä»…åšçš„åªæ˜¯ç®€å•çš„CSSåˆ‡æ¢ã€‚</p><h3 id="computedå’Œwatchçš„åŒºåˆ«"><a href="#computedå’Œwatchçš„åŒºåˆ«" class="headerlink" title="computedå’Œwatchçš„åŒºåˆ«"></a>computedå’Œwatchçš„åŒºåˆ«</h3><h4 id="è®¡ç®—å±æ€§computedï¼š"><a href="#è®¡ç®—å±æ€§computedï¼š" class="headerlink" title="è®¡ç®—å±æ€§computedï¼š"></a>è®¡ç®—å±æ€§computedï¼š</h4><ul><li>æ”¯æŒç¼“å­˜ï¼Œåªæœ‰ä¾èµ–æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œæ‰ä¼šé‡æ–°è¿›è¡Œè®¡ç®—</li><li>ä¸æ”¯æŒå¼‚æ­¥ï¼Œå½“computedå†…æœ‰å¼‚æ­¥æ“ä½œæ—¶æ— æ•ˆï¼Œæ— æ³•ç›‘å¬æ•°æ®çš„å˜åŒ–</li><li>computed å±æ€§å€¼ä¼šé»˜è®¤èµ°ç¼“å­˜ï¼Œè®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„ï¼Œä¹Ÿå°±æ˜¯åŸºäºdataä¸­å£°æ˜è¿‡æˆ–è€…çˆ¶ç»„ä»¶ä¼ é€’çš„propsä¸­çš„æ•°æ®é€šè¿‡è®¡ç®—å¾—åˆ°çš„å€¼</li><li>å¦‚æœä¸€ä¸ªå±æ€§æ˜¯ç”±å…¶ä»–å±æ€§è®¡ç®—è€Œæ¥çš„ï¼Œè¿™ä¸ªå±æ€§ä¾èµ–å…¶ä»–å±æ€§ï¼Œæ˜¯ä¸€ä¸ªå¤šå¯¹ä¸€æˆ–è€…ä¸€å¯¹ä¸€ï¼Œä¸€èˆ¬ç”¨computed</li><li>å¦‚æœcomputedå±æ€§å±æ€§å€¼æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆé»˜è®¤ä¼šèµ°getæ–¹æ³•ï¼›å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯å±æ€§çš„å±æ€§å€¼ï¼›åœ¨computedä¸­çš„ï¼Œå±æ€§éƒ½æœ‰ä¸€ä¸ªgetå’Œä¸€ä¸ªsetæ–¹æ³•ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œè°ƒç”¨setæ–¹æ³•ã€‚</li></ul><h4 id="ä¾¦å¬å±æ€§watchï¼š"><a href="#ä¾¦å¬å±æ€§watchï¼š" class="headerlink" title="ä¾¦å¬å±æ€§watchï¼š"></a>ä¾¦å¬å±æ€§watchï¼š</h4><ul><li>ä¸æ”¯æŒç¼“å­˜ï¼Œæ•°æ®å˜ï¼Œç›´æ¥ä¼šè§¦å‘ç›¸åº”çš„æ“ä½œï¼›</li><li>watchæ”¯æŒå¼‚æ­¥ï¼›</li><li>ç›‘å¬çš„å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æœ€æ–°çš„å€¼ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¾“å…¥ä¹‹å‰çš„å€¼ï¼›</li><li>å½“ä¸€ä¸ªå±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦æ‰§è¡Œå¯¹åº”çš„æ“ä½œï¼›ä¸€å¯¹å¤šï¼›</li><li>ç›‘å¬æ•°æ®å¿…é¡»æ˜¯dataä¸­å£°æ˜è¿‡æˆ–è€…çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„propsä¸­çš„æ•°æ®ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œè§¦å‘å…¶ä»–æ“ä½œï¼Œå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼š</li></ul><blockquote><p>immediateï¼šç»„ä»¶åŠ è½½ç«‹å³è§¦å‘å›è°ƒå‡½æ•°æ‰§è¡Œ</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  firstName: &#123;</span><br><span class="line">    handler(newName, oldName) &#123;</span><br><span class="line">      this.fullName = newName + &#x27; &#x27; + this.lastName;</span><br><span class="line">    &#125;,</span><br><span class="line">    // ä»£è¡¨åœ¨wacthé‡Œå£°æ˜äº†firstNameè¿™ä¸ªæ–¹æ³•ä¹‹åç«‹å³æ‰§è¡Œhandleræ–¹æ³•</span><br><span class="line">    immediate: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><blockquote><p>deep: deepçš„æ„æ€å°±æ˜¯æ·±å…¥è§‚å¯Ÿï¼Œç›‘å¬å™¨ä¼šä¸€å±‚å±‚çš„å¾€ä¸‹éå†ï¼Œç»™å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½åŠ ä¸Šè¿™ä¸ªç›‘å¬å™¨ï¼Œä½†æ˜¯è¿™æ ·æ€§èƒ½å¼€é”€å°±ä¼šéå¸¸å¤§äº†ï¼Œä»»ä½•ä¿®æ”¹objé‡Œé¢ä»»ä½•ä¸€ä¸ªå±æ€§éƒ½ä¼šè§¦å‘è¿™ä¸ªç›‘å¬å™¨é‡Œçš„ handler</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  obj: &#123;</span><br><span class="line">    handler(newName, oldName) &#123;</span><br><span class="line">      console.log(&#x27;obj.a changed&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    immediate: true,</span><br><span class="line">    deep: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¼˜åŒ–ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²çš„å½¢å¼ç›‘å¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  &#x27;obj.a&#x27;: &#123;</span><br><span class="line">    handler(newName, oldName) &#123;</span><br><span class="line">      console.log(&#x27;obj.a changed&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    immediate: true,</span><br><span class="line">    // deep: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·Vue.jsæ‰ä¼šä¸€å±‚ä¸€å±‚è§£æä¸‹å»ï¼Œç›´åˆ°é‡åˆ°å±æ€§aï¼Œç„¶åæ‰ç»™aè®¾ç½®ç›‘å¬å‡½æ•°ã€‚</p><h3 id="vue-loaderæ˜¯ä»€ä¹ˆï¼Ÿä½¿ç”¨å®ƒçš„ç”¨é€”æœ‰å“ªäº›ï¼Ÿ"><a href="#vue-loaderæ˜¯ä»€ä¹ˆï¼Ÿä½¿ç”¨å®ƒçš„ç”¨é€”æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="vue-loaderæ˜¯ä»€ä¹ˆï¼Ÿä½¿ç”¨å®ƒçš„ç”¨é€”æœ‰å“ªäº›ï¼Ÿ"></a>vue-loaderæ˜¯ä»€ä¹ˆï¼Ÿä½¿ç”¨å®ƒçš„ç”¨é€”æœ‰å“ªäº›ï¼Ÿ</h3><p>vueæ–‡ä»¶çš„ä¸€ä¸ªåŠ è½½å™¨ï¼Œè·Ÿtemplate/js/styleè½¬æ¢æˆjsæ¨¡å—ã€‚</p><h3 id="nextTickæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#nextTickæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="$nextTickæ˜¯ä»€ä¹ˆï¼Ÿ"></a>$nextTickæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>vueå®ç°å“åº”å¼å¹¶ä¸æ˜¯æ•°æ®å‘ç”Ÿå˜åŒ–ådomç«‹å³å˜åŒ–ï¼Œè€Œæ˜¯æŒ‰ç…§ä¸€å®šçš„ç­–ç•¥æ¥è¿›è¡Œdomæ›´æ–°ã€‚</p><blockquote><p>nextTick æ˜¯åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œåœ¨ä¿®æ”¹æ•°æ®ä¹‹åä½¿ç”¨nextTickï¼Œåˆ™å¯ä»¥åœ¨å›è°ƒä¸­è·å–æ›´æ–°åçš„ DOM</p></blockquote><h3 id="v-for-keyçš„ä½œç”¨"><a href="#v-for-keyçš„ä½œç”¨" class="headerlink" title="v-for keyçš„ä½œç”¨"></a>v-for keyçš„ä½œç”¨</h3><p>å½“Vueç”¨ v-for æ­£åœ¨æ›´æ–°å·²æ¸²æŸ“è¿‡çš„å…ƒç´ åˆ—è¡¨æ˜¯ï¼Œå®ƒé»˜è®¤ç”¨â€œå°±åœ°å¤ç”¨â€ç­–ç•¥ã€‚å¦‚æœæ•°æ®é¡¹çš„é¡ºåºè¢«æ”¹å˜ï¼ŒVueå°†ä¸æ˜¯ç§»åŠ¨DOMå…ƒç´ æ¥åŒ¹é…æ•°æ®é¡¹çš„æ”¹å˜ï¼Œè€Œæ˜¯ç®€å•å¤ç”¨æ­¤å¤„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ç¡®ä¿å®ƒåœ¨ç‰¹å®šç´¢å¼•ä¸‹æ˜¾ç¤ºå·²è¢«æ¸²æŸ“è¿‡çš„æ¯ä¸ªå…ƒç´ ã€‚</p><p>ä¸ºäº†ç»™Vueä¸€ä¸ªæç¤ºï¼Œä»¥ä¾¿å®ƒèƒ½è·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ï¼Œä»è€Œé‡ç”¨å’Œé‡æ–°æ’åºç°æœ‰å…ƒç´ ï¼Œä½ éœ€è¦ä¸ºæ¯é¡¹æä¾›ä¸€ä¸ªå”¯ä¸€ key å±æ€§ã€‚keyå±æ€§çš„ç±»å‹åªèƒ½ä¸º stringæˆ–è€…numberç±»å‹ã€‚</p><p>key çš„ç‰¹æ®Šå±æ€§ä¸»è¦ç”¨åœ¨Vueçš„è™šæ‹ŸDOMç®—æ³•ï¼Œåœ¨æ–°æ—§nodeså¯¹æ¯”æ—¶è¾¨è¯†VNodesã€‚å¦‚æœä¸ä½¿ç”¨ keyï¼ŒVueä¼šä½¿ç”¨ä¸€ç§æœ€å¤§é™åº¦å‡å°‘åŠ¨æ€å…ƒç´ å¹¶ä¸”å°½å¯èƒ½çš„å°è¯•ä¿®å¤/å†åˆ©ç”¨ç›¸åŒç±»å‹å…ƒç´ çš„ç®—æ³•ã€‚ä½¿ç”¨keyï¼Œå®ƒä¼šåŸºäºkeyçš„å˜åŒ–é‡æ–°æ’åˆ—å…ƒç´ é¡ºåºï¼Œå¹¶ä¸”ä¼šç§»é™¤ key ä¸å­˜åœ¨çš„å…ƒç´ ã€‚</p><h3 id="Vueçš„åŒå‘æ•°æ®ç»‘å®šåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Vueçš„åŒå‘æ•°æ®ç»‘å®šåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Vueçš„åŒå‘æ•°æ®ç»‘å®šåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Vueçš„åŒå‘æ•°æ®ç»‘å®šåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>vue.js æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡Object.defineProperty()æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterï¼Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒã€‚ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><blockquote><p>1ã€éœ€è¦observeçš„æ•°æ®å¯¹è±¡è¿›è¡Œé€’å½’éå†ï¼ŒåŒ…æ‹¬å­å±æ€§å¯¹è±¡çš„å±æ€§ï¼Œéƒ½åŠ ä¸Šsetterå’Œgetterè¿™æ ·çš„è¯ï¼Œç»™è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªå€¼èµ‹å€¼ï¼Œå°±ä¼šè§¦å‘setterï¼Œé‚£ä¹ˆå°±èƒ½ç›‘å¬åˆ°äº†æ•°æ®å˜åŒ–</p></blockquote><blockquote><p>2ã€compileè§£ææ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­çš„å˜é‡æ›¿æ¢æˆæ•°æ®ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾ï¼Œå¹¶å°†æ¯ä¸ªæŒ‡ä»¤å¯¹åº”çš„èŠ‚ç‚¹ç»‘å®šæ›´æ–°å‡½æ•°ï¼Œæ·»åŠ ç›‘å¬æ•°æ®çš„è®¢é˜…è€…ï¼Œä¸€æ—¦æ•°æ®æœ‰å˜åŠ¨ï¼Œæ”¶åˆ°é€šçŸ¥ï¼Œæ›´æ–°è§†å›¾</p></blockquote><blockquote><p>3ã€Watcherè®¢é˜…è€…æ˜¯Observerå’ŒCompileä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ï¼Œä¸»è¦åšçš„äº‹æƒ…æ˜¯: â‘ åœ¨è‡ªèº«å®ä¾‹åŒ–æ—¶å¾€å±æ€§è®¢é˜…å™¨(dep)é‡Œé¢æ·»åŠ è‡ªå·± â‘¡è‡ªèº«å¿…é¡»æœ‰ä¸€ä¸ªupdate()æ–¹æ³• â‘¢å¾…å±æ€§å˜åŠ¨dep.notice()é€šçŸ¥æ—¶ï¼Œèƒ½è°ƒç”¨è‡ªèº«çš„update()æ–¹æ³•ï¼Œå¹¶è§¦å‘Compileä¸­ç»‘å®šçš„å›è°ƒï¼Œåˆ™åŠŸæˆèº«é€€ã€‚</p></blockquote><blockquote><p>4ã€MVVMä½œä¸ºæ•°æ®ç»‘å®šçš„å…¥å£ï¼Œæ•´åˆObserverã€Compileå’ŒWatcherä¸‰è€…ï¼Œé€šè¿‡Observeræ¥ç›‘å¬è‡ªå·±çš„modelæ•°æ®å˜åŒ–ï¼Œé€šè¿‡Compileæ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼Œæœ€ç»ˆåˆ©ç”¨Watcheræ­èµ·Observerå’ŒCompileä¹‹é—´çš„é€šä¿¡æ¡¥æ¢ï¼Œè¾¾åˆ°æ•°æ®å˜åŒ– -&gt; è§†å›¾æ›´æ–°ï¼›è§†å›¾äº¤äº’å˜åŒ–(input) -&gt; æ•°æ®modelå˜æ›´çš„åŒå‘ç»‘å®šæ•ˆæœã€‚</p></blockquote><h3 id="ç»„ä»¶ä¼ å€¼"><a href="#ç»„ä»¶ä¼ å€¼" class="headerlink" title="ç»„ä»¶ä¼ å€¼"></a>ç»„ä»¶ä¼ å€¼</h3><h4 id="çˆ¶ä¼ å­"><a href="#çˆ¶ä¼ å­" class="headerlink" title="çˆ¶ä¼ å­"></a>çˆ¶ä¼ å­</h4><p>é€šè¿‡propsä¼ é€’</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ï¼š &lt;child value = &#x27;ä¼ é€’çš„æ•°æ®&#x27; /&gt;</span><br><span class="line"></span><br><span class="line">å­ç»„ä»¶: props[&#x27;value&#x27;],æ¥æ”¶æ•°æ®,æ¥å—ä¹‹åä½¿ç”¨å’Œdataä¸­å®šä¹‰æ•°æ®ä½¿ç”¨æ–¹å¼ä¸€æ ·</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="å­ä¼ çˆ¶"><a href="#å­ä¼ çˆ¶" class="headerlink" title="å­ä¼ çˆ¶"></a>å­ä¼ çˆ¶</h4><p>åœ¨çˆ¶ç»„ä»¶ä¸­ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰çš„äº‹ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡$emit()è§¦å‘è¯¥äº‹ä»¶å¹¶ä¼ å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ï¼š &lt;child @receive = &#x27;receive&#x27; /&gt;</span><br><span class="line"></span><br><span class="line"> å­ç»„ä»¶: this.$emit(&#x27;receive&#x27;,&#x27;ä¼ é€’çš„æ•°æ®&#x27;)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="å…„å¼Ÿç»„ä»¶ä¼ å€¼"><a href="#å…„å¼Ÿç»„ä»¶ä¼ å€¼" class="headerlink" title="å…„å¼Ÿç»„ä»¶ä¼ å€¼"></a>å…„å¼Ÿç»„ä»¶ä¼ å€¼</h4><ul><li>é€šè¿‡ä¸­å¤®é€šä¿¡ let bus = new Vue()</li></ul><blockquote><p>Aï¼šmethods :{ å‡½æ•°{bus.$emit(â€˜è‡ªå®šä¹‰äº‹ä»¶åâ€™ï¼Œæ•°æ®)} å‘é€</p></blockquote><blockquote><p>Bï¼šcreated ï¼ˆï¼‰{bus.$on(â€˜Aå‘é€è¿‡æ¥çš„è‡ªå®šä¹‰äº‹ä»¶åâ€™ï¼Œå‡½æ•°)} è¿›è¡Œæ•°æ®æ¥æ”¶</p></blockquote><ul><li>é€šè¿‡vuex</li></ul><h3 id="prop-éªŒè¯ï¼Œå’Œé»˜è®¤å€¼"><a href="#prop-éªŒè¯ï¼Œå’Œé»˜è®¤å€¼" class="headerlink" title="prop éªŒè¯ï¼Œå’Œé»˜è®¤å€¼"></a>prop éªŒè¯ï¼Œå’Œé»˜è®¤å€¼</h3><p>æˆ‘ä»¬åœ¨çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šè¯¥propsçš„é»˜è®¤å€¼åŠç±»å‹ï¼Œå½“ä¼ é€’æ•°æ®ç±»å‹ä¸æ­£ç¡®çš„æ—¶å€™ï¼Œvueä¼šå‘å‡ºè­¦å‘Š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">    visible: &#123;</span><br><span class="line">        default: true,</span><br><span class="line">        type: Boolean,</span><br><span class="line">        required: true</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;,</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="è¯·è¯´ä¸‹å°è£…-vue-ç»„ä»¶çš„è¿‡ç¨‹"><a href="#è¯·è¯´ä¸‹å°è£…-vue-ç»„ä»¶çš„è¿‡ç¨‹" class="headerlink" title="è¯·è¯´ä¸‹å°è£… vue ç»„ä»¶çš„è¿‡ç¨‹"></a>è¯·è¯´ä¸‹å°è£… vue ç»„ä»¶çš„è¿‡ç¨‹</h3><p>é¦–å…ˆï¼Œç»„ä»¶å¯ä»¥æå‡æ•´ä¸ªé¡¹ç›®çš„å¼€å‘æ•ˆç‡ã€‚èƒ½å¤ŸæŠŠé¡µé¢æŠ½è±¡æˆå¤šä¸ªç›¸å¯¹ç‹¬ç«‹çš„æ¨¡å—ï¼Œè§£å†³äº†æˆ‘ä»¬ä¼ ç»Ÿé¡¹ç›®å¼€å‘ï¼šæ•ˆç‡ä½ã€éš¾ç»´æŠ¤ã€å¤ç”¨æ€§ç­‰é—®é¢˜ã€‚</p><p>ç„¶åï¼Œä½¿ç”¨Vue.extendæ–¹æ³•åˆ›å»ºä¸€ä¸ªç»„ä»¶ï¼Œç„¶åä½¿ç”¨Vue.componentæ–¹æ³•æ³¨å†Œç»„ä»¶ã€‚å­ç»„ä»¶éœ€è¦æ•°æ®ï¼Œå¯ä»¥åœ¨propsä¸­æ¥å—å®šä¹‰ã€‚è€Œå­ç»„ä»¶ä¿®æ”¹å¥½æ•°æ®åï¼Œæƒ³æŠŠæ•°æ®ä¼ é€’ç»™çˆ¶ç»„ä»¶ã€‚å¯ä»¥é‡‡ç”¨emitæ–¹æ³•ã€‚</p><h3 id="Vue-jsçš„templateç¼–è¯‘"><a href="#Vue-jsçš„templateç¼–è¯‘" class="headerlink" title="Vue.jsçš„templateç¼–è¯‘"></a>Vue.jsçš„templateç¼–è¯‘</h3><p>ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å…ˆè½¬åŒ–æˆASTæ ‘ï¼Œå†å¾—åˆ°çš„renderå‡½æ•°è¿”å›VNodeï¼ˆVueçš„è™šæ‹ŸDOMèŠ‚ç‚¹ï¼‰ï¼Œè¯¦ç»†æ­¥éª¤å¦‚ä¸‹ï¼š</p><blockquote><p>é¦–å…ˆï¼Œé€šè¿‡compileç¼–è¯‘å™¨æŠŠtemplateç¼–è¯‘æˆASTè¯­æ³•æ ‘ï¼ˆabstract syntax tree å³ æºä»£ç çš„æŠ½è±¡è¯­æ³•ç»“æ„çš„æ ‘çŠ¶è¡¨ç°å½¢å¼ï¼‰ï¼Œcompileæ˜¯createCompilerçš„è¿”å›å€¼ï¼ŒcreateCompileræ˜¯ç”¨ä»¥åˆ›å»ºç¼–è¯‘å™¨çš„ã€‚å¦å¤–compileè¿˜è´Ÿè´£åˆå¹¶optionã€‚</p></blockquote><blockquote><p>ç„¶åï¼ŒASTä¼šç»è¿‡generateï¼ˆå°†ASTè¯­æ³•æ ‘è½¬åŒ–æˆrender funtionå­—ç¬¦ä¸²çš„è¿‡ç¨‹ï¼‰å¾—åˆ°renderå‡½æ•°ï¼Œrenderçš„è¿”å›å€¼æ˜¯VNodeï¼ŒVNodeæ˜¯Vueçš„è™šæ‹ŸDOMèŠ‚ç‚¹ï¼Œé‡Œé¢æœ‰ï¼ˆæ ‡ç­¾åã€å­èŠ‚ç‚¹ã€æ–‡æœ¬ç­‰ç­‰ï¼‰</p></blockquote><h3 id="scssæ˜¯ä»€ä¹ˆï¼Ÿåœ¨vue-cliä¸­çš„å®‰è£…ä½¿ç”¨æ­¥éª¤æ˜¯ï¼Ÿæœ‰å“ªå‡ å¤§ç‰¹æ€§ï¼Ÿ"><a href="#scssæ˜¯ä»€ä¹ˆï¼Ÿåœ¨vue-cliä¸­çš„å®‰è£…ä½¿ç”¨æ­¥éª¤æ˜¯ï¼Ÿæœ‰å“ªå‡ å¤§ç‰¹æ€§ï¼Ÿ" class="headerlink" title="scssæ˜¯ä»€ä¹ˆï¼Ÿåœ¨vue.cliä¸­çš„å®‰è£…ä½¿ç”¨æ­¥éª¤æ˜¯ï¼Ÿæœ‰å“ªå‡ å¤§ç‰¹æ€§ï¼Ÿ"></a>scssæ˜¯ä»€ä¹ˆï¼Ÿåœ¨vue.cliä¸­çš„å®‰è£…ä½¿ç”¨æ­¥éª¤æ˜¯ï¼Ÿæœ‰å“ªå‡ å¤§ç‰¹æ€§ï¼Ÿ</h3><p>cssçš„é¢„ç¼–è¯‘,ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>ç¬¬ä¸€æ­¥ï¼šç”¨npm ä¸‹ä¸‰ä¸ªloaderï¼ˆsass-loaderã€css-loaderã€node-sassï¼‰</p><p>ç¬¬äºŒæ­¥ï¼šåœ¨buildç›®å½•æ‰¾åˆ°webpack.base.config.jsï¼Œåœ¨é‚£ä¸ªextendså±æ€§ä¸­åŠ ä¸€ä¸ªæ‹“å±•.scss</p><p>ç¬¬ä¸‰æ­¥ï¼šè¿˜æ˜¯åœ¨åŒä¸€ä¸ªæ–‡ä»¶ï¼Œé…ç½®ä¸€ä¸ªmoduleå±æ€§</p><p>ç¬¬å››æ­¥ï¼šç„¶ååœ¨ç»„ä»¶çš„styleæ ‡ç­¾åŠ ä¸Šlangå±æ€§ ï¼Œä¾‹å¦‚ï¼šlang=â€scssâ€</p><p>ç‰¹æ€§ä¸»è¦æœ‰:</p><ul><li>å¯ä»¥ç”¨å˜é‡ï¼Œä¾‹å¦‚ï¼ˆ$å˜é‡åç§°=å€¼ï¼‰</li><li>å¯ä»¥ç”¨æ··åˆå™¨ï¼Œä¾‹å¦‚ï¼ˆï¼‰</li><li>å¯ä»¥åµŒå¥—</li></ul><h3 id="vueå¦‚ä½•ç›‘å¬å¯¹è±¡æˆ–è€…æ•°ç»„æŸä¸ªå±æ€§çš„å˜åŒ–"><a href="#vueå¦‚ä½•ç›‘å¬å¯¹è±¡æˆ–è€…æ•°ç»„æŸä¸ªå±æ€§çš„å˜åŒ–" class="headerlink" title="vueå¦‚ä½•ç›‘å¬å¯¹è±¡æˆ–è€…æ•°ç»„æŸä¸ªå±æ€§çš„å˜åŒ–"></a>vueå¦‚ä½•ç›‘å¬å¯¹è±¡æˆ–è€…æ•°ç»„æŸä¸ªå±æ€§çš„å˜åŒ–</h3><p>å½“åœ¨é¡¹ç›®ä¸­ç›´æ¥è®¾ç½®æ•°ç»„çš„æŸä¸€é¡¹çš„å€¼ï¼Œæˆ–è€…ç›´æ¥è®¾ç½®å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä½ ä¼šå‘ç°é¡µé¢å¹¶æ²¡æœ‰æ›´æ–°ã€‚è¿™æ˜¯å› ä¸ºObject.defineProperty()é™åˆ¶ï¼Œç›‘å¬ä¸åˆ°å˜åŒ–ã€‚</p><p>è§£å†³æ–¹å¼ï¼š</p><ul><li>this.$set(ä½ è¦æ”¹å˜çš„æ•°ç»„/å¯¹è±¡ï¼Œä½ è¦æ”¹å˜çš„ä½ç½®/keyï¼Œä½ è¦æ”¹æˆä»€ä¹ˆvalue)</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$set(this.arr, 0, &quot;OBKoro1&quot;); // æ”¹å˜æ•°ç»„</span><br><span class="line">this.$set(this.obj, &quot;c&quot;, &quot;OBKoro1&quot;); // æ”¹å˜å¯¹è±¡</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>è°ƒç”¨ä»¥ä¸‹å‡ ä¸ªæ•°ç»„çš„æ–¹æ³•</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">splice()ã€ push()ã€pop()ã€shift()ã€unshift()ã€sort()ã€reverse()</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>vueæºç é‡Œç¼“å­˜äº†arrayçš„åŸå‹é“¾ï¼Œç„¶åé‡å†™äº†è¿™å‡ ä¸ªæ–¹æ³•ï¼Œè§¦å‘è¿™å‡ ä¸ªæ–¹æ³•çš„æ—¶å€™ä¼šobserveræ•°æ®ï¼Œæ„æ€æ˜¯ä½¿ç”¨è¿™äº›æ–¹æ³•ä¸ç”¨æˆ‘ä»¬å†è¿›è¡Œé¢å¤–çš„æ“ä½œï¼Œè§†å›¾è‡ªåŠ¨è¿›è¡Œæ›´æ–°ã€‚ æ¨èä½¿ç”¨spliceæ–¹æ³•ä¼šæ¯”è¾ƒå¥½è‡ªå®šä¹‰,å› ä¸ºspliceå¯ä»¥åœ¨æ•°ç»„çš„ä»»ä½•ä½ç½®è¿›è¡Œåˆ é™¤/æ·»åŠ æ“ä½œ</p><h3 id="å¸¸ç”¨çš„äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#å¸¸ç”¨çš„äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="å¸¸ç”¨çš„äº‹ä»¶ä¿®é¥°ç¬¦"></a>å¸¸ç”¨çš„äº‹ä»¶ä¿®é¥°ç¬¦</h3><ul><li>.stop:é˜»æ­¢å†’æ³¡</li><li>.prevent:é˜»æ­¢é»˜è®¤è¡Œä¸º</li><li>.self:ä»…ç»‘å®šå…ƒç´ è‡ªèº«è§¦å‘</li><li>.once: 2.1.4 æ–°å¢,åªè§¦å‘ä¸€æ¬¡</li><li>passive: 2.3.0 æ–°å¢,æ»šåŠ¨äº‹ä»¶çš„é»˜è®¤è¡Œä¸º (å³æ»šåŠ¨è¡Œä¸º) å°†ä¼šç«‹å³è§¦å‘,ä¸èƒ½å’Œ.prevent ä¸€èµ·ä½¿ç”¨</li><li>.sync ä¿®é¥°ç¬¦</li></ul><p>ä» 2.3.0 èµ·vueé‡æ–°å¼•å…¥äº†.syncä¿®é¥°ç¬¦ï¼Œä½†æ˜¯è¿™æ¬¡å®ƒåªæ˜¯ä½œä¸ºä¸€ä¸ªç¼–è¯‘æ—¶çš„è¯­æ³•ç³–å­˜åœ¨ã€‚å®ƒä¼šè¢«æ‰©å±•ä¸ºä¸€ä¸ªè‡ªåŠ¨æ›´æ–°çˆ¶ç»„ä»¶å±æ€§çš„ v-on ç›‘å¬å™¨ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;comp :foo.sync=&quot;bar&quot;&gt;&lt;/comp&gt;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¼šè¢«æ‰©å±•ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;comp :foo=&quot;bar&quot; @update:foo=&quot;val =&gt; bar = val&quot;&gt;&lt;/comp&gt;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å½“å­ç»„ä»¶éœ€è¦æ›´æ–° foo çš„å€¼æ—¶ï¼Œå®ƒéœ€è¦æ˜¾å¼åœ°è§¦å‘ä¸€ä¸ªæ›´æ–°äº‹ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$emit(&#x27;update:foo&#x27;, newValue)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="vueå¦‚ä½•è·å–dom"><a href="#vueå¦‚ä½•è·å–dom" class="headerlink" title="vueå¦‚ä½•è·å–dom"></a>vueå¦‚ä½•è·å–dom</h3><p>å…ˆç»™æ ‡ç­¾è®¾ç½®ä¸€ä¸ªrefå€¼ï¼Œå†é€šè¿‡this.$refs.domNameè·å–ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div ref=&quot;test&quot;&gt;&lt;/div&gt;const dom = this.$refs.testå¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="v-onå¯ä»¥ç›‘å¬å¤šä¸ªæ–¹æ³•å—ï¼Ÿ"><a href="#v-onå¯ä»¥ç›‘å¬å¤šä¸ªæ–¹æ³•å—ï¼Ÿ" class="headerlink" title="v-onå¯ä»¥ç›‘å¬å¤šä¸ªæ–¹æ³•å—ï¼Ÿ"></a>v-onå¯ä»¥ç›‘å¬å¤šä¸ªæ–¹æ³•å—ï¼Ÿ</h3><p>æ˜¯å¯ä»¥çš„ï¼Œæ¥ä¸ªä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; v-on=&quot;&#123; input:onInput,focus:onFocus,blur:onBlur, &#125;&quot;&gt;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="assetså’Œstaticçš„åŒºåˆ«"><a href="#assetså’Œstaticçš„åŒºåˆ«" class="headerlink" title="assetså’Œstaticçš„åŒºåˆ«"></a>assetså’Œstaticçš„åŒºåˆ«</h3><p>è¿™ä¸¤ä¸ªéƒ½æ˜¯ç”¨æ¥å­˜æ”¾é¡¹ç›®ä¸­æ‰€ä½¿ç”¨çš„é™æ€èµ„æºæ–‡ä»¶ã€‚</p><p>ä¸¤è€…çš„åŒºåˆ«ï¼š</p><p>assetsä¸­çš„æ–‡ä»¶åœ¨è¿è¡Œnpm run buildçš„æ—¶å€™ä¼šæ‰“åŒ…ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¼šè¢«å‹ç¼©ä½“ç§¯ï¼Œä»£ç æ ¼å¼åŒ–ä¹‹ç±»çš„ã€‚æ‰“åŒ…ä¹‹åä¹Ÿä¼šæ”¾åˆ°staticä¸­ã€‚</p><p>staticä¸­çš„æ–‡ä»¶åˆ™ä¸ä¼šè¢«æ‰“åŒ…ã€‚</p><blockquote><p>å»ºè®®ï¼šå°†å›¾ç‰‡ç­‰æœªå¤„ç†çš„æ–‡ä»¶æ”¾åœ¨assetsä¸­ï¼Œæ‰“åŒ…å‡å°‘ä½“ç§¯ã€‚è€Œå¯¹äºç¬¬ä¸‰æ–¹å¼•å…¥çš„ä¸€äº›èµ„æºæ–‡ä»¶å¦‚iconfont.cssç­‰å¯ä»¥æ”¾åœ¨staticä¸­ï¼Œå› ä¸ºè¿™äº›æ–‡ä»¶å·²ç»ç»è¿‡å¤„ç†äº†ã€‚</p></blockquote><h3 id="slotæ’æ§½"><a href="#slotæ’æ§½" class="headerlink" title="slotæ’æ§½"></a>slotæ’æ§½</h3><p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å°è£…äº†ä¸€ä¸ªå­ç»„ä»¶ä¹‹åï¼Œåœ¨çˆ¶ç»„ä»¶ä½¿ç”¨çš„æ—¶å€™ï¼Œæƒ³æ·»åŠ ä¸€äº›domå…ƒç´ ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨slotæ’æ§½äº†ï¼Œä½†æ˜¯è¿™äº›domæ˜¯å¦æ˜¾ç¤ºä»¥åŠåœ¨å“ªé‡Œæ˜¾ç¤ºï¼Œåˆ™æ˜¯çœ‹å­ç»„ä»¶ä¸­slotç»„ä»¶çš„ä½ç½®äº†ã€‚</p><h3 id="vueåˆå§‹åŒ–é¡µé¢é—ªåŠ¨é—®é¢˜"><a href="#vueåˆå§‹åŒ–é¡µé¢é—ªåŠ¨é—®é¢˜" class="headerlink" title="vueåˆå§‹åŒ–é¡µé¢é—ªåŠ¨é—®é¢˜"></a>vueåˆå§‹åŒ–é¡µé¢é—ªåŠ¨é—®é¢˜</h3><p>ä½¿ç”¨vueå¼€å‘æ—¶ï¼Œåœ¨vueåˆå§‹åŒ–ä¹‹å‰ï¼Œç”±äºdivæ˜¯ä¸å½’vueç®¡çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å†™çš„ä»£ç åœ¨è¿˜æ²¡æœ‰è§£æçš„æƒ…å†µä¸‹ä¼šå®¹æ˜“å‡ºç°èŠ±å±ç°è±¡ï¼Œçœ‹åˆ°ç±»ä¼¼äºçš„å­—æ ·ï¼Œè™½ç„¶ä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªæ—¶é—´å¾ˆçŸ­æš‚ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯æœ‰å¿…è¦è®©è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚</p><p>é¦–å…ˆï¼šåœ¨cssé‡ŒåŠ ä¸Šä»¥ä¸‹ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[v-cloak] &#123;    display: none;&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰å½»åº•è§£å†³é—®é¢˜ï¼Œåˆ™åœ¨æ ¹å…ƒç´ åŠ ä¸Šstyle=â€display: none;â€ :style=â€{display: â€˜blockâ€™}â€</p><h2 id="vueæ’ä»¶ç¯‡"><a href="#vueæ’ä»¶ç¯‡" class="headerlink" title="vueæ’ä»¶ç¯‡"></a>vueæ’ä»¶ç¯‡</h2><h3 id="çŠ¶æ€ç®¡ç†ï¼ˆvuexï¼‰"><a href="#çŠ¶æ€ç®¡ç†ï¼ˆvuexï¼‰" class="headerlink" title="çŠ¶æ€ç®¡ç†ï¼ˆvuexï¼‰"></a>çŠ¶æ€ç®¡ç†ï¼ˆvuexï¼‰</h3><h4 id="vuexæ˜¯ä»€ä¹ˆ"><a href="#vuexæ˜¯ä»€ä¹ˆ" class="headerlink" title="vuexæ˜¯ä»€ä¹ˆ"></a>vuexæ˜¯ä»€ä¹ˆ</h4><p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.jsåº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚Vuex ä¹Ÿé›†æˆåˆ° Vue çš„å®˜æ–¹è°ƒè¯•å·¥å…· devtools extensionï¼Œæä¾›äº†è¯¸å¦‚é›¶é…ç½®çš„ time-travel è°ƒè¯•ã€çŠ¶æ€å¿«ç…§å¯¼å…¥å¯¼å‡ºç­‰é«˜çº§è°ƒè¯•åŠŸèƒ½ã€‚</p><h4 id="æ€ä¹ˆä½¿ç”¨vuex"><a href="#æ€ä¹ˆä½¿ç”¨vuex" class="headerlink" title="æ€ä¹ˆä½¿ç”¨vuex"></a>æ€ä¹ˆä½¿ç”¨vuex</h4><p>ç¬¬ä¸€æ­¥å®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex -Så¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥åˆ›å»ºstore</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;;import Vuex from &#x27;vuex&#x27;;Vue.use(Vuex);//ä¸æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒdebugä¸ºtrueconst debug = process.env.NODE_ENV !== &#x27;production&#x27;;//åˆ›å»ºVuexå®ä¾‹å¯¹è±¡const store = new Vuex.Store(&#123;    strict:debug,//åœ¨ä¸æ˜¯ç”Ÿäº§ç¯å¢ƒä¸‹éƒ½å¼€å¯ä¸¥æ ¼æ¨¡å¼    state:&#123;    &#125;,    getters:&#123;    &#125;,    mutations:&#123;    &#125;,    actions:&#123;    &#125;&#125;)export default store;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰æ­¥æ³¨å…¥vuex</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;;import App from &#x27;./App.vue&#x27;;import store from &#x27;./store&#x27;;const vm = new Vue(&#123;    store:store,    render: h =&gt; h(App)&#125;).$mount(&#x27;#app&#x27;)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="vuexä¸­æœ‰å‡ ä¸ªæ ¸å¿ƒå±æ€§ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#vuexä¸­æœ‰å‡ ä¸ªæ ¸å¿ƒå±æ€§ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="vuexä¸­æœ‰å‡ ä¸ªæ ¸å¿ƒå±æ€§ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>vuexä¸­æœ‰å‡ ä¸ªæ ¸å¿ƒå±æ€§ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>ä¸€å…±æœ‰5ä¸ªæ ¸å¿ƒå±æ€§ï¼Œåˆ†åˆ«æ˜¯:</p><ul><li>state å”¯ä¸€æ•°æ®æº,Vue å®ä¾‹ä¸­çš„ data éµå¾ªç›¸åŒçš„è§„åˆ™</li><li>getters å¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§,å°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚Getter ä¼šæš´éœ²ä¸º store.getters å¯¹è±¡ï¼Œä½ å¯ä»¥ä»¥å±æ€§çš„å½¢å¼è®¿é—®è¿™äº›å€¼.</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const store = new Vuex.Store(&#123;  state: &#123;    todos: [      &#123; id: 1, text: &#x27;...&#x27;, done: true &#125;,      &#123; id: 2, text: &#x27;...&#x27;, done: false &#125;    ]  &#125;,  getters: &#123;    doneTodos: state =&gt; &#123;      return state.todos.filter(todo =&gt; todo.done)    &#125;  &#125;&#125;)store.getters.doneTodos // -&gt; [&#123; id: 1, text: &#x27;...&#x27;, done: true &#125;]å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>mutation æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutation,éå¸¸ç±»ä¼¼äºäº‹ä»¶,é€šè¿‡store.commit æ–¹æ³•è§¦å‘</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const store = new Vuex.Store(&#123;  state: &#123;    count: 1  &#125;,  mutations: &#123;    increment (state) &#123;      // å˜æ›´çŠ¶æ€      state.count++    &#125;  &#125;&#125;)store.commit(&#x27;increment&#x27;)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>action Action ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºAction æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ï¼ŒAction å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const store = new Vuex.Store(&#123;  state: &#123;    count: 0  &#125;,  mutations: &#123;    increment (state) &#123;      state.count++    &#125;  &#125;,  actions: &#123;    increment (context) &#123;      context.commit(&#x27;increment&#x27;)    &#125;  &#125;&#125;)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>module  ç”±äºä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ä¼šé›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡ã€‚å½“åº”ç”¨å˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œstore å¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿ã€‚ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒVuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆæ¨¡å—ï¼ˆmoduleï¼‰ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const moduleA = &#123;  state: () =&gt; (&#123; ... &#125;),  mutations: &#123; ... &#125;,  actions: &#123; ... &#125;,  getters: &#123; ... &#125;&#125;const moduleB = &#123;  state: () =&gt; (&#123; ... &#125;),  mutations: &#123; ... &#125;,  actions: &#123; ... &#125;&#125;const store = new Vuex.Store(&#123;  modules: &#123;    a: moduleA,    b: moduleB  &#125;&#125;)store.state.a // -&gt; moduleA çš„çŠ¶æ€store.state.b // -&gt; moduleB çš„çŠ¶æ€å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ajaxè¯·æ±‚ä»£ç åº”è¯¥å†™åœ¨ç»„ä»¶çš„methodsä¸­è¿˜æ˜¯vuexçš„actionsä¸­"><a href="#ajaxè¯·æ±‚ä»£ç åº”è¯¥å†™åœ¨ç»„ä»¶çš„methodsä¸­è¿˜æ˜¯vuexçš„actionsä¸­" class="headerlink" title="ajaxè¯·æ±‚ä»£ç åº”è¯¥å†™åœ¨ç»„ä»¶çš„methodsä¸­è¿˜æ˜¯vuexçš„actionsä¸­"></a>ajaxè¯·æ±‚ä»£ç åº”è¯¥å†™åœ¨ç»„ä»¶çš„methodsä¸­è¿˜æ˜¯vuexçš„actionsä¸­</h4><p>å¦‚æœè¯·æ±‚æ¥çš„æ•°æ®æ˜¯ä¸æ˜¯è¦è¢«å…¶ä»–ç»„ä»¶å…¬ç”¨ï¼Œä»…ä»…åœ¨è¯·æ±‚çš„ç»„ä»¶å†…ä½¿ç”¨ï¼Œå°±ä¸éœ€è¦æ”¾å…¥vuex çš„stateé‡Œã€‚</p><p>å¦‚æœè¢«å…¶ä»–åœ°æ–¹å¤ç”¨ï¼Œè¿™ä¸ªå¾ˆå¤§å‡ ç‡ä¸Šæ˜¯éœ€è¦çš„ï¼Œå¦‚æœéœ€è¦ï¼Œè¯·å°†è¯·æ±‚æ”¾å…¥actioné‡Œï¼Œæ–¹ä¾¿å¤ç”¨ã€‚</p><h4 id="ä»vuexä¸­è·å–çš„æ•°æ®èƒ½ç›´æ¥æ›´æ”¹å—ï¼Ÿ"><a href="#ä»vuexä¸­è·å–çš„æ•°æ®èƒ½ç›´æ¥æ›´æ”¹å—ï¼Ÿ" class="headerlink" title="ä»vuexä¸­è·å–çš„æ•°æ®èƒ½ç›´æ¥æ›´æ”¹å—ï¼Ÿ"></a>ä»vuexä¸­è·å–çš„æ•°æ®èƒ½ç›´æ¥æ›´æ”¹å—ï¼Ÿ</h4><p>ä»vuexä¸­å–çš„æ•°æ®ï¼Œä¸èƒ½ç›´æ¥æ›´æ”¹ï¼Œéœ€è¦æµ…æ‹·è´å¯¹è±¡ä¹‹åæ›´æ”¹ï¼Œå¦åˆ™æŠ¥é”™ï¼›</p><h4 id="vuexä¸­çš„æ•°æ®åœ¨é¡µé¢åˆ·æ–°åæ•°æ®æ¶ˆå¤±"><a href="#vuexä¸­çš„æ•°æ®åœ¨é¡µé¢åˆ·æ–°åæ•°æ®æ¶ˆå¤±" class="headerlink" title="vuexä¸­çš„æ•°æ®åœ¨é¡µé¢åˆ·æ–°åæ•°æ®æ¶ˆå¤±"></a>vuexä¸­çš„æ•°æ®åœ¨é¡µé¢åˆ·æ–°åæ•°æ®æ¶ˆå¤±</h4><p>ç”¨sessionstorage æˆ–è€… localstorage å­˜å‚¨æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å­˜å‚¨ï¼š sessionStorage.setItem( &#x27;å&#x27;, JSON.stringify(å€¼) )ä½¿ç”¨ï¼š sessionStorage.getItem(&#x27;å&#x27;) ---å¾—åˆ°çš„å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨JSON.parse()å»å¼•å·ï¼›å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥å¼•å…¥æ’ä»¶vuex-persistï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li>å®‰è£…</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save vuex-persistoryarn add vuex-persistå¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>å¼•å…¥</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import VuexPersistence from &#x27;vuex-persist&#x27;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>å…ˆåˆ›å»ºä¸€ä¸ªå¯¹è±¡å¹¶è¿›è¡Œé…ç½®</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const vuexLocal = new VuexPersistence(&#123;    storage: window.localStorage&#125;)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>å¼•å…¥è¿›vuexæ’ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const store = new Vuex.Store(&#123;  state: &#123; ... &#125;,  mutations: &#123; ... &#125;,  actions: &#123; ... &#125;,  plugins: [vuexLocal.plugin]&#125;) å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>é€šè¿‡ä»¥ä¸Šè®¾ç½®ï¼Œåœ¨å›¾3ä¸­å„ä¸ªé¡µé¢ä¹‹é—´è·³è½¬ï¼Œå¦‚æœåˆ·æ–°æŸä¸ªè§†å›¾ï¼Œæ•°æ®å¹¶ä¸ä¼šä¸¢å¤±ï¼Œä¾ç„¶å­˜åœ¨ï¼Œå¹¶ä¸”ä¸éœ€è¦åœ¨æ¯ä¸ª mutations ä¸­æ‰‹åŠ¨å­˜å– storage ã€‚</p><h4 id="Vuexçš„ä¸¥æ ¼æ¨¡å¼æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆä½œç”¨-æ€ä¹ˆå¼€å¯ï¼Ÿ"><a href="#Vuexçš„ä¸¥æ ¼æ¨¡å¼æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆä½œç”¨-æ€ä¹ˆå¼€å¯ï¼Ÿ" class="headerlink" title="Vuexçš„ä¸¥æ ¼æ¨¡å¼æ˜¯ä»€ä¹ˆ,æœ‰ä»€ä¹ˆä½œç”¨,æ€ä¹ˆå¼€å¯ï¼Ÿ"></a>Vuexçš„ä¸¥æ ¼æ¨¡å¼æ˜¯ä»€ä¹ˆ,æœ‰ä»€ä¹ˆä½œç”¨,æ€ä¹ˆå¼€å¯ï¼Ÿ</h4><p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ— è®ºä½•æ—¶å‘ç”Ÿäº†çŠ¶æ€å˜æ›´ä¸”ä¸æ˜¯ç”±mutationå‡½æ•°å¼•èµ·çš„ï¼Œå°†ä¼šæŠ›å‡ºé”™è¯¯ã€‚è¿™èƒ½ä¿è¯æ‰€æœ‰çš„çŠ¶æ€å˜æ›´éƒ½èƒ½è¢«è°ƒè¯•å·¥å…·è·Ÿè¸ªåˆ°ã€‚</p><p>åœ¨Vuex.Store æ„é€ å™¨é€‰é¡¹ä¸­å¼€å¯,å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const store = new Vuex.Store(&#123;    strict:true,&#125;)å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="æ€ä¹ˆåœ¨ç»„ä»¶ä¸­æ‰¹é‡ä½¿ç”¨Vuexçš„getterå±æ€§"><a href="#æ€ä¹ˆåœ¨ç»„ä»¶ä¸­æ‰¹é‡ä½¿ç”¨Vuexçš„getterå±æ€§" class="headerlink" title="æ€ä¹ˆåœ¨ç»„ä»¶ä¸­æ‰¹é‡ä½¿ç”¨Vuexçš„getterå±æ€§"></a>æ€ä¹ˆåœ¨ç»„ä»¶ä¸­æ‰¹é‡ä½¿ç”¨Vuexçš„getterå±æ€§</h4><p>ä½¿ç”¨mapGettersè¾…åŠ©å‡½æ•°, åˆ©ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°†getteræ··å…¥computed å¯¹è±¡ä¸­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123;mapGetters&#125; from &#x27;vuex&#x27;export default&#123;    computed:&#123;        ...mapGetters([&#x27;total&#x27;,&#x27;discountTotal&#x27;])    &#125;&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ç»„ä»¶ä¸­é‡å¤ä½¿ç”¨mutation"><a href="#ç»„ä»¶ä¸­é‡å¤ä½¿ç”¨mutation" class="headerlink" title="ç»„ä»¶ä¸­é‡å¤ä½¿ç”¨mutation"></a>ç»„ä»¶ä¸­é‡å¤ä½¿ç”¨mutation</h4><p>ä½¿ç”¨mapMutationsè¾…åŠ©å‡½æ•°,åœ¨ç»„ä»¶ä¸­è¿™ä¹ˆä½¿ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; mapMutations &#125; from &#x27;vuex&#x27;methods:&#123;    ...mapMutations(&#123;        setNumber:&#x27;SET_NUMBER&#x27;,    &#125;)&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç„¶åè°ƒç”¨this.setNumber(10)ç›¸å½“è°ƒç”¨this.$store.commit(â€˜SET_NUMBERâ€™,10)</p><h4 id="mutationå’Œactionæœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#mutationå’Œactionæœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="mutationå’Œactionæœ‰ä»€ä¹ˆåŒºåˆ«"></a>mutationå’Œactionæœ‰ä»€ä¹ˆåŒºåˆ«</h4><ul><li>action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚mutationå¯ä»¥ç›´æ¥å˜æ›´çŠ¶æ€</li><li>action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚mutationåªèƒ½æ˜¯åŒæ­¥æ“ä½œ</li><li>æäº¤æ–¹å¼ä¸åŒ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">action æ˜¯ç”¨this.store.dispatch(&#x27;ACTION_NAME&#x27;,data)æ¥æäº¤ã€‚mutationæ˜¯ç”¨this.$store.commit(&#x27;SET_NUMBER&#x27;,10)æ¥æäº¤å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>æ¥æ”¶å‚æ•°ä¸åŒï¼Œmutationç¬¬ä¸€ä¸ªå‚æ•°æ˜¯stateï¼Œè€Œactionç¬¬ä¸€ä¸ªå‚æ•°æ˜¯contextï¼Œå…¶åŒ…å«äº†</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;    state,      // ç­‰åŒäº `store.state`ï¼Œè‹¥åœ¨æ¨¡å—ä¸­åˆ™ä¸ºå±€éƒ¨çŠ¶æ€    rootState,  // ç­‰åŒäº `store.state`ï¼Œåªå­˜åœ¨äºæ¨¡å—ä¸­    commit,     // ç­‰åŒäº `store.commit`    dispatch,   // ç­‰åŒäº `store.dispatch`    getters,    // ç­‰åŒäº `store.getters`    rootGetters // ç­‰åŒäº `store.getters`ï¼Œåªå­˜åœ¨äºæ¨¡å—ä¸­&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="åœ¨v-modelä¸Šæ€ä¹ˆç”¨Vuexä¸­stateçš„å€¼ï¼Ÿ"><a href="#åœ¨v-modelä¸Šæ€ä¹ˆç”¨Vuexä¸­stateçš„å€¼ï¼Ÿ" class="headerlink" title="åœ¨v-modelä¸Šæ€ä¹ˆç”¨Vuexä¸­stateçš„å€¼ï¼Ÿ"></a>åœ¨v-modelä¸Šæ€ä¹ˆç”¨Vuexä¸­stateçš„å€¼ï¼Ÿ</h4><p>éœ€è¦é€šè¿‡computedè®¡ç®—å±æ€§æ¥è½¬æ¢ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input v-model=&quot;message&quot;&gt;// ...computed: &#123;    message: &#123;        get () &#123;            return this.$store.state.message        &#125;,        set (value) &#123;            this.$store.commit(&#x27;updateMessage&#x27;, value)        &#125;    &#125;&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="è·¯ç”±é¡µé¢ç®¡ç†ï¼ˆvue-routerï¼‰"><a href="#è·¯ç”±é¡µé¢ç®¡ç†ï¼ˆvue-routerï¼‰" class="headerlink" title="è·¯ç”±é¡µé¢ç®¡ç†ï¼ˆvue-routerï¼‰"></a>è·¯ç”±é¡µé¢ç®¡ç†ï¼ˆvue-routerï¼‰</h3><h4 id="ä»€ä¹ˆæ˜¯vue-router"><a href="#ä»€ä¹ˆæ˜¯vue-router" class="headerlink" title="ä»€ä¹ˆæ˜¯vue-router"></a>ä»€ä¹ˆæ˜¯vue-router</h4><p>Vue Router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue.js çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ˜“å¦‚åæŒã€‚åŒ…å«çš„åŠŸèƒ½æœ‰ï¼š</p><ul><li>åµŒå¥—çš„è·¯ç”±/è§†å›¾è¡¨</li><li>æ¨¡å—åŒ–çš„ã€åŸºäºç»„ä»¶çš„è·¯ç”±é…ç½®</li><li>è·¯ç”±å‚æ•°ã€æŸ¥è¯¢ã€é€šé…ç¬¦</li><li>åŸºäº Vue.js è¿‡æ¸¡ç³»ç»Ÿçš„è§†å›¾è¿‡æ¸¡æ•ˆæœ</li><li>ç»†ç²’åº¦çš„å¯¼èˆªæ§åˆ¶</li><li>å¸¦æœ‰è‡ªåŠ¨æ¿€æ´»çš„ CSS class çš„é“¾æ¥</li><li>HTML5 å†å²æ¨¡å¼æˆ– hash æ¨¡å¼ï¼Œåœ¨ IE9 ä¸­è‡ªåŠ¨é™çº§</li><li>è‡ªå®šä¹‰çš„æ»šåŠ¨æ¡è¡Œä¸º</li></ul><h4 id="æ€ä¹ˆä½¿ç”¨vue-router"><a href="#æ€ä¹ˆä½¿ç”¨vue-router" class="headerlink" title="æ€ä¹ˆä½¿ç”¨vue-router"></a>æ€ä¹ˆä½¿ç”¨vue-router</h4><p>ç¬¬ä¸€æ­¥å®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router -S</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥åœ¨main.jsä¸­ä½¿ç”¨Vue Routerç»„ä»¶</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/7/14/1734d65dc240568e~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><p>ç¬¬ä¸‰æ­¥é…ç½®è·¯ç”±</p><ul><li>å®šä¹‰ (è·¯ç”±) ç»„ä»¶</li></ul><p>è·¯ç”±ç»„ä»¶å¯ä»¥æ˜¯ç›´æ¥å®šä¹‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¼å…¥å·²ç»å®šä¹‰å¥½çš„ç»„ä»¶ã€‚è¿™é‡Œå¯¼å…¥å·²ç»å®šä¹‰å¥½çš„ç»„ä»¶ã€‚å¦‚ä¸‹</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/7/14/1734d65dc2668cc8~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><ul><li>å®šä¹‰è·¯ç”±ï¼ˆè·¯ç”±å¯¹è±¡æ•°ç»„ï¼‰</li></ul><p>å®šä¹‰è·¯ç”±å¯¹è±¡æ•°ç»„ã€‚å¯¹è±¡çš„pathæ˜¯è‡ªå®šä¹‰çš„è·¯å¾„ï¼ˆå³ä½¿ç”¨è¿™ä¸ªè·¯å¾„å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶ï¼‰ï¼Œcomponentæ˜¯æŒ‡è¯¥è·¯ç”±å¯¹åº”çš„ç»„ä»¶ã€‚å¦‚ä¸‹ï¼š</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/7/14/1734d65dc3da62ed~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><ul><li>å®ä¾‹åŒ–Vue Routerå¯¹è±¡</li></ul><p>è°ƒç”¨Vue Routerçš„æ„é€ æ–¹æ³•åˆ›å»ºä¸€ä¸ªVue Routerçš„å®ä¾‹å¯¹è±¡ï¼Œå°†ä¸Šä¸€æ­¥å®šä¹‰çš„è·¯ç”±å¯¹è±¡æ•°ç»„ä½œä¸ºå‚æ•°å¯¹è±¡çš„å€¼ä¼ å…¥ã€‚å¦‚ä¸‹</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/7/14/1734d65dc48e8bf4~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><ul><li>æŒ‚è½½æ ¹å®ä¾‹</li></ul><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/7/14/1734d65dcb5f42d7~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><p>ç¬¬å››æ­¥åœ¨App.vueä¸­ä½¿ç”¨è·¯ç”±</p><p>åœ¨App.vueä¸­ä½¿ç”¨æ ‡ç­¾æ¥æ˜¾ç¤ºè·¯ç”±å¯¹åº”çš„ç»„ä»¶ï¼Œä½¿ç”¨æ ‡ç­¾æŒ‡å®šå½“ç‚¹å‡»æ—¶æ˜¾ç¤ºçš„å¯¹åº”çš„ç»„ä»¶ï¼Œtoå±æ€§å°±æ˜¯æŒ‡å®šç»„ä»¶å¯¹åº”çš„è·¯ç”±ã€‚å¦‚ä¸‹ï¼š</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/7/14/1734d65dc512c1e6~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><h4 id="æ€ä¹ˆå®šä¹‰vue-routerçš„åŠ¨æ€è·¯ç”±ï¼Ÿæ€ä¹ˆè·å–ä¼ è¿‡æ¥çš„åŠ¨æ€å‚æ•°ï¼Ÿ"><a href="#æ€ä¹ˆå®šä¹‰vue-routerçš„åŠ¨æ€è·¯ç”±ï¼Ÿæ€ä¹ˆè·å–ä¼ è¿‡æ¥çš„åŠ¨æ€å‚æ•°ï¼Ÿ" class="headerlink" title="æ€ä¹ˆå®šä¹‰vue-routerçš„åŠ¨æ€è·¯ç”±ï¼Ÿæ€ä¹ˆè·å–ä¼ è¿‡æ¥çš„åŠ¨æ€å‚æ•°ï¼Ÿ"></a>æ€ä¹ˆå®šä¹‰vue-routerçš„åŠ¨æ€è·¯ç”±ï¼Ÿæ€ä¹ˆè·å–ä¼ è¿‡æ¥çš„åŠ¨æ€å‚æ•°ï¼Ÿ</h4><p>åœ¨routerç›®å½•ä¸‹çš„index.jsæ–‡ä»¶ä¸­ï¼Œå¯¹pathå±æ€§åŠ ä¸Š/:idã€‚ä½¿ç”¨routerå¯¹è±¡çš„params.idè·å–åŠ¨æ€å‚æ•°</p><h4 id="vue-routerçš„å¯¼èˆªé’©å­"><a href="#vue-routerçš„å¯¼èˆªé’©å­" class="headerlink" title="vue-routerçš„å¯¼èˆªé’©å­"></a>vue-routerçš„å¯¼èˆªé’©å­</h4><p>å¸¸ç”¨çš„æ˜¯router.beforeEach(to,from,next)ï¼Œåœ¨è·³è½¬å‰è¿›è¡Œæƒé™åˆ¤æ–­ã€‚ä¸€å…±æœ‰ä¸‰ç§ï¼š</p><ul><li>å…¨å±€å¯¼èˆªé’©å­ï¼šrouter.beforeEach(to,from,next)</li><li>ç»„ä»¶å†…çš„é’©å­</li><li>å•ç‹¬è·¯ç”±ç‹¬äº«ç»„ä»¶</li></ul><h4 id="vueè·¯ç”±ä¼ å‚"><a href="#vueè·¯ç”±ä¼ å‚" class="headerlink" title="vueè·¯ç”±ä¼ å‚"></a>vueè·¯ç”±ä¼ å‚</h4><blockquote><p>ä½¿ç”¨queryæ–¹æ³•ä¼ å…¥çš„å‚æ•°ä½¿ç”¨this.$route.queryæ¥å—</p></blockquote><blockquote><p>ä½¿ç”¨paramsæ–¹å¼ä¼ å…¥çš„å‚æ•°ä½¿ç”¨this.$route.paramsæ¥å—</p></blockquote><h4 id="routerå’Œrouteçš„åŒºåˆ«"><a href="#routerå’Œrouteçš„åŒºåˆ«" class="headerlink" title="routerå’Œrouteçš„åŒºåˆ«"></a>routerå’Œrouteçš„åŒºåˆ«</h4><blockquote><p>routeä¸ºå½“å‰routerè·³è½¬å¯¹è±¡é‡Œé¢å¯ä»¥è·å–nameã€pathã€queryã€paramsç­‰</p></blockquote><blockquote><p>routerä¸ºVueRouterå®ä¾‹ï¼Œæƒ³è¦å¯¼èˆªåˆ°ä¸åŒURLï¼Œåˆ™ä½¿ç”¨router.pushæ–¹æ³•</p></blockquote><h4 id="è·¯ç”±-TypeError-Cannot-read-property-â€˜matchedâ€™-of-undefined-çš„é”™è¯¯é—®é¢˜"><a href="#è·¯ç”±-TypeError-Cannot-read-property-â€˜matchedâ€™-of-undefined-çš„é”™è¯¯é—®é¢˜" class="headerlink" title="è·¯ç”± TypeError: Cannot read property â€˜matchedâ€™ of undefined çš„é”™è¯¯é—®é¢˜"></a>è·¯ç”± TypeError: Cannot read property â€˜matchedâ€™ of undefined çš„é”™è¯¯é—®é¢˜</h4><p>æ‰¾åˆ°å…¥å£æ–‡ä»¶main.jsé‡Œçš„new Vue()ï¼Œå¿…é¡»ä½¿ç”¨routeråï¼Œä¸èƒ½æŠŠrouteræ”¹æˆRouteræˆ–è€…å…¶ä»–çš„åˆ«å</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// å¼•å…¥è·¯ç”±</span><br><span class="line">import router from &#x27;./routers/router.js&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    router,    // è¿™ä¸ªåå­—å¿…é¡»ä½¿ç”¨router</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="è·¯ç”±æŒ‰éœ€åŠ è½½"><a href="#è·¯ç”±æŒ‰éœ€åŠ è½½" class="headerlink" title="è·¯ç”±æŒ‰éœ€åŠ è½½"></a>è·¯ç”±æŒ‰éœ€åŠ è½½</h4><p>éšç€é¡¹ç›®åŠŸèƒ½æ¨¡å—çš„å¢åŠ ï¼Œå¼•å…¥çš„æ–‡ä»¶æ•°é‡å‰§å¢ã€‚å¦‚æœä¸åšä»»ä½•å¤„ç†ï¼Œé‚£ä¹ˆé¦–å±åŠ è½½ä¼šç›¸å½“çš„ç¼“æ…¢ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œè·¯ç”±æŒ‰éœ€åŠ è½½å°±é—ªäº®ç™»åœºäº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">webpack&lt; 2.4 æ—¶</span><br><span class="line">&#123; </span><br><span class="line">    path:&#x27;/&#x27;, </span><br><span class="line">    name:&#x27;home&#x27;,</span><br><span class="line">    components:resolve=&gt;require([&#x27;@/components/home&#x27;],resolve)</span><br><span class="line">&#125; </span><br><span class="line">webpack&gt; 2.4 æ—¶</span><br><span class="line">&#123; </span><br><span class="line">    path:&#x27;/&#x27;, </span><br><span class="line">    name:&#x27;home&#x27;, </span><br><span class="line">    components:()=&gt;import(&#x27;@/components/home&#x27;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>import()æ–¹æ³•æ˜¯ç”±es6æå‡ºçš„ï¼ŒåŠ¨æ€åŠ è½½è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œthenæ–¹æ³•çš„å‚æ•°æ˜¯åŠ è½½åˆ°çš„æ¨¡å—ã€‚ç±»ä¼¼äºNode.jsçš„requireæ–¹æ³•ï¼Œä¸»è¦import()æ–¹æ³•æ˜¯å¼‚æ­¥åŠ è½½çš„ã€‚</p><h4 id="Vueé‡Œé¢router-linkåœ¨ç”µè„‘ä¸Šæœ‰ç”¨ï¼Œåœ¨å®‰å“ä¸Šæ²¡ååº”æ€ä¹ˆè§£å†³"><a href="#Vueé‡Œé¢router-linkåœ¨ç”µè„‘ä¸Šæœ‰ç”¨ï¼Œåœ¨å®‰å“ä¸Šæ²¡ååº”æ€ä¹ˆè§£å†³" class="headerlink" title="Vueé‡Œé¢router-linkåœ¨ç”µè„‘ä¸Šæœ‰ç”¨ï¼Œåœ¨å®‰å“ä¸Šæ²¡ååº”æ€ä¹ˆè§£å†³"></a>Vueé‡Œé¢router-linkåœ¨ç”µè„‘ä¸Šæœ‰ç”¨ï¼Œåœ¨å®‰å“ä¸Šæ²¡ååº”æ€ä¹ˆè§£å†³</h4><p>Vueè·¯ç”±åœ¨Androidæœºä¸Šæœ‰é—®é¢˜ï¼Œbabelé—®é¢˜ï¼Œå®‰è£…babel polypillæ’ä»¶è§£å†³</p><h4 id="Vue2ä¸­æ³¨å†Œåœ¨router-linkä¸Šäº‹ä»¶æ— æ•ˆè§£å†³æ–¹æ³•"><a href="#Vue2ä¸­æ³¨å†Œåœ¨router-linkä¸Šäº‹ä»¶æ— æ•ˆè§£å†³æ–¹æ³•" class="headerlink" title="Vue2ä¸­æ³¨å†Œåœ¨router-linkä¸Šäº‹ä»¶æ— æ•ˆè§£å†³æ–¹æ³•"></a>Vue2ä¸­æ³¨å†Œåœ¨router-linkä¸Šäº‹ä»¶æ— æ•ˆè§£å†³æ–¹æ³•</h4><p>ä½¿ç”¨@click.nativeã€‚åŸå› ï¼šrouter-linkä¼šé˜»æ­¢clickäº‹ä»¶ï¼Œ.nativeæŒ‡ç›´æ¥ç›‘å¬ä¸€ä¸ªåŸç”Ÿäº‹ä»¶</p><h4 id="RouterLinkåœ¨IEå’ŒFirefoxä¸­ä¸èµ·ä½œç”¨ï¼ˆè·¯ç”±ä¸è·³è½¬ï¼‰çš„é—®é¢˜"><a href="#RouterLinkåœ¨IEå’ŒFirefoxä¸­ä¸èµ·ä½œç”¨ï¼ˆè·¯ç”±ä¸è·³è½¬ï¼‰çš„é—®é¢˜" class="headerlink" title="RouterLinkåœ¨IEå’ŒFirefoxä¸­ä¸èµ·ä½œç”¨ï¼ˆè·¯ç”±ä¸è·³è½¬ï¼‰çš„é—®é¢˜"></a>RouterLinkåœ¨IEå’ŒFirefoxä¸­ä¸èµ·ä½œç”¨ï¼ˆè·¯ç”±ä¸è·³è½¬ï¼‰çš„é—®é¢˜</h4><ul><li>åªç”¨aæ ‡ç­¾ï¼Œä¸ä½¿ç”¨buttonæ ‡ç­¾</li><li>ä½¿ç”¨buttonæ ‡ç­¾å’ŒRouter.navigateæ–¹æ³•</li></ul><h3 id="ç½‘ç»œè¯·æ±‚-axios"><a href="#ç½‘ç»œè¯·æ±‚-axios" class="headerlink" title="ç½‘ç»œè¯·æ±‚(axios)"></a>ç½‘ç»œè¯·æ±‚(axios)</h3><p>è¿™ä¸ªæ¨¡å—è¯·çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼Œæ­¤å¤„ä¸å†æ•´ç†ï¼ˆæˆ‘å¤ªæ‡’äº†ï¼‰</p><p><a href="https://juejin.cn/post/6847009771606769677">å­¦ä¼šäº†axioså°è£…ï¼Œä¸–ç•Œéƒ½æ˜¯ä½ çš„</a></p><h3 id="è§†é¢‘æ’­æ”¾-video-js"><a href="#è§†é¢‘æ’­æ”¾-video-js" class="headerlink" title="è§†é¢‘æ’­æ”¾(video.js)"></a>è§†é¢‘æ’­æ”¾(video.js)</h3><p>è¿™ä¸ªæ¨¡å—è¯·çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼Œæ­¤å¤„ä¸å†æ•´ç†ï¼ˆæˆ‘å¤ªæ‡’äº†ï¼‰</p><p><a href="https://juejin.cn/post/6850037269227634702">æ‰‹æŠŠæ‰‹ä»é›¶å¼€å§‹â€”å°è£…ä¸€ä¸ªvueè§†é¢‘æ’­æ”¾å™¨ç»„ä»¶</a></p><h3 id="vueå¸¸ç”¨uiåº“"><a href="#vueå¸¸ç”¨uiåº“" class="headerlink" title="vueå¸¸ç”¨uiåº“"></a>vueå¸¸ç”¨uiåº“</h3><h4 id="ç§»åŠ¨ç«¯"><a href="#ç§»åŠ¨ç«¯" class="headerlink" title="ç§»åŠ¨ç«¯"></a>ç§»åŠ¨ç«¯</h4><ul><li>mint-ui ï¼ˆ<a href="http://mint-ui.github.io/#!/zh-cn%EF%BC%89">http://mint-ui.github.io/#!/zh-cnï¼‰</a></li><li>Vantï¼ˆ<a href="https://youzan.github.io/vant/#/zh-CN/home%EF%BC%89">https://youzan.github.io/vant/#/zh-CN/homeï¼‰</a></li><li>VUX (<a href="https://vux.li/">https://vux.li/</a>)</li></ul><h4 id="pcç«¯"><a href="#pcç«¯" class="headerlink" title="pcç«¯"></a>pcç«¯</h4><ul><li>element-uiï¼ˆ<a href="https://element.eleme.cn/2.13/#/zh-CN/component/installation%EF%BC%89">https://element.eleme.cn/2.13/#/zh-CN/component/installationï¼‰</a></li><li>Ant Design of Vueï¼ˆ<a href="https://www.antdv.com/docs/vue/introduce-cn/%EF%BC%89">https://www.antdv.com/docs/vue/introduce-cn/ï¼‰</a></li><li>Avue (<a href="https://avuejs.com/">https://avuejs.com/</a>)</li></ul><h2 id="å¸¸ç”¨webpacké…ç½®"><a href="#å¸¸ç”¨webpacké…ç½®" class="headerlink" title="å¸¸ç”¨webpacké…ç½®"></a>å¸¸ç”¨webpacké…ç½®</h2><h3 id="vue-lic3è„šæ‰‹æ¶ï¼ˆvue-config-jsï¼‰"><a href="#vue-lic3è„šæ‰‹æ¶ï¼ˆvue-config-jsï¼‰" class="headerlink" title="vue-lic3è„šæ‰‹æ¶ï¼ˆvue.config.jsï¼‰"></a>vue-lic3è„šæ‰‹æ¶ï¼ˆvue.config.jsï¼‰</h3><h4 id="publicPath"><a href="#publicPath" class="headerlink" title="publicPath"></a>publicPath</h4><p>ç±»å‹ï¼šString</p><p>é»˜è®¤ï¼šâ€™/â€˜</p><p>éƒ¨ç½²åº”ç”¨åŒ…æ—¶çš„åŸºæœ¬ URLã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒVue CLIä¼šå‡è®¾ä½ çš„åº”ç”¨æ˜¯è¢«éƒ¨ç½²åœ¨ä¸€ä¸ªåŸŸåçš„æ ¹è·¯å¾„ä¸Šï¼Œä¾‹å¦‚<a href="https://www.my-app.com/%E3%80%82%E5%A6%82%E6%9E%9C%E5%BA%94%E7%94%A8%E8%A2%AB%E9%83%A8%E7%BD%B2%E5%9C%A8%E4%B8%80%E4%B8%AA%E5%AD%90%E8%B7%AF%E5%BE%84%E4%B8%8A%EF%BC%8C%E4%BD%A0%E5%B0%B1%E9%9C%80%E8%A6%81%E7%94%A8%E8%BF%99%E4%B8%AA%E9%80%89%E9%A1%B9%E6%8C%87%E5%AE%9A%E8%BF%99%E4%B8%AA%E5%AD%90%E8%B7%AF%E5%BE%84%E3%80%82%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%BD%A0%E7%9A%84%E5%BA%94%E7%94%A8%E8%A2%AB%E9%83%A8%E7%BD%B2%E5%9C%A8https://www.my-app.com/my-app/%EF%BC%8C%E5%88%99%E8%AE%BE%E7%BD%AEpublicPath%E4%B8%BA/my-app/">https://www.my-app.com/ã€‚å¦‚æœåº”ç”¨è¢«éƒ¨ç½²åœ¨ä¸€ä¸ªå­è·¯å¾„ä¸Šï¼Œä½ å°±éœ€è¦ç”¨è¿™ä¸ªé€‰é¡¹æŒ‡å®šè¿™ä¸ªå­è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„åº”ç”¨è¢«éƒ¨ç½²åœ¨https://www.my-app.com/my-app/ï¼Œåˆ™è®¾ç½®publicPathä¸º/my-app/</a></p><p>è¿™ä¸ªå€¼ä¹Ÿå¯ä»¥è¢«è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸² (â€˜â€™) æˆ–æ˜¯ç›¸å¯¹è·¯å¾„ (â€˜./â€˜)ï¼Œè¿™æ ·æ‰€æœ‰çš„èµ„æºéƒ½ä¼šè¢«é“¾æ¥ä¸ºç›¸å¯¹è·¯å¾„ï¼Œè¿™æ ·æ‰“å‡ºæ¥çš„åŒ…å¯ä»¥è¢«éƒ¨ç½²åœ¨ä»»æ„è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨ç±»ä¼¼ Cordova hybrid åº”ç”¨çš„æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚</p><h4 id="productionSourceMap"><a href="#productionSourceMap" class="headerlink" title="productionSourceMap"></a>productionSourceMap</h4><p>ç±»å‹ï¼šboolean</p><p>morenï¼štrue</p><p>ä¸å…è®¸æ‰“åŒ…æ—¶ç”Ÿæˆé¡¹ç›®æ¥æºæ˜ å°„æ–‡ä»¶ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹å¯ä»¥æ˜¾è‘—çš„å‡å°‘åŒ…çš„ä½“ç§¯</p><blockquote><p>æ³¨ Source mapçš„ä½œç”¨ï¼šé’ˆå¯¹æ‰“åŒ…åçš„ä»£ç è¿›è¡Œçš„å¤„ç†ï¼Œå°±æ˜¯ä¸€ä¸ªä¿¡æ¯æ–‡ä»¶ï¼Œé‡Œé¢å‚¨å­˜ç€ä½ç½®ä¿¡æ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè½¬æ¢åçš„ä»£ç çš„æ¯ä¸€ä¸ªä½ç½®ï¼Œæ‰€å¯¹åº”çš„è½¬æ¢å‰çš„ä½ç½®ã€‚æœ‰äº†å®ƒï¼Œå‡ºé”™çš„æ—¶å€™ï¼Œé™¤é”™å·¥å…·å°†ç›´æ¥æ˜¾ç¤ºåŸå§‹ä»£ç ï¼Œè€Œä¸æ˜¯è½¬æ¢åçš„ä»£ç ã€‚è¿™æ— ç–‘ç»™å¼€å‘è€…å¸¦æ¥äº†å¾ˆå¤§æ–¹ä¾¿</p></blockquote><h4 id="assetsDir"><a href="#assetsDir" class="headerlink" title="assetsDir"></a>assetsDir</h4><p>æ”¾ç½®ç”Ÿæˆçš„é™æ€èµ„æº (jsã€cssã€imgã€fonts) çš„ (ç›¸å¯¹äº outputDir çš„) ç›®å½•,é»˜è®¤æ˜¯â€™â€™,</p><h4 id="indexPath"><a href="#indexPath" class="headerlink" title="indexPath"></a>indexPath</h4><p>æŒ‡å®šç”Ÿæˆçš„ index.html çš„è¾“å‡ºè·¯å¾„(ç›¸å¯¹äºoutputDir)ã€‚ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ã€‚é»˜è®¤æ˜¯â€™index.htmlâ€™</p><h4 id="lintOnSave"><a href="#lintOnSave" class="headerlink" title="lintOnSave"></a>lintOnSave</h4><p>æ˜¯å¦åœ¨æ¯æ¬¡ä¿å­˜æ—¶ä½¿ç”¨eslintæ£€æŸ¥ï¼Œè¿™ä¸ªå¯¹è¯­æ³•çš„è¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼Œå¯¹è‡ªå·±æœ‰è¦æ±‚çš„åŒå­¦å¯ä»¥ä½¿ç”¨</p><h4 id="css"><a href="#css" class="headerlink" title="css"></a>css</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">css: &#123;    //æ˜¯å¦å¯ç”¨cssåˆ†ç¦»æ’ä»¶ï¼Œé»˜è®¤æ˜¯trueï¼Œå¦‚æœä¸å¯ç”¨cssæ ·å¼åˆ†ç¦»æ’ä»¶ï¼Œæ‰“åŒ…å‡ºæ¥çš„cssæ˜¯é€šè¿‡å†…è”æ ·å¼çš„æ–¹å¼æ³¨å…¥è‡³domä¸­çš„ï¼Œ    extract: true,    sourceMap: false,//æ•ˆæœåŒä¸Š    modules: false,// ä¸ºæ‰€æœ‰çš„ CSS åŠå…¶é¢„å¤„ç†æ–‡ä»¶å¼€å¯ CSS Modulesã€‚    // è¿™ä¸ªé€‰é¡¹ä¸ä¼šå½±å“ `*.vue` æ–‡ä»¶ã€‚  &#125;,å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="devServer"><a href="#devServer" class="headerlink" title="devServer"></a>devServer</h4><p>æœ¬åœ°å¼€å‘æœåŠ¡å™¨é…ç½®ï¼Œæ­¤å¤„ç›´æ¥è´´ä¸Šæˆ‘å¸¸ç”¨çš„é…ç½®ï¼Œä»¥æ³¨é‡Šçš„æ–¹å¼ä»‹ç»</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123; </span><br><span class="line">    //é…ç½®å¼€å‘æœåŠ¡å™¨</span><br><span class="line">    host: &quot;0.0.0.0&quot;,</span><br><span class="line">    //æ˜¯å¦å¯ç”¨çƒ­åŠ è½½ï¼Œå°±æ˜¯æ¯æ¬¡æ›´æ–°ä»£ç ï¼Œæ˜¯å¦éœ€è¦é‡æ–°åˆ·æ–°æµè§ˆå™¨æ‰èƒ½çœ‹åˆ°æ–°ä»£ç æ•ˆæœ</span><br><span class="line">    hot: true,</span><br><span class="line">    //æœåŠ¡å¯åŠ¨ç«¯å£</span><br><span class="line">    port: &quot;8080&quot;,</span><br><span class="line">    //æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨é»˜è®¤ä¸ºfalse</span><br><span class="line">    open: false,</span><br><span class="line">    //é…ç½®httpä»£ç†</span><br><span class="line">    proxy: &#123; </span><br><span class="line">      &quot;/api&quot;: &#123; //å¦‚æœajaxè¯·æ±‚çš„åœ°å€æ˜¯http://192.168.0.118:9999/api1é‚£ä¹ˆä½ å°±å¯ä»¥åœ¨jajxä¸­ä½¿ç”¨/api/api1è·¯å¾„,å…¶è¯·æ±‚è·¯å¾„ä¼šè§£æ</span><br><span class="line">        // http://192.168.0.118:9999/api1ï¼Œå½“ç„¶ä½ åœ¨æµè§ˆå™¨ä¸Šå¼€åˆ°çš„è¿˜æ˜¯http://localhost:8080/api/api1;</span><br><span class="line">        target: &quot;http://192.168.0.118:9999&quot;,</span><br><span class="line">        //æ˜¯å¦å…è®¸è·¨åŸŸï¼Œè¿™é‡Œæ˜¯åœ¨å¼€å‘ç¯å¢ƒä¼šèµ·ä½œç”¨ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œè¿˜æ˜¯ç”±åå°å»å¤„ç†ï¼Œæ‰€ä»¥ä¸å¿…å¤ªåœ¨æ„</span><br><span class="line">        changeOrigin: true,</span><br><span class="line">        pathRewrite: &#123;</span><br><span class="line">            //æŠŠå¤šä½™çš„è·¯å¾„ç½®ä¸º&#x27;&#x27;</span><br><span class="line">          &quot;api&quot;: &quot;&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;/api2&quot;: &#123;//å¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼ŒåŒ¹é…ä¸Šé‚£ä¸ªå°±ä½¿ç”¨å“ªç§è§£ææ–¹å¼</span><br><span class="line">        target: &quot;http://api2&quot;,</span><br><span class="line">        // ...</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="pluginOptions"><a href="#pluginOptions" class="headerlink" title="pluginOptions"></a>pluginOptions</h4><p>è¿™æ˜¯ä¸€ä¸ªä¸è¿›è¡Œä»»ä½• schema éªŒè¯çš„å¯¹è±¡ï¼Œå› æ­¤å®ƒå¯ä»¥ç”¨æ¥ä¼ é€’ä»»ä½•ç¬¬ä¸‰æ–¹æ’ä»¶é€‰é¡¹ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    //å®šä¹‰ä¸€ä¸ªå…¨å±€çš„lessæ–‡ä»¶ï¼ŒæŠŠå…¬å…±æ ·å¼å˜é‡æ”¾å…¥å…¶ä¸­ï¼Œè¿™æ ·æ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™å°±ä¸ç”¨é‡æ–°å¼•ç”¨äº†</span><br><span class="line">    &#x27;style-resources-loader&#x27;: &#123;</span><br><span class="line">      preProcessor: &#x27;less&#x27;,</span><br><span class="line">      patterns: [</span><br><span class="line">        &#x27;./src/assets/public.less&#x27;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="chainWebpack"><a href="#chainWebpack" class="headerlink" title="chainWebpack"></a>chainWebpack</h4><p>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼šæ¥æ”¶ä¸€ä¸ªåŸºäº webpack-chain çš„ ChainableConfig å®ä¾‹ã€‚å…è®¸å¯¹å†…éƒ¨çš„ webpack é…ç½®è¿›è¡Œæ›´ç»†ç²’åº¦çš„ä¿®æ”¹ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">chainWebpack(config) &#123; </span><br><span class="line">//æ·»åŠ ä¸€ä¸ªè·¯å¾„åˆ«å å‡è®¾æœ‰åœ¨assets/img/menu/ç›®å½•ä¸‹æœ‰åå¼ å›¾ç‰‡ï¼Œå¦‚æœå…¨è·¯å¾„require(&quot;/assets/img/menu/img1.png&quot;)</span><br><span class="line">//å»å¼•å…¥åœ¨ä¸åŒçš„å±‚çº§ä¸‹å®åœ¨æ˜¯å¤ªä¸æ–¹ä¾¿äº†ï¼Œè¿™æ—¶å€™å‘ä¸‹æ–¹ä¸€æ ·å®šä¹‰ä¸€ä¸ªè·¯åŠ²åˆ«åå°±å¾ˆå®ç”¨äº†</span><br><span class="line">    config.resolve.alias</span><br><span class="line">      //æ·»åŠ å¤šä¸ªåˆ«åæ”¯æŒé“¾å¼è°ƒç”¨</span><br><span class="line">      .set(&quot;assets&quot;, path.join(__dirname, &quot;/src/assets&quot;))</span><br><span class="line">      .set(&quot;img&quot;, path.join(__dirname, &quot;/src/assets/img/menu&quot;))</span><br><span class="line">      //å¼•å…¥å›¾ç‰‡æ—¶åªéœ€require(&quot;img/img1.png&quot;);å³å¯</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><p>1ã€Vueå¸¸è§é—®é¢˜æ€»ç»“ <a href="https://blog.csdn.net/qq_27674439/article/details/99449197">https://blog.csdn.net/qq_27674439/article/details/99449197</a></p><p>2ã€vueå¸¸è§é¢è¯•é¢˜ <a href="https://zhuanlan.zhihu.com/p/92407628">https://zhuanlan.zhihu.com/p/92407628</a></p><p>3ã€vuexå®˜ç½‘ <a href="https://vuex.vuejs.org/zh/">https://vuex.vuejs.org/zh/</a></p><p>4ã€Vuexé¢è¯•é¢˜æ±‡æ€» <a href="https://juejin.cn/post/6844903993374670855">https://juejin.cn/post/6844903993374670855</a></p><p>5ã€Vue CLIå®˜ç½‘ <a href="https://cli.vuejs.org/zh/">https://cli.vuejs.org/zh/</a></p><p>å†å²å¥½æ–‡æ¨èï¼š</p><p>1ã€<a href="https://juejin.cn/post/6850418118695583758">ã€ä¸‡å­—é•¿æ–‡ã€‘å²ä¸Šæœ€å¼ºcssã€htmlæ€»ç»“~çœ‹å®Œæ¶¨è–ªä¸å†æ˜¯æ¢¦</a></p><p>2ã€<a href="https://juejin.cn/post/6854573211451932685">ã€ä¸‡å­—é•¿æ–‡ã€‘æœ€å…¨JavaScriptåŸºç¡€æ€»ç»“~å»ºè®®æ”¶è— </a></p><p>3ã€<a href="https://juejin.cn/post/6847902222882340872">Event Loopæˆ‘çŸ¥é“ï¼Œå®ä»»åŠ¡å¾®ä»»åŠ¡æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ</a></p><p>4ã€<a href="https://juejin.cn/post/6847009771493523464">é”‹åˆ©ç å†œæ­¦å™¨ä¹‹vscode</a></p><p>5ã€<a href="https://juejin.cn/post/6847009771371888653">é¢è¯•å®å…¸å¸¦ä½ èµ°ä¸Šäººç”Ÿå·…å³°</a></p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¢è¯•é¢˜ Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSå¦‚ä½•ä¼˜é›…çš„è·å–æµ®ç‚¹æ•°çš„æ•´æ•°å’Œå°æ•°éƒ¨åˆ†</title>
      <link href="/2022/01/08/JS%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E8%8E%B7%E5%8F%96%E6%B5%AE%E7%82%B9%E6%95%B0%E7%9A%84%E6%95%B4%E6%95%B0%E5%92%8C%E5%B0%8F%E6%95%B0%E9%83%A8%E5%88%86/"/>
      <url>/2022/01/08/JS%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E8%8E%B7%E5%8F%96%E6%B5%AE%E7%82%B9%E6%95%B0%E7%9A%84%E6%95%B4%E6%95%B0%E5%92%8C%E5%B0%8F%E6%95%B0%E9%83%A8%E5%88%86/</url>
      
        <content type="html"><![CDATA[<h3 id="1-å–æ•´æ•°"><a href="#1-å–æ•´æ•°" class="headerlink" title="1.å–æ•´æ•°"></a>1.å–æ•´æ•°</h3><p>1.parseInt</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">3.75</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(num)); <span class="comment">// 3</span></span><br><span class="line">num = -<span class="number">3.75</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(num)); <span class="comment">// -3</span></span><br></pre></td></tr></table></figure><p>ç”¨parseIntå–æ•´æ•°ï¼Œç»“æœæ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯å¦‚æœ<strong>ä¸¥æ ¼æ¥è¯´</strong>ï¼Œå…¶å®<strong>parseIntå¹¶ä¸æ˜¯è®¾è®¡ç”¨æ¥å–æ•´æ•°çš„</strong>ã€‚</p><blockquote><p><strong>ğŸ‘‰ğŸ» çŸ¥è¯†ç‚¹ï¼š</strong><code>parseInt(string, radix)`` </code>è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°çš„æ–¹æ³•ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¦è½¬æ¢çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœå‚æ•°ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯åŸºæ•°å³è¿›åˆ¶ï¼Œé»˜è®¤ä¸º10ã€‚</p></blockquote><p>æ‰€ä»¥ç”¨ parseInt æ–¹æ³•å–æ•´æ•°ï¼Œæœ‰<strong>ä¸¤ä¸ªä¸å¥½çš„åœ°æ–¹</strong>ï¼Œä¸€æ˜¯ parseInt è¿™ä¸ªå‡½æ•°åï¼Œçœ‹èµ·æ¥å°±æ˜¯å°†å­—ç¬¦ä¸²è½¬æ•´æ•°çš„ï¼Œç”¨åœ¨è¿™é‡Œä¸æ˜¯å¾ˆé€‚åˆï¼Œå¦ä¸€ä¸ªæ˜¯è½¬å­—ç¬¦ä¸²æœ‰ç‚¹å¤šæ­¤ä¸€ä¸¾ï¼Œè€Œä¸”è‚¯å®šä¼šå¸¦æ¥æ€§èƒ½å¼€é”€ï¼Œæ‰€ä»¥ä½¿ç”¨ parseInt è™½ç„¶æ–¹ä¾¿ï¼Œä½†ä¸æ˜¯æœ€å¥½çš„åŠæ³•ã€‚</p><p>2.Mathæ–¹æ³•</p><p>å…¶ä¸­ Math.round æ˜¯å››èˆäº”å…¥çš„ï¼ŒMath.ceil æ˜¯å‘ä¸Šå–æ•´ï¼ŒMath.floor æ˜¯å‘ä¸‹å–æ•´ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trunc</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num &gt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="built_in">Math</span>.floor(num) <span class="comment">//å¦‚æœå°äº0 å‘ä¸Šå–æ•´</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.ceil(num) <span class="comment">//å‘ä¸‹å–æ•´</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.ä½æ“ä½œ</p><p>ä½¿ç”¨ä½æ“ä½œæ–¹æ³•ï¼Œåœ¨è¿ç®—è¿‡ç¨‹ä¸­ä¼šæŠŠæ“ä½œæ•°è½¬ä¸ºæˆ32ä½æ•´æ•°ï¼Œå¦‚æ­¤ï¼Œè¿ç®—åçš„ç»“æœå°±æ˜¯æ•´æ•°éƒ¨åˆ†äº†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">3.75</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num | <span class="number">0</span>); <span class="comment">// 3</span></span><br><span class="line">num = -num;</span><br><span class="line"><span class="built_in">console</span>.log(num | <span class="number">0</span>); <span class="comment">// -3</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™æ ·åšä¹Ÿæœ‰ç¼ºé™·</p><blockquote><p>ğŸ‘‰ğŸ» <strong>å†·çŸ¥è¯†</strong>ï¼šå› ä¸ºbitwiseæ“ä½œå°†æ“ä½œæ•°è½¬ä¸ºInt32ï¼Œæ‰€ä»¥å®ƒä¸èƒ½å¤„ç†è¶…è¿‡32ä½çš„æ•°å€¼å–æ•´ï¼Œè€ŒJavaScriptæœ‰æ•ˆæ•´æ•°çš„èŒƒå›´æ˜¯53ä½ã€‚</p></blockquote><p>å½“æ•°å€¼èŒƒå›´è¶…è¿‡32ä½æ—¶ï¼Œå®ƒå°†ä¸èƒ½å¯¹æ•°å€¼å–æ•´ï¼Œè€ŒJavaScriptæœ‰æ•ˆæ•´æ•°çš„èŒƒå›´æ˜¯53ä½ã€‚</p><p>é‚£ä¹ˆç”¨â€œ|â€æœ‰ä»€ä¹ˆ<strong>å¥½å¤„</strong>å‘¢ï¼Ÿå¦‚æœè€ƒè™‘jsæ–‡ä»¶å¤§å°ï¼Œé‚£ä¹ˆ<strong>a|0</strong>ä¸å…¶ä»–æ–¹å¼æ¯”è¾ƒï¼Œæ˜¯æœ€çŸ­çš„æ–¹å¼ï¼Œæ‰€ä»¥å¦‚æœè¦è€ƒè™‘å‹ç¼©ä»£ç çš„å¤§å°ï¼Œä¸”æ˜ç¡®çŸ¥é“æ•°å€¼èŒƒå›´ä¸ä¼šè¶…è¿‡32ä½æ•´æ•°çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¿™ä¸ªæŠ€å·§ã€‚</p><h3 id="2-å–å°æ•°"><a href="#2-å–å°æ•°" class="headerlink" title="2.å–å°æ•°"></a>2.å–å°æ•°</h3><p>1.parseInt+split</p><p>å°†æ•°å€¼è½¬æ¢æˆ2å­—ç¬¦ä¸²ååˆ‡å‰²å¹¶è½¬æ¢å›æ•°å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">12.76</span></span><br><span class="line"><span class="keyword">const</span> integer = <span class="built_in">parseInt</span>(num.toString().split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line"><span class="keyword">const</span> decimal = <span class="built_in">parseInt</span>(num.toString().split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">1</span>])<span class="comment">//å–å°æ•°</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;integer&#125;</span>.<span class="subst">$&#123;decimal&#125;</span>`</span>);</span><br></pre></td></tr></table></figure><p>2.Math.trunc()</p><p>å…ˆç”¨<code>Math.trunc(num)</code>å–æ•´ï¼Œç„¶åå†ä¸åŸæ•°ç›¸å‡ï¼Œå°±å¾—åˆ°äº†å°æ•°éƒ¨åˆ†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fract</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num - <span class="built_in">Math</span>.trunc(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(fract(<span class="number">3.75</span>)); <span class="comment">// 0.75</span></span><br><span class="line"><span class="built_in">console</span>.log(fract(-<span class="number">3.75</span>)); <span class="comment">// -0.75</span></span><br></pre></td></tr></table></figure><p>3.å–æ¨¡è¿ç®—</p><blockquote><p><strong>ğŸ‘‰ğŸ» çŸ¥è¯†ç‚¹ï¼š</strong> JavaScriptçš„å–æ¨¡è¿ç®—%å¹¶ä¸é™äºæ•´æ•°è¿ç®—ï¼Œå¯ä»¥å¯¹æµ®ç‚¹æ•°å–æ¨¡ã€‚</p></blockquote><p>æ‰€ä»¥ï¼Œç›´æ¥å°†åŸæ•°å¯¹1å–æ¨¡ï¼Œå³å¯è·å¾—å°æ•°éƒ¨åˆ†ï¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">3.75</span> % <span class="number">1</span>); <span class="comment">// 0.75</span></span><br><span class="line"><span class="built_in">console</span>.log(-<span class="number">3.75</span> % <span class="number">1</span>); <span class="comment">// -0.75</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript ä½è¿ç®— </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
