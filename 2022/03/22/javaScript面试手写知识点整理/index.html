<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>javaScripté¢è¯•æ‰‹å†™çŸ¥è¯†ç‚¹æ•´ç† | AstronautBlog</title><meta name="keywords" content="JavaScript"><meta name="author" content="zzm,957957209@qq.com"><meta name="copyright" content="zzm"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1.ä¸ºä»€ä¹ˆ0.1+0.2ä¸ç­‰äº0.3?è§£é‡Š:JSä¸­é‡‡ç”¨çš„IEEE 754çš„åŒç²¾åº¦æ ‡å‡†ï¼Œè®¡ç®—æœºå†…éƒ¨å­˜å‚¨æ•°æ®çš„ç¼–ç çš„æ—¶å€™ï¼Œ0.1åœ¨è®¡ç®—æœºå†…éƒ¨æ ¹æœ¬å°±ä¸æ˜¯ç²¾ç¡®çš„0.1ï¼Œè€Œæ˜¯ä¸€ä¸ªæœ‰èˆå…¥è¯¯å·®çš„0.1ã€‚å½“ä»£ç è¢«ç¼–è¯‘æˆ–è§£é‡Šåï¼Œ0.1å·²ç»è¢«å››èˆäº”å…¥æˆä¸€ä¸ªä¸ä¹‹å¾ˆæ¥è¿‘çš„è®¡ç®—æœºå†…éƒ¨æ•°å­—ï¼Œä»¥è‡³äºè®¡ç®—è¿˜æ²¡å¼€å§‹ï¼Œä¸€ä¸ªå¾ˆå°çš„èˆå…¥é”™è¯¯å°±å·²ç»äº§ç”Ÿäº†ã€‚è¿™ä¹Ÿå°±æ˜¯ 0.1 + 0.2 ä¸ç­‰äº0.3 çš„åŸå› ã€‚ åœ¨å¯¹ä¸¤ä¸ªè¿‘ä¼¼å€¼è¿›è¡Œè®¡ç®—æ—¶å¦‚æœå¾—">
<meta property="og:type" content="article">
<meta property="og:title" content="javaScripté¢è¯•æ‰‹å†™çŸ¥è¯†ç‚¹æ•´ç†">
<meta property="og:url" content="http://example.com/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/index.html">
<meta property="og:site_name" content="AstronautBlog">
<meta property="og:description" content="1.ä¸ºä»€ä¹ˆ0.1+0.2ä¸ç­‰äº0.3?è§£é‡Š:JSä¸­é‡‡ç”¨çš„IEEE 754çš„åŒç²¾åº¦æ ‡å‡†ï¼Œè®¡ç®—æœºå†…éƒ¨å­˜å‚¨æ•°æ®çš„ç¼–ç çš„æ—¶å€™ï¼Œ0.1åœ¨è®¡ç®—æœºå†…éƒ¨æ ¹æœ¬å°±ä¸æ˜¯ç²¾ç¡®çš„0.1ï¼Œè€Œæ˜¯ä¸€ä¸ªæœ‰èˆå…¥è¯¯å·®çš„0.1ã€‚å½“ä»£ç è¢«ç¼–è¯‘æˆ–è§£é‡Šåï¼Œ0.1å·²ç»è¢«å››èˆäº”å…¥æˆä¸€ä¸ªä¸ä¹‹å¾ˆæ¥è¿‘çš„è®¡ç®—æœºå†…éƒ¨æ•°å­—ï¼Œä»¥è‡³äºè®¡ç®—è¿˜æ²¡å¼€å§‹ï¼Œä¸€ä¸ªå¾ˆå°çš„èˆå…¥é”™è¯¯å°±å·²ç»äº§ç”Ÿäº†ã€‚è¿™ä¹Ÿå°±æ˜¯ 0.1 + 0.2 ä¸ç­‰äº0.3 çš„åŸå› ã€‚ åœ¨å¯¹ä¸¤ä¸ªè¿‘ä¼¼å€¼è¿›è¡Œè®¡ç®—æ—¶å¦‚æœå¾—">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440862.webp">
<meta property="article:published_time" content="2022-03-22T11:35:35.000Z">
<meta property="article:modified_time" content="2022-03-22T13:43:20.417Z">
<meta property="article:author" content="zzm">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440862.webp"><link rel="shortcut icon" href="/./img/first.png"><link rel="canonical" href="http://example.com/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'javaScripté¢è¯•æ‰‹å†™çŸ¥è¯†ç‚¹æ•´ç†',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-03-22 21:43:20'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    document.addEventListener('pjax:complete', detectApple)})(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/avater1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">10</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">10</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">2</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-folder-ope"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> æˆ‘çš„</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹æƒ…é“¾æ¥</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440862.webp')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">AstronautBlog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-folder-ope"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> æˆ‘çš„</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹æƒ…é“¾æ¥</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">javaScripté¢è¯•æ‰‹å†™çŸ¥è¯†ç‚¹æ•´ç†</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-03-22T11:35:35.000Z" title="å‘è¡¨äº 2022-03-22 19:35:35">2022-03-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-03-22T13:43:20.417Z" title="æ›´æ–°äº 2022-03-22 21:43:20">2022-03-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/">é¢è¯•é¢˜</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">8.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>38åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="javaScripté¢è¯•æ‰‹å†™çŸ¥è¯†ç‚¹æ•´ç†"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="1-ä¸ºä»€ä¹ˆ0-1-0-2ä¸ç­‰äº0-3"><a href="#1-ä¸ºä»€ä¹ˆ0-1-0-2ä¸ç­‰äº0-3" class="headerlink" title="1.ä¸ºä»€ä¹ˆ0.1+0.2ä¸ç­‰äº0.3?"></a>1.ä¸ºä»€ä¹ˆ0.1+0.2ä¸ç­‰äº0.3?</h3><p><strong>è§£é‡Š</strong>:JSä¸­é‡‡ç”¨çš„<strong>IEEE 754çš„åŒç²¾åº¦æ ‡å‡†</strong>ï¼Œè®¡ç®—æœºå†…éƒ¨å­˜å‚¨æ•°æ®çš„ç¼–ç çš„æ—¶å€™ï¼Œ<strong>0.1åœ¨è®¡ç®—æœºå†…éƒ¨æ ¹æœ¬å°±ä¸æ˜¯ç²¾ç¡®çš„0.1ï¼Œè€Œæ˜¯ä¸€ä¸ªæœ‰èˆå…¥è¯¯å·®çš„0.1</strong>ã€‚å½“ä»£ç è¢«ç¼–è¯‘æˆ–è§£é‡Šåï¼Œ0.1å·²ç»è¢«å››èˆäº”å…¥æˆä¸€ä¸ªä¸ä¹‹å¾ˆæ¥è¿‘çš„è®¡ç®—æœºå†…éƒ¨æ•°å­—ï¼Œä»¥è‡³äºè®¡ç®—è¿˜æ²¡å¼€å§‹ï¼Œä¸€ä¸ªå¾ˆå°çš„èˆå…¥é”™è¯¯å°±å·²ç»äº§ç”Ÿäº†ã€‚è¿™ä¹Ÿå°±æ˜¯ 0.1 + 0.2 ä¸ç­‰äº0.3 çš„åŸå› ã€‚</p>
<p>åœ¨å¯¹ä¸¤ä¸ªè¿‘ä¼¼å€¼è¿›è¡Œè®¡ç®—æ—¶å¦‚æœå¾—åˆ°çš„å€¼æ˜¯åœ¨è¿‘ä¼¼èŒƒå›´å†…,å°±å¯ä»¥å¾—åˆ°æ­£ç¡®ç­”æ¡ˆ</p>
<p>åœ¨es6ä¸­å¼•å…¥äº†äººNumber.EPSILONå±æ€§,å®ƒè¡¨ç¤ºjavaScriptçš„æœ€å°ç²¾åº¦,å®ƒçš„å€¼æ¥è¿‘äº2.2204460492453130808472633361816E-16</p>
<p>å¦‚æœä¸¤ä¸ªæ•°çš„å·®å€¼çš„å°äºjavascriptçš„æœ€å°ç²¾åº¦,åˆ™è¡¨æ˜è¿™ä¸¤ä¸ªæ•°æ˜¯ç›¸ç­‰çš„,å¦åˆ™è¿™ä¸¤ä¸ªæ•°æ˜¯ä¸ç›¸ç­‰çš„</p>
<p>å¾ˆæ˜æ˜¾0.1+0.2 ä¸ 0.3 çš„å·®å€¼æ˜¯å¤§äºè¿™ä¸ªæœ€å°ç²¾åº¦çš„,æ‰€ä»¥å®ƒä»¬æ˜¯ä¸ç›¸ç­‰çš„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">0.1</span>+<span class="number">0.2</span> === <span class="number">0.3</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0.1</span> + <span class="number">0.2</span>)<span class="comment">//0.30000000000000004</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ„å»ºä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ä¸¤ä¸ªæ•°æ˜¯å¦æ»¡è¶³javascriptä¸­çš„ç›¸ç­‰çš„æ¡ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">equal</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">Math</span>.abs(a-b) &lt; <span class="built_in">Number</span>.EPSILON)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(equal(<span class="number">0.1</span>+<span class="number">0.2</span>,<span class="number">0.3</span>))/</span><br></pre></td></tr></table></figure>

<h3 id="2-åœ¨ä»€ä¹ˆæƒ…å†µä¸‹a-a-1ï¼Ÿ"><a href="#2-åœ¨ä»€ä¹ˆæƒ…å†µä¸‹a-a-1ï¼Ÿ" class="headerlink" title="2.åœ¨ä»€ä¹ˆæƒ…å†µä¸‹a === a-1ï¼Ÿ"></a>2.åœ¨ä»€ä¹ˆæƒ…å†µä¸‹a === a-1ï¼Ÿ</h3><p>æˆ‘ä»¬å¯ä»¥æ€è€ƒæˆ‘ä»¬æ‰€å­¦çš„æ•°å­¦çŸ¥è¯†</p>
<p>æ— ç©·å¤§å’Œæ— ç©·å¤§-1åº”è¯¥æ€ä¹ˆæ¯”è¾ƒ?æŒ‰ç…§æé™çš„æ€æƒ³,æ— ç©·å¤§ä¸æ— ç©·å¤§-1åº”è¯¥æ˜¯ç›¸ç­‰çš„,å› ä¸ºæ— ç©·å¤§ä¸èƒ½ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„æ•°</p>
<p>åœ¨JavaScriptä¸­ï¼Œæ•´æ•°å¯ä»¥è¢«ç²¾ç¡®è¡¨ç¤ºçš„èŒƒå›´æ˜¯ <em><em>-2 *</em> 53 + 1</em>* åˆ° <em><em>2 *</em> 53 - 1</em>*ï¼Œå³ <strong>-9007199254740991</strong> åˆ° <strong>9007199254740991</strong>ã€‚è¶…è¿‡è¿™ä¸ªæ•°å€¼çš„æ•´æ•°ï¼Œéƒ½ä¸èƒ½è¢«ç²¾ç¡®è¡¨ç¤ºã€‚</p>
<p>æ‰€ä»¥å½“æ•°å­—è¶…è¿‡è¿™ä¸ªèŒƒå›´æ—¶,jsä¼šè®²è¿™ä¸ªæ•°å®šä¹‰ä¸ºæ— ç©·å¤§æˆ–è€…æ— ç©·å°</p>
<ol>
<li><p><strong>æ­£è´Ÿinfinity</strong></p>
<blockquote>
<p>åœ¨jsä¸­,Infinityæ˜¯ä¸€ä¸ªNumberç±»å‹çš„å­—é¢é‡,è¡¨ç¤ºæ— ç©·å¤§,å½“å½“ä¸€ä¸ªNumberç±»å‹çš„å€¼åœ¨è¿ç®—è¿‡ç¨‹ä¸­è¶…è¿‡äº†æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§å€¼,å°±ä¼šå¾—åˆ°æ— ç©·å¤§</p>
</blockquote>
</li>
</ol>
<p>æ¯”å¦‚ï¼Œå¦‚æœæˆ‘ä»¬å°†ä¸€ä¸ªä¸ä¸º0çš„æ­£æ•°é™¤ä»¥0ï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯æ— ç©·å¤§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span> / <span class="number">0</span>); <span class="comment">// Infinity </span></span><br></pre></td></tr></table></figure>

<p>å¯¹åº”çš„ï¼Œè´Ÿæ•°æœ‰è´Ÿæ— ç©·å¤§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(-<span class="number">100</span> / <span class="number">0</span>); <span class="comment">// -Infinity</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬æ•°å€¼è¿ç®—çš„å€¼ï¼Œè¶…è¿‡äº†Numberå…è®¸è¡¨ç¤ºçš„èŒƒå›´ï¼Œä¹Ÿæ˜¯ä¼šå¾—åˆ°Infinityã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1e1000</span>); <span class="comment">// Infinity</span></span><br></pre></td></tr></table></figure>



<p>åœ¨JavaScripté‡Œï¼Œ<strong>Number.POSITIVE_INFINITY</strong>å’Œ<strong>Number.NEGATIVE_INFINITY</strong>ä¸¤ä¸ªå¸¸é‡çš„å€¼ï¼Œå¯¹åº”æ­£è´ŸInfinityã€‚</p>
<p><strong>Number.isFinite()</strong> å¯ä»¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯æœ‰ç©·çš„ï¼ŒNumber.isFinite(n)ï¼Œå½“næ˜¯Numberç±»å‹æ—¶ï¼Œåªæœ‰å®ƒæ˜¯æ­£è´ŸInfinityæˆ–NaNæ—¶ï¼Œè¿”å›falseï¼Œå…¶ä»–æƒ…å†µä¸‹è¿”å›trueã€‚</p>
<p>ä»»ä½•ä¸€ä¸ªæœ‰ç©·çš„æ•°å’ŒInfinityçš„åŠ å‡è¿ç®—çš„ç»“æœéƒ½æ˜¯Infinityï¼Œè€Œ<strong>Infinity === Infinity</strong></p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥çŸ¥é“<strong>Â±Infinity</strong>éƒ½æ˜¯å¯ä»¥ç”¨åœ¨a===a-1çš„æƒ…å†µä¸‹çš„</p>
<p><strong>ä½†æ˜¯</strong> <strong>è¦æ³¨æ„ï¼ŒInfinityè¿ç®—çš„ç»“æœå¹¶ä¸æ€»æ˜¯Infinityï¼Œæ¯”å¦‚æˆ‘ä»¬çœ‹ä¸‹é¢å‡ ç§è¿ç®—ï¼š</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> + <span class="literal">Infinity</span>); <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> - <span class="literal">Infinity</span>); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> * <span class="literal">Infinity</span>); <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> / <span class="literal">Infinity</span>); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> * <span class="number">0</span>);        <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>

<p>ç»“è®ºæ˜¯:</p>
<p><strong>Infinityè¿ç®—ä¹Ÿæœ‰å¯èƒ½å¾—åˆ°NaNï¼Œæ‰€ä»¥éœ€è¦å°å¿ƒï¼Œä¾‹å¦‚æˆ‘ä»¬çš„ä¸€ä¸ªè®¡ç®—è¡¨è¾¾å¼ä¸­ï¼Œæœ‰ä¸¤ä¸ªå€¼ç›¸ä¹˜ï¼Œä¸€ä¸ªå€¼æœ‰å¯èƒ½å¾ˆå¤§ï¼Œå¦ä¸€ä¸ªå€¼æœ‰å¯èƒ½ä¸º0æ—¶ï¼Œå°±éœ€è¦å°å¿ƒï¼Œå¦‚æœé‚£ä¸ªå¾ˆå¤§çš„å€¼å¾—åˆ°Infinityï¼Œå¦ä¸€ä¸ªå€¼æ°å¥½ä¸º0æ—¶ï¼Œæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼å¯èƒ½æ˜¯NaNï¼Œè¿™ä¼šé€ æˆä¸€äº›bugã€‚</strong></p>
<hr>
<p><strong>2.ä»»æ„ä¸€ä¸ªè¶…è¿‡JSç²¾åº¦èŒƒå›´çš„æ•°</strong></p>
<blockquote>
<p>ğŸ‘‰ğŸ»çŸ¥è¯†ç‚¹ï¼š  åœ¨JavaScripté‡Œï¼Œæ•´æ•°å¯ä»¥è¢«ç²¾ç¡®è¡¨ç¤ºçš„èŒƒå›´æ˜¯ä» 2 * 53 + 1 åˆ° 2 * 53 - 1**ï¼Œå³ **-9007199254740991 åˆ° <strong>9007199254740991</strong>ã€‚è¶…è¿‡è¿™ä¸ªæ•°å€¼çš„æ•´æ•°ï¼Œéƒ½ä¸èƒ½è¢«ç²¾ç¡®è¡¨ç¤ºã€‚</p>
<p>å¸¸é‡<strong>Number.MAX_SAFE_INTEGER</strong>å’Œ<strong>Number.MIN_SAFE_INTEGER</strong>åˆ†åˆ«å¯¹åº”<strong>9007199254740991</strong>å’Œ <strong>-9007199254740991</strong>ã€‚</p>
</blockquote>
<p>æµ‹è¯•ä¸€ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">9007199254740986</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;i&#125;</span> : <span class="subst">$&#123;a + i&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> : <span class="number">9007199254740986</span></span><br><span class="line"><span class="number">1</span> : <span class="number">9007199254740987</span></span><br><span class="line"><span class="number">2</span> : <span class="number">9007199254740988</span></span><br><span class="line"><span class="number">3</span> : <span class="number">9007199254740989</span></span><br><span class="line"><span class="number">4</span> : <span class="number">9007199254740990</span></span><br><span class="line"><span class="number">5</span> : <span class="number">9007199254740991</span></span><br><span class="line"><span class="number">6</span> : <span class="number">9007199254740992</span></span><br><span class="line"><span class="number">7</span> : <span class="number">9007199254740992</span></span><br><span class="line"><span class="number">8</span> : <span class="number">9007199254740994</span></span><br><span class="line"><span class="number">9</span> : <span class="number">9007199254740996</span></span><br></pre></td></tr></table></figure>

<p>çœ‹åˆ°åœ¨ a + i çš„å€¼å°äºç­‰äº 9007199254740991 æ—¶ï¼Œè¾“å‡ºæ­£å¸¸çš„æ¯æ¬¡å¾ªç¯åŠ 1çš„ç»“æœï¼Œåˆ°äº†å¤§äº 9007199254740991 åï¼Œè¾“å‡ºçš„ç»“æœé‡Œå‡ºç°äº†ä¸¤æ¬¡ 9007199254740992ï¼Œå°‘äº† 9007199254740993 å’Œ 9007199254740995ã€‚</p>
<p><strong>è¿™æ˜¯å› ä¸º</strong>ï¼Œè¶…è¿‡ 9007199254740991 ä¹‹åï¼ŒJavaScriptçš„Numberç±»å‹å°±æ²¡åŠæ³•ç²¾ç¡®åœ°è¡¨ç¤ºæ•´æ•°äº†ã€‚<strong>å› ä¸ºä¸¢å¤±äº†ç²¾åº¦ï¼Œæ‰€ä»¥ 9007199254740993 å’Œ 9007199254740995 ä¸è§äº†ã€‚</strong></p>
<hr>
<p><strong>3.å¤§æ•´æ•° Big Integer</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span> ** <span class="number">2000</span>); <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2n</span> ** <span class="number">2000n</span>); <span class="comment">//114813069527425452423283320117768198402231770208869520047764273682576626139237031385665948631650626991844596463898746277344711896086305533142593135616665318539129989145312280000688779148240044871428926990063486244781615463646388363947317026040466353970904996558162398808944629605623311649536164221970332681344168908984458505602379484807914058900934776500429002716706625830522008132236281291761267883317206598995396418127021779858404042159853183251540889433902091920554957783589672039160081957216630582755380425583726015528348786419432054508915275783882625175435528800822842770817965453762184851149029376n</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>æ˜“é”™ç‚¹</strong></p>
<p>NaNçš„ç‰¹ç‚¹æ˜¯å®ƒä¸ä»»ä½•å€¼éƒ½ä¸æƒ³ç­‰ï¼ŒåŒ…æ‹¬å®ƒæœ¬èº«,æ‰€ä»¥NaN === NaN-1æ˜¯ä¸æ­£ç¡®çš„</p>
<hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">1</span>/<span class="number">0</span></span><br><span class="line"><span class="built_in">console</span>.log(a === a-<span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b1 = <span class="literal">Infinity</span></span><br><span class="line"><span class="keyword">const</span> b2 = -<span class="literal">Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log( b1 === b1 - <span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log( b2 === b2 -<span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c1 = <span class="built_in">Number</span>.MAX_VALUE</span><br><span class="line"><span class="keyword">const</span> c2 = <span class="built_in">Number</span>.MAX_SAFE_INTEGER</span><br><span class="line"><span class="keyword">const</span> c3 = <span class="built_in">Number</span>.MIN_VALUE</span><br><span class="line"><span class="keyword">const</span> c4 = <span class="built_in">Number</span>.MIN_SAFE_INTEGER</span><br><span class="line"><span class="built_in">console</span>.log(c1 === c1-<span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(c2 === c2-<span class="number">1</span>); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(c3 === c3-<span class="number">1</span>); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(c4 === c4-<span class="number">1</span>); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> d = <span class="literal">NaN</span></span><br><span class="line"><span class="built_in">console</span>.log( d === d-<span class="number">1</span>); <span class="comment">// false NaNä¸ä»»ä½•æ•°éƒ½ä¸ç›¸ç­‰(åŒ…æ‹¬ä»–æœ¬èº«)</span></span><br></pre></td></tr></table></figure>



<p><strong>æ€»ç»“</strong>:åœ¨ä»¥ä¸‹æƒ…å†µä¸‹a===a-1:</p>
<ul>
<li>aä¸ºæ­£è´Ÿinfinity</li>
<li>aä¸ºä»»æ„ä¸€ä¸ªè¶…è¿‡JSç²¾åº¦èŒƒå›´çš„æ•°</li>
<li>aæ˜¯ä¸€ä¸ªå¤§æ•´æ•°</li>
</ul>
<h3 id="3-æ‰‹å†™åŸç”Ÿajaxè¯·æ±‚"><a href="#3-æ‰‹å†™åŸç”Ÿajaxè¯·æ±‚" class="headerlink" title="3.æ‰‹å†™åŸç”Ÿajaxè¯·æ±‚"></a>3.æ‰‹å†™åŸç”Ÿajaxè¯·æ±‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ajax = &#123;    <span class="function"><span class="title">get</span>(<span class="params"> url, fn </span>)</span>&#123;        <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()        xhr.open(<span class="string">&#x27;GET&#x27;</span>,url,<span class="literal">true</span>) <span class="comment">//ç¬¬ä¸‰ä¸ªå‚æ•° trueä»£è¡¨å¼‚æ­¥,falseä»£è¡¨åŒæ­¥        xhr.onreadystatechange = function() &#123;            if (xhr.readyState === 4) &#123;                fn(xhr.responseText)            &#125;        &#125;        xhr.send()    &#125;,    post()&#123;        const xhr = new XMLHttpRequest()        xhr.open(&#x27;POST&#x27;,url,true)        xhr.setRequestHeader(&#x27;Conten-type&#x27;,&#x27;application/x-www-form-urlencoded&#x27;)        xhr.onreadystatechange = function()&#123;            if ( xhr.readyState === 4) &#123;                fn(xhr.responseText)            &#125;        &#125;        xhr.send()    &#125;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-æ‰‹å†™new"><a href="#4-æ‰‹å†™new" class="headerlink" title="4.æ‰‹å†™new"></a>4.æ‰‹å†™new</h3><p>å…ˆç”¨æ–‡å­—æè¿°ä¸€ä¸‹ new çš„å®ç°è¿‡ç¨‹</p>
<ul>
<li>æ–°å®šä¹‰ä¸€ä¸ª json å¯¹è±¡</li>
<li>å¯¹è±¡ ç»§æ‰¿ æ„é€ å‡½æ•°çš„åŸå‹é“¾</li>
<li>å°†æ„é€ å‡½æ•°çš„ this æŒ‡å‘è¿™ä¸ªå¯¹è±¡</li>
<li>æ ¹æ®æ„é€ å‡½æ•°çš„è¿”å›å€¼ç±»å‹è¿”å›ç»“æœ</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myNew</span>(<span class="params">fn,...args</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> obj = &#123;&#125; <span class="comment">//åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</span></span><br><span class="line">    obj.__proto__ = fn.prototype <span class="comment">//å¯¹è±¡ç»§æ‰¿æ„é€ å‡½æ•°çš„åŸå‹é“¾</span></span><br><span class="line">    fn.apply(obj,args) <span class="comment">//å°†æ„é€ å‡½æ•°çš„thisæŒ‡å‘è¿™ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">this</span>.name = <span class="built_in">arguments</span>[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">this</span>.age = <span class="built_in">arguments</span>[<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">this</span>.gender = <span class="built_in">arguments</span>[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"> &#125; </span><br><span class="line"> Person.prototype.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;ä½ å¥½å‘€,æˆ‘æ˜¯&quot;</span>,<span class="built_in">this</span>.name);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ•°æ®æµ‹è¯•</span></span><br><span class="line"> <span class="keyword">let</span> test = myNew(Person,<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="string">&#x27;18&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>)</span><br><span class="line"> test.sayHello()</span><br><span class="line"> <span class="built_in">console</span>.log(test.name);</span><br><span class="line"> <span class="built_in">console</span>.log(test.age);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="5-å¦‚ä½•ä¼˜é›…çš„è·å–æµ®ç‚¹æ•°çš„æ•´æ•°å’Œå°æ•°éƒ¨åˆ†"><a href="#5-å¦‚ä½•ä¼˜é›…çš„è·å–æµ®ç‚¹æ•°çš„æ•´æ•°å’Œå°æ•°éƒ¨åˆ†" class="headerlink" title="5.å¦‚ä½•ä¼˜é›…çš„è·å–æµ®ç‚¹æ•°çš„æ•´æ•°å’Œå°æ•°éƒ¨åˆ†"></a>5.å¦‚ä½•ä¼˜é›…çš„è·å–æµ®ç‚¹æ•°çš„æ•´æ•°å’Œå°æ•°éƒ¨åˆ†</h3><h4 id="1-å–æ•´æ•°"><a href="#1-å–æ•´æ•°" class="headerlink" title="1.å–æ•´æ•°"></a>1.å–æ•´æ•°</h4><p>1.parseInt</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">3.75</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(num)); <span class="comment">// 3</span></span><br><span class="line">num = -<span class="number">3.75</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(num)); <span class="comment">// -3</span></span><br></pre></td></tr></table></figure>

<p>ç”¨parseIntå–æ•´æ•°ï¼Œç»“æœæ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯å¦‚æœ<strong>ä¸¥æ ¼æ¥è¯´</strong>ï¼Œå…¶å®<strong>parseIntå¹¶ä¸æ˜¯è®¾è®¡ç”¨æ¥å–æ•´æ•°çš„</strong>ã€‚</p>
<blockquote>
<p><strong>ğŸ‘‰ğŸ» çŸ¥è¯†ç‚¹ï¼š</strong><code>parseInt(string, radix)`` </code>è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°çš„æ–¹æ³•ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¦è½¬æ¢çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœå‚æ•°ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯åŸºæ•°å³è¿›åˆ¶ï¼Œé»˜è®¤ä¸º10ã€‚</p>
</blockquote>
<p>æ‰€ä»¥ç”¨ parseInt æ–¹æ³•å–æ•´æ•°ï¼Œæœ‰<strong>ä¸¤ä¸ªä¸å¥½çš„åœ°æ–¹</strong>ï¼Œä¸€æ˜¯ parseInt è¿™ä¸ªå‡½æ•°åï¼Œçœ‹èµ·æ¥å°±æ˜¯å°†å­—ç¬¦ä¸²è½¬æ•´æ•°çš„ï¼Œç”¨åœ¨è¿™é‡Œä¸æ˜¯å¾ˆé€‚åˆï¼Œå¦ä¸€ä¸ªæ˜¯è½¬å­—ç¬¦ä¸²æœ‰ç‚¹å¤šæ­¤ä¸€ä¸¾ï¼Œè€Œä¸”è‚¯å®šä¼šå¸¦æ¥æ€§èƒ½å¼€é”€ï¼Œæ‰€ä»¥ä½¿ç”¨ parseInt è™½ç„¶æ–¹ä¾¿ï¼Œä½†ä¸æ˜¯æœ€å¥½çš„åŠæ³•ã€‚</p>
<p>2.Mathæ–¹æ³•</p>
<p>å…¶ä¸­ Math.round æ˜¯å››èˆäº”å…¥çš„ï¼ŒMath.ceil æ˜¯å‘ä¸Šå–æ•´ï¼ŒMath.floor æ˜¯å‘ä¸‹å–æ•´ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trunc</span>(<span class="params">num</span>)</span>&#123;    <span class="keyword">if</span>(num &gt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="built_in">Math</span>.floor(num) <span class="comment">//å¦‚æœå°äº0 å‘ä¸Šå–æ•´    return Math.ceil(num) //å‘ä¸‹å–æ•´&#125;</span></span><br></pre></td></tr></table></figure>

<p>3.ä½æ“ä½œ</p>
<p>ä½¿ç”¨ä½æ“ä½œæ–¹æ³•ï¼Œåœ¨è¿ç®—è¿‡ç¨‹ä¸­ä¼šæŠŠæ“ä½œæ•°è½¬ä¸ºæˆ32ä½æ•´æ•°ï¼Œå¦‚æ­¤ï¼Œè¿ç®—åçš„ç»“æœå°±æ˜¯æ•´æ•°éƒ¨åˆ†äº†</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">3.75</span>;<span class="built_in">console</span>.log(num | <span class="number">0</span>); <span class="comment">// 3num = -num;console.log(num | 0); // -3</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™æ ·åšä¹Ÿæœ‰ç¼ºé™·</p>
<blockquote>
<p>ğŸ‘‰ğŸ» <strong>å†·çŸ¥è¯†</strong>ï¼šå› ä¸ºbitwiseæ“ä½œå°†æ“ä½œæ•°è½¬ä¸ºInt32ï¼Œæ‰€ä»¥å®ƒä¸èƒ½å¤„ç†è¶…è¿‡32ä½çš„æ•°å€¼å–æ•´ï¼Œè€ŒJavaScriptæœ‰æ•ˆæ•´æ•°çš„èŒƒå›´æ˜¯53ä½ã€‚</p>
</blockquote>
<p>å½“æ•°å€¼èŒƒå›´è¶…è¿‡32ä½æ—¶ï¼Œå®ƒå°†ä¸èƒ½å¯¹æ•°å€¼å–æ•´ï¼Œè€ŒJavaScriptæœ‰æ•ˆæ•´æ•°çš„èŒƒå›´æ˜¯53ä½ã€‚</p>
<p>é‚£ä¹ˆç”¨â€œ|â€æœ‰ä»€ä¹ˆ<strong>å¥½å¤„</strong>å‘¢ï¼Ÿå¦‚æœè€ƒè™‘jsæ–‡ä»¶å¤§å°ï¼Œé‚£ä¹ˆ<strong>a|0</strong>ä¸å…¶ä»–æ–¹å¼æ¯”è¾ƒï¼Œæ˜¯æœ€çŸ­çš„æ–¹å¼ï¼Œæ‰€ä»¥å¦‚æœè¦è€ƒè™‘å‹ç¼©ä»£ç çš„å¤§å°ï¼Œä¸”æ˜ç¡®çŸ¥é“æ•°å€¼èŒƒå›´ä¸ä¼šè¶…è¿‡32ä½æ•´æ•°çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¿™ä¸ªæŠ€å·§ã€‚</p>
<h4 id="2-å–å°æ•°"><a href="#2-å–å°æ•°" class="headerlink" title="2.å–å°æ•°"></a>2.å–å°æ•°</h4><p>1.parseInt+split</p>
<p>å°†æ•°å€¼è½¬æ¢æˆ2å­—ç¬¦ä¸²ååˆ‡å‰²å¹¶è½¬æ¢å›æ•°å€¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">12.</span>76<span class="keyword">const</span> integer = <span class="built_in">parseInt</span>(num.toString().split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>])<span class="keyword">const</span> decimal = <span class="built_in">parseInt</span>(num.toString().split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">1</span>])<span class="comment">//å–å°æ•°console.log(`$&#123;integer&#125;.$&#123;decimal&#125;`);</span></span><br></pre></td></tr></table></figure>

<p>2.Math.trunc()</p>
<p>å…ˆç”¨<code>Math.trunc(num)</code>å–æ•´ï¼Œç„¶åå†ä¸åŸæ•°ç›¸å‡ï¼Œå°±å¾—åˆ°äº†å°æ•°éƒ¨åˆ†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fract</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num - <span class="built_in">Math</span>.trunc(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(fract(<span class="number">3.75</span>)); <span class="comment">// 0.75</span></span><br><span class="line"><span class="built_in">console</span>.log(fract(-<span class="number">3.75</span>)); <span class="comment">// -0.75</span></span><br></pre></td></tr></table></figure>

<p>3.å–æ¨¡è¿ç®—</p>
<blockquote>
<p><strong>ğŸ‘‰ğŸ» çŸ¥è¯†ç‚¹ï¼š</strong> JavaScriptçš„å–æ¨¡è¿ç®—%å¹¶ä¸é™äºæ•´æ•°è¿ç®—ï¼Œå¯ä»¥å¯¹æµ®ç‚¹æ•°å–æ¨¡ã€‚</p>
</blockquote>
<p>æ‰€ä»¥ï¼Œç›´æ¥å°†åŸæ•°å¯¹1å–æ¨¡ï¼Œå³å¯è·å¾—å°æ•°éƒ¨åˆ†ï¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">3.75</span> % <span class="number">1</span>); <span class="comment">// 0.75</span></span><br><span class="line"><span class="built_in">console</span>.log(-<span class="number">3.75</span> % <span class="number">1</span>); <span class="comment">// -0.75</span></span><br></pre></td></tr></table></figure>

<h3 id="3ã€instanceofå…³é”®å­—"><a href="#3ã€instanceofå…³é”®å­—" class="headerlink" title="3ã€instanceofå…³é”®å­—"></a>3ã€instanceofå…³é”®å­—</h3><p>éå†childçš„éšå¼åŸå‹é“¾,å¦‚æœéšå¼åŸå‹é“¾ä¸Šå­˜åœ¨fatherçš„æ˜¾å¼åŸå‹,åˆ™è¿”å›true,å¦åˆ™ä¸ºfalse</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">instanceOf</span>(<span class="params">father, child</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> fp = father.prototype</span><br><span class="line">    <span class="keyword">var</span> cp = child.__proto__</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (cp) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cp === fp) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        cp = cp.__proto__</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£</span><br></pre></td></tr></table></figure>

<h3 id="4ã€å®ç°é˜²æŠ–å‡½æ•°"><a href="#4ã€å®ç°é˜²æŠ–å‡½æ•°" class="headerlink" title="4ã€å®ç°é˜²æŠ–å‡½æ•°"></a>4ã€å®ç°é˜²æŠ–å‡½æ•°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay = <span class="number">500</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">const</span> args = <span class="built_in">arguments</span>        </span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            fn.apply(<span class="built_in">this</span>, args) <span class="comment">// æ”¹å˜thisæŒ‡å‘ä¸ºè°ƒç”¨debounceæ‰€æŒ‡çš„å¯¹è±¡</span></span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="5ã€å®ç°èŠ‚æµå‡½æ•°"><a href="#5ã€å®ç°èŠ‚æµå‡½æ•°" class="headerlink" title="5ã€å®ç°èŠ‚æµå‡½æ•°"></a>5ã€å®ç°èŠ‚æµå‡½æ•°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay = <span class="number">200</span></span>) </span>&#123;    <span class="keyword">let</span> flag = <span class="literal">true</span>    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;        <span class="keyword">if</span> (!flag) <span class="keyword">return</span>        flag = <span class="literal">false</span>        <span class="keyword">const</span> args = <span class="built_in">arguments</span>        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;            fn.apply(<span class="built_in">this</span>, args)            flag = <span class="literal">true</span>        &#125;, delay)    &#125;&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="6ã€å®ç°æ•°ç»„å»é‡"><a href="#6ã€å®ç°æ•°ç»„å»é‡" class="headerlink" title="6ã€å®ç°æ•°ç»„å»é‡"></a>6ã€å®ç°æ•°ç»„å»é‡</h3><blockquote>
<p>é¢˜ç›®æè¿°ï¼šå®ç°ä¸€ä¸ªæ•°ç»„çš„å»é‡</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§ï¼šMapè®°å½•function quchong1(arr) &#123;    const newArr = []    arr.reduce((pre, next) =&gt; &#123;        if (!pre.has(next)) &#123;            pre.set(next, 1)            newArr.push(next)        &#125;        return pre    &#125;, new Map())    return newArr&#125;// ç¬¬äºŒç§ï¼šSetå»é‡function quchong2(arr) &#123;    return [...new Set(arr)]&#125;å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="7ã€ç”¨setTimeoutå®ç°setInterval"><a href="#7ã€ç”¨setTimeoutå®ç°setInterval" class="headerlink" title="7ã€ç”¨setTimeoutå®ç°setInterval"></a>7ã€ç”¨setTimeoutå®ç°setInterval</h3><blockquote>
<p>é¢˜ç›®æè¿°ï¼šsetinterval ç”¨æ¥å®ç°å¾ªç¯å®šæ—¶è°ƒç”¨ å¯èƒ½ä¼šå­˜åœ¨ä¸€å®šçš„é—®é¢˜ èƒ½ç”¨ settimeout è§£å†³å—</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mySetTimout</span>(<span class="params">fn, delay</span>) </span>&#123;    <span class="keyword">let</span> timer = <span class="literal">null</span>    <span class="keyword">const</span> interval = <span class="function">() =&gt;</span> &#123;        fn()        timer = <span class="built_in">setTimeout</span>(interval, delay)    &#125;    <span class="built_in">setTimeout</span>(interval, delay)    <span class="keyword">return</span> &#123;        <span class="attr">cancel</span>: <span class="function">() =&gt;</span> &#123;            <span class="built_in">clearTimeout</span>(timer)        &#125;    &#125;&#125;<span class="comment">// æµ‹è¯•const &#123; cancel &#125; = mySetTimout(() =&gt; console.log(888), 1000)setTimeout(() =&gt; &#123;    cancel()&#125;, 4000)å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="8ã€ç”¨setIntervalå®ç°setTimeout"><a href="#8ã€ç”¨setIntervalå®ç°setTimeout" class="headerlink" title="8ã€ç”¨setIntervalå®ç°setTimeout"></a>8ã€ç”¨setIntervalå®ç°setTimeout</h3><blockquote>
<p>é¢˜ç›®è¯´æ˜ï¼šæ²¡æœ‰ï¼Œå°±æ˜¯æƒ³åˆéš¾ä½ </p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mySetInterval</span>(<span class="params">fn, delay</span>) </span>&#123;    <span class="keyword">const</span> timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;        fn()        <span class="built_in">clearInterval</span>(timer)    &#125;, delay)&#125;<span class="comment">// æµ‹è¯•mySetInterval(() =&gt; console.log(888), 1000)å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="9ã€å®ç°ä¸€ä¸ªcomposeå‡½æ•°"><a href="#9ã€å®ç°ä¸€ä¸ªcomposeå‡½æ•°" class="headerlink" title="9ã€å®ç°ä¸€ä¸ªcomposeå‡½æ•°"></a>9ã€å®ç°ä¸€ä¸ªcomposeå‡½æ•°</h3><blockquote>
<p>é¢˜ç›®è¯´æ˜ï¼šå®ç°ä»¥ä¸‹æ•ˆæœ</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn4</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> a = compose(fn1, fn2, fn3, fn4);</span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br><span class="line"><span class="built_in">console</span>.log(a(<span class="number">1</span>)); <span class="comment">// 1+2+3+4=11</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<blockquote>
<p>å®ç°å¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compose</span>(<span class="params">...fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (fn.length === <span class="number">0</span>) <span class="keyword">return</span> <span class="function">(<span class="params">num</span>) =&gt;</span> num</span><br><span class="line">    <span class="keyword">if</span> (fn.length === <span class="number">1</span>) <span class="keyword">return</span> fn[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> fn.reduce(<span class="function">(<span class="params">pre, next</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> next(pre(num))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="10ã€å®ç°ä¸€ä¸ªç§‘é‡ŒåŒ–å‡½æ•°"><a href="#10ã€å®ç°ä¸€ä¸ªç§‘é‡ŒåŒ–å‡½æ•°" class="headerlink" title="10ã€å®ç°ä¸€ä¸ªç§‘é‡ŒåŒ–å‡½æ•°"></a>10ã€å®ç°ä¸€ä¸ªç§‘é‡ŒåŒ–å‡½æ•°</h3><blockquote>
<p>é¢˜ç›®è¦æ±‚ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">a, b, c</span>) =&gt;</span> a + b + c;</span><br><span class="line"><span class="keyword">const</span> a = currying(add, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a(<span class="number">2</span>,<span class="number">3</span>)) <span class="comment">// 1 + 2 + 3=6</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<blockquote>
<p>å®ç°å¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">currying</span>(<span class="params">fn, ...args1</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// è·å–fnå‚æ•°æœ‰å‡ ä¸ª</span></span><br><span class="line">  <span class="keyword">const</span> length = fn.length</span><br><span class="line">  <span class="keyword">let</span> allArgs = [...args1]</span><br><span class="line">  <span class="keyword">const</span> res = <span class="function">(<span class="params">...arg2</span>) =&gt;</span> &#123;</span><br><span class="line">    allArgs = [...allArgs, ...arg2]</span><br><span class="line">    <span class="comment">// é•¿åº¦ç›¸ç­‰å°±è¿”å›æ‰§è¡Œç»“æœ</span></span><br><span class="line">    <span class="keyword">if</span> (allArgs.length === length) &#123;</span><br><span class="line">      <span class="keyword">return</span> fn(...allArgs)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// ä¸ç›¸ç­‰ç»§ç»­è¿”å›å‡½æ•°</span></span><br><span class="line">      <span class="keyword">return</span> res</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ï¼š</span></span><br><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">a, b, c</span>) =&gt;</span> a + b + c;</span><br><span class="line"><span class="keyword">const</span> a = currying(add, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a(<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="11ã€å®ç°ä¸€ä¸ªLRUç¼“å­˜å‡½æ•°"><a href="#11ã€å®ç°ä¸€ä¸ªLRUç¼“å­˜å‡½æ•°" class="headerlink" title="11ã€å®ç°ä¸€ä¸ªLRUç¼“å­˜å‡½æ•°"></a>11ã€å®ç°ä¸€ä¸ªLRUç¼“å­˜å‡½æ•°</h3><blockquote>
<p>é¢˜ç›®è¯´æ˜ï¼š</p>
</blockquote>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/866902be3c894edebc9a70446ed664df~tplv-k3u1fbpfcp-watermark.awebp" alt="image.png"></p>
<blockquote>
<p>å®ç°å¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;  <span class="function"><span class="title">constructor</span>(<span class="params">size</span>)</span> &#123;    <span class="built_in">this</span>.size = size    <span class="built_in">this</span>.cache = <span class="keyword">new</span> <span class="built_in">Map</span>()  &#125;  <span class="function"><span class="title">get</span>(<span class="params">key</span>)</span> &#123;    <span class="keyword">const</span> hasKey = <span class="built_in">this</span>.cache.has(key)    <span class="keyword">if</span> (hasKey) &#123;      <span class="keyword">const</span> val = <span class="built_in">this</span>.cache.get(key)      <span class="built_in">this</span>.cache.delete(key)      <span class="built_in">this</span>.cache.set(key, val)      <span class="keyword">return</span> val    &#125; <span class="keyword">else</span> &#123;      <span class="keyword">return</span> -<span class="number">1</span>    &#125;  &#125;  <span class="function"><span class="title">put</span>(<span class="params">key, val</span>)</span> &#123;    <span class="keyword">const</span> hasKey = <span class="built_in">this</span>.cache.has(key)    <span class="keyword">if</span> (hasKey) &#123;      <span class="built_in">this</span>.cache.delete(key)    &#125;    <span class="built_in">this</span>.cache.set(key, val)    <span class="keyword">if</span> (<span class="built_in">this</span>.cache.size &gt; <span class="built_in">this</span>.size) &#123;      <span class="built_in">this</span>.cache.delete(<span class="built_in">this</span>.cache.keys().next().value)    &#125;  &#125;&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="12ã€ç®€å•å®ç°-å‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#12ã€ç®€å•å®ç°-å‘å¸ƒè®¢é˜…æ¨¡å¼" class="headerlink" title="12ã€ç®€å•å®ç° å‘å¸ƒè®¢é˜…æ¨¡å¼"></a>12ã€ç®€å•å®ç° å‘å¸ƒè®¢é˜…æ¨¡å¼</h3><blockquote>
<p>é¢˜ç›®æè¿°:å®ç°ä¸€ä¸ªå‘å¸ƒè®¢é˜…æ¨¡å¼æ‹¥æœ‰<code>on emit once off</code>æ–¹æ³•</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventEmitter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.cache = &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">on</span>(<span class="params">name, fn</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> tasks = <span class="built_in">this</span>.cache[name]</span><br><span class="line">        <span class="keyword">if</span> (tasks) &#123;</span><br><span class="line">            <span class="built_in">this</span>.cache[name].push(fn)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.cache[name] = [fn]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">off</span>(<span class="params">name, fn</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> tasks = <span class="built_in">this</span>.cache[name]</span><br><span class="line">        <span class="keyword">if</span> (task) &#123;</span><br><span class="line">            <span class="keyword">const</span> index = tasks.findIndex(<span class="function"><span class="params">item</span> =&gt;</span> item === fn)</span><br><span class="line">            <span class="keyword">if</span> (index &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="built_in">this</span>.cache[name].splice(index, <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">emit</span>(<span class="params">name, ...args</span>)</span> &#123;</span><br><span class="line">        <span class="comment">// å¤åˆ¶ä¸€ä»½ã€‚é˜²æ­¢å›è°ƒé‡Œç»§ç»­onï¼Œå¯¼è‡´æ­»å¾ªç¯</span></span><br><span class="line">        <span class="keyword">const</span> tasks = <span class="built_in">this</span>.cache[name].slice()</span><br><span class="line">        <span class="keyword">if</span> (tasks) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> fn <span class="keyword">of</span> tasks) &#123;</span><br><span class="line">                fn(...args)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">once</span>(<span class="params">name, cb</span>)</span> &#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">            cb(args)</span><br><span class="line">            <span class="built_in">this</span>.off(name, fn)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.on(name, fn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="13ã€å®ç°JSON-parse"><a href="#13ã€å®ç°JSON-parse" class="headerlink" title="13ã€å®ç°JSON.parse"></a>13ã€å®ç°JSON.parse</h3><blockquote>
<p>é¢˜ç›®æè¿°ï¼šå®ç°<code>JSON.parse</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parse</span> (<span class="params">json</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">eval</span>(<span class="string">&quot;(&quot;</span> + json + <span class="string">&quot;)&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="14ã€å°†DOMè½¬åŒ–æˆæ ‘ç»“æ„å¯¹è±¡"><a href="#14ã€å°†DOMè½¬åŒ–æˆæ ‘ç»“æ„å¯¹è±¡" class="headerlink" title="14ã€å°†DOMè½¬åŒ–æˆæ ‘ç»“æ„å¯¹è±¡"></a>14ã€å°†DOMè½¬åŒ–æˆæ ‘ç»“æ„å¯¹è±¡</h3><blockquote>
<p>é¢˜ç›®æè¿°ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">å°†ä¸Šæ–¹çš„DOMè½¬åŒ–ä¸ºä¸‹é¢çš„æ ‘ç»“æ„å¯¹è±¡</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">tag</span>: <span class="string">&#x27;DIV&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&#x27;SPAN&#x27;</span>, <span class="attr">children</span>: [] &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">tag</span>: <span class="string">&#x27;UL&#x27;</span>,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123; <span class="attr">tag</span>: <span class="string">&#x27;LI&#x27;</span>, <span class="attr">children</span>: [] &#125;,</span><br><span class="line">                &#123; <span class="attr">tag</span>: <span class="string">&#x27;LI&#x27;</span>, <span class="attr">children</span>: [] &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å®ç°å¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dom2tree</span>(<span class="params">dom</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">    obj.tag = dom.tagName</span><br><span class="line">    obj.children = []</span><br><span class="line">    dom.childNodes.forEach(<span class="function"><span class="params">child</span> =&gt;</span> obj.children.push(dom2tree(child)))</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="15ã€å°†æ ‘ç»“æ„è½¬æ¢ä¸ºDOM"><a href="#15ã€å°†æ ‘ç»“æ„è½¬æ¢ä¸ºDOM" class="headerlink" title="15ã€å°†æ ‘ç»“æ„è½¬æ¢ä¸ºDOM"></a>15ã€å°†æ ‘ç»“æ„è½¬æ¢ä¸ºDOM</h3><blockquote>
<p>é¢˜ç›®æè¿°ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">tag</span>: <span class="string">&#x27;DIV&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&#x27;SPAN&#x27;</span>, <span class="attr">children</span>: [] &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">tag</span>: <span class="string">&#x27;UL&#x27;</span>,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123; <span class="attr">tag</span>: <span class="string">&#x27;LI&#x27;</span>, <span class="attr">children</span>: [] &#125;,</span><br><span class="line">                &#123; <span class="attr">tag</span>: <span class="string">&#x27;LI&#x27;</span>, <span class="attr">children</span>: [] &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å°†ä¸Šæ–¹çš„æ ‘ç»“æ„å¯¹è±¡è½¬åŒ–ä¸ºä¸‹é¢çš„DOM</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å®ç°å¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çœŸæ­£çš„æ¸²æŸ“å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_render</span>(<span class="params">vnode</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å¦‚æœæ˜¯æ•°å­—ç±»å‹è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> vnode === <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">    vnode = <span class="built_in">String</span>(vnode);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å­—ç¬¦ä¸²ç±»å‹ç›´æ¥å°±æ˜¯æ–‡æœ¬èŠ‚ç‚¹</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> vnode === <span class="string">&quot;string&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">document</span>.createTextNode(vnode);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ™®é€šDOM</span></span><br><span class="line">  <span class="keyword">const</span> dom = <span class="built_in">document</span>.createElement(vnode.tag);</span><br><span class="line">  <span class="keyword">if</span> (vnode.attrs) &#123;</span><br><span class="line">    <span class="comment">// éå†å±æ€§</span></span><br><span class="line">    <span class="built_in">Object</span>.keys(vnode.attrs).forEach(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> value = vnode.attrs[key];</span><br><span class="line">      dom.setAttribute(key, value);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å­æ•°ç»„è¿›è¡Œé€’å½’æ“ä½œ</span></span><br><span class="line">  vnode.children.forEach(<span class="function">(<span class="params">child</span>) =&gt;</span> dom.appendChild(_render(child)));</span><br><span class="line">  <span class="keyword">return</span> dom;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="16ã€åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æœ‰ç¯å¼•ç”¨"><a href="#16ã€åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æœ‰ç¯å¼•ç”¨" class="headerlink" title="16ã€åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æœ‰ç¯å¼•ç”¨"></a>16ã€åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æœ‰ç¯å¼•ç”¨</h3><blockquote>
<p>é¢˜ç›®æè¿°ï¼šéªŒè¯ä¸€ä¸ªå¯¹è±¡æœ‰æ— ç¯å¼•ç”¨</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: &#123;</span><br><span class="line">        <span class="attr">c</span>: [</span><br><span class="line">            <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">b</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">obj.a.c.d = obj</span><br><span class="line"><span class="built_in">console</span>.log(cycleDetector(obj)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å®ç°æ€è·¯ï¼šç”¨ä¸€ä¸ªæ•°ç»„å­˜å‚¨æ¯ä¸€ä¸ªéå†è¿‡çš„å¯¹è±¡ï¼Œä¸‹æ¬¡æ‰¾åˆ°æ•°ç»„ä¸­å­˜åœ¨ï¼Œåˆ™è¯´æ˜ç¯å¼•ç”¨</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cycleDetector</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = [obj]</span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">cycle</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> keys = <span class="built_in">Object</span>.keys(o)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> keys) &#123;</span><br><span class="line">            <span class="keyword">const</span> temp = o[key]</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> temp === <span class="string">&#x27;object&#x27;</span> &amp;&amp; temp !== <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (arr.indexOf(temp) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    flag = <span class="literal">true</span></span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line">                arr.push(temp)</span><br><span class="line">                cycle(temp)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cycle(obj)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> flag</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="17ã€è®¡ç®—ä¸€ä¸ªå¯¹è±¡çš„å±‚æ•°"><a href="#17ã€è®¡ç®—ä¸€ä¸ªå¯¹è±¡çš„å±‚æ•°" class="headerlink" title="17ã€è®¡ç®—ä¸€ä¸ªå¯¹è±¡çš„å±‚æ•°"></a>17ã€è®¡ç®—ä¸€ä¸ªå¯¹è±¡çš„å±‚æ•°</h3><blockquote>
<p>é¢˜ç›®æè¿°ï¼šç»™ä½ ä¸€ä¸ªå¯¹è±¡ï¼Œç»Ÿè®¡ä¸€ä¸‹å®ƒçš„å±‚æ•°</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: &#123; <span class="attr">b</span>: [<span class="number">1</span>] &#125;,</span><br><span class="line">    <span class="attr">c</span>: &#123; <span class="attr">d</span>: &#123; <span class="attr">e</span>: &#123; <span class="attr">f</span>: <span class="number">1</span> &#125; &#125; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(loopGetLevel(obj)) <span class="comment">// 4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å®ç°å¦‚ä¸‹:</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loopGetLevel</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> res = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">computedLevel</span>(<span class="params">obj, level</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> level = level ? level : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> obj === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">typeof</span> obj[key] === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">                    computedLevel(obj[key], level + <span class="number">1</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    res = level + <span class="number">1</span> &gt; res ? level + <span class="number">1</span> : res;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res = level &gt; res ? level : res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    computedLevel(obj)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="18ã€å¯¹è±¡çš„æ‰å¹³åŒ–"><a href="#18ã€å¯¹è±¡çš„æ‰å¹³åŒ–" class="headerlink" title="18ã€å¯¹è±¡çš„æ‰å¹³åŒ–"></a>18ã€å¯¹è±¡çš„æ‰å¹³åŒ–</h3><blockquote>
<p>é¢˜ç›®æè¿°ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: &#123;</span><br><span class="line">         <span class="attr">b</span>: <span class="number">1</span>,</span><br><span class="line">         <span class="attr">c</span>: <span class="number">2</span>,</span><br><span class="line">         <span class="attr">d</span>: &#123;<span class="attr">e</span>: <span class="number">5</span>&#125;</span><br><span class="line">     &#125;,</span><br><span class="line">  <span class="attr">b</span>: [<span class="number">1</span>, <span class="number">3</span>, &#123;<span class="attr">a</span>: <span class="number">2</span>, <span class="attr">b</span>: <span class="number">3</span>&#125;],</span><br><span class="line">  <span class="attr">c</span>: <span class="number">3</span></span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> flatten(obj) ç»“æœè¿”å›å¦‚ä¸‹</span><br><span class="line"> <span class="comment">// &#123;</span></span><br><span class="line"> <span class="comment">//  &#x27;a.b&#x27;: 1,</span></span><br><span class="line"> <span class="comment">//  &#x27;a.c&#x27;: 2,</span></span><br><span class="line"> <span class="comment">//  &#x27;a.d.e&#x27;: 5,</span></span><br><span class="line"> <span class="comment">//  &#x27;b[0]&#x27;: 1,</span></span><br><span class="line"> <span class="comment">//  &#x27;b[1]&#x27;: 3,</span></span><br><span class="line"> <span class="comment">//  &#x27;b[2].a&#x27;: 2,</span></span><br><span class="line"> <span class="comment">//  &#x27;b[2].b&#x27;: 3</span></span><br><span class="line"> <span class="comment">//   c: 3</span></span><br><span class="line"> <span class="comment">// &#125;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<blockquote>
<p>å®ç°å¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isObject = <span class="function">(<span class="params">val</span>) =&gt;</span>  <span class="keyword">typeof</span> val === <span class="string">&quot;object&quot;</span> &amp;&amp; val !== <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!isObject(obj)) <span class="keyword">return</span></span><br><span class="line">  <span class="keyword">const</span> res = &#123;&#125;</span><br><span class="line">  <span class="keyword">const</span> dfs = <span class="function">(<span class="params">cur, prefix</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (isObject(cur)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(cur)) &#123;</span><br><span class="line">        cur.forEach(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">          dfs(item, <span class="string">`<span class="subst">$&#123;prefix&#125;</span>[<span class="subst">$&#123;index&#125;</span>]`</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> cur) &#123;</span><br><span class="line">          dfs(cur[key], <span class="string">`<span class="subst">$&#123;prefix&#125;</span><span class="subst">$&#123;prefix ? <span class="string">&#x27;.&#x27;</span> : <span class="string">&#x27;&#x27;</span>&#125;</span><span class="subst">$&#123;key&#125;</span>`</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res[prefix] = cur</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  dfs(obj, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="built_in">console</span>.log(flatten(obj))</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="19ã€å®ç°-a-1-amp-amp-a-2-amp-amp-a-3-ä¸ºtrue"><a href="#19ã€å®ç°-a-1-amp-amp-a-2-amp-amp-a-3-ä¸ºtrue" class="headerlink" title="19ã€å®ç°(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)ä¸ºtrue"></a>19ã€å®ç°(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)ä¸ºtrue</h3><blockquote>
<p>é¢˜ç›®æè¿°ï¼š<code>å®ç°(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)ä¸ºtrue</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§æ–¹æ³•</span></span><br><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">  <span class="attr">i</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">toString</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.i++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§æ–¹æ³•</span></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">a.join = a.shift;</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸‰ç§æ–¹æ³•</span></span><br><span class="line"><span class="keyword">var</span> val = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(<span class="built_in">window</span>, <span class="string">&#x27;a&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="20ã€å®ç°é™åˆ¶å¹¶å‘çš„Promiseè°ƒåº¦å™¨"><a href="#20ã€å®ç°é™åˆ¶å¹¶å‘çš„Promiseè°ƒåº¦å™¨" class="headerlink" title="20ã€å®ç°é™åˆ¶å¹¶å‘çš„Promiseè°ƒåº¦å™¨"></a>20ã€å®ç°é™åˆ¶å¹¶å‘çš„Promiseè°ƒåº¦å™¨</h3><blockquote>
<p>é¢˜ç›®æè¿°ï¼šJS å®ç°ä¸€ä¸ªå¸¦å¹¶å‘é™åˆ¶çš„å¼‚æ­¥è°ƒåº¦å™¨ Schedulerï¼Œä¿è¯åŒæ—¶è¿è¡Œçš„ä»»åŠ¡æœ€å¤šæœ‰ä¸¤ä¸ª</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">addTask(<span class="number">1000</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">addTask(<span class="number">500</span>,<span class="string">&quot;2&quot;</span>);</span><br><span class="line">addTask(<span class="number">300</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line">addTask(<span class="number">400</span>,<span class="string">&quot;4&quot;</span>);</span><br><span class="line">çš„è¾“å‡ºé¡ºåºæ˜¯ï¼š<span class="number">2</span> <span class="number">3</span> <span class="number">1</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line">æ•´ä¸ªçš„å®Œæ•´æ‰§è¡Œæµç¨‹ï¼š</span><br><span class="line"></span><br><span class="line">ä¸€å¼€å§‹<span class="number">1</span>ã€<span class="number">2</span>ä¸¤ä¸ªä»»åŠ¡å¼€å§‹æ‰§è¡Œ</span><br><span class="line">500msæ—¶ï¼Œ<span class="number">2</span>ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œè¾“å‡º<span class="number">2</span>ï¼Œä»»åŠ¡<span class="number">3</span>å¼€å§‹æ‰§è¡Œ</span><br><span class="line">800msæ—¶ï¼Œ<span class="number">3</span>ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œè¾“å‡º<span class="number">3</span>ï¼Œä»»åŠ¡<span class="number">4</span>å¼€å§‹æ‰§è¡Œ</span><br><span class="line">1000msæ—¶ï¼Œ<span class="number">1</span>ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œè¾“å‡º<span class="number">1</span>ï¼Œæ­¤æ—¶åªå‰©ä¸‹<span class="number">4</span>ä»»åŠ¡åœ¨æ‰§è¡Œ</span><br><span class="line">1200msæ—¶ï¼Œ<span class="number">4</span>ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œè¾“å‡º<span class="number">4</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<blockquote>
<p>å®ç°å¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Scheduler</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">limit</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.queue = []</span><br><span class="line">    <span class="built_in">this</span>.limit = limit</span><br><span class="line">    <span class="built_in">this</span>.count = <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">add</span>(<span class="params">time, order</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> promiseCreator = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(order)</span><br><span class="line">          resolve()</span><br><span class="line">        &#125;, time)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.queue.push(promiseCreator)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">taskStart</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.limit; i++) &#123;</span><br><span class="line">      <span class="built_in">this</span>.request()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">request</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.queue.length || <span class="built_in">this</span>.count &gt;= <span class="built_in">this</span>.limit) <span class="keyword">return</span></span><br><span class="line">    <span class="built_in">this</span>.count++</span><br><span class="line">    <span class="built_in">this</span>.queue.shift()().then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.count--</span><br><span class="line">      <span class="built_in">this</span>.request()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">const</span> scheduler = <span class="keyword">new</span> Scheduler(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">const</span> addTask = <span class="function">(<span class="params">time, order</span>) =&gt;</span> &#123;</span><br><span class="line">  scheduler.add(time, order);</span><br><span class="line">&#125;;</span><br><span class="line">addTask(<span class="number">1000</span>, <span class="string">&quot;1&quot;</span>);</span><br><span class="line">addTask(<span class="number">500</span>, <span class="string">&quot;2&quot;</span>);</span><br><span class="line">addTask(<span class="number">300</span>, <span class="string">&quot;3&quot;</span>);</span><br><span class="line">addTask(<span class="number">400</span>, <span class="string">&quot;4&quot;</span>);</span><br><span class="line">scheduler.taskStart();</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="21ã€å®ç°lazyManå‡½æ•°"><a href="#21ã€å®ç°lazyManå‡½æ•°" class="headerlink" title="21ã€å®ç°lazyManå‡½æ•°"></a>21ã€å®ç°lazyManå‡½æ•°</h3><blockquote>
<p>é¢˜ç›®æè¿°ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®ç°ä¸€ä¸ªLazyManï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è°ƒç”¨:LazyMan(â€œHankâ€)è¾“å‡º:Hi! This is Hank!LazyMan(â€œHankâ€).sleep(<span class="number">10</span>).eat(â€œdinnerâ€)è¾“å‡ºHi! This is Hank!<span class="comment">//ç­‰å¾…10ç§’..Wake up after 10Eat dinner~LazyMan(â€œHankâ€).eat(â€œdinnerâ€).eat(â€œsupperâ€)è¾“å‡ºHi This is Hank!Eat dinner~Eat supper~LazyMan(â€œHankâ€).eat(â€œsupperâ€).sleepFirst(5)è¾“å‡º//ç­‰å¾…5ç§’Wake up after 5Hi This is Hank!Eat supperå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å®ç°å¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_LazyMan</span> </span>&#123;  <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;    <span class="built_in">this</span>.tasks = []    <span class="keyword">const</span> task = <span class="function">() =&gt;</span> &#123;      <span class="built_in">console</span>.log(<span class="string">`Hi! This is <span class="subst">$&#123;name&#125;</span>`</span>)      <span class="built_in">this</span>.next()    &#125;    <span class="built_in">this</span>.tasks.push(task)    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;      <span class="built_in">this</span>.next()    &#125;, <span class="number">0</span>)  &#125;  <span class="function"><span class="title">next</span>(<span class="params"></span>)</span> &#123;    <span class="keyword">const</span> task = <span class="built_in">this</span>.tasks.shift()    task &amp;&amp; task()  &#125;  <span class="function"><span class="title">sleep</span>(<span class="params">time</span>)</span> &#123;    <span class="built_in">this</span>.sleepWrapper(time, <span class="literal">false</span>)    <span class="keyword">return</span> <span class="built_in">this</span>  &#125;  <span class="function"><span class="title">sleepFirst</span>(<span class="params">time</span>)</span> &#123;    <span class="built_in">this</span>.sleepWrapper(time, <span class="literal">true</span>)    <span class="keyword">return</span> <span class="built_in">this</span>  &#125;  <span class="function"><span class="title">sleepWrapper</span>(<span class="params">time, first</span>)</span> &#123;    <span class="keyword">const</span> task = <span class="function">() =&gt;</span> &#123;      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;        <span class="built_in">console</span>.log(<span class="string">`Wake up after <span class="subst">$&#123;time&#125;</span>`</span>)        <span class="built_in">this</span>.next()      &#125;, time * <span class="number">1000</span>)    &#125;    <span class="keyword">if</span> (first) &#123;      <span class="built_in">this</span>.tasks.unshift(task)    &#125; <span class="keyword">else</span> &#123;      <span class="built_in">this</span>.tasks.push(task)    &#125;  &#125;  <span class="function"><span class="title">eat</span>(<span class="params">food</span>)</span> &#123;    <span class="keyword">const</span> task = <span class="function">() =&gt;</span> &#123;      <span class="built_in">console</span>.log(<span class="string">`Eat <span class="subst">$&#123;food&#125;</span>`</span>);      <span class="built_in">this</span>.next();    &#125;;    <span class="built_in">this</span>.tasks.push(task);    <span class="keyword">return</span> <span class="built_in">this</span>;  &#125;&#125;<span class="comment">// æµ‹è¯•const lazyMan = (name) =&gt; new _LazyMan(name)lazyMan(&#x27;Hank&#x27;).sleep(1).eat(&#x27;dinner&#x27;)lazyMan(&#x27;Hank&#x27;).eat(&#x27;dinner&#x27;).eat(&#x27;supper&#x27;)lazyMan(&#x27;Hank&#x27;).eat(&#x27;supper&#x27;).sleepFirst(5)å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="22ã€å®ç°addå‡½æ•°"><a href="#22ã€å®ç°addå‡½æ•°" class="headerlink" title="22ã€å®ç°addå‡½æ•°"></a>22ã€å®ç°addå‡½æ•°</h3><blockquote>
<p>é¢˜ç›®æè¿°ï¼šå®ç°ä¸€ä¸ª add æ–¹æ³• ä½¿è®¡ç®—ç»“æœèƒ½å¤Ÿæ»¡è¶³å¦‚ä¸‹é¢„æœŸï¼š</p>
<ul>
<li>add(1)(2)(3)()=6</li>
<li>add(1,2,3)(4)()=10</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...args1</span>) </span>&#123;  <span class="keyword">let</span> allArgs = [...args1]  <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">...args2</span>) </span>&#123;    <span class="keyword">if</span> (!args2.length) <span class="keyword">return</span> fn.toString()    allArgs = [...allArgs, ...args2]    <span class="keyword">return</span> fn  &#125;  fn.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;    <span class="keyword">return</span> allArgs.reduce(<span class="function">(<span class="params">pre, next</span>) =&gt;</span> pre + next)  &#125;  <span class="keyword">return</span> fn&#125;<span class="comment">// æµ‹è¯•console.log(add(1)(2)(3)())console.log(add(1, 2)(3)())å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="23ã€å®ç°ä¸€ä¸ªåˆæ ¼çš„æ·±æ‹·è´"><a href="#23ã€å®ç°ä¸€ä¸ªåˆæ ¼çš„æ·±æ‹·è´" class="headerlink" title="23ã€å®ç°ä¸€ä¸ªåˆæ ¼çš„æ·±æ‹·è´"></a>23ã€å®ç°ä¸€ä¸ªåˆæ ¼çš„æ·±æ‹·è´</h3><p>æ¨èçœ‹æˆ‘è¿™ç¯‡ï¼š<a target="_blank" rel="noopener" href="https://juejin.cn/post/7017991655009566728">æ·±æ‹·è´æœ‰è¿™5ä¸ªæ®µä½ï¼Œä½ åªæ˜¯é’é“œæ®µä½ï¼Ÿè¿˜æƒ³æ¶¨è–ªï¼Ÿ</a></p>
<h3 id="24ã€å®ç°-Promise"><a href="#24ã€å®ç°-Promise" class="headerlink" title="24ã€å®ç° Promise"></a>24ã€å®ç° Promise</h3><p>æ¨èçœ‹æˆ‘è¿™ç¯‡ï¼š<a target="_blank" rel="noopener" href="https://juejin.cn/post/6994594642280857630">çœ‹äº†å°±ä¼šï¼Œæ‰‹å†™PromiseåŸç†ï¼Œæœ€é€šä¿—æ˜“æ‡‚çš„ç‰ˆæœ¬ï¼ï¼ï¼</a>ã€é˜…è¯»ï¼š1.3wï¼Œç‚¹èµï¼š460ã€‘</p>
<h3 id="25ã€å®ç°-async-await"><a href="#25ã€å®ç°-async-await" class="headerlink" title="25ã€å®ç° async/await"></a>25ã€å®ç° async/await</h3><p>æ¨èçœ‹æˆ‘è¿™ç¯‡ï¼š<a target="_blank" rel="noopener" href="https://juejin.cn/post/7007031572238958629">7å¼ å›¾ï¼Œ20åˆ†é’Ÿå°±èƒ½æå®šçš„async/awaitåŸç†ï¼ä¸ºä»€ä¹ˆè¦æ‹–é‚£ä¹ˆä¹…ï¼Ÿ</a>ã€é˜…è¯»ï¼š2.15wï¼Œç‚¹èµï¼š460ã€‘</p>
<h2 id="Arrayç¯‡"><a href="#Arrayç¯‡" class="headerlink" title="Arrayç¯‡"></a>Arrayç¯‡</h2><p>å®šä¹‰ä¸€ä¸ªæµ‹è¯•æ•°ç»„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> players = [    &#123; <span class="attr">name</span>: <span class="string">&#x27;ç§‘æ¯”&#x27;</span>, <span class="attr">num</span>: <span class="number">24</span> &#125;,    &#123; <span class="attr">name</span>: <span class="string">&#x27;è©¹å§†æ–¯&#x27;</span>, <span class="attr">num</span>: <span class="number">23</span> &#125;,    &#123; <span class="attr">name</span>: <span class="string">&#x27;ä¿ç½—&#x27;</span>, <span class="attr">num</span>: <span class="number">3</span> &#125;,    &#123; <span class="attr">name</span>: <span class="string">&#x27;å¨å°‘&#x27;</span>, <span class="attr">num</span>: <span class="number">0</span> &#125;,    &#123; <span class="attr">name</span>: <span class="string">&#x27;æœå…°ç‰¹&#x27;</span>, <span class="attr">num</span>: <span class="number">35</span> &#125;]å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="26ã€forEach"><a href="#26ã€forEach" class="headerlink" title="26ã€forEach"></a>26ã€forEach</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p>
<ul>
<li>itemï¼šéå†é¡¹</li>
<li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li>
<li>arrï¼šæ•°ç»„æœ¬èº«</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_forEach = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)    &#125;&#125;players.sx_forEach(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;    <span class="built_in">console</span>.log(item, index)&#125;)<span class="comment">// &#123; name: &#x27;ç§‘æ¯”&#x27;, num: 24 &#125; 0// &#123; name: &#x27;è©¹å§†æ–¯&#x27;, num: 23 &#125; 1// &#123; name: &#x27;ä¿ç½—&#x27;, num: 3 &#125; 2// &#123; name: &#x27;å¨å°‘&#x27;, num: 0 &#125; 3// &#123; name: &#x27;æœå…°ç‰¹&#x27;, num: 35 &#125; 4å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="27ã€map"><a href="#27ã€map" class="headerlink" title="27ã€map"></a>27ã€map</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p>
<ul>
<li>itemï¼šéå†é¡¹</li>
<li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li>
<li>arrï¼šæ•°ç»„æœ¬èº«</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_map = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">const</span> res = []    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        res.push(callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>))    &#125;    <span class="keyword">return</span> res&#125;<span class="built_in">console</span>.log(players.sx_map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> <span class="string">`<span class="subst">$&#123;item.name&#125;</span>--<span class="subst">$&#123;item.num&#125;</span>--<span class="subst">$&#123;index&#125;</span>`</span>))<span class="comment">// [ &#x27;ç§‘æ¯”--24--0&#x27;, &#x27;è©¹å§†æ–¯--23--1&#x27;, &#x27;ä¿ç½—--3--2&#x27;, &#x27;å¨å°‘--0--3&#x27;, &#x27;æœå…°ç‰¹--35--4&#x27; ]å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="28ã€filter"><a href="#28ã€filter" class="headerlink" title="28ã€filter"></a>28ã€filter</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p>
<ul>
<li>itemï¼šéå†é¡¹</li>
<li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li>
<li>arrï¼šæ•°ç»„æœ¬èº«</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_filter = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">const</span> res = []    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>) &amp;&amp; res.push(<span class="built_in">this</span>[i])    &#125;    <span class="keyword">return</span> res&#125;<span class="built_in">console</span>.log(players.sx_filter(<span class="function"><span class="params">item</span> =&gt;</span> item.num &gt;= <span class="number">23</span>))<span class="comment">// [//     &#123; name: &#x27;ç§‘æ¯”&#x27;, num: 24 &#125;,//     &#123; name: &#x27;è©¹å§†æ–¯&#x27;, num: 23 &#125;,//     &#123; name: &#x27;æœå…°ç‰¹&#x27;, num: 35 &#125;// ]å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="29ã€every"><a href="#29ã€every" class="headerlink" title="29ã€every"></a>29ã€every</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p>
<ul>
<li>itemï¼šéå†é¡¹</li>
<li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li>
<li>arrï¼šæ•°ç»„æœ¬èº«</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_every = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">let</span> flag = <span class="literal">true</span>    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        flag = callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)        <span class="keyword">if</span> (!flag) <span class="keyword">break</span>    &#125;    <span class="keyword">return</span> flag&#125;<span class="built_in">console</span>.log(players.sx_every(<span class="function"><span class="params">item</span> =&gt;</span> item.num &gt;= <span class="number">23</span>)) <span class="comment">// falseconsole.log(players.sx_every(item =&gt; item.num &gt;= 0)) // trueå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="30ã€some"><a href="#30ã€some" class="headerlink" title="30ã€some"></a>30ã€some</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p>
<ul>
<li>itemï¼šéå†é¡¹</li>
<li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li>
<li>arrï¼šæ•°ç»„æœ¬èº«</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_some = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">let</span> flag = <span class="literal">false</span>    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        flag = callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)        <span class="keyword">if</span> (flag) <span class="keyword">break</span>    &#125;    <span class="keyword">return</span> flag&#125;<span class="built_in">console</span>.log(players.sx_some(<span class="function"><span class="params">item</span> =&gt;</span> item.num &gt;= <span class="number">23</span>)) <span class="comment">// trueconsole.log(players.sx_some(item =&gt; item.num &gt;= 50)) // falseå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="31ã€reduce"><a href="#31ã€reduce" class="headerlink" title="31ã€reduce"></a>31ã€reduce</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p>
<ul>
<li>preï¼šå‰ä¸€é¡¹</li>
<li>nextï¼šä¸‹ä¸€é¡¹</li>
<li>indexï¼šå½“å‰ç´¢å¼•</li>
<li>arrï¼šæ•°ç»„æœ¬èº«</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_reduce = <span class="function"><span class="keyword">function</span> (<span class="params">callback, ...args</span>) </span>&#123;  <span class="keyword">let</span> start = <span class="number">0</span>, pre  <span class="keyword">if</span> (args.length) &#123;      pre = args[<span class="number">0</span>]  &#125; <span class="keyword">else</span> &#123;      pre = <span class="built_in">this</span>[<span class="number">0</span>]      start = <span class="number">1</span>  &#125;  <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; <span class="built_in">this</span>.length; i++) &#123;      pre = callback(pre, <span class="built_in">this</span>[i], i, <span class="built_in">this</span>)  &#125;  <span class="keyword">return</span> pre&#125;<span class="comment">// è®¡ç®—æ‰€æœ‰numç›¸åŠ const sum = players.sx_reduce((pre, next) =&gt; &#123;    return pre + next.num&#125;, 0)console.log(sum) // 85å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="32ã€findIndex"><a href="#32ã€findIndex" class="headerlink" title="32ã€findIndex"></a>32ã€findIndex</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p>
<ul>
<li>itemï¼šéå†é¡¹</li>
<li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li>
<li>arrï¼šæ•°ç»„æœ¬èº«</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_findIndex = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        <span class="keyword">if</span> (callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)) &#123;            <span class="keyword">return</span> i        &#125;    &#125;    <span class="keyword">return</span> -<span class="number">1</span>&#125;<span class="built_in">console</span>.log(players.sx_findIndex(<span class="function"><span class="params">item</span> =&gt;</span> item.name === <span class="string">&#x27;ç§‘æ¯”&#x27;</span>)) <span class="comment">// 0console.log(players.sx_findIndex(item =&gt; item.name === &#x27;å®‰ä¸œå°¼&#x27;)) // -1å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="33ã€find"><a href="#33ã€find" class="headerlink" title="33ã€find"></a>33ã€find</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p>
<ul>
<li>itemï¼šéå†é¡¹</li>
<li>indexï¼šéå†é¡¹çš„ç´¢å¼•</li>
<li>arrï¼šæ•°ç»„æœ¬èº«</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_find = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        <span class="keyword">if</span> (callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)) &#123;            <span class="keyword">return</span> <span class="built_in">this</span>[i]        &#125;    &#125;    <span class="keyword">return</span> <span class="literal">undefined</span>&#125;<span class="built_in">console</span>.log(players.sx_find(<span class="function"><span class="params">item</span> =&gt;</span> item.name === <span class="string">&#x27;ç§‘æ¯”&#x27;</span>)) <span class="comment">// &#123; name: &#x27;ç§‘æ¯”&#x27;, num: 24 &#125;console.log(players.sx_find(item =&gt; item.name === &#x27;å®‰ä¸œå°¼&#x27;)) // undefinedå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="34ã€fill"><a href="#34ã€fill" class="headerlink" title="34ã€fill"></a>34ã€fill</h3><p>ç”¨å¤„ï¼šå¡«å……æ•°ç»„</p>
<p>å‚æ•°ä»£è¡¨å«ä¹‰</p>
<ul>
<li>initValueï¼šå¡«å……çš„å€¼</li>
<li>startï¼šå¼€å§‹å¡«å……ç´¢å¼•ï¼Œé»˜è®¤0</li>
<li>endï¼šç»“æŸå¡«å……ç´¢å¼•ï¼Œé»˜è®¤length</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_fill = <span class="function"><span class="keyword">function</span> (<span class="params">value, start = <span class="number">0</span>, end</span>) </span>&#123;  end = end || <span class="built_in">this</span>.length  <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;      <span class="built_in">this</span>[i] = value  &#125;  <span class="keyword">return</span> <span class="built_in">this</span>&#125;<span class="built_in">console</span>.log(players.sx_fill(<span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span>, <span class="number">1</span>, <span class="number">3</span>))<span class="comment">// [//     &#123; name: &#x27;ç§‘æ¯”&#x27;, num: 24 &#125;,//     &#x27;æ—ä¸‰å¿ƒ&#x27;,//     &#x27;æ—ä¸‰å¿ƒ&#x27;,//     &#x27;æ—ä¸‰å¿ƒ&#x27;,//     &#123; name: &#x27;æœå…°ç‰¹&#x27;, num: 35 &#125;// ]å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="35ã€includes"><a href="#35ã€includes" class="headerlink" title="35ã€includes"></a>35ã€includes</h3><p>ç”¨å¤„ï¼šæŸ¥æ‰¾å…ƒç´ ï¼ŒæŸ¥åˆ°è¿”å›<code>true</code>ï¼Œåä¹‹è¿”å›<code>false</code>ï¼Œå¯æŸ¥æ‰¾<code>NaN</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_includes = <span class="function"><span class="keyword">function</span> (<span class="params">value, start = <span class="number">0</span></span>) </span>&#123;    <span class="keyword">if</span> (start &lt; <span class="number">0</span>) start = <span class="built_in">this</span>.length + start    <span class="keyword">const</span> <span class="built_in">isNaN</span> = <span class="built_in">Number</span>.isNaN(value)    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; <span class="built_in">this</span>.length; i++) &#123;        <span class="keyword">if</span> (<span class="built_in">this</span>[i] === value || (<span class="built_in">isNaN</span> &amp;&amp; <span class="built_in">Number</span>.isNaN(<span class="built_in">this</span>[i])) &#123;            <span class="keyword">return</span> <span class="literal">true</span>        &#125;    &#125;    <span class="keyword">return</span> <span class="literal">false</span>&#125;<span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].sx_includes(<span class="number">2</span>)) <span class="comment">// trueconsole.log([1, 2, 3, NaN].sx_includes(NaN)) // trueconsole.log([1, 2, 3].sx_includes(1, 1)) // falseå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="36ã€join"><a href="#36ã€join" class="headerlink" title="36ã€join"></a>36ã€join</h3><p>ç”¨å¤„ï¼šå°†æ•°ç»„ç”¨åˆ†éš”ç¬¦æ‹¼æˆå­—ç¬¦ä¸²ï¼Œåˆ†éš”ç¬¦é»˜è®¤ä¸º<code>,</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_join = <span class="function"><span class="keyword">function</span> (<span class="params">s = <span class="string">&#x27;,&#x27;</span></span>) </span>&#123;    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span>    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        str = i === <span class="number">0</span> ? <span class="string">`<span class="subst">$&#123;str&#125;</span><span class="subst">$&#123;<span class="built_in">this</span>[i]&#125;</span>`</span> : <span class="string">`<span class="subst">$&#123;str&#125;</span><span class="subst">$&#123;s&#125;</span><span class="subst">$&#123;<span class="built_in">this</span>[i]&#125;</span>`</span>    &#125;    <span class="keyword">return</span> str&#125;<span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].sx_join()) <span class="comment">// 1,2,3console.log([1, 2, 3].sx_join(&#x27;*&#x27;)) // 1*2*3å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="37ã€flat"><a href="#37ã€flat" class="headerlink" title="37ã€flat"></a>37ã€flat</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_flat = <span class="function"><span class="keyword">function</span> (<span class="params">num = <span class="literal">Infinity</span></span>) </span>&#123;  <span class="keyword">let</span> arr = <span class="built_in">this</span>  <span class="keyword">let</span> i = <span class="number">0</span>  <span class="keyword">while</span> (arr.some(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">Array</span>.isArray(item))) &#123;      arr = [].concat(...arr)      i++      <span class="keyword">if</span> (i &gt;= num) <span class="keyword">break</span>  &#125;  <span class="keyword">return</span> arr&#125;<span class="keyword">const</span> testArr = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>]], [<span class="number">8</span>, <span class="number">9</span>]]<span class="built_in">console</span>.log(testArr.sx_flat(<span class="number">1</span>))<span class="comment">// [1, 2, 3, 4, 5, 8, 9]å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="38ã€splice"><a href="#38ã€splice" class="headerlink" title="38ã€splice"></a>38ã€splice</h3><p>éš¾ç‚¹</p>
<ul>
<li>æˆªå–é•¿åº¦å’Œæ›¿æ¢é•¿åº¦çš„æ¯”è¾ƒï¼Œä¸åŒæƒ…å†µ</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_splice = <span class="function"><span class="keyword">function</span> (<span class="params">start, length, ...values</span>) </span>&#123;  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> []  length = start + length &gt; <span class="built_in">this</span>.length - <span class="number">1</span> ? <span class="built_in">this</span>.length - start : length  <span class="built_in">console</span>.log(length)  <span class="keyword">const</span> res = [], tempArr = [...this]  <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; start + values.length; i++) &#123;    <span class="built_in">this</span>[i] = values[i - start]  &#125;  <span class="built_in">this</span>.length = start + values.length  <span class="keyword">if</span> (values.length &lt; length) &#123;    <span class="keyword">const</span> cha = length - values.length    <span class="built_in">console</span>.log(cha)    <span class="keyword">for</span> (<span class="keyword">let</span> i = start + values.length; i &lt; tempArr.length; i++) &#123;      <span class="built_in">this</span>[i] = tempArr[i + cha]    &#125;    <span class="built_in">this</span>.length = <span class="built_in">this</span>.length - cha   &#125;  <span class="keyword">if</span> (values.length &gt; length) &#123;    <span class="keyword">for</span> (<span class="keyword">let</span> i = start + length; i &lt; tempArr.length; i++) &#123;      <span class="built_in">this</span>.push(tempArr[i])    &#125;  &#125;  <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; start + length; i++) &#123;    res.push(tempArr[i])  &#125;  <span class="keyword">return</span> res&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h2 id="Objectç¯‡"><a href="#Objectç¯‡" class="headerlink" title="Objectç¯‡"></a>Objectç¯‡</h2><p>å®šä¹‰ä¸€ä¸ªæµ‹è¯•å¯¹è±¡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;    <span class="attr">name</span>: <span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span>,    <span class="attr">age</span>: <span class="number">22</span>,    <span class="attr">gender</span>: <span class="string">&#x27;ç”·&#x27;</span>&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="39ã€entries"><a href="#39ã€entries" class="headerlink" title="39ã€entries"></a>39ã€entries</h3><p>ç”¨å¤„ï¼šå°†å¯¹è±¡è½¬æˆé”®å€¼å¯¹æ•°ç»„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_entries = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;    <span class="keyword">const</span> res = []    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;        obj.hasOwnProperty(key) &amp;&amp; res.push([key, obj[key]])    &#125;    <span class="keyword">return</span> res&#125;<span class="built_in">console</span>.log(<span class="built_in">Object</span>.sx_entries(obj))<span class="comment">// [ [ &#x27;name&#x27;, &#x27;æ—ä¸‰å¿ƒ&#x27; ], [ &#x27;age&#x27;, 22 ], [ &#x27;gender&#x27;, &#x27;ç”·&#x27; ] ]å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="40ã€fromEntries"><a href="#40ã€fromEntries" class="headerlink" title="40ã€fromEntries"></a>40ã€fromEntries</h3><p>ç”¨å¤„ï¼šè·Ÿ<code>entries</code>ç›¸åï¼Œå°†é”®å€¼å¯¹æ•°ç»„è½¬æˆå¯¹è±¡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_fromEntries = <span class="function"><span class="keyword">function</span> (<span class="params">arr</span>) </span>&#123;    <span class="keyword">const</span> obj = &#123;&#125;    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;        <span class="keyword">const</span> [key, value] = arr[i]        obj[key] = value    &#125;    <span class="keyword">return</span> obj&#125;<span class="built_in">console</span>.log(<span class="built_in">Object</span>.sx_fromEntries([[<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span>], [<span class="string">&#x27;age&#x27;</span>, <span class="number">22</span>], [<span class="string">&#x27;gender&#x27;</span>, <span class="string">&#x27;ç”·&#x27;</span>]]))<span class="comment">// &#123; name: &#x27;æ—ä¸‰å¿ƒ&#x27;, age: 22, gender: &#x27;ç”·&#x27; &#125;å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="41ã€keys"><a href="#41ã€keys" class="headerlink" title="41ã€keys"></a>41ã€keys</h3><p>ç”¨å¤„ï¼šå°†å¯¹è±¡çš„keyè½¬æˆä¸€ä¸ªæ•°ç»„åˆé›†</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_keys = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;    <span class="keyword">const</span> keys = []    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;        obj.hasOwnProperty(key) &amp;&amp; res.push(key)    &#125;    <span class="keyword">return</span> keys&#125;<span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(obj))<span class="comment">// [ &#x27;name&#x27;, &#x27;age&#x27;, &#x27;gender&#x27; ]å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="42ã€values"><a href="#42ã€values" class="headerlink" title="42ã€values"></a>42ã€values</h3><p>ç”¨å¤„ï¼šå°†å¯¹è±¡çš„æ‰€æœ‰å€¼è½¬æˆæ•°ç»„åˆé›†</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_values = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;    <span class="keyword">const</span> values = []    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;        obj.hasOwnProperty(key) &amp;&amp; values.push(obj[key])    &#125;    <span class="keyword">return</span> values&#125;<span class="built_in">console</span>.log(<span class="built_in">Object</span>.sx_values(obj))<span class="comment">// [ &#x27;æ—ä¸‰å¿ƒ&#x27;, 22, &#x27;ç”·&#x27; ]å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="43ã€instanceOf"><a href="#43ã€instanceOf" class="headerlink" title="43ã€instanceOf"></a>43ã€instanceOf</h3><p>ç”¨å¤„ï¼šA instanceOf Bï¼Œåˆ¤æ–­Aæ˜¯å¦ç»è¿‡Bçš„åŸå‹é“¾</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">instanceOf</span>(<span class="params">father, child</span>) </span>&#123;    <span class="keyword">const</span> fp = father.prototype    <span class="keyword">var</span> cp = child.__proto__    <span class="keyword">while</span> (cp) &#123;        <span class="keyword">if</span> (cp === fp) &#123;            <span class="keyword">return</span> <span class="literal">true</span>        &#125;        cp = cp.__proto__    &#125;    <span class="keyword">return</span> <span class="literal">false</span>&#125;<span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;    <span class="built_in">this</span>.name = name&#125;<span class="keyword">const</span> sx = <span class="keyword">new</span> Person(<span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span>)<span class="built_in">console</span>.log(instanceOf(Person, sx)) <span class="comment">// trueconsole.log(instanceOf(Person, sx2)) // falseå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="44ã€is"><a href="#44ã€is" class="headerlink" title="44ã€is"></a>44ã€is</h3><p>ç”¨å¤„ï¼šObject.is(a, b)ï¼Œåˆ¤æ–­aæ˜¯å¦ç­‰äºb</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_is = <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;    <span class="keyword">if</span> (x === y) &#123;        <span class="comment">// é˜²æ­¢ -0 å’Œ +0        return x !== 0 || 1 / x === 1 / y    &#125;    // é˜²æ­¢NaN    return x !== x &amp;&amp; y !== y&#125;const a = &#123; name: &#x27;æ—ä¸‰å¿ƒ&#x27; &#125;const b = aconst c = &#123; name: &#x27;æ—ä¸‰å¿ƒ&#x27; &#125;console.log(Object.sx_is(a, b)) // trueconsole.log(Object.sx_is(a, c)) // falseå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="45ã€Object-assign"><a href="#45ã€Object-assign" class="headerlink" title="45ã€Object.assign"></a>45ã€Object.assign</h3><p>éš¾ç‚¹</p>
<ul>
<li>assignæ¥æ”¶å¤šä¸ªå¯¹è±¡ï¼Œå¹¶å°†å¤šä¸ªå¯¹è±¡åˆæˆä¸€ä¸ªå¯¹è±¡</li>
<li>è¿™äº›å¯¹è±¡å¦‚æœæœ‰é‡åå±æ€§ï¼Œä»¥åæ¥çš„å¯¹è±¡å±æ€§å€¼ä¸ºå‡†</li>
<li>assignè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œ<code>è¿™ä¸ªå¯¹è±¡ === ç¬¬ä¸€ä¸ªå¯¹è±¡</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_assign = <span class="function"><span class="keyword">function</span> (<span class="params">target, ...args</span>) </span>&#123;    <span class="keyword">if</span> (target === <span class="literal">null</span> || target === <span class="literal">undefined</span>) &#123;        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&#x27;Cannot convert undefined or null to object&#x27;</span>)    &#125;    target = <span class="built_in">Object</span>(target)    <span class="keyword">for</span> (<span class="keyword">let</span> nextObj <span class="keyword">of</span> args) &#123;        <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> nextObj) &#123;            nextObj.hasOwnProperty(key) &amp;&amp; (target[key] = nextObj[key])        &#125;    &#125;    <span class="keyword">return</span> target&#125;<span class="keyword">const</span> testa = &#123; <span class="attr">name</span>: <span class="string">&#x27;æ—ä¸‰å¿ƒ&#x27;</span> &#125;<span class="keyword">const</span> testb = &#123; <span class="attr">name</span>: <span class="string">&#x27;sunshine_lin&#x27;</span>, <span class="attr">age</span>: <span class="number">22</span> &#125;<span class="keyword">const</span> testc = &#123; <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">gender</span>: <span class="string">&#x27;ç”·&#x27;</span> &#125;<span class="keyword">const</span> testd = <span class="built_in">Object</span>.sx_assign(testa, testb, testc)<span class="built_in">console</span>.log(testd) <span class="comment">// &#123; name: &#x27;sunshine_lin&#x27;, age: 18, gender: &#x27;ç”·&#x27; &#125;console.log(testa === testd) // trueå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h2 id="Functionç¯‡"><a href="#Functionç¯‡" class="headerlink" title="Functionç¯‡"></a>Functionç¯‡</h2><h3 id="46ã€call"><a href="#46ã€call" class="headerlink" title="46ã€call"></a>46ã€call</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.sx_call = <span class="function"><span class="keyword">function</span> (<span class="params">obj, ...args</span>) </span>&#123;    obj = obj || <span class="built_in">window</span>    <span class="comment">// Symbolæ˜¯å”¯ä¸€çš„ï¼Œé˜²æ­¢é‡åkey    const fn = Symbol()    obj[fn] = this    // æ‰§è¡Œï¼Œè¿”å›æ‰§è¡Œå€¼    return obj[fn](...args)&#125;const testobj = &#123;    name: &#x27;æ—ä¸‰å¿ƒ&#x27;,    testFn(age) &#123;        console.log(`$&#123;this.name&#125;$&#123;age&#125;å²äº†`)    &#125;&#125;const testobj2 = &#123;    name: &#x27;sunshine_lin&#x27;&#125;testobj.testFn.sx_call(testobj2, 22) // sunshine_lin22å²äº†å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="47ã€apply"><a href="#47ã€apply" class="headerlink" title="47ã€apply"></a>47ã€apply</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.sx_apply = <span class="function"><span class="keyword">function</span> (<span class="params">obj, args</span>) </span>&#123;    obj = obj || <span class="built_in">window</span>    <span class="comment">// Symbolæ˜¯å”¯ä¸€çš„ï¼Œé˜²æ­¢é‡åkey    const fn = Symbol()    obj[fn] = this    // æ‰§è¡Œï¼Œè¿”å›æ‰§è¡Œå€¼    return obj[fn](...args)&#125;const testobj = &#123;    name: &#x27;æ—ä¸‰å¿ƒ&#x27;,    testFn(age) &#123;        console.log(`$&#123;this.name&#125;$&#123;age&#125;å²äº†`)    &#125;&#125;const testobj2 = &#123;    name: &#x27;sunshine_lin&#x27;&#125;testobj.testFn.sx_apply(testobj2, [22]) // sunshine_lin22å²äº†å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="48ã€Function-prototype-bind"><a href="#48ã€Function-prototype-bind" class="headerlink" title="48ã€Function.prototype.bind"></a>48ã€Function.prototype.bind</h3><p>éš¾ç‚¹ï¼š</p>
<ul>
<li>bindæ˜¯è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯æ‰§è¡Œç»“æœ</li>
<li>bindè¿”å›çš„å‡½æ•°ï¼Œæ‹¿æ¥å½“åšæ„é€ å‡½æ•°ï¼Œè¯¥æ€ä¹ˆå¤„ç†</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.sx_bind = <span class="function"><span class="keyword">function</span> (<span class="params">obj, ...args</span>) </span>&#123;    obj = obj || <span class="built_in">window</span>    <span class="comment">// Symbolæ˜¯å”¯ä¸€çš„ï¼Œé˜²æ­¢é‡åkey    const fn = Symbol()    obj[fn] = this    const _this = this    const res = function (...innerArgs) &#123;        console.log(this, _this)        if (this instanceof _this) &#123;            this[fn] = _this            this[fn](...[...args, ...innerArgs])            delete this[fn]        &#125; else &#123;            obj[fn](...[...args, ...innerArgs])            delete obj[fn]        &#125;    &#125;    res.prototype = Object.create(this.prototype)    return res&#125;å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h2 id="Stringç¯‡"><a href="#Stringç¯‡" class="headerlink" title="Stringç¯‡"></a>Stringç¯‡</h2><h3 id="49ã€slice"><a href="#49ã€slice" class="headerlink" title="49ã€slice"></a>49ã€slice</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p>
<ul>
<li>startï¼šå¼€å§‹æˆªå–çš„å­—ç¬¦ç´¢å¼•(åŒ…å«æ­¤å­—ç¬¦)</li>
<li>endï¼šç»“æŸæˆªå–çš„å­—ç¬¦ç´¢å¼•(ä¸åŒ…å«æ­¤å­—ç¬¦)</li>
</ul>
<p>æ³¨æ„ç‚¹</p>
<ul>
<li>start &gt; endï¼šè¿”å›ç©ºå­—ç¬¦ä¸²</li>
<li>start &lt; 0ï¼š<code>start = æ•°ç»„é•¿åº¦ + start</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.sx_slice = <span class="function"><span class="keyword">function</span> (<span class="params">start = <span class="number">0</span>, end</span>) </span>&#123;    start = start &lt; <span class="number">0</span> ? <span class="built_in">this</span>.length + start : start    end = !end &amp;&amp; end !== <span class="number">0</span> ? <span class="built_in">this</span>.length : end    <span class="keyword">if</span> (start &gt;= end) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span>    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;        str += <span class="built_in">this</span>[i]    &#125;    <span class="keyword">return</span> str&#125;<span class="built_in">console</span>.log(str.sx_slice(<span class="number">2</span>)) <span class="comment">// nshine_linconsole.log(str.sx_slice(-2)) // inconsole.log(str.sx_slice(-9, 10)) // shine_lconsole.log(str.sx_slice(5, 1)) // &#x27;&#x27;å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="50ã€substr"><a href="#50ã€substr" class="headerlink" title="50ã€substr"></a>50ã€substr</h3><p>å‚æ•°ä»£è¡¨å«ä¹‰</p>
<ul>
<li>startï¼šå¼€å§‹æˆªå–çš„å­—ç¬¦ç´¢å¼•(åŒ…å«æ­¤å­—ç¬¦)</li>
<li>lengthï¼šæˆªå–çš„é•¿åº¦</li>
</ul>
<p>æ³¨æ„ç‚¹</p>
<ul>
<li>start &lt; 0ï¼š<code>start = æ•°ç»„é•¿åº¦ + start</code></li>
<li>lengthè¶…å‡ºæ‰€èƒ½æˆªå–èŒƒå›´ï¼Œéœ€è¦åšå¤„ç†</li>
<li>length &lt; 0ï¼šè¿”å›ç©ºå­—ç¬¦ä¸²</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.sx_substr = <span class="function"><span class="keyword">function</span> (<span class="params">start = <span class="number">0</span>, length</span>) </span>&#123;    <span class="keyword">if</span> (length &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>    start = start &lt; <span class="number">0</span> ? <span class="built_in">this</span>.length + start : start    length = (!length &amp;&amp; length !== <span class="number">0</span>) || length &gt; <span class="built_in">this</span>.length - start ? <span class="built_in">this</span>.length : start + length    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span>    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; length; i++) &#123;        str += <span class="built_in">this</span>[i]    &#125;    <span class="keyword">return</span> str&#125;<span class="built_in">console</span>.log(str.sx_substr(<span class="number">3</span>)) <span class="comment">// shine_linconsole.log(str.sx_substr(3, 3)) // shiconsole.log(str.sx_substr(5, 300)) // ine_linå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h3 id="51ã€substring"><a href="#51ã€substring" class="headerlink" title="51ã€substring"></a>51ã€substring</h3><p>åŠŸèƒ½ä¸<code>slice</code>å¤§è‡´ç›¸åŒ</p>
<p>åŒºåˆ«ä¹‹å¤„</p>
<ul>
<li>start &gt; endï¼šäº’æ¢å€¼</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.sx_sunstring = <span class="function"><span class="keyword">function</span> (<span class="params">start = <span class="number">0</span>, end</span>) </span>&#123;    start = start &lt; <span class="number">0</span> ? <span class="built_in">this</span>.length + start : start    end = !end &amp;&amp; end !== <span class="number">0</span> ? <span class="built_in">this</span>.length : end    <span class="keyword">if</span> (start &gt;= end) [start, end] = [end, start]    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span>    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;        str += <span class="built_in">this</span>[i]    &#125;    <span class="keyword">return</span> str&#125;<span class="built_in">console</span>.log(str.sx_sunstring(<span class="number">2</span>)) <span class="comment">// nshine_linconsole.log(str.sx_sunstring(-2)) // inconsole.log(str.sx_sunstring(-9, 10)) // shine_lconsole.log(str.sx_sunstring(5, 1)) // unshå¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure>

<h2 id="Promiseç¯‡"><a href="#Promiseç¯‡" class="headerlink" title="Promiseç¯‡"></a>Promiseç¯‡</h2><h3 id="52ã€all"><a href="#52ã€all" class="headerlink" title="52ã€all"></a>52ã€all</h3><ul>
<li>æ¥æ”¶ä¸€ä¸ªPromiseæ•°ç»„ï¼Œæ•°ç»„ä¸­å¦‚æœ‰éPromiseé¡¹ï¼Œåˆ™æ­¤é¡¹å½“åšæˆåŠŸ</li>
<li>å¦‚æœæ‰€æœ‰Promiseéƒ½æˆåŠŸï¼Œåˆ™è¿”å›æˆåŠŸç»“æœæ•°ç»„</li>
<li>å¦‚æœæœ‰ä¸€ä¸ªPromiseå¤±è´¥ï¼Œåˆ™è¿”å›è¿™ä¸ªå¤±è´¥ç»“æœ</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">all</span>(<span class="params">promises</span>) </span>&#123;        <span class="keyword">const</span> result = []        <span class="keyword">let</span> count = <span class="number">0</span>        <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;            <span class="keyword">const</span> addData = <span class="function">(<span class="params">index, value</span>) =&gt;</span> &#123;                result[index] = value                count++                <span class="keyword">if</span> (count === promises.length) resolve(result)            &#125;            promises.forEach(<span class="function">(<span class="params">promise, index</span>) =&gt;</span> &#123;                <span class="keyword">if</span> (promise <span class="keyword">instanceof</span> MyPromise) &#123;                    promise.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;                        addData(index, res)                    &#125;, <span class="function"><span class="params">err</span> =&gt;</span> reject(err))                &#125; <span class="keyword">else</span> &#123;                    addData(index, promise)                &#125;            &#125;)        &#125;)    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="53ã€race"><a href="#53ã€race" class="headerlink" title="53ã€race"></a>53ã€race</h3><ul>
<li>æ¥æ”¶ä¸€ä¸ªPromiseæ•°ç»„ï¼Œæ•°ç»„ä¸­å¦‚æœ‰éPromiseé¡¹ï¼Œåˆ™æ­¤é¡¹å½“åšæˆåŠŸ</li>
<li>å“ªä¸ªPromiseæœ€å¿«å¾—åˆ°ç»“æœï¼Œå°±è¿”å›é‚£ä¸ªç»“æœï¼Œæ— è®ºæˆåŠŸå¤±è´¥</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">race</span>(<span class="params">promises</span>) </span>&#123;        <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;            promises.forEach(<span class="function"><span class="params">promise</span> =&gt;</span> &#123;                <span class="keyword">if</span> (promise <span class="keyword">instanceof</span> MyPromise) &#123;                    promise.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;                        resolve(res)                    &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;                        reject(err)                    &#125;)                &#125; <span class="keyword">else</span> &#123;                    resolve(promise)                &#125;            &#125;)        &#125;)    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="54ã€allSettled"><a href="#54ã€allSettled" class="headerlink" title="54ã€allSettled"></a>54ã€allSettled</h3><ul>
<li>æ¥æ”¶ä¸€ä¸ªPromiseæ•°ç»„ï¼Œæ•°ç»„ä¸­å¦‚æœ‰éPromiseé¡¹ï¼Œåˆ™æ­¤é¡¹å½“åšæˆåŠŸ</li>
<li>æŠŠæ¯ä¸€ä¸ªPromiseçš„ç»“æœï¼Œé›†åˆæˆæ•°ç»„ï¼Œè¿”å›</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">allSettled</span>(<span class="params">promises</span>) </span>&#123;        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;            <span class="keyword">const</span> res = []            <span class="keyword">let</span> count = <span class="number">0</span>            <span class="keyword">const</span> addData = <span class="function">(<span class="params">status, value, i</span>) =&gt;</span> &#123;                res[i] = &#123;                    status,                    value                &#125;                count++                <span class="keyword">if</span> (count === promises.length) &#123;                    resolve(res)                &#125;            &#125;            promises.forEach(<span class="function">(<span class="params">promise, i</span>) =&gt;</span> &#123;                <span class="keyword">if</span> (promise <span class="keyword">instanceof</span> MyPromise) &#123;                    promise.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;                        addData(<span class="string">&#x27;fulfilled&#x27;</span>, res, i)                    &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;                        addData(<span class="string">&#x27;rejected&#x27;</span>, err, i)                    &#125;)                &#125; <span class="keyword">else</span> &#123;                    addData(<span class="string">&#x27;fulfilled&#x27;</span>, promise, i)                &#125;            &#125;)        &#125;)    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="55ã€any"><a href="#55ã€any" class="headerlink" title="55ã€any"></a>55ã€any</h3><p>anyä¸allç›¸å</p>
<ul>
<li>æ¥æ”¶ä¸€ä¸ªPromiseæ•°ç»„ï¼Œæ•°ç»„ä¸­å¦‚æœ‰éPromiseé¡¹ï¼Œåˆ™æ­¤é¡¹å½“åšæˆåŠŸ</li>
<li>å¦‚æœæœ‰ä¸€ä¸ªPromiseæˆåŠŸï¼Œåˆ™è¿”å›è¿™ä¸ªæˆåŠŸç»“æœ</li>
<li>å¦‚æœæ‰€æœ‰Promiseéƒ½å¤±è´¥ï¼Œåˆ™æŠ¥é”™</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">any</span>(<span class="params">promises</span>) </span>&#123;        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;            <span class="keyword">let</span> count = <span class="number">0</span>            promises.forEach(<span class="function">(<span class="params">promise</span>) =&gt;</span> &#123;                promise.then(<span class="function"><span class="params">val</span> =&gt;</span> &#123;                    resolve(val)                &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;                    count++                    <span class="keyword">if</span> (count === promises.length) &#123;                        reject(<span class="keyword">new</span> AggregateError(<span class="string">&#x27;All promises were rejected&#x27;</span>))                    &#125;                &#125;)            &#125;)        &#125;)    &#125;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="56ã€finally"><a href="#56ã€finally" class="headerlink" title="56ã€finally"></a>56ã€finally</h3><ul>
<li>æ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä½†æ— å‚æ•°æ¥æ”¶</li>
<li>æ— è®ºæˆåŠŸå¤±è´¥çŠ¶æ€ï¼Œéƒ½ä¼šæ‰§è¡Œfinally</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.prototype.finally = <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;  <span class="keyword">return</span> <span class="built_in">this</span>.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;    callback()    <span class="keyword">return</span> res  &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;    callback()    <span class="keyword">throw</span> err  &#125;)&#125;</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:957957209@qq.com">zzm</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://example.com/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/">http://example.com/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://example.com" target="_blank">AstronautBlog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440862.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/"><img class="next-cover" src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440795.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">javaScripté¢è¯•é¢˜æ•´ç†</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2022/03/01/JavaScript%E6%B7%B1%E5%85%A5%E4%B9%8B%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE/" title="JavaScriptæ·±å…¥ä¹‹ä½œç”¨åŸŸé“¾"><img class="cover" src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440862.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-01</div><div class="title">JavaScriptæ·±å…¥ä¹‹ä½œç”¨åŸŸé“¾</div></div></a></div><div><a href="/2022/03/04/%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="é¢è¯•é¢˜æ•´ç†"><img class="cover" src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440795.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-04</div><div class="title">é¢è¯•é¢˜æ•´ç†</div></div></a></div><div><a href="/2022/03/13/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/" title="é¢è¯•çŸ¥è¯†æ•´ç†"><img class="cover" src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440795.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-13</div><div class="title">é¢è¯•çŸ¥è¯†æ•´ç†</div></div></a></div><div><a href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="javaScripté¢è¯•é¢˜æ•´ç†"><img class="cover" src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440795.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-22</div><div class="title">javaScripté¢è¯•é¢˜æ•´ç†</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city" data-uid="MTAyMC81NTEyNi8zMTU5NA=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./img/avater1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zzm</div><div class="author-info__description">å¥½ä¹…ä¸è§</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">10</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">10</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">2</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/hnistzzm"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/hnistzzm" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://gitee.com/hnistzzm" target="_blank" title="Gitee"><i class="fab fa-git-alt"></i></a><a class="social-icon" href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=957957209" target="_blank" title="QQ"><i class="fab fa-qq"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>å…¬å‘Š</span></div><div class="announcement_content">æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ç½‘ç«™</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%B8%BA%E4%BB%80%E4%B9%880-1-0-2%E4%B8%8D%E7%AD%89%E4%BA%8E0-3"><span class="toc-number">1.</span> <span class="toc-text">1.ä¸ºä»€ä¹ˆ0.1+0.2ä¸ç­‰äº0.3?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9C%A8%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8Ba-a-1%EF%BC%9F"><span class="toc-number">2.</span> <span class="toc-text">2.åœ¨ä»€ä¹ˆæƒ…å†µä¸‹a &#x3D;&#x3D;&#x3D; a-1ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%89%8B%E5%86%99%E5%8E%9F%E7%94%9Fajax%E8%AF%B7%E6%B1%82"><span class="toc-number">3.</span> <span class="toc-text">3.æ‰‹å†™åŸç”Ÿajaxè¯·æ±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%89%8B%E5%86%99new"><span class="toc-number">4.</span> <span class="toc-text">4.æ‰‹å†™new</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E8%8E%B7%E5%8F%96%E6%B5%AE%E7%82%B9%E6%95%B0%E7%9A%84%E6%95%B4%E6%95%B0%E5%92%8C%E5%B0%8F%E6%95%B0%E9%83%A8%E5%88%86"><span class="toc-number">5.</span> <span class="toc-text">5.å¦‚ä½•ä¼˜é›…çš„è·å–æµ®ç‚¹æ•°çš„æ•´æ•°å’Œå°æ•°éƒ¨åˆ†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8F%96%E6%95%B4%E6%95%B0"><span class="toc-number">5.1.</span> <span class="toc-text">1.å–æ•´æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8F%96%E5%B0%8F%E6%95%B0"><span class="toc-number">5.2.</span> <span class="toc-text">2.å–å°æ•°</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81instanceof%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">6.</span> <span class="toc-text">3ã€instanceofå…³é”®å­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%AE%9E%E7%8E%B0%E9%98%B2%E6%8A%96%E5%87%BD%E6%95%B0"><span class="toc-number">7.</span> <span class="toc-text">4ã€å®ç°é˜²æŠ–å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E5%AE%9E%E7%8E%B0%E8%8A%82%E6%B5%81%E5%87%BD%E6%95%B0"><span class="toc-number">8.</span> <span class="toc-text">5ã€å®ç°èŠ‚æµå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="toc-number">9.</span> <span class="toc-text">6ã€å®ç°æ•°ç»„å»é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E7%94%A8setTimeout%E5%AE%9E%E7%8E%B0setInterval"><span class="toc-number">10.</span> <span class="toc-text">7ã€ç”¨setTimeoutå®ç°setInterval</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E7%94%A8setInterval%E5%AE%9E%E7%8E%B0setTimeout"><span class="toc-number">11.</span> <span class="toc-text">8ã€ç”¨setIntervalå®ç°setTimeout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAcompose%E5%87%BD%E6%95%B0"><span class="toc-number">12.</span> <span class="toc-text">9ã€å®ç°ä¸€ä¸ªcomposeå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%A7%91%E9%87%8C%E5%8C%96%E5%87%BD%E6%95%B0"><span class="toc-number">13.</span> <span class="toc-text">10ã€å®ç°ä¸€ä¸ªç§‘é‡ŒåŒ–å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11%E3%80%81%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AALRU%E7%BC%93%E5%AD%98%E5%87%BD%E6%95%B0"><span class="toc-number">14.</span> <span class="toc-text">11ã€å®ç°ä¸€ä¸ªLRUç¼“å­˜å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12%E3%80%81%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">15.</span> <span class="toc-text">12ã€ç®€å•å®ç° å‘å¸ƒè®¢é˜…æ¨¡å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13%E3%80%81%E5%AE%9E%E7%8E%B0JSON-parse"><span class="toc-number">16.</span> <span class="toc-text">13ã€å®ç°JSON.parse</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14%E3%80%81%E5%B0%86DOM%E8%BD%AC%E5%8C%96%E6%88%90%E6%A0%91%E7%BB%93%E6%9E%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">17.</span> <span class="toc-text">14ã€å°†DOMè½¬åŒ–æˆæ ‘ç»“æ„å¯¹è±¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15%E3%80%81%E5%B0%86%E6%A0%91%E7%BB%93%E6%9E%84%E8%BD%AC%E6%8D%A2%E4%B8%BADOM"><span class="toc-number">18.</span> <span class="toc-text">15ã€å°†æ ‘ç»“æ„è½¬æ¢ä¸ºDOM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16%E3%80%81%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%9C%89%E7%8E%AF%E5%BC%95%E7%94%A8"><span class="toc-number">19.</span> <span class="toc-text">16ã€åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æœ‰ç¯å¼•ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17%E3%80%81%E8%AE%A1%E7%AE%97%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%82%E6%95%B0"><span class="toc-number">20.</span> <span class="toc-text">17ã€è®¡ç®—ä¸€ä¸ªå¯¹è±¡çš„å±‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18%E3%80%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%81%E5%B9%B3%E5%8C%96"><span class="toc-number">21.</span> <span class="toc-text">18ã€å¯¹è±¡çš„æ‰å¹³åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19%E3%80%81%E5%AE%9E%E7%8E%B0-a-1-amp-amp-a-2-amp-amp-a-3-%E4%B8%BAtrue"><span class="toc-number">22.</span> <span class="toc-text">19ã€å®ç°(a &#x3D;&#x3D; 1 &amp;&amp; a &#x3D;&#x3D; 2 &amp;&amp; a &#x3D;&#x3D; 3)ä¸ºtrue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#20%E3%80%81%E5%AE%9E%E7%8E%B0%E9%99%90%E5%88%B6%E5%B9%B6%E5%8F%91%E7%9A%84Promise%E8%B0%83%E5%BA%A6%E5%99%A8"><span class="toc-number">23.</span> <span class="toc-text">20ã€å®ç°é™åˆ¶å¹¶å‘çš„Promiseè°ƒåº¦å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21%E3%80%81%E5%AE%9E%E7%8E%B0lazyMan%E5%87%BD%E6%95%B0"><span class="toc-number">24.</span> <span class="toc-text">21ã€å®ç°lazyManå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22%E3%80%81%E5%AE%9E%E7%8E%B0add%E5%87%BD%E6%95%B0"><span class="toc-number">25.</span> <span class="toc-text">22ã€å®ç°addå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23%E3%80%81%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%90%88%E6%A0%BC%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-number">26.</span> <span class="toc-text">23ã€å®ç°ä¸€ä¸ªåˆæ ¼çš„æ·±æ‹·è´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24%E3%80%81%E5%AE%9E%E7%8E%B0-Promise"><span class="toc-number">27.</span> <span class="toc-text">24ã€å®ç° Promise</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25%E3%80%81%E5%AE%9E%E7%8E%B0-async-await"><span class="toc-number">28.</span> <span class="toc-text">25ã€å®ç° async&#x2F;await</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array%E7%AF%87"><span class="toc-number"></span> <span class="toc-text">Arrayç¯‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#26%E3%80%81forEach"><span class="toc-number">1.</span> <span class="toc-text">26ã€forEach</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#27%E3%80%81map"><span class="toc-number">2.</span> <span class="toc-text">27ã€map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#28%E3%80%81filter"><span class="toc-number">3.</span> <span class="toc-text">28ã€filter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#29%E3%80%81every"><span class="toc-number">4.</span> <span class="toc-text">29ã€every</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#30%E3%80%81some"><span class="toc-number">5.</span> <span class="toc-text">30ã€some</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#31%E3%80%81reduce"><span class="toc-number">6.</span> <span class="toc-text">31ã€reduce</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32%E3%80%81findIndex"><span class="toc-number">7.</span> <span class="toc-text">32ã€findIndex</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#33%E3%80%81find"><span class="toc-number">8.</span> <span class="toc-text">33ã€find</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#34%E3%80%81fill"><span class="toc-number">9.</span> <span class="toc-text">34ã€fill</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#35%E3%80%81includes"><span class="toc-number">10.</span> <span class="toc-text">35ã€includes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#36%E3%80%81join"><span class="toc-number">11.</span> <span class="toc-text">36ã€join</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#37%E3%80%81flat"><span class="toc-number">12.</span> <span class="toc-text">37ã€flat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#38%E3%80%81splice"><span class="toc-number">13.</span> <span class="toc-text">38ã€splice</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object%E7%AF%87"><span class="toc-number"></span> <span class="toc-text">Objectç¯‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#39%E3%80%81entries"><span class="toc-number">1.</span> <span class="toc-text">39ã€entries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#40%E3%80%81fromEntries"><span class="toc-number">2.</span> <span class="toc-text">40ã€fromEntries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#41%E3%80%81keys"><span class="toc-number">3.</span> <span class="toc-text">41ã€keys</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#42%E3%80%81values"><span class="toc-number">4.</span> <span class="toc-text">42ã€values</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#43%E3%80%81instanceOf"><span class="toc-number">5.</span> <span class="toc-text">43ã€instanceOf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#44%E3%80%81is"><span class="toc-number">6.</span> <span class="toc-text">44ã€is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#45%E3%80%81Object-assign"><span class="toc-number">7.</span> <span class="toc-text">45ã€Object.assign</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Function%E7%AF%87"><span class="toc-number"></span> <span class="toc-text">Functionç¯‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#46%E3%80%81call"><span class="toc-number">1.</span> <span class="toc-text">46ã€call</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#47%E3%80%81apply"><span class="toc-number">2.</span> <span class="toc-text">47ã€apply</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#48%E3%80%81Function-prototype-bind"><span class="toc-number">3.</span> <span class="toc-text">48ã€Function.prototype.bind</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#String%E7%AF%87"><span class="toc-number"></span> <span class="toc-text">Stringç¯‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#49%E3%80%81slice"><span class="toc-number">1.</span> <span class="toc-text">49ã€slice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#50%E3%80%81substr"><span class="toc-number">2.</span> <span class="toc-text">50ã€substr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#51%E3%80%81substring"><span class="toc-number">3.</span> <span class="toc-text">51ã€substring</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Promise%E7%AF%87"><span class="toc-number"></span> <span class="toc-text">Promiseç¯‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#52%E3%80%81all"><span class="toc-number">1.</span> <span class="toc-text">52ã€all</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#53%E3%80%81race"><span class="toc-number">2.</span> <span class="toc-text">53ã€race</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#54%E3%80%81allSettled"><span class="toc-number">3.</span> <span class="toc-text">54ã€allSettled</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#55%E3%80%81any"><span class="toc-number">4.</span> <span class="toc-text">55ã€any</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#56%E3%80%81finally"><span class="toc-number">5.</span> <span class="toc-text">56ã€finally</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/" title="javaScripté¢è¯•æ‰‹å†™çŸ¥è¯†ç‚¹æ•´ç†"><img src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440862.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="javaScripté¢è¯•æ‰‹å†™çŸ¥è¯†ç‚¹æ•´ç†"/></a><div class="content"><a class="title" href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/" title="javaScripté¢è¯•æ‰‹å†™çŸ¥è¯†ç‚¹æ•´ç†">javaScripté¢è¯•æ‰‹å†™çŸ¥è¯†ç‚¹æ•´ç†</a><time datetime="2022-03-22T11:35:35.000Z" title="å‘è¡¨äº 2022-03-22 19:35:35">2022-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="javaScripté¢è¯•é¢˜æ•´ç†"><img src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440795.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="javaScripté¢è¯•é¢˜æ•´ç†"/></a><div class="content"><a class="title" href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="javaScripté¢è¯•é¢˜æ•´ç†">javaScripté¢è¯•é¢˜æ•´ç†</a><time datetime="2022-03-22T11:27:40.000Z" title="å‘è¡¨äº 2022-03-22 19:27:40">2022-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/22/css%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="cssé¢è¯•é¢˜æ•´ç†"><img src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041439031.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="cssé¢è¯•é¢˜æ•´ç†"/></a><div class="content"><a class="title" href="/2022/03/22/css%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="cssé¢è¯•é¢˜æ•´ç†">cssé¢è¯•é¢˜æ•´ç†</a><time datetime="2022-03-22T11:20:16.000Z" title="å‘è¡¨äº 2022-03-22 19:20:16">2022-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/19/vue%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="vueé¢è¯•é¢˜æ•´ç†"><img src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041355284.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vueé¢è¯•é¢˜æ•´ç†"/></a><div class="content"><a class="title" href="/2022/03/19/vue%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="vueé¢è¯•é¢˜æ•´ç†">vueé¢è¯•é¢˜æ•´ç†</a><time datetime="2022-03-19T02:16:43.000Z" title="å‘è¡¨äº 2022-03-19 10:16:43">2022-03-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/13/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/" title="é¢è¯•çŸ¥è¯†æ•´ç†"><img src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440795.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="é¢è¯•çŸ¥è¯†æ•´ç†"/></a><div class="content"><a class="title" href="/2022/03/13/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/" title="é¢è¯•çŸ¥è¯†æ•´ç†">é¢è¯•çŸ¥è¯†æ•´ç†</a><time datetime="2022-03-13T13:05:16.000Z" title="å‘è¡¨äº 2022-03-13 21:05:16">2022-03-13</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By zzm</div><div class="footer_custom_text">ä½ å°†ä¸å†æ˜¯é“å…·ï¼Œè€Œæ˜¯äººå¦‚å…¶å</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Livere' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="true"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (true) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.removeEventListener('scroll', window.tocScrollFn)
  window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>