<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>javaScript面试手写知识点整理 | AstronautBlog</title><meta name="keywords" content="JavaScript"><meta name="author" content="zzm,957957209@qq.com"><meta name="copyright" content="zzm"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1.为什么0.1+0.2不等于0.3?解释:JS中采用的IEEE 754的双精度标准，计算机内部存储数据的编码的时候，0.1在计算机内部根本就不是精确的0.1，而是一个有舍入误差的0.1。当代码被编译或解释后，0.1已经被四舍五入成一个与之很接近的计算机内部数字，以至于计算还没开始，一个很小的舍入错误就已经产生了。这也就是 0.1 + 0.2 不等于0.3 的原因。 在对两个近似值进行计算时如果得">
<meta property="og:type" content="article">
<meta property="og:title" content="javaScript面试手写知识点整理">
<meta property="og:url" content="http://example.com/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/index.html">
<meta property="og:site_name" content="AstronautBlog">
<meta property="og:description" content="1.为什么0.1+0.2不等于0.3?解释:JS中采用的IEEE 754的双精度标准，计算机内部存储数据的编码的时候，0.1在计算机内部根本就不是精确的0.1，而是一个有舍入误差的0.1。当代码被编译或解释后，0.1已经被四舍五入成一个与之很接近的计算机内部数字，以至于计算还没开始，一个很小的舍入错误就已经产生了。这也就是 0.1 + 0.2 不等于0.3 的原因。 在对两个近似值进行计算时如果得">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440862.webp">
<meta property="article:published_time" content="2022-03-22T11:35:35.000Z">
<meta property="article:modified_time" content="2022-03-22T13:43:20.417Z">
<meta property="article:author" content="zzm">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440862.webp"><link rel="shortcut icon" href="/./img/first.png"><link rel="canonical" href="http://example.com/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'javaScript面试手写知识点整理',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-03-22 21:43:20'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    document.addEventListener('pjax:complete', detectApple)})(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/avater1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-folder-ope"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 我的</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440862.webp')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">AstronautBlog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-folder-ope"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 我的</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">javaScript面试手写知识点整理</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-03-22T11:35:35.000Z" title="发表于 2022-03-22 19:35:35">2022-03-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-03-22T13:43:20.417Z" title="更新于 2022-03-22 21:43:20">2022-03-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">8.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>38分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="javaScript面试手写知识点整理"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="1-为什么0-1-0-2不等于0-3"><a href="#1-为什么0-1-0-2不等于0-3" class="headerlink" title="1.为什么0.1+0.2不等于0.3?"></a>1.为什么0.1+0.2不等于0.3?</h3><p><strong>解释</strong>:JS中采用的<strong>IEEE 754的双精度标准</strong>，计算机内部存储数据的编码的时候，<strong>0.1在计算机内部根本就不是精确的0.1，而是一个有舍入误差的0.1</strong>。当代码被编译或解释后，0.1已经被四舍五入成一个与之很接近的计算机内部数字，以至于计算还没开始，一个很小的舍入错误就已经产生了。这也就是 0.1 + 0.2 不等于0.3 的原因。</p>
<p>在对两个近似值进行计算时如果得到的值是在近似范围内,就可以得到正确答案</p>
<p>在es6中引入了人Number.EPSILON属性,它表示javaScript的最小精度,它的值接近于2.2204460492453130808472633361816E-16</p>
<p>如果两个数的差值的小于javascript的最小精度,则表明这两个数是相等的,否则这两个数是不相等的</p>
<p>很明显0.1+0.2 与 0.3 的差值是大于这个最小精度的,所以它们是不相等的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">0.1</span>+<span class="number">0.2</span> === <span class="number">0.3</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0.1</span> + <span class="number">0.2</span>)<span class="comment">//0.30000000000000004</span></span><br></pre></td></tr></table></figure>

<p>我们可以通过构建一个函数来判断两个数是否满足javascript中的相等的条件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">equal</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">Math</span>.abs(a-b) &lt; <span class="built_in">Number</span>.EPSILON)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(equal(<span class="number">0.1</span>+<span class="number">0.2</span>,<span class="number">0.3</span>))/</span><br></pre></td></tr></table></figure>

<h3 id="2-在什么情况下a-a-1？"><a href="#2-在什么情况下a-a-1？" class="headerlink" title="2.在什么情况下a === a-1？"></a>2.在什么情况下a === a-1？</h3><p>我们可以思考我们所学的数学知识</p>
<p>无穷大和无穷大-1应该怎么比较?按照极限的思想,无穷大与无穷大-1应该是相等的,因为无穷大不能用来表示一个具体的数</p>
<p>在JavaScript中，整数可以被精确表示的范围是 <em><em>-2 *</em> 53 + 1</em>* 到 <em><em>2 *</em> 53 - 1</em>*，即 <strong>-9007199254740991</strong> 到 <strong>9007199254740991</strong>。超过这个数值的整数，都不能被精确表示。</p>
<p>所以当数字超过这个范围时,js会讲这个数定义为无穷大或者无穷小</p>
<ol>
<li><p><strong>正负infinity</strong></p>
<blockquote>
<p>在js中,Infinity是一个Number类型的字面量,表示无穷大,当当一个Number类型的值在运算过程中超过了所能表示的最大值,就会得到无穷大</p>
</blockquote>
</li>
</ol>
<p>比如，如果我们将一个不为0的正数除以0，得到的结果就是无穷大。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span> / <span class="number">0</span>); <span class="comment">// Infinity </span></span><br></pre></td></tr></table></figure>

<p>对应的，负数有负无穷大。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(-<span class="number">100</span> / <span class="number">0</span>); <span class="comment">// -Infinity</span></span><br></pre></td></tr></table></figure>

<p>如果我们数值运算的值，超过了Number允许表示的范围，也是会得到Infinity。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1e1000</span>); <span class="comment">// Infinity</span></span><br></pre></td></tr></table></figure>



<p>在JavaScript里，<strong>Number.POSITIVE_INFINITY</strong>和<strong>Number.NEGATIVE_INFINITY</strong>两个常量的值，对应正负Infinity。</p>
<p><strong>Number.isFinite()</strong> 可以判断一个数是否是有穷的，Number.isFinite(n)，当n是Number类型时，只有它是正负Infinity或NaN时，返回false，其他情况下返回true。</p>
<p>任何一个有穷的数和Infinity的加减运算的结果都是Infinity，而<strong>Infinity === Infinity</strong></p>
<p>所以我们可以知道<strong>±Infinity</strong>都是可以用在a===a-1的情况下的</p>
<p><strong>但是</strong> <strong>要注意，Infinity运算的结果并不总是Infinity，比如我们看下面几种运算：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> + <span class="literal">Infinity</span>); <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> - <span class="literal">Infinity</span>); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> * <span class="literal">Infinity</span>); <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> / <span class="literal">Infinity</span>); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span> * <span class="number">0</span>);        <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>

<p>结论是:</p>
<p><strong>Infinity运算也有可能得到NaN，所以需要小心，例如我们的一个计算表达式中，有两个值相乘，一个值有可能很大，另一个值有可能为0时，就需要小心，如果那个很大的值得到Infinity，另一个值恰好为0时，整个表达式的值可能是NaN，这会造成一些bug。</strong></p>
<hr>
<p><strong>2.任意一个超过JS精度范围的数</strong></p>
<blockquote>
<p>👉🏻知识点：  在JavaScript里，整数可以被精确表示的范围是从 2 * 53 + 1 到 2 * 53 - 1**，即 **-9007199254740991 到 <strong>9007199254740991</strong>。超过这个数值的整数，都不能被精确表示。</p>
<p>常量<strong>Number.MAX_SAFE_INTEGER</strong>和<strong>Number.MIN_SAFE_INTEGER</strong>分别对应<strong>9007199254740991</strong>和 <strong>-9007199254740991</strong>。</p>
</blockquote>
<p>测试一下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">9007199254740986</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;i&#125;</span> : <span class="subst">$&#123;a + i&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> : <span class="number">9007199254740986</span></span><br><span class="line"><span class="number">1</span> : <span class="number">9007199254740987</span></span><br><span class="line"><span class="number">2</span> : <span class="number">9007199254740988</span></span><br><span class="line"><span class="number">3</span> : <span class="number">9007199254740989</span></span><br><span class="line"><span class="number">4</span> : <span class="number">9007199254740990</span></span><br><span class="line"><span class="number">5</span> : <span class="number">9007199254740991</span></span><br><span class="line"><span class="number">6</span> : <span class="number">9007199254740992</span></span><br><span class="line"><span class="number">7</span> : <span class="number">9007199254740992</span></span><br><span class="line"><span class="number">8</span> : <span class="number">9007199254740994</span></span><br><span class="line"><span class="number">9</span> : <span class="number">9007199254740996</span></span><br></pre></td></tr></table></figure>

<p>看到在 a + i 的值小于等于 9007199254740991 时，输出正常的每次循环加1的结果，到了大于 9007199254740991 后，输出的结果里出现了两次 9007199254740992，少了 9007199254740993 和 9007199254740995。</p>
<p><strong>这是因为</strong>，超过 9007199254740991 之后，JavaScript的Number类型就没办法精确地表示整数了。<strong>因为丢失了精度，所以 9007199254740993 和 9007199254740995 不见了。</strong></p>
<hr>
<p><strong>3.大整数 Big Integer</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span> ** <span class="number">2000</span>); <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2n</span> ** <span class="number">2000n</span>); <span class="comment">//114813069527425452423283320117768198402231770208869520047764273682576626139237031385665948631650626991844596463898746277344711896086305533142593135616665318539129989145312280000688779148240044871428926990063486244781615463646388363947317026040466353970904996558162398808944629605623311649536164221970332681344168908984458505602379484807914058900934776500429002716706625830522008132236281291761267883317206598995396418127021779858404042159853183251540889433902091920554957783589672039160081957216630582755380425583726015528348786419432054508915275783882625175435528800822842770817965453762184851149029376n</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>易错点</strong></p>
<p>NaN的特点是它与任何值都不想等，包括它本身,所以NaN === NaN-1是不正确的</p>
<hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">1</span>/<span class="number">0</span></span><br><span class="line"><span class="built_in">console</span>.log(a === a-<span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b1 = <span class="literal">Infinity</span></span><br><span class="line"><span class="keyword">const</span> b2 = -<span class="literal">Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log( b1 === b1 - <span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log( b2 === b2 -<span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c1 = <span class="built_in">Number</span>.MAX_VALUE</span><br><span class="line"><span class="keyword">const</span> c2 = <span class="built_in">Number</span>.MAX_SAFE_INTEGER</span><br><span class="line"><span class="keyword">const</span> c3 = <span class="built_in">Number</span>.MIN_VALUE</span><br><span class="line"><span class="keyword">const</span> c4 = <span class="built_in">Number</span>.MIN_SAFE_INTEGER</span><br><span class="line"><span class="built_in">console</span>.log(c1 === c1-<span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(c2 === c2-<span class="number">1</span>); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(c3 === c3-<span class="number">1</span>); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(c4 === c4-<span class="number">1</span>); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> d = <span class="literal">NaN</span></span><br><span class="line"><span class="built_in">console</span>.log( d === d-<span class="number">1</span>); <span class="comment">// false NaN与任何数都不相等(包括他本身)</span></span><br></pre></td></tr></table></figure>



<p><strong>总结</strong>:在以下情况下a===a-1:</p>
<ul>
<li>a为正负infinity</li>
<li>a为任意一个超过JS精度范围的数</li>
<li>a是一个大整数</li>
</ul>
<h3 id="3-手写原生ajax请求"><a href="#3-手写原生ajax请求" class="headerlink" title="3.手写原生ajax请求"></a>3.手写原生ajax请求</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ajax = &#123;    <span class="function"><span class="title">get</span>(<span class="params"> url, fn </span>)</span>&#123;        <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()        xhr.open(<span class="string">&#x27;GET&#x27;</span>,url,<span class="literal">true</span>) <span class="comment">//第三个参数 true代表异步,false代表同步        xhr.onreadystatechange = function() &#123;            if (xhr.readyState === 4) &#123;                fn(xhr.responseText)            &#125;        &#125;        xhr.send()    &#125;,    post()&#123;        const xhr = new XMLHttpRequest()        xhr.open(&#x27;POST&#x27;,url,true)        xhr.setRequestHeader(&#x27;Conten-type&#x27;,&#x27;application/x-www-form-urlencoded&#x27;)        xhr.onreadystatechange = function()&#123;            if ( xhr.readyState === 4) &#123;                fn(xhr.responseText)            &#125;        &#125;        xhr.send()    &#125;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-手写new"><a href="#4-手写new" class="headerlink" title="4.手写new"></a>4.手写new</h3><p>先用文字描述一下 new 的实现过程</p>
<ul>
<li>新定义一个 json 对象</li>
<li>对象 继承 构造函数的原型链</li>
<li>将构造函数的 this 指向这个对象</li>
<li>根据构造函数的返回值类型返回结果</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myNew</span>(<span class="params">fn,...args</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> obj = &#123;&#125; <span class="comment">//创建一个新的对象</span></span><br><span class="line">    obj.__proto__ = fn.prototype <span class="comment">//对象继承构造函数的原型链</span></span><br><span class="line">    fn.apply(obj,args) <span class="comment">//将构造函数的this指向这个对象</span></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">this</span>.name = <span class="built_in">arguments</span>[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">this</span>.age = <span class="built_in">arguments</span>[<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">this</span>.gender = <span class="built_in">arguments</span>[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"> &#125; </span><br><span class="line"> Person.prototype.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;你好呀,我是&quot;</span>,<span class="built_in">this</span>.name);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//数据测试</span></span><br><span class="line"> <span class="keyword">let</span> test = myNew(Person,<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;18&#x27;</span>,<span class="string">&#x27;男&#x27;</span>)</span><br><span class="line"> test.sayHello()</span><br><span class="line"> <span class="built_in">console</span>.log(test.name);</span><br><span class="line"> <span class="built_in">console</span>.log(test.age);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="5-如何优雅的获取浮点数的整数和小数部分"><a href="#5-如何优雅的获取浮点数的整数和小数部分" class="headerlink" title="5.如何优雅的获取浮点数的整数和小数部分"></a>5.如何优雅的获取浮点数的整数和小数部分</h3><h4 id="1-取整数"><a href="#1-取整数" class="headerlink" title="1.取整数"></a>1.取整数</h4><p>1.parseInt</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">3.75</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(num)); <span class="comment">// 3</span></span><br><span class="line">num = -<span class="number">3.75</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(num)); <span class="comment">// -3</span></span><br></pre></td></tr></table></figure>

<p>用parseInt取整数，结果是没问题的，但是如果<strong>严格来说</strong>，其实<strong>parseInt并不是设计用来取整数的</strong>。</p>
<blockquote>
<p><strong>👉🏻 知识点：</strong><code>parseInt(string, radix)`` </code>这个方法是一个将字符串转换为整数的方法，它有两个参数，第一个参数表示要转换的字符串，如果参数不是一个字符串，则将其转换为字符串。第二个参数是基数即进制，默认为10。</p>
</blockquote>
<p>所以用 parseInt 方法取整数，有<strong>两个不好的地方</strong>，一是 parseInt 这个函数名，看起来就是将字符串转整数的，用在这里不是很适合，另一个是转字符串有点多此一举，而且肯定会带来性能开销，所以使用 parseInt 虽然方便，但不是最好的办法。</p>
<p>2.Math方法</p>
<p>其中 Math.round 是四舍五入的，Math.ceil 是向上取整，Math.floor 是向下取整。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trunc</span>(<span class="params">num</span>)</span>&#123;    <span class="keyword">if</span>(num &gt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="built_in">Math</span>.floor(num) <span class="comment">//如果小于0 向上取整    return Math.ceil(num) //向下取整&#125;</span></span><br></pre></td></tr></table></figure>

<p>3.位操作</p>
<p>使用位操作方法，在运算过程中会把操作数转为成32位整数，如此，运算后的结果就是整数部分了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">3.75</span>;<span class="built_in">console</span>.log(num | <span class="number">0</span>); <span class="comment">// 3num = -num;console.log(num | 0); // -3</span></span><br></pre></td></tr></table></figure>

<p>但是这样做也有缺陷</p>
<blockquote>
<p>👉🏻 <strong>冷知识</strong>：因为bitwise操作将操作数转为Int32，所以它不能处理超过32位的数值取整，而JavaScript有效整数的范围是53位。</p>
</blockquote>
<p>当数值范围超过32位时，它将不能对数值取整，而JavaScript有效整数的范围是53位。</p>
<p>那么用“|”有什么<strong>好处</strong>呢？如果考虑js文件大小，那么<strong>a|0</strong>与其他方式比较，是最短的方式，所以如果要考虑压缩代码的大小，且明确知道数值范围不会超过32位整数的时候，可以考虑使用这个技巧。</p>
<h4 id="2-取小数"><a href="#2-取小数" class="headerlink" title="2.取小数"></a>2.取小数</h4><p>1.parseInt+split</p>
<p>将数值转换成2字符串后切割并转换回数值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">12.</span>76<span class="keyword">const</span> integer = <span class="built_in">parseInt</span>(num.toString().split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>])<span class="keyword">const</span> decimal = <span class="built_in">parseInt</span>(num.toString().split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">1</span>])<span class="comment">//取小数console.log(`$&#123;integer&#125;.$&#123;decimal&#125;`);</span></span><br></pre></td></tr></table></figure>

<p>2.Math.trunc()</p>
<p>先用<code>Math.trunc(num)</code>取整，然后再与原数相减，就得到了小数部分。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fract</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num - <span class="built_in">Math</span>.trunc(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(fract(<span class="number">3.75</span>)); <span class="comment">// 0.75</span></span><br><span class="line"><span class="built_in">console</span>.log(fract(-<span class="number">3.75</span>)); <span class="comment">// -0.75</span></span><br></pre></td></tr></table></figure>

<p>3.取模运算</p>
<blockquote>
<p><strong>👉🏻 知识点：</strong> JavaScript的取模运算%并不限于整数运算，可以对浮点数取模。</p>
</blockquote>
<p>所以，直接将原数对1取模，即可获得小数部分！</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">3.75</span> % <span class="number">1</span>); <span class="comment">// 0.75</span></span><br><span class="line"><span class="built_in">console</span>.log(-<span class="number">3.75</span> % <span class="number">1</span>); <span class="comment">// -0.75</span></span><br></pre></td></tr></table></figure>

<h3 id="3、instanceof关键字"><a href="#3、instanceof关键字" class="headerlink" title="3、instanceof关键字"></a>3、instanceof关键字</h3><p>遍历child的隐式原型链,如果隐式原型链上存在father的显式原型,则返回true,否则为false</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">instanceOf</span>(<span class="params">father, child</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> fp = father.prototype</span><br><span class="line">    <span class="keyword">var</span> cp = child.__proto__</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (cp) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cp === fp) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        cp = cp.__proto__</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">复制代</span><br></pre></td></tr></table></figure>

<h3 id="4、实现防抖函数"><a href="#4、实现防抖函数" class="headerlink" title="4、实现防抖函数"></a>4、实现防抖函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay = <span class="number">500</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">const</span> args = <span class="built_in">arguments</span>        </span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            fn.apply(<span class="built_in">this</span>, args) <span class="comment">// 改变this指向为调用debounce所指的对象</span></span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="5、实现节流函数"><a href="#5、实现节流函数" class="headerlink" title="5、实现节流函数"></a>5、实现节流函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay = <span class="number">200</span></span>) </span>&#123;    <span class="keyword">let</span> flag = <span class="literal">true</span>    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;        <span class="keyword">if</span> (!flag) <span class="keyword">return</span>        flag = <span class="literal">false</span>        <span class="keyword">const</span> args = <span class="built_in">arguments</span>        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;            fn.apply(<span class="built_in">this</span>, args)            flag = <span class="literal">true</span>        &#125;, delay)    &#125;&#125;复制代码</span><br></pre></td></tr></table></figure>

<h3 id="6、实现数组去重"><a href="#6、实现数组去重" class="headerlink" title="6、实现数组去重"></a>6、实现数组去重</h3><blockquote>
<p>题目描述：实现一个数组的去重</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种：Map记录function quchong1(arr) &#123;    const newArr = []    arr.reduce((pre, next) =&gt; &#123;        if (!pre.has(next)) &#123;            pre.set(next, 1)            newArr.push(next)        &#125;        return pre    &#125;, new Map())    return newArr&#125;// 第二种：Set去重function quchong2(arr) &#123;    return [...new Set(arr)]&#125;复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="7、用setTimeout实现setInterval"><a href="#7、用setTimeout实现setInterval" class="headerlink" title="7、用setTimeout实现setInterval"></a>7、用setTimeout实现setInterval</h3><blockquote>
<p>题目描述：setinterval 用来实现循环定时调用 可能会存在一定的问题 能用 settimeout 解决吗</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mySetTimout</span>(<span class="params">fn, delay</span>) </span>&#123;    <span class="keyword">let</span> timer = <span class="literal">null</span>    <span class="keyword">const</span> interval = <span class="function">() =&gt;</span> &#123;        fn()        timer = <span class="built_in">setTimeout</span>(interval, delay)    &#125;    <span class="built_in">setTimeout</span>(interval, delay)    <span class="keyword">return</span> &#123;        <span class="attr">cancel</span>: <span class="function">() =&gt;</span> &#123;            <span class="built_in">clearTimeout</span>(timer)        &#125;    &#125;&#125;<span class="comment">// 测试const &#123; cancel &#125; = mySetTimout(() =&gt; console.log(888), 1000)setTimeout(() =&gt; &#123;    cancel()&#125;, 4000)复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="8、用setInterval实现setTimeout"><a href="#8、用setInterval实现setTimeout" class="headerlink" title="8、用setInterval实现setTimeout"></a>8、用setInterval实现setTimeout</h3><blockquote>
<p>题目说明：没有，就是想刁难你</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mySetInterval</span>(<span class="params">fn, delay</span>) </span>&#123;    <span class="keyword">const</span> timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;        fn()        <span class="built_in">clearInterval</span>(timer)    &#125;, delay)&#125;<span class="comment">// 测试mySetInterval(() =&gt; console.log(888), 1000)复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="9、实现一个compose函数"><a href="#9、实现一个compose函数" class="headerlink" title="9、实现一个compose函数"></a>9、实现一个compose函数</h3><blockquote>
<p>题目说明：实现以下效果</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn4</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> a = compose(fn1, fn2, fn3, fn4);</span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br><span class="line"><span class="built_in">console</span>.log(a(<span class="number">1</span>)); <span class="comment">// 1+2+3+4=11</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<blockquote>
<p>实现如下：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compose</span>(<span class="params">...fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (fn.length === <span class="number">0</span>) <span class="keyword">return</span> <span class="function">(<span class="params">num</span>) =&gt;</span> num</span><br><span class="line">    <span class="keyword">if</span> (fn.length === <span class="number">1</span>) <span class="keyword">return</span> fn[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> fn.reduce(<span class="function">(<span class="params">pre, next</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> next(pre(num))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="10、实现一个科里化函数"><a href="#10、实现一个科里化函数" class="headerlink" title="10、实现一个科里化函数"></a>10、实现一个科里化函数</h3><blockquote>
<p>题目要求：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">a, b, c</span>) =&gt;</span> a + b + c;</span><br><span class="line"><span class="keyword">const</span> a = currying(add, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a(<span class="number">2</span>,<span class="number">3</span>)) <span class="comment">// 1 + 2 + 3=6</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<blockquote>
<p>实现如下：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">currying</span>(<span class="params">fn, ...args1</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 获取fn参数有几个</span></span><br><span class="line">  <span class="keyword">const</span> length = fn.length</span><br><span class="line">  <span class="keyword">let</span> allArgs = [...args1]</span><br><span class="line">  <span class="keyword">const</span> res = <span class="function">(<span class="params">...arg2</span>) =&gt;</span> &#123;</span><br><span class="line">    allArgs = [...allArgs, ...arg2]</span><br><span class="line">    <span class="comment">// 长度相等就返回执行结果</span></span><br><span class="line">    <span class="keyword">if</span> (allArgs.length === length) &#123;</span><br><span class="line">      <span class="keyword">return</span> fn(...allArgs)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 不相等继续返回函数</span></span><br><span class="line">      <span class="keyword">return</span> res</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试：</span></span><br><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">a, b, c</span>) =&gt;</span> a + b + c;</span><br><span class="line"><span class="keyword">const</span> a = currying(add, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a(<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="11、实现一个LRU缓存函数"><a href="#11、实现一个LRU缓存函数" class="headerlink" title="11、实现一个LRU缓存函数"></a>11、实现一个LRU缓存函数</h3><blockquote>
<p>题目说明：</p>
</blockquote>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/866902be3c894edebc9a70446ed664df~tplv-k3u1fbpfcp-watermark.awebp" alt="image.png"></p>
<blockquote>
<p>实现如下：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;  <span class="function"><span class="title">constructor</span>(<span class="params">size</span>)</span> &#123;    <span class="built_in">this</span>.size = size    <span class="built_in">this</span>.cache = <span class="keyword">new</span> <span class="built_in">Map</span>()  &#125;  <span class="function"><span class="title">get</span>(<span class="params">key</span>)</span> &#123;    <span class="keyword">const</span> hasKey = <span class="built_in">this</span>.cache.has(key)    <span class="keyword">if</span> (hasKey) &#123;      <span class="keyword">const</span> val = <span class="built_in">this</span>.cache.get(key)      <span class="built_in">this</span>.cache.delete(key)      <span class="built_in">this</span>.cache.set(key, val)      <span class="keyword">return</span> val    &#125; <span class="keyword">else</span> &#123;      <span class="keyword">return</span> -<span class="number">1</span>    &#125;  &#125;  <span class="function"><span class="title">put</span>(<span class="params">key, val</span>)</span> &#123;    <span class="keyword">const</span> hasKey = <span class="built_in">this</span>.cache.has(key)    <span class="keyword">if</span> (hasKey) &#123;      <span class="built_in">this</span>.cache.delete(key)    &#125;    <span class="built_in">this</span>.cache.set(key, val)    <span class="keyword">if</span> (<span class="built_in">this</span>.cache.size &gt; <span class="built_in">this</span>.size) &#123;      <span class="built_in">this</span>.cache.delete(<span class="built_in">this</span>.cache.keys().next().value)    &#125;  &#125;&#125;复制代码</span><br></pre></td></tr></table></figure>

<h3 id="12、简单实现-发布订阅模式"><a href="#12、简单实现-发布订阅模式" class="headerlink" title="12、简单实现 发布订阅模式"></a>12、简单实现 发布订阅模式</h3><blockquote>
<p>题目描述:实现一个发布订阅模式拥有<code>on emit once off</code>方法</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventEmitter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.cache = &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">on</span>(<span class="params">name, fn</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> tasks = <span class="built_in">this</span>.cache[name]</span><br><span class="line">        <span class="keyword">if</span> (tasks) &#123;</span><br><span class="line">            <span class="built_in">this</span>.cache[name].push(fn)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.cache[name] = [fn]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">off</span>(<span class="params">name, fn</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> tasks = <span class="built_in">this</span>.cache[name]</span><br><span class="line">        <span class="keyword">if</span> (task) &#123;</span><br><span class="line">            <span class="keyword">const</span> index = tasks.findIndex(<span class="function"><span class="params">item</span> =&gt;</span> item === fn)</span><br><span class="line">            <span class="keyword">if</span> (index &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="built_in">this</span>.cache[name].splice(index, <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">emit</span>(<span class="params">name, ...args</span>)</span> &#123;</span><br><span class="line">        <span class="comment">// 复制一份。防止回调里继续on，导致死循环</span></span><br><span class="line">        <span class="keyword">const</span> tasks = <span class="built_in">this</span>.cache[name].slice()</span><br><span class="line">        <span class="keyword">if</span> (tasks) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> fn <span class="keyword">of</span> tasks) &#123;</span><br><span class="line">                fn(...args)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">once</span>(<span class="params">name, cb</span>)</span> &#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">            cb(args)</span><br><span class="line">            <span class="built_in">this</span>.off(name, fn)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.on(name, fn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="13、实现JSON-parse"><a href="#13、实现JSON-parse" class="headerlink" title="13、实现JSON.parse"></a>13、实现JSON.parse</h3><blockquote>
<p>题目描述：实现<code>JSON.parse</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parse</span> (<span class="params">json</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">eval</span>(<span class="string">&quot;(&quot;</span> + json + <span class="string">&quot;)&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="14、将DOM转化成树结构对象"><a href="#14、将DOM转化成树结构对象" class="headerlink" title="14、将DOM转化成树结构对象"></a>14、将DOM转化成树结构对象</h3><blockquote>
<p>题目描述：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">将上方的DOM转化为下面的树结构对象</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">tag</span>: <span class="string">&#x27;DIV&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&#x27;SPAN&#x27;</span>, <span class="attr">children</span>: [] &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">tag</span>: <span class="string">&#x27;UL&#x27;</span>,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123; <span class="attr">tag</span>: <span class="string">&#x27;LI&#x27;</span>, <span class="attr">children</span>: [] &#125;,</span><br><span class="line">                &#123; <span class="attr">tag</span>: <span class="string">&#x27;LI&#x27;</span>, <span class="attr">children</span>: [] &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>实现如下：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dom2tree</span>(<span class="params">dom</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">    obj.tag = dom.tagName</span><br><span class="line">    obj.children = []</span><br><span class="line">    dom.childNodes.forEach(<span class="function"><span class="params">child</span> =&gt;</span> obj.children.push(dom2tree(child)))</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="15、将树结构转换为DOM"><a href="#15、将树结构转换为DOM" class="headerlink" title="15、将树结构转换为DOM"></a>15、将树结构转换为DOM</h3><blockquote>
<p>题目描述：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">tag</span>: <span class="string">&#x27;DIV&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&#x27;SPAN&#x27;</span>, <span class="attr">children</span>: [] &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">tag</span>: <span class="string">&#x27;UL&#x27;</span>,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123; <span class="attr">tag</span>: <span class="string">&#x27;LI&#x27;</span>, <span class="attr">children</span>: [] &#125;,</span><br><span class="line">                &#123; <span class="attr">tag</span>: <span class="string">&#x27;LI&#x27;</span>, <span class="attr">children</span>: [] &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">将上方的树结构对象转化为下面的DOM</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>实现如下：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 真正的渲染函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_render</span>(<span class="params">vnode</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 如果是数字类型转化为字符串</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> vnode === <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">    vnode = <span class="built_in">String</span>(vnode);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 字符串类型直接就是文本节点</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> vnode === <span class="string">&quot;string&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">document</span>.createTextNode(vnode);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 普通DOM</span></span><br><span class="line">  <span class="keyword">const</span> dom = <span class="built_in">document</span>.createElement(vnode.tag);</span><br><span class="line">  <span class="keyword">if</span> (vnode.attrs) &#123;</span><br><span class="line">    <span class="comment">// 遍历属性</span></span><br><span class="line">    <span class="built_in">Object</span>.keys(vnode.attrs).forEach(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> value = vnode.attrs[key];</span><br><span class="line">      dom.setAttribute(key, value);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 子数组进行递归操作</span></span><br><span class="line">  vnode.children.forEach(<span class="function">(<span class="params">child</span>) =&gt;</span> dom.appendChild(_render(child)));</span><br><span class="line">  <span class="keyword">return</span> dom;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="16、判断一个对象有环引用"><a href="#16、判断一个对象有环引用" class="headerlink" title="16、判断一个对象有环引用"></a>16、判断一个对象有环引用</h3><blockquote>
<p>题目描述：验证一个对象有无环引用</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: &#123;</span><br><span class="line">        <span class="attr">c</span>: [</span><br><span class="line">            <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">b</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">obj.a.c.d = obj</span><br><span class="line"><span class="built_in">console</span>.log(cycleDetector(obj)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>实现思路：用一个数组存储每一个遍历过的对象，下次找到数组中存在，则说明环引用</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cycleDetector</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = [obj]</span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">cycle</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> keys = <span class="built_in">Object</span>.keys(o)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> keys) &#123;</span><br><span class="line">            <span class="keyword">const</span> temp = o[key]</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> temp === <span class="string">&#x27;object&#x27;</span> &amp;&amp; temp !== <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (arr.indexOf(temp) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    flag = <span class="literal">true</span></span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line">                arr.push(temp)</span><br><span class="line">                cycle(temp)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cycle(obj)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> flag</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="17、计算一个对象的层数"><a href="#17、计算一个对象的层数" class="headerlink" title="17、计算一个对象的层数"></a>17、计算一个对象的层数</h3><blockquote>
<p>题目描述：给你一个对象，统计一下它的层数</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: &#123; <span class="attr">b</span>: [<span class="number">1</span>] &#125;,</span><br><span class="line">    <span class="attr">c</span>: &#123; <span class="attr">d</span>: &#123; <span class="attr">e</span>: &#123; <span class="attr">f</span>: <span class="number">1</span> &#125; &#125; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(loopGetLevel(obj)) <span class="comment">// 4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>实现如下:</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loopGetLevel</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> res = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">computedLevel</span>(<span class="params">obj, level</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> level = level ? level : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> obj === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">typeof</span> obj[key] === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">                    computedLevel(obj[key], level + <span class="number">1</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    res = level + <span class="number">1</span> &gt; res ? level + <span class="number">1</span> : res;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res = level &gt; res ? level : res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    computedLevel(obj)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="18、对象的扁平化"><a href="#18、对象的扁平化" class="headerlink" title="18、对象的扁平化"></a>18、对象的扁平化</h3><blockquote>
<p>题目描述：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: &#123;</span><br><span class="line">         <span class="attr">b</span>: <span class="number">1</span>,</span><br><span class="line">         <span class="attr">c</span>: <span class="number">2</span>,</span><br><span class="line">         <span class="attr">d</span>: &#123;<span class="attr">e</span>: <span class="number">5</span>&#125;</span><br><span class="line">     &#125;,</span><br><span class="line">  <span class="attr">b</span>: [<span class="number">1</span>, <span class="number">3</span>, &#123;<span class="attr">a</span>: <span class="number">2</span>, <span class="attr">b</span>: <span class="number">3</span>&#125;],</span><br><span class="line">  <span class="attr">c</span>: <span class="number">3</span></span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> flatten(obj) 结果返回如下</span><br><span class="line"> <span class="comment">// &#123;</span></span><br><span class="line"> <span class="comment">//  &#x27;a.b&#x27;: 1,</span></span><br><span class="line"> <span class="comment">//  &#x27;a.c&#x27;: 2,</span></span><br><span class="line"> <span class="comment">//  &#x27;a.d.e&#x27;: 5,</span></span><br><span class="line"> <span class="comment">//  &#x27;b[0]&#x27;: 1,</span></span><br><span class="line"> <span class="comment">//  &#x27;b[1]&#x27;: 3,</span></span><br><span class="line"> <span class="comment">//  &#x27;b[2].a&#x27;: 2,</span></span><br><span class="line"> <span class="comment">//  &#x27;b[2].b&#x27;: 3</span></span><br><span class="line"> <span class="comment">//   c: 3</span></span><br><span class="line"> <span class="comment">// &#125;</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<blockquote>
<p>实现如下：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isObject = <span class="function">(<span class="params">val</span>) =&gt;</span>  <span class="keyword">typeof</span> val === <span class="string">&quot;object&quot;</span> &amp;&amp; val !== <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!isObject(obj)) <span class="keyword">return</span></span><br><span class="line">  <span class="keyword">const</span> res = &#123;&#125;</span><br><span class="line">  <span class="keyword">const</span> dfs = <span class="function">(<span class="params">cur, prefix</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (isObject(cur)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(cur)) &#123;</span><br><span class="line">        cur.forEach(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">          dfs(item, <span class="string">`<span class="subst">$&#123;prefix&#125;</span>[<span class="subst">$&#123;index&#125;</span>]`</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> cur) &#123;</span><br><span class="line">          dfs(cur[key], <span class="string">`<span class="subst">$&#123;prefix&#125;</span><span class="subst">$&#123;prefix ? <span class="string">&#x27;.&#x27;</span> : <span class="string">&#x27;&#x27;</span>&#125;</span><span class="subst">$&#123;key&#125;</span>`</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res[prefix] = cur</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  dfs(obj, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试</span></span><br><span class="line"><span class="built_in">console</span>.log(flatten(obj))</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="19、实现-a-1-amp-amp-a-2-amp-amp-a-3-为true"><a href="#19、实现-a-1-amp-amp-a-2-amp-amp-a-3-为true" class="headerlink" title="19、实现(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)为true"></a>19、实现(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)为true</h3><blockquote>
<p>题目描述：<code>实现(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)为true</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种方法</span></span><br><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">  <span class="attr">i</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">toString</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.i++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种方法</span></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">a.join = a.shift;</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第三种方法</span></span><br><span class="line"><span class="keyword">var</span> val = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(<span class="built_in">window</span>, <span class="string">&#x27;a&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) <span class="comment">// true</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="20、实现限制并发的Promise调度器"><a href="#20、实现限制并发的Promise调度器" class="headerlink" title="20、实现限制并发的Promise调度器"></a>20、实现限制并发的Promise调度器</h3><blockquote>
<p>题目描述：JS 实现一个带并发限制的异步调度器 Scheduler，保证同时运行的任务最多有两个</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">addTask(<span class="number">1000</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">addTask(<span class="number">500</span>,<span class="string">&quot;2&quot;</span>);</span><br><span class="line">addTask(<span class="number">300</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line">addTask(<span class="number">400</span>,<span class="string">&quot;4&quot;</span>);</span><br><span class="line">的输出顺序是：<span class="number">2</span> <span class="number">3</span> <span class="number">1</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line">整个的完整执行流程：</span><br><span class="line"></span><br><span class="line">一开始<span class="number">1</span>、<span class="number">2</span>两个任务开始执行</span><br><span class="line">500ms时，<span class="number">2</span>任务执行完毕，输出<span class="number">2</span>，任务<span class="number">3</span>开始执行</span><br><span class="line">800ms时，<span class="number">3</span>任务执行完毕，输出<span class="number">3</span>，任务<span class="number">4</span>开始执行</span><br><span class="line">1000ms时，<span class="number">1</span>任务执行完毕，输出<span class="number">1</span>，此时只剩下<span class="number">4</span>任务在执行</span><br><span class="line">1200ms时，<span class="number">4</span>任务执行完毕，输出<span class="number">4</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<blockquote>
<p>实现如下：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Scheduler</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">limit</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.queue = []</span><br><span class="line">    <span class="built_in">this</span>.limit = limit</span><br><span class="line">    <span class="built_in">this</span>.count = <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">add</span>(<span class="params">time, order</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> promiseCreator = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(order)</span><br><span class="line">          resolve()</span><br><span class="line">        &#125;, time)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.queue.push(promiseCreator)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">taskStart</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.limit; i++) &#123;</span><br><span class="line">      <span class="built_in">this</span>.request()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">request</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.queue.length || <span class="built_in">this</span>.count &gt;= <span class="built_in">this</span>.limit) <span class="keyword">return</span></span><br><span class="line">    <span class="built_in">this</span>.count++</span><br><span class="line">    <span class="built_in">this</span>.queue.shift()().then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.count--</span><br><span class="line">      <span class="built_in">this</span>.request()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试</span></span><br><span class="line"><span class="keyword">const</span> scheduler = <span class="keyword">new</span> Scheduler(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">const</span> addTask = <span class="function">(<span class="params">time, order</span>) =&gt;</span> &#123;</span><br><span class="line">  scheduler.add(time, order);</span><br><span class="line">&#125;;</span><br><span class="line">addTask(<span class="number">1000</span>, <span class="string">&quot;1&quot;</span>);</span><br><span class="line">addTask(<span class="number">500</span>, <span class="string">&quot;2&quot;</span>);</span><br><span class="line">addTask(<span class="number">300</span>, <span class="string">&quot;3&quot;</span>);</span><br><span class="line">addTask(<span class="number">400</span>, <span class="string">&quot;4&quot;</span>);</span><br><span class="line">scheduler.taskStart();</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="21、实现lazyMan函数"><a href="#21、实现lazyMan函数" class="headerlink" title="21、实现lazyMan函数"></a>21、实现lazyMan函数</h3><blockquote>
<p>题目描述：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">实现一个LazyMan，可以按照以下方式调用:LazyMan(“Hank”)输出:Hi! This is Hank!LazyMan(“Hank”).sleep(<span class="number">10</span>).eat(“dinner”)输出Hi! This is Hank!<span class="comment">//等待10秒..Wake up after 10Eat dinner~LazyMan(“Hank”).eat(“dinner”).eat(“supper”)输出Hi This is Hank!Eat dinner~Eat supper~LazyMan(“Hank”).eat(“supper”).sleepFirst(5)输出//等待5秒Wake up after 5Hi This is Hank!Eat supper复制代码</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>实现如下：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_LazyMan</span> </span>&#123;  <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;    <span class="built_in">this</span>.tasks = []    <span class="keyword">const</span> task = <span class="function">() =&gt;</span> &#123;      <span class="built_in">console</span>.log(<span class="string">`Hi! This is <span class="subst">$&#123;name&#125;</span>`</span>)      <span class="built_in">this</span>.next()    &#125;    <span class="built_in">this</span>.tasks.push(task)    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;      <span class="built_in">this</span>.next()    &#125;, <span class="number">0</span>)  &#125;  <span class="function"><span class="title">next</span>(<span class="params"></span>)</span> &#123;    <span class="keyword">const</span> task = <span class="built_in">this</span>.tasks.shift()    task &amp;&amp; task()  &#125;  <span class="function"><span class="title">sleep</span>(<span class="params">time</span>)</span> &#123;    <span class="built_in">this</span>.sleepWrapper(time, <span class="literal">false</span>)    <span class="keyword">return</span> <span class="built_in">this</span>  &#125;  <span class="function"><span class="title">sleepFirst</span>(<span class="params">time</span>)</span> &#123;    <span class="built_in">this</span>.sleepWrapper(time, <span class="literal">true</span>)    <span class="keyword">return</span> <span class="built_in">this</span>  &#125;  <span class="function"><span class="title">sleepWrapper</span>(<span class="params">time, first</span>)</span> &#123;    <span class="keyword">const</span> task = <span class="function">() =&gt;</span> &#123;      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;        <span class="built_in">console</span>.log(<span class="string">`Wake up after <span class="subst">$&#123;time&#125;</span>`</span>)        <span class="built_in">this</span>.next()      &#125;, time * <span class="number">1000</span>)    &#125;    <span class="keyword">if</span> (first) &#123;      <span class="built_in">this</span>.tasks.unshift(task)    &#125; <span class="keyword">else</span> &#123;      <span class="built_in">this</span>.tasks.push(task)    &#125;  &#125;  <span class="function"><span class="title">eat</span>(<span class="params">food</span>)</span> &#123;    <span class="keyword">const</span> task = <span class="function">() =&gt;</span> &#123;      <span class="built_in">console</span>.log(<span class="string">`Eat <span class="subst">$&#123;food&#125;</span>`</span>);      <span class="built_in">this</span>.next();    &#125;;    <span class="built_in">this</span>.tasks.push(task);    <span class="keyword">return</span> <span class="built_in">this</span>;  &#125;&#125;<span class="comment">// 测试const lazyMan = (name) =&gt; new _LazyMan(name)lazyMan(&#x27;Hank&#x27;).sleep(1).eat(&#x27;dinner&#x27;)lazyMan(&#x27;Hank&#x27;).eat(&#x27;dinner&#x27;).eat(&#x27;supper&#x27;)lazyMan(&#x27;Hank&#x27;).eat(&#x27;supper&#x27;).sleepFirst(5)复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="22、实现add函数"><a href="#22、实现add函数" class="headerlink" title="22、实现add函数"></a>22、实现add函数</h3><blockquote>
<p>题目描述：实现一个 add 方法 使计算结果能够满足如下预期：</p>
<ul>
<li>add(1)(2)(3)()=6</li>
<li>add(1,2,3)(4)()=10</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...args1</span>) </span>&#123;  <span class="keyword">let</span> allArgs = [...args1]  <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">...args2</span>) </span>&#123;    <span class="keyword">if</span> (!args2.length) <span class="keyword">return</span> fn.toString()    allArgs = [...allArgs, ...args2]    <span class="keyword">return</span> fn  &#125;  fn.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;    <span class="keyword">return</span> allArgs.reduce(<span class="function">(<span class="params">pre, next</span>) =&gt;</span> pre + next)  &#125;  <span class="keyword">return</span> fn&#125;<span class="comment">// 测试console.log(add(1)(2)(3)())console.log(add(1, 2)(3)())复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="23、实现一个合格的深拷贝"><a href="#23、实现一个合格的深拷贝" class="headerlink" title="23、实现一个合格的深拷贝"></a>23、实现一个合格的深拷贝</h3><p>推荐看我这篇：<a target="_blank" rel="noopener" href="https://juejin.cn/post/7017991655009566728">深拷贝有这5个段位，你只是青铜段位？还想涨薪？</a></p>
<h3 id="24、实现-Promise"><a href="#24、实现-Promise" class="headerlink" title="24、实现 Promise"></a>24、实现 Promise</h3><p>推荐看我这篇：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6994594642280857630">看了就会，手写Promise原理，最通俗易懂的版本！！！</a>【阅读：1.3w，点赞：460】</p>
<h3 id="25、实现-async-await"><a href="#25、实现-async-await" class="headerlink" title="25、实现 async/await"></a>25、实现 async/await</h3><p>推荐看我这篇：<a target="_blank" rel="noopener" href="https://juejin.cn/post/7007031572238958629">7张图，20分钟就能搞定的async/await原理！为什么要拖那么久？</a>【阅读：2.15w，点赞：460】</p>
<h2 id="Array篇"><a href="#Array篇" class="headerlink" title="Array篇"></a>Array篇</h2><p>定义一个测试数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> players = [    &#123; <span class="attr">name</span>: <span class="string">&#x27;科比&#x27;</span>, <span class="attr">num</span>: <span class="number">24</span> &#125;,    &#123; <span class="attr">name</span>: <span class="string">&#x27;詹姆斯&#x27;</span>, <span class="attr">num</span>: <span class="number">23</span> &#125;,    &#123; <span class="attr">name</span>: <span class="string">&#x27;保罗&#x27;</span>, <span class="attr">num</span>: <span class="number">3</span> &#125;,    &#123; <span class="attr">name</span>: <span class="string">&#x27;威少&#x27;</span>, <span class="attr">num</span>: <span class="number">0</span> &#125;,    &#123; <span class="attr">name</span>: <span class="string">&#x27;杜兰特&#x27;</span>, <span class="attr">num</span>: <span class="number">35</span> &#125;]复制代码</span><br></pre></td></tr></table></figure>

<h3 id="26、forEach"><a href="#26、forEach" class="headerlink" title="26、forEach"></a>26、forEach</h3><p>参数代表含义</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_forEach = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)    &#125;&#125;players.sx_forEach(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;    <span class="built_in">console</span>.log(item, index)&#125;)<span class="comment">// &#123; name: &#x27;科比&#x27;, num: 24 &#125; 0// &#123; name: &#x27;詹姆斯&#x27;, num: 23 &#125; 1// &#123; name: &#x27;保罗&#x27;, num: 3 &#125; 2// &#123; name: &#x27;威少&#x27;, num: 0 &#125; 3// &#123; name: &#x27;杜兰特&#x27;, num: 35 &#125; 4复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="27、map"><a href="#27、map" class="headerlink" title="27、map"></a>27、map</h3><p>参数代表含义</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_map = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">const</span> res = []    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        res.push(callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>))    &#125;    <span class="keyword">return</span> res&#125;<span class="built_in">console</span>.log(players.sx_map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> <span class="string">`<span class="subst">$&#123;item.name&#125;</span>--<span class="subst">$&#123;item.num&#125;</span>--<span class="subst">$&#123;index&#125;</span>`</span>))<span class="comment">// [ &#x27;科比--24--0&#x27;, &#x27;詹姆斯--23--1&#x27;, &#x27;保罗--3--2&#x27;, &#x27;威少--0--3&#x27;, &#x27;杜兰特--35--4&#x27; ]复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="28、filter"><a href="#28、filter" class="headerlink" title="28、filter"></a>28、filter</h3><p>参数代表含义</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_filter = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">const</span> res = []    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>) &amp;&amp; res.push(<span class="built_in">this</span>[i])    &#125;    <span class="keyword">return</span> res&#125;<span class="built_in">console</span>.log(players.sx_filter(<span class="function"><span class="params">item</span> =&gt;</span> item.num &gt;= <span class="number">23</span>))<span class="comment">// [//     &#123; name: &#x27;科比&#x27;, num: 24 &#125;,//     &#123; name: &#x27;詹姆斯&#x27;, num: 23 &#125;,//     &#123; name: &#x27;杜兰特&#x27;, num: 35 &#125;// ]复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="29、every"><a href="#29、every" class="headerlink" title="29、every"></a>29、every</h3><p>参数代表含义</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_every = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">let</span> flag = <span class="literal">true</span>    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        flag = callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)        <span class="keyword">if</span> (!flag) <span class="keyword">break</span>    &#125;    <span class="keyword">return</span> flag&#125;<span class="built_in">console</span>.log(players.sx_every(<span class="function"><span class="params">item</span> =&gt;</span> item.num &gt;= <span class="number">23</span>)) <span class="comment">// falseconsole.log(players.sx_every(item =&gt; item.num &gt;= 0)) // true复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="30、some"><a href="#30、some" class="headerlink" title="30、some"></a>30、some</h3><p>参数代表含义</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_some = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">let</span> flag = <span class="literal">false</span>    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        flag = callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)        <span class="keyword">if</span> (flag) <span class="keyword">break</span>    &#125;    <span class="keyword">return</span> flag&#125;<span class="built_in">console</span>.log(players.sx_some(<span class="function"><span class="params">item</span> =&gt;</span> item.num &gt;= <span class="number">23</span>)) <span class="comment">// trueconsole.log(players.sx_some(item =&gt; item.num &gt;= 50)) // false复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="31、reduce"><a href="#31、reduce" class="headerlink" title="31、reduce"></a>31、reduce</h3><p>参数代表含义</p>
<ul>
<li>pre：前一项</li>
<li>next：下一项</li>
<li>index：当前索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_reduce = <span class="function"><span class="keyword">function</span> (<span class="params">callback, ...args</span>) </span>&#123;  <span class="keyword">let</span> start = <span class="number">0</span>, pre  <span class="keyword">if</span> (args.length) &#123;      pre = args[<span class="number">0</span>]  &#125; <span class="keyword">else</span> &#123;      pre = <span class="built_in">this</span>[<span class="number">0</span>]      start = <span class="number">1</span>  &#125;  <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; <span class="built_in">this</span>.length; i++) &#123;      pre = callback(pre, <span class="built_in">this</span>[i], i, <span class="built_in">this</span>)  &#125;  <span class="keyword">return</span> pre&#125;<span class="comment">// 计算所有num相加const sum = players.sx_reduce((pre, next) =&gt; &#123;    return pre + next.num&#125;, 0)console.log(sum) // 85复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="32、findIndex"><a href="#32、findIndex" class="headerlink" title="32、findIndex"></a>32、findIndex</h3><p>参数代表含义</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_findIndex = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        <span class="keyword">if</span> (callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)) &#123;            <span class="keyword">return</span> i        &#125;    &#125;    <span class="keyword">return</span> -<span class="number">1</span>&#125;<span class="built_in">console</span>.log(players.sx_findIndex(<span class="function"><span class="params">item</span> =&gt;</span> item.name === <span class="string">&#x27;科比&#x27;</span>)) <span class="comment">// 0console.log(players.sx_findIndex(item =&gt; item.name === &#x27;安东尼&#x27;)) // -1复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="33、find"><a href="#33、find" class="headerlink" title="33、find"></a>33、find</h3><p>参数代表含义</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_find = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        <span class="keyword">if</span> (callback(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>)) &#123;            <span class="keyword">return</span> <span class="built_in">this</span>[i]        &#125;    &#125;    <span class="keyword">return</span> <span class="literal">undefined</span>&#125;<span class="built_in">console</span>.log(players.sx_find(<span class="function"><span class="params">item</span> =&gt;</span> item.name === <span class="string">&#x27;科比&#x27;</span>)) <span class="comment">// &#123; name: &#x27;科比&#x27;, num: 24 &#125;console.log(players.sx_find(item =&gt; item.name === &#x27;安东尼&#x27;)) // undefined复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="34、fill"><a href="#34、fill" class="headerlink" title="34、fill"></a>34、fill</h3><p>用处：填充数组</p>
<p>参数代表含义</p>
<ul>
<li>initValue：填充的值</li>
<li>start：开始填充索引，默认0</li>
<li>end：结束填充索引，默认length</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_fill = <span class="function"><span class="keyword">function</span> (<span class="params">value, start = <span class="number">0</span>, end</span>) </span>&#123;  end = end || <span class="built_in">this</span>.length  <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;      <span class="built_in">this</span>[i] = value  &#125;  <span class="keyword">return</span> <span class="built_in">this</span>&#125;<span class="built_in">console</span>.log(players.sx_fill(<span class="string">&#x27;林三心&#x27;</span>, <span class="number">1</span>, <span class="number">3</span>))<span class="comment">// [//     &#123; name: &#x27;科比&#x27;, num: 24 &#125;,//     &#x27;林三心&#x27;,//     &#x27;林三心&#x27;,//     &#x27;林三心&#x27;,//     &#123; name: &#x27;杜兰特&#x27;, num: 35 &#125;// ]复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="35、includes"><a href="#35、includes" class="headerlink" title="35、includes"></a>35、includes</h3><p>用处：查找元素，查到返回<code>true</code>，反之返回<code>false</code>，可查找<code>NaN</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_includes = <span class="function"><span class="keyword">function</span> (<span class="params">value, start = <span class="number">0</span></span>) </span>&#123;    <span class="keyword">if</span> (start &lt; <span class="number">0</span>) start = <span class="built_in">this</span>.length + start    <span class="keyword">const</span> <span class="built_in">isNaN</span> = <span class="built_in">Number</span>.isNaN(value)    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; <span class="built_in">this</span>.length; i++) &#123;        <span class="keyword">if</span> (<span class="built_in">this</span>[i] === value || (<span class="built_in">isNaN</span> &amp;&amp; <span class="built_in">Number</span>.isNaN(<span class="built_in">this</span>[i])) &#123;            <span class="keyword">return</span> <span class="literal">true</span>        &#125;    &#125;    <span class="keyword">return</span> <span class="literal">false</span>&#125;<span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].sx_includes(<span class="number">2</span>)) <span class="comment">// trueconsole.log([1, 2, 3, NaN].sx_includes(NaN)) // trueconsole.log([1, 2, 3].sx_includes(1, 1)) // false复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="36、join"><a href="#36、join" class="headerlink" title="36、join"></a>36、join</h3><p>用处：将数组用分隔符拼成字符串，分隔符默认为<code>,</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_join = <span class="function"><span class="keyword">function</span> (<span class="params">s = <span class="string">&#x27;,&#x27;</span></span>) </span>&#123;    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span>    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;        str = i === <span class="number">0</span> ? <span class="string">`<span class="subst">$&#123;str&#125;</span><span class="subst">$&#123;<span class="built_in">this</span>[i]&#125;</span>`</span> : <span class="string">`<span class="subst">$&#123;str&#125;</span><span class="subst">$&#123;s&#125;</span><span class="subst">$&#123;<span class="built_in">this</span>[i]&#125;</span>`</span>    &#125;    <span class="keyword">return</span> str&#125;<span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].sx_join()) <span class="comment">// 1,2,3console.log([1, 2, 3].sx_join(&#x27;*&#x27;)) // 1*2*3复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="37、flat"><a href="#37、flat" class="headerlink" title="37、flat"></a>37、flat</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_flat = <span class="function"><span class="keyword">function</span> (<span class="params">num = <span class="literal">Infinity</span></span>) </span>&#123;  <span class="keyword">let</span> arr = <span class="built_in">this</span>  <span class="keyword">let</span> i = <span class="number">0</span>  <span class="keyword">while</span> (arr.some(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">Array</span>.isArray(item))) &#123;      arr = [].concat(...arr)      i++      <span class="keyword">if</span> (i &gt;= num) <span class="keyword">break</span>  &#125;  <span class="keyword">return</span> arr&#125;<span class="keyword">const</span> testArr = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>]], [<span class="number">8</span>, <span class="number">9</span>]]<span class="built_in">console</span>.log(testArr.sx_flat(<span class="number">1</span>))<span class="comment">// [1, 2, 3, 4, 5, 8, 9]复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="38、splice"><a href="#38、splice" class="headerlink" title="38、splice"></a>38、splice</h3><p>难点</p>
<ul>
<li>截取长度和替换长度的比较，不同情况</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.sx_splice = <span class="function"><span class="keyword">function</span> (<span class="params">start, length, ...values</span>) </span>&#123;  <span class="keyword">if</span> (length === <span class="number">0</span>) <span class="keyword">return</span> []  length = start + length &gt; <span class="built_in">this</span>.length - <span class="number">1</span> ? <span class="built_in">this</span>.length - start : length  <span class="built_in">console</span>.log(length)  <span class="keyword">const</span> res = [], tempArr = [...this]  <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; start + values.length; i++) &#123;    <span class="built_in">this</span>[i] = values[i - start]  &#125;  <span class="built_in">this</span>.length = start + values.length  <span class="keyword">if</span> (values.length &lt; length) &#123;    <span class="keyword">const</span> cha = length - values.length    <span class="built_in">console</span>.log(cha)    <span class="keyword">for</span> (<span class="keyword">let</span> i = start + values.length; i &lt; tempArr.length; i++) &#123;      <span class="built_in">this</span>[i] = tempArr[i + cha]    &#125;    <span class="built_in">this</span>.length = <span class="built_in">this</span>.length - cha   &#125;  <span class="keyword">if</span> (values.length &gt; length) &#123;    <span class="keyword">for</span> (<span class="keyword">let</span> i = start + length; i &lt; tempArr.length; i++) &#123;      <span class="built_in">this</span>.push(tempArr[i])    &#125;  &#125;  <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; start + length; i++) &#123;    res.push(tempArr[i])  &#125;  <span class="keyword">return</span> res&#125;复制代码</span><br></pre></td></tr></table></figure>

<h2 id="Object篇"><a href="#Object篇" class="headerlink" title="Object篇"></a>Object篇</h2><p>定义一个测试对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;    <span class="attr">name</span>: <span class="string">&#x27;林三心&#x27;</span>,    <span class="attr">age</span>: <span class="number">22</span>,    <span class="attr">gender</span>: <span class="string">&#x27;男&#x27;</span>&#125;复制代码</span><br></pre></td></tr></table></figure>

<h3 id="39、entries"><a href="#39、entries" class="headerlink" title="39、entries"></a>39、entries</h3><p>用处：将对象转成键值对数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_entries = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;    <span class="keyword">const</span> res = []    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;        obj.hasOwnProperty(key) &amp;&amp; res.push([key, obj[key]])    &#125;    <span class="keyword">return</span> res&#125;<span class="built_in">console</span>.log(<span class="built_in">Object</span>.sx_entries(obj))<span class="comment">// [ [ &#x27;name&#x27;, &#x27;林三心&#x27; ], [ &#x27;age&#x27;, 22 ], [ &#x27;gender&#x27;, &#x27;男&#x27; ] ]复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="40、fromEntries"><a href="#40、fromEntries" class="headerlink" title="40、fromEntries"></a>40、fromEntries</h3><p>用处：跟<code>entries</code>相反，将键值对数组转成对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_fromEntries = <span class="function"><span class="keyword">function</span> (<span class="params">arr</span>) </span>&#123;    <span class="keyword">const</span> obj = &#123;&#125;    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;        <span class="keyword">const</span> [key, value] = arr[i]        obj[key] = value    &#125;    <span class="keyword">return</span> obj&#125;<span class="built_in">console</span>.log(<span class="built_in">Object</span>.sx_fromEntries([[<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;林三心&#x27;</span>], [<span class="string">&#x27;age&#x27;</span>, <span class="number">22</span>], [<span class="string">&#x27;gender&#x27;</span>, <span class="string">&#x27;男&#x27;</span>]]))<span class="comment">// &#123; name: &#x27;林三心&#x27;, age: 22, gender: &#x27;男&#x27; &#125;复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="41、keys"><a href="#41、keys" class="headerlink" title="41、keys"></a>41、keys</h3><p>用处：将对象的key转成一个数组合集</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_keys = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;    <span class="keyword">const</span> keys = []    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;        obj.hasOwnProperty(key) &amp;&amp; res.push(key)    &#125;    <span class="keyword">return</span> keys&#125;<span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(obj))<span class="comment">// [ &#x27;name&#x27;, &#x27;age&#x27;, &#x27;gender&#x27; ]复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="42、values"><a href="#42、values" class="headerlink" title="42、values"></a>42、values</h3><p>用处：将对象的所有值转成数组合集</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_values = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;    <span class="keyword">const</span> values = []    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;        obj.hasOwnProperty(key) &amp;&amp; values.push(obj[key])    &#125;    <span class="keyword">return</span> values&#125;<span class="built_in">console</span>.log(<span class="built_in">Object</span>.sx_values(obj))<span class="comment">// [ &#x27;林三心&#x27;, 22, &#x27;男&#x27; ]复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="43、instanceOf"><a href="#43、instanceOf" class="headerlink" title="43、instanceOf"></a>43、instanceOf</h3><p>用处：A instanceOf B，判断A是否经过B的原型链</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">instanceOf</span>(<span class="params">father, child</span>) </span>&#123;    <span class="keyword">const</span> fp = father.prototype    <span class="keyword">var</span> cp = child.__proto__    <span class="keyword">while</span> (cp) &#123;        <span class="keyword">if</span> (cp === fp) &#123;            <span class="keyword">return</span> <span class="literal">true</span>        &#125;        cp = cp.__proto__    &#125;    <span class="keyword">return</span> <span class="literal">false</span>&#125;<span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;    <span class="built_in">this</span>.name = name&#125;<span class="keyword">const</span> sx = <span class="keyword">new</span> Person(<span class="string">&#x27;林三心&#x27;</span>)<span class="built_in">console</span>.log(instanceOf(Person, sx)) <span class="comment">// trueconsole.log(instanceOf(Person, sx2)) // false复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="44、is"><a href="#44、is" class="headerlink" title="44、is"></a>44、is</h3><p>用处：Object.is(a, b)，判断a是否等于b</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_is = <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;    <span class="keyword">if</span> (x === y) &#123;        <span class="comment">// 防止 -0 和 +0        return x !== 0 || 1 / x === 1 / y    &#125;    // 防止NaN    return x !== x &amp;&amp; y !== y&#125;const a = &#123; name: &#x27;林三心&#x27; &#125;const b = aconst c = &#123; name: &#x27;林三心&#x27; &#125;console.log(Object.sx_is(a, b)) // trueconsole.log(Object.sx_is(a, c)) // false复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="45、Object-assign"><a href="#45、Object-assign" class="headerlink" title="45、Object.assign"></a>45、Object.assign</h3><p>难点</p>
<ul>
<li>assign接收多个对象，并将多个对象合成一个对象</li>
<li>这些对象如果有重名属性，以后来的对象属性值为准</li>
<li>assign返回一个对象，<code>这个对象 === 第一个对象</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sx_assign = <span class="function"><span class="keyword">function</span> (<span class="params">target, ...args</span>) </span>&#123;    <span class="keyword">if</span> (target === <span class="literal">null</span> || target === <span class="literal">undefined</span>) &#123;        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&#x27;Cannot convert undefined or null to object&#x27;</span>)    &#125;    target = <span class="built_in">Object</span>(target)    <span class="keyword">for</span> (<span class="keyword">let</span> nextObj <span class="keyword">of</span> args) &#123;        <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> nextObj) &#123;            nextObj.hasOwnProperty(key) &amp;&amp; (target[key] = nextObj[key])        &#125;    &#125;    <span class="keyword">return</span> target&#125;<span class="keyword">const</span> testa = &#123; <span class="attr">name</span>: <span class="string">&#x27;林三心&#x27;</span> &#125;<span class="keyword">const</span> testb = &#123; <span class="attr">name</span>: <span class="string">&#x27;sunshine_lin&#x27;</span>, <span class="attr">age</span>: <span class="number">22</span> &#125;<span class="keyword">const</span> testc = &#123; <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">gender</span>: <span class="string">&#x27;男&#x27;</span> &#125;<span class="keyword">const</span> testd = <span class="built_in">Object</span>.sx_assign(testa, testb, testc)<span class="built_in">console</span>.log(testd) <span class="comment">// &#123; name: &#x27;sunshine_lin&#x27;, age: 18, gender: &#x27;男&#x27; &#125;console.log(testa === testd) // true复制代码</span></span><br></pre></td></tr></table></figure>

<h2 id="Function篇"><a href="#Function篇" class="headerlink" title="Function篇"></a>Function篇</h2><h3 id="46、call"><a href="#46、call" class="headerlink" title="46、call"></a>46、call</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.sx_call = <span class="function"><span class="keyword">function</span> (<span class="params">obj, ...args</span>) </span>&#123;    obj = obj || <span class="built_in">window</span>    <span class="comment">// Symbol是唯一的，防止重名key    const fn = Symbol()    obj[fn] = this    // 执行，返回执行值    return obj[fn](...args)&#125;const testobj = &#123;    name: &#x27;林三心&#x27;,    testFn(age) &#123;        console.log(`$&#123;this.name&#125;$&#123;age&#125;岁了`)    &#125;&#125;const testobj2 = &#123;    name: &#x27;sunshine_lin&#x27;&#125;testobj.testFn.sx_call(testobj2, 22) // sunshine_lin22岁了复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="47、apply"><a href="#47、apply" class="headerlink" title="47、apply"></a>47、apply</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.sx_apply = <span class="function"><span class="keyword">function</span> (<span class="params">obj, args</span>) </span>&#123;    obj = obj || <span class="built_in">window</span>    <span class="comment">// Symbol是唯一的，防止重名key    const fn = Symbol()    obj[fn] = this    // 执行，返回执行值    return obj[fn](...args)&#125;const testobj = &#123;    name: &#x27;林三心&#x27;,    testFn(age) &#123;        console.log(`$&#123;this.name&#125;$&#123;age&#125;岁了`)    &#125;&#125;const testobj2 = &#123;    name: &#x27;sunshine_lin&#x27;&#125;testobj.testFn.sx_apply(testobj2, [22]) // sunshine_lin22岁了复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="48、Function-prototype-bind"><a href="#48、Function-prototype-bind" class="headerlink" title="48、Function.prototype.bind"></a>48、Function.prototype.bind</h3><p>难点：</p>
<ul>
<li>bind是返回一个函数，而不是执行结果</li>
<li>bind返回的函数，拿来当做构造函数，该怎么处理</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.sx_bind = <span class="function"><span class="keyword">function</span> (<span class="params">obj, ...args</span>) </span>&#123;    obj = obj || <span class="built_in">window</span>    <span class="comment">// Symbol是唯一的，防止重名key    const fn = Symbol()    obj[fn] = this    const _this = this    const res = function (...innerArgs) &#123;        console.log(this, _this)        if (this instanceof _this) &#123;            this[fn] = _this            this[fn](...[...args, ...innerArgs])            delete this[fn]        &#125; else &#123;            obj[fn](...[...args, ...innerArgs])            delete obj[fn]        &#125;    &#125;    res.prototype = Object.create(this.prototype)    return res&#125;复制代码</span></span><br></pre></td></tr></table></figure>

<h2 id="String篇"><a href="#String篇" class="headerlink" title="String篇"></a>String篇</h2><h3 id="49、slice"><a href="#49、slice" class="headerlink" title="49、slice"></a>49、slice</h3><p>参数代表含义</p>
<ul>
<li>start：开始截取的字符索引(包含此字符)</li>
<li>end：结束截取的字符索引(不包含此字符)</li>
</ul>
<p>注意点</p>
<ul>
<li>start &gt; end：返回空字符串</li>
<li>start &lt; 0：<code>start = 数组长度 + start</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.sx_slice = <span class="function"><span class="keyword">function</span> (<span class="params">start = <span class="number">0</span>, end</span>) </span>&#123;    start = start &lt; <span class="number">0</span> ? <span class="built_in">this</span>.length + start : start    end = !end &amp;&amp; end !== <span class="number">0</span> ? <span class="built_in">this</span>.length : end    <span class="keyword">if</span> (start &gt;= end) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span>    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;        str += <span class="built_in">this</span>[i]    &#125;    <span class="keyword">return</span> str&#125;<span class="built_in">console</span>.log(str.sx_slice(<span class="number">2</span>)) <span class="comment">// nshine_linconsole.log(str.sx_slice(-2)) // inconsole.log(str.sx_slice(-9, 10)) // shine_lconsole.log(str.sx_slice(5, 1)) // &#x27;&#x27;复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="50、substr"><a href="#50、substr" class="headerlink" title="50、substr"></a>50、substr</h3><p>参数代表含义</p>
<ul>
<li>start：开始截取的字符索引(包含此字符)</li>
<li>length：截取的长度</li>
</ul>
<p>注意点</p>
<ul>
<li>start &lt; 0：<code>start = 数组长度 + start</code></li>
<li>length超出所能截取范围，需要做处理</li>
<li>length &lt; 0：返回空字符串</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.sx_substr = <span class="function"><span class="keyword">function</span> (<span class="params">start = <span class="number">0</span>, length</span>) </span>&#123;    <span class="keyword">if</span> (length &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>    start = start &lt; <span class="number">0</span> ? <span class="built_in">this</span>.length + start : start    length = (!length &amp;&amp; length !== <span class="number">0</span>) || length &gt; <span class="built_in">this</span>.length - start ? <span class="built_in">this</span>.length : start + length    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span>    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; length; i++) &#123;        str += <span class="built_in">this</span>[i]    &#125;    <span class="keyword">return</span> str&#125;<span class="built_in">console</span>.log(str.sx_substr(<span class="number">3</span>)) <span class="comment">// shine_linconsole.log(str.sx_substr(3, 3)) // shiconsole.log(str.sx_substr(5, 300)) // ine_lin复制代码</span></span><br></pre></td></tr></table></figure>

<h3 id="51、substring"><a href="#51、substring" class="headerlink" title="51、substring"></a>51、substring</h3><p>功能与<code>slice</code>大致相同</p>
<p>区别之处</p>
<ul>
<li>start &gt; end：互换值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.sx_sunstring = <span class="function"><span class="keyword">function</span> (<span class="params">start = <span class="number">0</span>, end</span>) </span>&#123;    start = start &lt; <span class="number">0</span> ? <span class="built_in">this</span>.length + start : start    end = !end &amp;&amp; end !== <span class="number">0</span> ? <span class="built_in">this</span>.length : end    <span class="keyword">if</span> (start &gt;= end) [start, end] = [end, start]    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span>    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;        str += <span class="built_in">this</span>[i]    &#125;    <span class="keyword">return</span> str&#125;<span class="built_in">console</span>.log(str.sx_sunstring(<span class="number">2</span>)) <span class="comment">// nshine_linconsole.log(str.sx_sunstring(-2)) // inconsole.log(str.sx_sunstring(-9, 10)) // shine_lconsole.log(str.sx_sunstring(5, 1)) // unsh复制代码</span></span><br></pre></td></tr></table></figure>

<h2 id="Promise篇"><a href="#Promise篇" class="headerlink" title="Promise篇"></a>Promise篇</h2><h3 id="52、all"><a href="#52、all" class="headerlink" title="52、all"></a>52、all</h3><ul>
<li>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li>
<li>如果所有Promise都成功，则返回成功结果数组</li>
<li>如果有一个Promise失败，则返回这个失败结果</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">all</span>(<span class="params">promises</span>) </span>&#123;        <span class="keyword">const</span> result = []        <span class="keyword">let</span> count = <span class="number">0</span>        <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;            <span class="keyword">const</span> addData = <span class="function">(<span class="params">index, value</span>) =&gt;</span> &#123;                result[index] = value                count++                <span class="keyword">if</span> (count === promises.length) resolve(result)            &#125;            promises.forEach(<span class="function">(<span class="params">promise, index</span>) =&gt;</span> &#123;                <span class="keyword">if</span> (promise <span class="keyword">instanceof</span> MyPromise) &#123;                    promise.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;                        addData(index, res)                    &#125;, <span class="function"><span class="params">err</span> =&gt;</span> reject(err))                &#125; <span class="keyword">else</span> &#123;                    addData(index, promise)                &#125;            &#125;)        &#125;)    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="53、race"><a href="#53、race" class="headerlink" title="53、race"></a>53、race</h3><ul>
<li>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li>
<li>哪个Promise最快得到结果，就返回那个结果，无论成功失败</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">race</span>(<span class="params">promises</span>) </span>&#123;        <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;            promises.forEach(<span class="function"><span class="params">promise</span> =&gt;</span> &#123;                <span class="keyword">if</span> (promise <span class="keyword">instanceof</span> MyPromise) &#123;                    promise.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;                        resolve(res)                    &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;                        reject(err)                    &#125;)                &#125; <span class="keyword">else</span> &#123;                    resolve(promise)                &#125;            &#125;)        &#125;)    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="54、allSettled"><a href="#54、allSettled" class="headerlink" title="54、allSettled"></a>54、allSettled</h3><ul>
<li>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li>
<li>把每一个Promise的结果，集合成数组，返回</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">allSettled</span>(<span class="params">promises</span>) </span>&#123;        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;            <span class="keyword">const</span> res = []            <span class="keyword">let</span> count = <span class="number">0</span>            <span class="keyword">const</span> addData = <span class="function">(<span class="params">status, value, i</span>) =&gt;</span> &#123;                res[i] = &#123;                    status,                    value                &#125;                count++                <span class="keyword">if</span> (count === promises.length) &#123;                    resolve(res)                &#125;            &#125;            promises.forEach(<span class="function">(<span class="params">promise, i</span>) =&gt;</span> &#123;                <span class="keyword">if</span> (promise <span class="keyword">instanceof</span> MyPromise) &#123;                    promise.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;                        addData(<span class="string">&#x27;fulfilled&#x27;</span>, res, i)                    &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;                        addData(<span class="string">&#x27;rejected&#x27;</span>, err, i)                    &#125;)                &#125; <span class="keyword">else</span> &#123;                    addData(<span class="string">&#x27;fulfilled&#x27;</span>, promise, i)                &#125;            &#125;)        &#125;)    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="55、any"><a href="#55、any" class="headerlink" title="55、any"></a>55、any</h3><p>any与all相反</p>
<ul>
<li>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li>
<li>如果有一个Promise成功，则返回这个成功结果</li>
<li>如果所有Promise都失败，则报错</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">any</span>(<span class="params">promises</span>) </span>&#123;        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;            <span class="keyword">let</span> count = <span class="number">0</span>            promises.forEach(<span class="function">(<span class="params">promise</span>) =&gt;</span> &#123;                promise.then(<span class="function"><span class="params">val</span> =&gt;</span> &#123;                    resolve(val)                &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;                    count++                    <span class="keyword">if</span> (count === promises.length) &#123;                        reject(<span class="keyword">new</span> AggregateError(<span class="string">&#x27;All promises were rejected&#x27;</span>))                    &#125;                &#125;)            &#125;)        &#125;)    &#125;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="56、finally"><a href="#56、finally" class="headerlink" title="56、finally"></a>56、finally</h3><ul>
<li>接收一个回调函数，但无参数接收</li>
<li>无论成功失败状态，都会执行finally</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.prototype.finally = <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;  <span class="keyword">return</span> <span class="built_in">this</span>.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;    callback()    <span class="keyword">return</span> res  &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;    callback()    <span class="keyword">throw</span> err  &#125;)&#125;</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:957957209@qq.com">zzm</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/">http://example.com/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">AstronautBlog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440862.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/"><img class="next-cover" src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440795.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">javaScript面试题整理</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/03/01/JavaScript%E6%B7%B1%E5%85%A5%E4%B9%8B%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE/" title="JavaScript深入之作用域链"><img class="cover" src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440862.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-01</div><div class="title">JavaScript深入之作用域链</div></div></a></div><div><a href="/2022/03/04/%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="面试题整理"><img class="cover" src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440795.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-04</div><div class="title">面试题整理</div></div></a></div><div><a href="/2022/03/13/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/" title="面试知识整理"><img class="cover" src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440795.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-13</div><div class="title">面试知识整理</div></div></a></div><div><a href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="javaScript面试题整理"><img class="cover" src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440795.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-22</div><div class="title">javaScript面试题整理</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city" data-uid="MTAyMC81NTEyNi8zMTU5NA=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./img/avater1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zzm</div><div class="author-info__description">好久不见</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/hnistzzm"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/hnistzzm" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://gitee.com/hnistzzm" target="_blank" title="Gitee"><i class="fab fa-git-alt"></i></a><a class="social-icon" href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=957957209" target="_blank" title="QQ"><i class="fab fa-qq"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客网站</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%B8%BA%E4%BB%80%E4%B9%880-1-0-2%E4%B8%8D%E7%AD%89%E4%BA%8E0-3"><span class="toc-number">1.</span> <span class="toc-text">1.为什么0.1+0.2不等于0.3?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9C%A8%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8Ba-a-1%EF%BC%9F"><span class="toc-number">2.</span> <span class="toc-text">2.在什么情况下a &#x3D;&#x3D;&#x3D; a-1？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%89%8B%E5%86%99%E5%8E%9F%E7%94%9Fajax%E8%AF%B7%E6%B1%82"><span class="toc-number">3.</span> <span class="toc-text">3.手写原生ajax请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%89%8B%E5%86%99new"><span class="toc-number">4.</span> <span class="toc-text">4.手写new</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E8%8E%B7%E5%8F%96%E6%B5%AE%E7%82%B9%E6%95%B0%E7%9A%84%E6%95%B4%E6%95%B0%E5%92%8C%E5%B0%8F%E6%95%B0%E9%83%A8%E5%88%86"><span class="toc-number">5.</span> <span class="toc-text">5.如何优雅的获取浮点数的整数和小数部分</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8F%96%E6%95%B4%E6%95%B0"><span class="toc-number">5.1.</span> <span class="toc-text">1.取整数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8F%96%E5%B0%8F%E6%95%B0"><span class="toc-number">5.2.</span> <span class="toc-text">2.取小数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81instanceof%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">6.</span> <span class="toc-text">3、instanceof关键字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%AE%9E%E7%8E%B0%E9%98%B2%E6%8A%96%E5%87%BD%E6%95%B0"><span class="toc-number">7.</span> <span class="toc-text">4、实现防抖函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E5%AE%9E%E7%8E%B0%E8%8A%82%E6%B5%81%E5%87%BD%E6%95%B0"><span class="toc-number">8.</span> <span class="toc-text">5、实现节流函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="toc-number">9.</span> <span class="toc-text">6、实现数组去重</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E7%94%A8setTimeout%E5%AE%9E%E7%8E%B0setInterval"><span class="toc-number">10.</span> <span class="toc-text">7、用setTimeout实现setInterval</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E7%94%A8setInterval%E5%AE%9E%E7%8E%B0setTimeout"><span class="toc-number">11.</span> <span class="toc-text">8、用setInterval实现setTimeout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAcompose%E5%87%BD%E6%95%B0"><span class="toc-number">12.</span> <span class="toc-text">9、实现一个compose函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%A7%91%E9%87%8C%E5%8C%96%E5%87%BD%E6%95%B0"><span class="toc-number">13.</span> <span class="toc-text">10、实现一个科里化函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11%E3%80%81%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AALRU%E7%BC%93%E5%AD%98%E5%87%BD%E6%95%B0"><span class="toc-number">14.</span> <span class="toc-text">11、实现一个LRU缓存函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12%E3%80%81%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">15.</span> <span class="toc-text">12、简单实现 发布订阅模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13%E3%80%81%E5%AE%9E%E7%8E%B0JSON-parse"><span class="toc-number">16.</span> <span class="toc-text">13、实现JSON.parse</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14%E3%80%81%E5%B0%86DOM%E8%BD%AC%E5%8C%96%E6%88%90%E6%A0%91%E7%BB%93%E6%9E%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">17.</span> <span class="toc-text">14、将DOM转化成树结构对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15%E3%80%81%E5%B0%86%E6%A0%91%E7%BB%93%E6%9E%84%E8%BD%AC%E6%8D%A2%E4%B8%BADOM"><span class="toc-number">18.</span> <span class="toc-text">15、将树结构转换为DOM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16%E3%80%81%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%9C%89%E7%8E%AF%E5%BC%95%E7%94%A8"><span class="toc-number">19.</span> <span class="toc-text">16、判断一个对象有环引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17%E3%80%81%E8%AE%A1%E7%AE%97%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%82%E6%95%B0"><span class="toc-number">20.</span> <span class="toc-text">17、计算一个对象的层数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18%E3%80%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%81%E5%B9%B3%E5%8C%96"><span class="toc-number">21.</span> <span class="toc-text">18、对象的扁平化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19%E3%80%81%E5%AE%9E%E7%8E%B0-a-1-amp-amp-a-2-amp-amp-a-3-%E4%B8%BAtrue"><span class="toc-number">22.</span> <span class="toc-text">19、实现(a &#x3D;&#x3D; 1 &amp;&amp; a &#x3D;&#x3D; 2 &amp;&amp; a &#x3D;&#x3D; 3)为true</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#20%E3%80%81%E5%AE%9E%E7%8E%B0%E9%99%90%E5%88%B6%E5%B9%B6%E5%8F%91%E7%9A%84Promise%E8%B0%83%E5%BA%A6%E5%99%A8"><span class="toc-number">23.</span> <span class="toc-text">20、实现限制并发的Promise调度器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21%E3%80%81%E5%AE%9E%E7%8E%B0lazyMan%E5%87%BD%E6%95%B0"><span class="toc-number">24.</span> <span class="toc-text">21、实现lazyMan函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22%E3%80%81%E5%AE%9E%E7%8E%B0add%E5%87%BD%E6%95%B0"><span class="toc-number">25.</span> <span class="toc-text">22、实现add函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23%E3%80%81%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%90%88%E6%A0%BC%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-number">26.</span> <span class="toc-text">23、实现一个合格的深拷贝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24%E3%80%81%E5%AE%9E%E7%8E%B0-Promise"><span class="toc-number">27.</span> <span class="toc-text">24、实现 Promise</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25%E3%80%81%E5%AE%9E%E7%8E%B0-async-await"><span class="toc-number">28.</span> <span class="toc-text">25、实现 async&#x2F;await</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array%E7%AF%87"><span class="toc-number"></span> <span class="toc-text">Array篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#26%E3%80%81forEach"><span class="toc-number">1.</span> <span class="toc-text">26、forEach</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#27%E3%80%81map"><span class="toc-number">2.</span> <span class="toc-text">27、map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#28%E3%80%81filter"><span class="toc-number">3.</span> <span class="toc-text">28、filter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#29%E3%80%81every"><span class="toc-number">4.</span> <span class="toc-text">29、every</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#30%E3%80%81some"><span class="toc-number">5.</span> <span class="toc-text">30、some</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#31%E3%80%81reduce"><span class="toc-number">6.</span> <span class="toc-text">31、reduce</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32%E3%80%81findIndex"><span class="toc-number">7.</span> <span class="toc-text">32、findIndex</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#33%E3%80%81find"><span class="toc-number">8.</span> <span class="toc-text">33、find</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#34%E3%80%81fill"><span class="toc-number">9.</span> <span class="toc-text">34、fill</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#35%E3%80%81includes"><span class="toc-number">10.</span> <span class="toc-text">35、includes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#36%E3%80%81join"><span class="toc-number">11.</span> <span class="toc-text">36、join</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#37%E3%80%81flat"><span class="toc-number">12.</span> <span class="toc-text">37、flat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#38%E3%80%81splice"><span class="toc-number">13.</span> <span class="toc-text">38、splice</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object%E7%AF%87"><span class="toc-number"></span> <span class="toc-text">Object篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#39%E3%80%81entries"><span class="toc-number">1.</span> <span class="toc-text">39、entries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#40%E3%80%81fromEntries"><span class="toc-number">2.</span> <span class="toc-text">40、fromEntries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#41%E3%80%81keys"><span class="toc-number">3.</span> <span class="toc-text">41、keys</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#42%E3%80%81values"><span class="toc-number">4.</span> <span class="toc-text">42、values</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#43%E3%80%81instanceOf"><span class="toc-number">5.</span> <span class="toc-text">43、instanceOf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#44%E3%80%81is"><span class="toc-number">6.</span> <span class="toc-text">44、is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#45%E3%80%81Object-assign"><span class="toc-number">7.</span> <span class="toc-text">45、Object.assign</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Function%E7%AF%87"><span class="toc-number"></span> <span class="toc-text">Function篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#46%E3%80%81call"><span class="toc-number">1.</span> <span class="toc-text">46、call</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#47%E3%80%81apply"><span class="toc-number">2.</span> <span class="toc-text">47、apply</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#48%E3%80%81Function-prototype-bind"><span class="toc-number">3.</span> <span class="toc-text">48、Function.prototype.bind</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#String%E7%AF%87"><span class="toc-number"></span> <span class="toc-text">String篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#49%E3%80%81slice"><span class="toc-number">1.</span> <span class="toc-text">49、slice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#50%E3%80%81substr"><span class="toc-number">2.</span> <span class="toc-text">50、substr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#51%E3%80%81substring"><span class="toc-number">3.</span> <span class="toc-text">51、substring</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Promise%E7%AF%87"><span class="toc-number"></span> <span class="toc-text">Promise篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#52%E3%80%81all"><span class="toc-number">1.</span> <span class="toc-text">52、all</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#53%E3%80%81race"><span class="toc-number">2.</span> <span class="toc-text">53、race</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#54%E3%80%81allSettled"><span class="toc-number">3.</span> <span class="toc-text">54、allSettled</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#55%E3%80%81any"><span class="toc-number">4.</span> <span class="toc-text">55、any</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#56%E3%80%81finally"><span class="toc-number">5.</span> <span class="toc-text">56、finally</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/" title="javaScript面试手写知识点整理"><img src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440862.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="javaScript面试手写知识点整理"/></a><div class="content"><a class="title" href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%99%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/" title="javaScript面试手写知识点整理">javaScript面试手写知识点整理</a><time datetime="2022-03-22T11:35:35.000Z" title="发表于 2022-03-22 19:35:35">2022-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="javaScript面试题整理"><img src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440795.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="javaScript面试题整理"/></a><div class="content"><a class="title" href="/2022/03/22/javaScript%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="javaScript面试题整理">javaScript面试题整理</a><time datetime="2022-03-22T11:27:40.000Z" title="发表于 2022-03-22 19:27:40">2022-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/22/css%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="css面试题整理"><img src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041439031.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="css面试题整理"/></a><div class="content"><a class="title" href="/2022/03/22/css%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="css面试题整理">css面试题整理</a><time datetime="2022-03-22T11:20:16.000Z" title="发表于 2022-03-22 19:20:16">2022-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/19/vue%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="vue面试题整理"><img src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041355284.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vue面试题整理"/></a><div class="content"><a class="title" href="/2022/03/19/vue%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/" title="vue面试题整理">vue面试题整理</a><time datetime="2022-03-19T02:16:43.000Z" title="发表于 2022-03-19 10:16:43">2022-03-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/13/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/" title="面试知识整理"><img src="https://gitee.com/jwz--jwz/cloud-img/raw/master/piggo/202201041440795.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="面试知识整理"/></a><div class="content"><a class="title" href="/2022/03/13/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/" title="面试知识整理">面试知识整理</a><time datetime="2022-03-13T13:05:16.000Z" title="发表于 2022-03-13 21:05:16">2022-03-13</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By zzm</div><div class="footer_custom_text">你将不再是道具，而是人如其名</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Livere' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="true"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (true) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.removeEventListener('scroll', window.tocScrollFn)
  window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>